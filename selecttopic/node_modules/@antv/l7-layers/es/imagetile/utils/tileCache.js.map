{"version":3,"sources":["../../../src/imagetile/utils/tileCache.ts"],"names":["LRUCache","TileCache","limit","tileDestroy","cache","key","get","tile","set","clear","order","forEach","needUpdate"],"mappings":";;;AAAA,OAAOA,QAAP,MAAqB,YAArB;;IACqBC,S;AAEnB,uBAA0C;AAAA,QAA9BC,KAA8B,uEAAtB,EAAsB;AAAA,QAAlBC,WAAkB;;AAAA;;AAAA;;AACxC,SAAKC,KAAL,GAAa,IAAIJ,QAAJ,CAAaE,KAAb,EAAoBC,WAApB,CAAb;AACD;;;;WAED,iBAAeE,GAAf,EAA4B;AAC1B,aAAO,KAAKD,KAAL,CAAWE,GAAX,CAAeD,GAAf,CAAP;AACD;;;WAED,iBAAeE,IAAf,EAA0BF,GAA1B,EAAuC;AACrC,WAAKD,KAAL,CAAWI,GAAX,CAAeH,GAAf,EAAoBE,IAApB;AACD;;;WACD,mBAAiB;AACf,WAAKH,KAAL,CAAWK,KAAX;AACD;;;WACD,yBAAuB;AAAA;;AACrB,WAAKL,KAAL,CAAWM,KAAX,CAAiBC,OAAjB,CAAyB,UAACN,GAAD,EAAiB;AACxC,YAAME,IAAI,GAAG,KAAI,CAACH,KAAL,CAAWE,GAAX,CAAeD,GAAf,CAAb;;AACAE,QAAAA,IAAI,CAACK,UAAL,GAAkB,IAAlB;AACD,OAHD;AAID;;;;;;SArBkBX,S","sourcesContent":["import LRUCache from './lruCache';\nexport default class TileCache {\n  public cache: any;\n  constructor(limit = 50, tileDestroy: any) {\n    this.cache = new LRUCache(limit, tileDestroy);\n  }\n\n  public getTile(key: string) {\n    return this.cache.get(key);\n  }\n\n  public setTile(tile: any, key: string) {\n    this.cache.set(key, tile);\n  }\n  public destory() {\n    this.cache.clear();\n  }\n  public setNeedUpdate() {\n    this.cache.order.forEach((key: string) => {\n      const tile = this.cache.get(key);\n      tile.needUpdate = true;\n    });\n  }\n}\n"],"file":"tileCache.js"}