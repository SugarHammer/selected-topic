{"version":3,"sources":["../../src/plugins/LayerStylePlugin.ts"],"names":["injectable","LayerStylePlugin","layer","hooks","afterInit","tap","updateLayerConfig","getLayerConfig","autoFit","fitBoundsOptions","setTimeout","fitBounds"],"mappings":";;;;;AACA,SAASA,UAAT,QAA2B,WAA3B;AACA,OAAO,kBAAP;IAKqBC,gB,WADpBD,UAAU,E;;;;;;;WAET,eAAaE,KAAb,EAA4B;AAC1BA,MAAAA,KAAK,CAACC,KAAN,CAAYC,SAAZ,CAAsBC,GAAtB,CAA0B,kBAA1B,EAA8C,YAAM;AAElDH,QAAAA,KAAK,CAACI,iBAAN,CAAwB,EAAxB;;AACA,oCAAsCJ,KAAK,CAACK,cAAN,EAAtC;AAAA,YAAQC,OAAR,yBAAQA,OAAR;AAAA,YAAiBC,gBAAjB,yBAAiBA,gBAAjB;;AACA,YAAID,OAAJ,EAAa;AACXE,UAAAA,UAAU,CAAC,YAAM;AACfR,YAAAA,KAAK,CAACS,SAAN,CAAgBF,gBAAhB;AACD,WAFS,EAEP,GAFO,CAAV;AAGD;AACF,OATD;AAUD;;;;;SAZkBR,gB","sourcesContent":["import { ILayer, ILayerPlugin, IMapService, TYPES } from '@antv/l7-core';\nimport { injectable } from 'inversify';\nimport 'reflect-metadata';\n/**\n * 更新图层样式，初始图层相关配置\n */\n@injectable()\nexport default class LayerStylePlugin implements ILayerPlugin {\n  public apply(layer: ILayer) {\n    layer.hooks.afterInit.tap('LayerStylePlugin', () => {\n      // 更新图层默认状态\n      layer.updateLayerConfig({});\n      const { autoFit, fitBoundsOptions } = layer.getLayerConfig();\n      if (autoFit) {\n        setTimeout(() => {\n          layer.fitBounds(fitBoundsOptions);\n        }, 100);\n      }\n    });\n  }\n}\n"],"file":"LayerStylePlugin.js"}