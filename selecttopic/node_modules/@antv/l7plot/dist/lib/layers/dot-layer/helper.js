"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getColorLegendItems = void 0;
var tslib_1 = require("tslib");
var isLegendItemI = function (legendItems) {
    return typeof legendItems[0].value === 'number';
};
var getColorLegendItems = function (legendItems) {
    var items = [];
    if (isLegendItemI(legendItems)) {
        if (legendItems.length === 1) {
            var _a = legendItems[0], color = _a.color, value = _a.value;
            var range = [value, value];
            return [{ color: color, value: range }];
        }
        var cache = new Map();
        var preCacheData = void 0;
        for (var index = 0; index < legendItems.length; index++) {
            var _b = legendItems[index], color = _b.color, value = _b.value;
            if (cache.has(color)) {
                var data = cache.get(color);
                if (Array.isArray(data)) {
                    data.push(value);
                }
            }
            else {
                var range = [value];
                cache.set(color, range);
                if (preCacheData) {
                    preCacheData.push(value);
                }
                preCacheData = range;
            }
        }
        cache.forEach(function (value, color) {
            var min = value[0];
            var max = value[value.length - 1];
            var range = [min, max];
            items.push({ color: color, value: range });
        });
    }
    else {
        items = legendItems.map(function (item) { return ((0, tslib_1.__assign)((0, tslib_1.__assign)({}, item), { value: [Math.ceil(item.value[0]), Math.ceil(item.value[1])] })); });
    }
    return items;
};
exports.getColorLegendItems = getColorLegendItems;
//# sourceMappingURL=helper.js.map