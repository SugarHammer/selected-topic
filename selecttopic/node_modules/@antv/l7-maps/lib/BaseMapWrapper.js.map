{"version":3,"sources":["../src/BaseMapWrapper.ts"],"names":["BaseMapWrapper","TYPES","IGlobalConfigService","config","sceneContainer","id","canvas","hasBaseMap","bind","MapConfig","toConstantValue","IMapService","to","getServiceConstructor","inSingletonScope","Error"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;;;;;;;;IASqBA,c,WAClB,wBAAWC,cAAMC,oBAAjB,C;AAKD,0BAAYC,MAAZ,EAAyC;AAAA;AAAA;AAAA;AACvC,SAAKA,MAAL,GAAcA,MAAd;AACD;;;;WAED,sBACEC,cADF,EAEEC,EAFF,EAGEC,MAHF,EAIEC,UAJF,EAKE;AAWAH,MAAAA,cAAc,CAACI,IAAf,CAAyCP,cAAMQ,SAA/C,EAA0DC,eAA1D,iCACK,KAAKP,MADV;AAEEE,QAAAA,EAAE,EAAFA,EAFF;AAGEC,QAAAA,MAAM,EAANA,MAHF;AAIEC,QAAAA,UAAU,EAAVA;AAJF;AAMAH,MAAAA,cAAc,CACXI,IADH,CAC6BP,cAAMU,WADnC,EAEGC,EAFH,CAEM,KAAKC,qBAAL,EAFN,EAGGC,gBAHH;AAID;;;WAED,iCAEE;AACA,YAAM,IAAIC,KAAJ,CAAU,yBAAV,CAAN;AACD","sourcesContent":["import {\n  IGlobalConfigService,\n  IMapConfig,\n  IMapService,\n  IMapWrapper,\n  lazyInject,\n  TYPES,\n} from '@antv/l7-core';\nimport { Container } from 'inversify';\nexport default class BaseMapWrapper<RawMap> implements IMapWrapper {\n  @lazyInject(TYPES.IGlobalConfigService)\n  protected readonly configService: IGlobalConfigService;\n\n  protected config: Partial<IMapConfig>;\n\n  constructor(config: Partial<IMapConfig>) {\n    this.config = config;\n  }\n\n  public setContainer(\n    sceneContainer: Container,\n    id: string | HTMLDivElement,\n    canvas?: HTMLCanvasElement,\n    hasBaseMap?: boolean,\n  ) {\n    // // 首先使用全局配置服务校验地图参数\n    // const { valid, errorText } = this.configService.validateMapConfig(\n    //   this.config,\n    // );\n\n    // if (!valid) {\n    //   this.logger.error(errorText || '');\n    //   return;\n    // }\n    // 绑定用户传入的原始地图参数\n    sceneContainer.bind<Partial<IMapConfig>>(TYPES.MapConfig).toConstantValue({\n      ...this.config,\n      id,\n      canvas,\n      hasBaseMap,\n    });\n    sceneContainer\n      .bind<IMapService<RawMap>>(TYPES.IMapService)\n      .to(this.getServiceConstructor())\n      .inSingletonScope();\n  }\n\n  protected getServiceConstructor(): new (...args: any[]) => IMapService<\n    RawMap\n  > {\n    throw new Error('Method not implemented.');\n  }\n}\n"],"file":"BaseMapWrapper.js"}