{"version":3,"sources":["../../src/utils/clock.ts"],"names":["Clock","autoStart","startTime","performance","Date","now","oldTime","elapsedTime","running","getElapsedTime","getDelta","diff","start","newTime"],"mappings":";;;;;;;;;;;;;;;IACqBA,K;AAMnB,mBAA8B;AAAA,QAAlBC,SAAkB,uEAAN,IAAM;AAAA;AAAA;AAAA,qDAJF,CAIE;AAAA,mDAHJ,CAGI;AAAA,mDAFH,KAEG;AAAA,uDADA,CACA;AAC5B,SAAKA,SAAL,GAAiBA,SAAjB;AACD;;;;WACD,iBAAe;AACb,WAAKC,SAAL,GAAiB,CAAC,OAAOC,WAAP,KAAuB,WAAvB,GACdC,IADc,GAEdD,WAFa,EAGfE,GAHe,EAAjB;AAKA,WAAKC,OAAL,GAAe,KAAKJ,SAApB;AACA,WAAKK,WAAL,GAAmB,CAAnB;AACA,WAAKC,OAAL,GAAe,IAAf;AACD;;;WACD,gBAAc;AACZ,WAAKC,cAAL;AACA,WAAKD,OAAL,GAAe,KAAf;AACA,WAAKP,SAAL,GAAiB,KAAjB;AACD;;;WAED,0BAAwB;AACtB,WAAKS,QAAL;AACA,aAAO,KAAKH,WAAZ;AACD;;;WACD,oBAAkB;AAChB,UAAII,IAAI,GAAG,CAAX;;AAEA,UAAI,KAAKV,SAAL,IAAkB,CAAC,KAAKO,OAA5B,EAAqC;AACnC,aAAKI,KAAL;AACA,eAAO,CAAP;AACD;;AAED,UAAI,KAAKJ,OAAT,EAAkB;AAChB,YAAMK,OAAO,GAAG,CAAC,OAAOV,WAAP,KAAuB,WAAvB,GACbC,IADa,GAEbD,WAFY,EAGdE,GAHc,EAAhB;AAIAM,QAAAA,IAAI,GAAG,CAACE,OAAO,GAAG,KAAKP,OAAhB,IAA2B,IAAlC;AACA,aAAKA,OAAL,GAAeO,OAAf;AACA,aAAKN,WAAL,IAAoBI,IAApB;AACD;;AACD,aAAOA,IAAP;AACD","sourcesContent":["// https://github.com/mrdoob/three.js/blob/master/src/core/Clock.js\nexport default class Clock {\n  private autoStart: boolean;\n  private startTime: number = 0;\n  private oldTime: number = 0;\n  private running: boolean = false;\n  private elapsedTime: number = 0;\n  constructor(autoStart = true) {\n    this.autoStart = autoStart;\n  }\n  public start() {\n    this.startTime = (typeof performance === 'undefined'\n      ? Date\n      : performance\n    ).now();\n\n    this.oldTime = this.startTime;\n    this.elapsedTime = 0;\n    this.running = true;\n  }\n  public stop() {\n    this.getElapsedTime();\n    this.running = false;\n    this.autoStart = false;\n  }\n\n  public getElapsedTime() {\n    this.getDelta();\n    return this.elapsedTime;\n  }\n  public getDelta() {\n    let diff = 0;\n\n    if (this.autoStart && !this.running) {\n      this.start();\n      return 0;\n    }\n\n    if (this.running) {\n      const newTime = (typeof performance === 'undefined'\n        ? Date\n        : performance\n      ).now();\n      diff = (newTime - this.oldTime) / 1000;\n      this.oldTime = newTime;\n      this.elapsedTime += diff;\n    }\n    return diff;\n  }\n}\n"],"file":"clock.js"}