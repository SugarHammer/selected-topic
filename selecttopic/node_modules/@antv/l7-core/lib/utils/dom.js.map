{"version":3,"sources":["../../src/utils/dom.ts"],"names":["containerCounter","createRendererContainer","domId","isMini","$wrapper","document","getElementById","$container","createElement","style","cssText","id","classList","add","appendChild","isEventCrash","obj","notCrash","target","path","map","p","forEach","n"],"mappings":";;;;;;;;AAAA;;AACA,IAAIA,gBAAgB,GAAG,CAAvB;;AACO,SAASC,uBAAT,CACLC,KADK,EAEkB;AACvB,MAAIC,eAAJ,EAAY;AACV,WAAO,IAAP;AACD;;AAED,MAAIC,QAAQ,GAAGF,KAAf;;AACA,MAAI,OAAOA,KAAP,KAAiB,QAArB,EAA+B;AAC7BE,IAAAA,QAAQ,GAAGC,QAAQ,CAACC,cAAT,CAAwBJ,KAAxB,CAAX;AACD;;AACD,MAAIE,QAAJ,EAAc;AACZ,QAAMG,UAAU,GAAGF,QAAQ,CAACG,aAAT,CAAuB,KAAvB,CAAnB;AACAD,IAAAA,UAAU,CAACE,KAAX,CAAiBC,OAAjB;AAOAH,IAAAA,UAAU,CAACI,EAAX,sBAA4BX,gBAAgB,EAA5C;AACAO,IAAAA,UAAU,CAACK,SAAX,CAAqBC,GAArB,CAAyB,UAAzB;AACAT,IAAAA,QAAQ,CAACU,WAAT,CAAqBP,UAArB;AACA,WAAOA,UAAP;AACD;;AAED,SAAO,IAAP;AACD;;AAOM,SAASQ,YAAT,CAAsBC,GAAtB,EAAgC;AAAA;;AACrC,MAAIC,QAAQ,GAAG,IAAf;AACAD,EAAAA,GAAG,SAAH,IAAAA,GAAG,WAAH,2BAAAA,GAAG,CAAEE,MAAL,gFAAaC,IAAb,sEAAmBC,GAAnB,CAAuB,UAACC,CAAD,EAAoB;AACzC,QAAIA,CAAJ,aAAIA,CAAJ,eAAIA,CAAC,CAAET,SAAP,EAAkB;AAAA;;AAChBS,MAAAA,CAAC,SAAD,IAAAA,CAAC,WAAD,4BAAAA,CAAC,CAAET,SAAH,8DAAcU,OAAd,CAAsB,UAACC,CAAD,EAAY;AAChC,YAAIA,CAAC,KAAK,WAAN,IAAqBA,CAAC,KAAK,UAA/B,EAA2C;AACzCN,UAAAA,QAAQ,GAAG,KAAX;AACD;AACF,OAJD;AAKD;AACF,GARD;AASA,SAAOA,QAAP;AACD","sourcesContent":["import { isMini } from '@antv/l7-utils';\nlet containerCounter = 0;\nexport function createRendererContainer(\n  domId: string | HTMLDivElement,\n): HTMLDivElement | null {\n  if (isMini) {\n    return null;\n  }\n\n  let $wrapper = domId as HTMLDivElement;\n  if (typeof domId === 'string') {\n    $wrapper = document.getElementById(domId) as HTMLDivElement;\n  }\n  if ($wrapper) {\n    const $container = document.createElement('div');\n    $container.style.cssText += `\n      position: absolute;\n      z-index:2;\n      height: 100%;\n      width: 100%;\n      pointer-events: none;\n    `;\n    $container.id = `l7-scene-${containerCounter++}`;\n    $container.classList.add('l7-scene');\n    $wrapper.appendChild($container);\n    return $container;\n  }\n\n  return null;\n}\n\n/**\n * 检测触发事件是否是在 marker/popup 上发生，若是则会发生冲突（发生冲突时 marker/popup 事件优先）\n * @param obj\n * @returns\n */\nexport function isEventCrash(obj: any) {\n  let notCrash = true;\n  obj?.target?.path?.map((p: HTMLElement) => {\n    if (p?.classList) {\n      p?.classList?.forEach((n: any) => {\n        if (n === 'l7-marker' || n === 'l7-popup') {\n          notCrash = false;\n        }\n      });\n    }\n  });\n  return notCrash;\n}\n"],"file":"dom.js"}