{"version":3,"sources":["../../../src/services/camera/Landmark.ts"],"names":["Landmark","name","c","matrix","mat4","clone","right","vec3","up","forward","position","focalPoint","distanceVector","azimuth","elevation","roll","relAzimuth","relElevation","relRoll","dollyingStep","distance","copy"],"mappings":";;;;;;;;;;;;;;;AAAA;;IAMqBA,Q;AAmBnB,oBAAYC,IAAZ,EAA0BC,CAA1B,EAAqC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mDAPnB,CAOmB;AAAA,qDANjB,CAMiB;AAAA,gDALtB,CAKsB;AAAA,sDAJhB,CAIgB;AAAA,wDAHd,CAGc;AAAA,mDAFnB,CAEmB;AACnC,SAAKD,IAAL,GAAYA,IAAZ;AAEA,SAAKE,MAAL,GAAcC,eAAKC,KAAL,CAAWH,CAAC,CAACC,MAAb,CAAd;AACA,SAAKG,KAAL,GAAaC,eAAKF,KAAL,CAAWH,CAAC,CAACI,KAAb,CAAb;AACA,SAAKE,EAAL,GAAUD,eAAKF,KAAL,CAAWH,CAAC,CAACM,EAAb,CAAV;AACA,SAAKC,OAAL,GAAeF,eAAKF,KAAL,CAAWH,CAAC,CAACO,OAAb,CAAf;AACA,SAAKC,QAAL,GAAgBH,eAAKF,KAAL,CAAWH,CAAC,CAACQ,QAAb,CAAhB;AACA,SAAKC,UAAL,GAAkBJ,eAAKF,KAAL,CAAWH,CAAC,CAACS,UAAb,CAAlB;AACA,SAAKC,cAAL,GAAsBL,eAAKF,KAAL,CAAWH,CAAC,CAACU,cAAb,CAAtB;AAEA,SAAKC,OAAL,GAAeX,CAAC,CAACW,OAAjB;AACA,SAAKC,SAAL,GAAiBZ,CAAC,CAACY,SAAnB;AACA,SAAKC,IAAL,GAAYb,CAAC,CAACa,IAAd;AACA,SAAKC,UAAL,GAAkBd,CAAC,CAACc,UAApB;AACA,SAAKC,YAAL,GAAoBf,CAAC,CAACe,YAAtB;AACA,SAAKC,OAAL,GAAehB,CAAC,CAACgB,OAAjB;AACA,SAAKC,YAAL,GAAoBjB,CAAC,CAACiB,YAAtB;AACA,SAAKC,QAAL,GAAgBlB,CAAC,CAACkB,QAAlB;AACD;;;;WAED,kBAAgBlB,CAAhB,EAA2B;AACzBA,MAAAA,CAAC,CAACC,MAAF,GAAWC,eAAKiB,IAAL,CAAUnB,CAAC,CAACC,MAAZ,EAAoB,KAAKA,MAAzB,CAAX;AACAD,MAAAA,CAAC,CAACI,KAAF,GAAUC,eAAKc,IAAL,CAAUnB,CAAC,CAACI,KAAZ,EAAmB,KAAKA,KAAxB,CAAV;AACAJ,MAAAA,CAAC,CAACM,EAAF,GAAOD,eAAKc,IAAL,CAAUnB,CAAC,CAACM,EAAZ,EAAgB,KAAKA,EAArB,CAAP;AACAN,MAAAA,CAAC,CAACO,OAAF,GAAYF,eAAKc,IAAL,CAAUnB,CAAC,CAACO,OAAZ,EAAqB,KAAKA,OAA1B,CAAZ;AACAP,MAAAA,CAAC,CAACQ,QAAF,GAAaH,eAAKc,IAAL,CAAUnB,CAAC,CAACQ,QAAZ,EAAsB,KAAKA,QAA3B,CAAb;AACAR,MAAAA,CAAC,CAACS,UAAF,GAAeJ,eAAKc,IAAL,CAAUnB,CAAC,CAACS,UAAZ,EAAwB,KAAKA,UAA7B,CAAf;AACAT,MAAAA,CAAC,CAACU,cAAF,GAAmBL,eAAKc,IAAL,CAAUnB,CAAC,CAACU,cAAZ,EAA4B,KAAKA,cAAjC,CAAnB;AAEAV,MAAAA,CAAC,CAACW,OAAF,GAAY,KAAKA,OAAjB;AACAX,MAAAA,CAAC,CAACY,SAAF,GAAc,KAAKA,SAAnB;AACAZ,MAAAA,CAAC,CAACa,IAAF,GAAS,KAAKA,IAAd;AACAb,MAAAA,CAAC,CAACc,UAAF,GAAe,KAAKA,UAApB;AACAd,MAAAA,CAAC,CAACe,YAAF,GAAiB,KAAKA,YAAtB;AACAf,MAAAA,CAAC,CAACgB,OAAF,GAAY,KAAKA,OAAjB;AACAhB,MAAAA,CAAC,CAACiB,YAAF,GAAiB,KAAKA,YAAtB;AACAjB,MAAAA,CAAC,CAACkB,QAAF,GAAa,KAAKA,QAAlB;AACD","sourcesContent":["import { mat3, mat4, quat, vec3, vec4 } from 'gl-matrix';\nimport Camera from './Camera';\n\n/**\n * 保存相机状态，便于后续在多个 Landmark 间移动\n */\nexport default class Landmark {\n  public name: string;\n\n  private matrix: mat4;\n  private right: vec3;\n  private up: vec3;\n  private forward: vec3;\n  private position: vec3;\n  private focalPoint: vec3;\n  private distanceVector: vec3;\n  private distance: number;\n  private dollyingStep: number;\n  private azimuth = 0;\n  private elevation = 0;\n  private roll = 0;\n  private relAzimuth = 0;\n  private relElevation = 0;\n  private relRoll = 0;\n\n  constructor(name: string, c: Camera) {\n    this.name = name;\n\n    this.matrix = mat4.clone(c.matrix);\n    this.right = vec3.clone(c.right);\n    this.up = vec3.clone(c.up);\n    this.forward = vec3.clone(c.forward);\n    this.position = vec3.clone(c.position);\n    this.focalPoint = vec3.clone(c.focalPoint);\n    this.distanceVector = vec3.clone(c.distanceVector);\n\n    this.azimuth = c.azimuth;\n    this.elevation = c.elevation;\n    this.roll = c.roll;\n    this.relAzimuth = c.relAzimuth;\n    this.relElevation = c.relElevation;\n    this.relRoll = c.relRoll;\n    this.dollyingStep = c.dollyingStep;\n    this.distance = c.distance;\n  }\n\n  public retrieve(c: Camera) {\n    c.matrix = mat4.copy(c.matrix, this.matrix);\n    c.right = vec3.copy(c.right, this.right);\n    c.up = vec3.copy(c.up, this.up);\n    c.forward = vec3.copy(c.forward, this.forward);\n    c.position = vec3.copy(c.position, this.position);\n    c.focalPoint = vec3.copy(c.focalPoint, this.focalPoint);\n    c.distanceVector = vec3.copy(c.distanceVector, this.distanceVector);\n\n    c.azimuth = this.azimuth;\n    c.elevation = this.elevation;\n    c.roll = this.roll;\n    c.relAzimuth = this.relAzimuth;\n    c.relElevation = this.relElevation;\n    c.relRoll = this.relRoll;\n    c.dollyingStep = this.dollyingStep;\n    c.distance = this.distance;\n  }\n}\n"],"file":"Landmark.js"}