{"version":3,"sources":["../../../src/services/camera/Landmark.ts"],"names":["mat4","vec3","Landmark","name","c","matrix","clone","right","up","forward","position","focalPoint","distanceVector","azimuth","elevation","roll","relAzimuth","relElevation","relRoll","dollyingStep","distance","copy"],"mappings":"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","sourcesContent":["import { mat3, mat4, quat, vec3, vec4 } from 'gl-matrix';\nimport Camera from './Camera';\n\n/**\n * 保存相机状态，便于后续在多个 Landmark 间移动\n */\nexport default class Landmark {\n  public name: string;\n\n  private matrix: mat4;\n  private right: vec3;\n  private up: vec3;\n  private forward: vec3;\n  private position: vec3;\n  private focalPoint: vec3;\n  private distanceVector: vec3;\n  private distance: number;\n  private dollyingStep: number;\n  private azimuth = 0;\n  private elevation = 0;\n  private roll = 0;\n  private relAzimuth = 0;\n  private relElevation = 0;\n  private relRoll = 0;\n\n  constructor(name: string, c: Camera) {\n    this.name = name;\n\n    this.matrix = mat4.clone(c.matrix);\n    this.right = vec3.clone(c.right);\n    this.up = vec3.clone(c.up);\n    this.forward = vec3.clone(c.forward);\n    this.position = vec3.clone(c.position);\n    this.focalPoint = vec3.clone(c.focalPoint);\n    this.distanceVector = vec3.clone(c.distanceVector);\n\n    this.azimuth = c.azimuth;\n    this.elevation = c.elevation;\n    this.roll = c.roll;\n    this.relAzimuth = c.relAzimuth;\n    this.relElevation = c.relElevation;\n    this.relRoll = c.relRoll;\n    this.dollyingStep = c.dollyingStep;\n    this.distance = c.distance;\n  }\n\n  public retrieve(c: Camera) {\n    c.matrix = mat4.copy(c.matrix, this.matrix);\n    c.right = vec3.copy(c.right, this.right);\n    c.up = vec3.copy(c.up, this.up);\n    c.forward = vec3.copy(c.forward, this.forward);\n    c.position = vec3.copy(c.position, this.position);\n    c.focalPoint = vec3.copy(c.focalPoint, this.focalPoint);\n    c.distanceVector = vec3.copy(c.distanceVector, this.distanceVector);\n\n    c.azimuth = this.azimuth;\n    c.elevation = this.elevation;\n    c.roll = this.roll;\n    c.relAzimuth = this.relAzimuth;\n    c.relElevation = this.relElevation;\n    c.relRoll = this.relRoll;\n    c.dollyingStep = this.dollyingStep;\n    c.distance = this.distance;\n  }\n}\n"],"file":"Landmark.js"}