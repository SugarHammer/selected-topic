{"version":3,"sources":["webpack://G2Plot/webpack/universalModuleDefinition","webpack://G2Plot/webpack/bootstrap","webpack://G2Plot/../src/is-array-like.ts","webpack://G2Plot/../src/contains.ts","webpack://G2Plot/../src/filter.ts","webpack://G2Plot/../src/difference.ts","webpack://G2Plot/../src/is-type.ts","webpack://G2Plot/../src/is-function.ts","webpack://G2Plot/../src/is-nil.ts","webpack://G2Plot/../src/is-array.ts","webpack://G2Plot/../src/is-object.ts","webpack://G2Plot/../src/each.ts","webpack://G2Plot/../src/keys.ts","webpack://G2Plot/../src/is-match.ts","webpack://G2Plot/../src/is-object-like.ts","webpack://G2Plot/../src/is-plain-object.ts","webpack://G2Plot/../src/find.ts","webpack://G2Plot/../src/find-index.ts","webpack://G2Plot/../src/first-value.ts","webpack://G2Plot/../src/flatten.ts","webpack://G2Plot/../src/flatten-deep.ts","webpack://G2Plot/../src/max.ts","webpack://G2Plot/../src/min.ts","webpack://G2Plot/../src/get-range.ts","webpack://G2Plot/../src/pull.ts","webpack://G2Plot/../src/pull-at.ts","webpack://G2Plot/../src/reduce.ts","webpack://G2Plot/../src/remove.ts","webpack://G2Plot/../src/is-string.ts","webpack://G2Plot/../src/sort-by.ts","webpack://G2Plot/../src/uniq.ts","webpack://G2Plot/../src/union.ts","webpack://G2Plot/../src/values-of-key.ts","webpack://G2Plot/../src/head.ts","webpack://G2Plot/../src/last.ts","webpack://G2Plot/../src/starts-with.ts","webpack://G2Plot/../src/ends-with.ts","webpack://G2Plot/../src/every.ts","webpack://G2Plot/../src/some.ts","webpack://G2Plot/../src/group-by.ts","webpack://G2Plot/../src/group-to-map.ts","webpack://G2Plot/../src/group.ts","webpack://G2Plot/../src/get-wrap-behavior.ts","webpack://G2Plot/../src/wrap-behavior.ts","webpack://G2Plot/../src/number2color.ts","webpack://G2Plot/../src/parse-radius.ts","webpack://G2Plot/../src/clamp.ts","webpack://G2Plot/../src/fixed-base.ts","webpack://G2Plot/../src/is-number.ts","webpack://G2Plot/../src/is-decimal.ts","webpack://G2Plot/../src/is-even.ts","webpack://G2Plot/../src/is-integer.ts","webpack://G2Plot/../src/is-negative.ts","webpack://G2Plot/../src/is-number-equal.ts","webpack://G2Plot/../src/is-odd.ts","webpack://G2Plot/../src/is-positive.ts","webpack://G2Plot/../src/max-by.ts","webpack://G2Plot/../src/min-by.ts","webpack://G2Plot/../src/mod.ts","webpack://G2Plot/../src/to-degree.ts","webpack://G2Plot/../src/to-integer.ts","webpack://G2Plot/../src/to-radian.ts","webpack://G2Plot/../src/for-in.ts","webpack://G2Plot/../src/has.ts","webpack://G2Plot/../src/has-key.ts","webpack://G2Plot/../src/values.ts","webpack://G2Plot/../src/has-value.ts","webpack://G2Plot/../src/to-string.ts","webpack://G2Plot/../src/lower-case.ts","webpack://G2Plot/../src/lower-first.ts","webpack://G2Plot/../src/substitute.ts","webpack://G2Plot/../src/upper-case.ts","webpack://G2Plot/../src/upper-first.ts","webpack://G2Plot/../src/get-type.ts","webpack://G2Plot/../src/is-arguments.ts","webpack://G2Plot/../src/is-boolean.ts","webpack://G2Plot/../src/is-date.ts","webpack://G2Plot/../src/is-error.ts","webpack://G2Plot/../src/is-finite.ts","webpack://G2Plot/../src/is-null.ts","webpack://G2Plot/../src/is-prototype.ts","webpack://G2Plot/../src/is-reg-exp.ts","webpack://G2Plot/../src/is-undefined.ts","webpack://G2Plot/../src/is-element.ts","webpack://G2Plot/../src/request-animation-frame.ts","webpack://G2Plot/../src/clear-animation-frame.ts","webpack://G2Plot/../src/mix.ts","webpack://G2Plot/../src/augment.ts","webpack://G2Plot/../src/clone.ts","webpack://G2Plot/../src/debounce.ts","webpack://G2Plot/../src/memoize.ts","webpack://G2Plot/../src/deep-mix.ts","webpack://G2Plot/../src/extend.ts","webpack://G2Plot/../src/index-of.ts","webpack://G2Plot/../src/is-empty.ts","webpack://G2Plot/../src/is-equal.ts","webpack://G2Plot/../src/is-equal-with.ts","webpack://G2Plot/../src/map.ts","webpack://G2Plot/../src/map-values.ts","webpack://G2Plot/../src/get.ts","webpack://G2Plot/../src/set.ts","webpack://G2Plot/../src/pick.ts","webpack://G2Plot/../src/omit.ts","webpack://G2Plot/../src/throttle.ts","webpack://G2Plot/../src/to-array.ts","webpack://G2Plot/../src/unique-id.ts","webpack://G2Plot/../src/noop.ts","webpack://G2Plot/../src/identity.ts","webpack://G2Plot/../src/size.ts","webpack://G2Plot/../src/measure-text-width.ts","webpack://G2Plot/../src/get-ellipsis-text.ts","webpack://G2Plot/../src/cache.ts","webpack://G2Plot/./node_modules/tslib/tslib.es6.js","webpack://G2Plot/./src/utils/index.ts","webpack://G2Plot/../src/ext.ts","webpack://G2Plot/../../src/util/util.ts","webpack://G2Plot/../../src/util/theme.ts","webpack://G2Plot/./src/core/plot.ts","webpack://G2Plot/../src/constant.ts","webpack://G2Plot/../../src/engine/index.ts","webpack://G2Plot/../../src/util/dom.ts","webpack://G2Plot/../src/base.ts","webpack://G2Plot/../../src/attributes/base.ts","webpack://G2Plot/./node_modules/@antv/attr/node_modules/tslib/tslib.es6.js","webpack://G2Plot/../../src/attributes/color.ts","webpack://G2Plot/../../src/attributes/opacity.ts","webpack://G2Plot/../../src/attributes/position.ts","webpack://G2Plot/../../src/attributes/shape.ts","webpack://G2Plot/../../src/attributes/size.ts","webpack://G2Plot/../src/factory.ts","webpack://G2Plot/../src/index.ts","webpack://G2Plot/../../src/coord/base.ts","webpack://G2Plot/../../src/coord/cartesian.ts","webpack://G2Plot/../../src/coord/helix.ts","webpack://G2Plot/../../src/coord/polar.ts","webpack://G2Plot/../src/dependents.ts","webpack://G2Plot/../../src/util/graphics.ts","webpack://G2Plot/../../src/util/helper.ts","webpack://G2Plot/../../src/util/bbox.ts","webpack://G2Plot/../../src/util/coordinate.ts","webpack://G2Plot/../../src/util/scale.ts","webpack://G2Plot/../../src/util/axis.ts","webpack://G2Plot/../../src/facet/facet.ts","webpack://G2Plot/../../src/facet/index.ts","webpack://G2Plot/../../../src/interaction/action/base.ts","webpack://G2Plot/../../../src/interaction/action/callback.ts","webpack://G2Plot/../../../src/interaction/action/register.ts","webpack://G2Plot/../../../../src/geometry/shape/util/path.ts","webpack://G2Plot/../../../src/interaction/action/util.ts","webpack://G2Plot/../../src/interaction/context.ts","webpack://G2Plot/../../src/interaction/interaction.ts","webpack://G2Plot/../../src/interaction/grammar-interaction.ts","webpack://G2Plot/../../src/interaction/index.ts","webpack://G2Plot/../../../src/theme/util/create-by-style-sheet.ts","webpack://G2Plot/../../../src/theme/style-sheet/light.ts","webpack://G2Plot/../../../src/theme/util/create-theme.ts","webpack://G2Plot/../../src/theme/index.ts","webpack://G2Plot/../../src/util/tooltip.ts","webpack://G2Plot/../../src/util/padding.ts","webpack://G2Plot/../../../src/chart/controller/index.ts","webpack://G2Plot/../../../src/chart/controller/coordinate.ts","webpack://G2Plot/../../src/chart/event.ts","webpack://G2Plot/../../../src/chart/layout/index.ts","webpack://G2Plot/../../../src/chart/util/scale-pool.ts","webpack://G2Plot/../../../src/chart/layout/padding-cal.ts","webpack://G2Plot/../../../src/chart/layout/auto.ts","webpack://G2Plot/../../../src/chart/util/sync-view-padding.ts","webpack://G2Plot/../../src/chart/view.ts","webpack://G2Plot/../../src/chart/chart.ts","webpack://G2Plot/../../../src/chart/controller/base.ts","webpack://G2Plot/../../../src/chart/controller/tooltip.ts","webpack://G2Plot/../../../src/animate/animation/index.ts","webpack://G2Plot/../../src/animate/index.ts","webpack://G2Plot/../../../src/geometry/shape/constant.ts","webpack://G2Plot/../../../src/geometry/element/index.ts","webpack://G2Plot/../../../src/geometry/label/index.ts","webpack://G2Plot/../../../src/geometry/shape/base.ts","webpack://G2Plot/../../../src/geometry/util/is-model-change.ts","webpack://G2Plot/../../../src/geometry/util/parse-fields.ts","webpack://G2Plot/../../../src/geometry/util/diff.ts","webpack://G2Plot/../../src/geometry/base.ts","webpack://G2Plot/../../../src/geometry/util/group-data.ts","webpack://G2Plot/../../src/util/transform.ts","webpack://G2Plot/../../../../src/geometry/label/util/index.ts","webpack://G2Plot/../../src/component/labels.ts","webpack://G2Plot/../../src/component/update-label.ts","webpack://G2Plot/../../../src/geometry/label/base.ts","webpack://G2Plot/../../src/util/attr.ts","webpack://G2Plot/../../src/util/marker.ts","webpack://G2Plot/../../src/util/legend.ts","webpack://G2Plot/../../../../src/geometry/shape/util/get-path-points.ts","webpack://G2Plot/../../../../src/geometry/shape/util/get-style.ts","webpack://G2Plot/../../../../src/geometry/shape/util/split-points.ts","webpack://G2Plot/../../../../src/geometry/shape/line/util.ts","webpack://G2Plot/../../../../src/geometry/shape/line/index.ts","webpack://G2Plot/../src/core.ts","webpack://G2Plot/../../../src/theme/style-sheet/dark.ts","webpack://G2Plot/../../src/geometry/path.ts","webpack://G2Plot/../../../../src/geometry/shape/area/util.ts","webpack://G2Plot/../../../../src/geometry/shape/area/index.ts","webpack://G2Plot/../../src/geometry/area.ts","webpack://G2Plot/../../../../src/geometry/shape/edge/index.ts","webpack://G2Plot/../../src/geometry/edge.ts","webpack://G2Plot/../../src/geometry/heatmap.ts","webpack://G2Plot/../../../../src/geometry/shape/interval/util.ts","webpack://G2Plot/../../../../src/geometry/shape/interval/index.ts","webpack://G2Plot/../../../src/geometry/util/shape-size.ts","webpack://G2Plot/../../src/geometry/interval.ts","webpack://G2Plot/../../src/geometry/line.ts","webpack://G2Plot/../../../../src/geometry/shape/point/util.ts","webpack://G2Plot/../../../../src/geometry/shape/point/index.ts","webpack://G2Plot/../../src/geometry/point.ts","webpack://G2Plot/../../../../src/geometry/shape/polygon/index.ts","webpack://G2Plot/../../src/geometry/polygon.ts","webpack://G2Plot/../../../../src/geometry/shape/schema/index.ts","webpack://G2Plot/../../src/geometry/schema.ts","webpack://G2Plot/../../../../src/geometry/shape/violin/index.ts","webpack://G2Plot/../../src/geometry/violin.ts","webpack://G2Plot/../../../../src/geometry/shape/edge/util.ts","webpack://G2Plot/../../../../src/geometry/shape/area/line.ts","webpack://G2Plot/../../../../src/geometry/shape/area/smooth.ts","webpack://G2Plot/../../../../src/geometry/shape/area/smooth-line.ts","webpack://G2Plot/../../../../src/geometry/shape/edge/arc.ts","webpack://G2Plot/../../../../src/geometry/shape/edge/smooth.ts","webpack://G2Plot/../../../../src/geometry/shape/edge/vhv.ts","webpack://G2Plot/../../../../src/geometry/shape/interval/funnel.ts","webpack://G2Plot/../../../../src/geometry/shape/interval/hollow-rect.ts","webpack://G2Plot/../../../../src/geometry/shape/interval/line.ts","webpack://G2Plot/../../../../src/geometry/shape/interval/pyramid.ts","webpack://G2Plot/../../../../src/geometry/shape/interval/tick.ts","webpack://G2Plot/../../../../src/geometry/shape/line/step.ts","webpack://G2Plot/../../../../src/geometry/shape/schema/box.ts","webpack://G2Plot/../../../../src/geometry/shape/schema/candle.ts","webpack://G2Plot/../../../../src/geometry/shape/polygon/square.ts","webpack://G2Plot/../../../../src/geometry/shape/point/hollow.ts","webpack://G2Plot/../../../../src/geometry/shape/point/image.ts","webpack://G2Plot/../../../../src/geometry/shape/point/solid.ts","webpack://G2Plot/../../../../src/geometry/shape/violin/smooth.ts","webpack://G2Plot/../../../../src/geometry/shape/violin/hollow.ts","webpack://G2Plot/../../../src/geometry/label/interval.ts","webpack://G2Plot/../../../src/geometry/label/polar.ts","webpack://G2Plot/../../../src/geometry/label/pie.ts","webpack://G2Plot/../../../../../src/geometry/label/layout/pie/util.ts","webpack://G2Plot/../../../../src/geometry/label/layout/overlap.ts","webpack://G2Plot/../../src/util/collision-detect.ts","webpack://G2Plot/../../src/util/color.ts","webpack://G2Plot/../../src/util/context.ts","webpack://G2Plot/../../../../../src/geometry/label/layout/interval/adjust-position.ts","webpack://G2Plot/../../../../../src/geometry/label/layout/point/adjust-position.ts","webpack://G2Plot/../../../../../src/geometry/label/layout/path/adjust-position.ts","webpack://G2Plot/../../src/util/text.ts","webpack://G2Plot/../../../src/animate/animation/util.ts","webpack://G2Plot/../../../src/animate/animation/sector-path-update.ts","webpack://G2Plot/../../../src/animate/animation/zoom.ts","webpack://G2Plot/../../src/util/facet.ts","webpack://G2Plot/../../src/facet/circle.ts","webpack://G2Plot/../../src/facet/list.ts","webpack://G2Plot/../../src/facet/matrix.ts","webpack://G2Plot/../../src/facet/mirror.ts","webpack://G2Plot/../../src/facet/rect.ts","webpack://G2Plot/../../src/facet/tree.ts","webpack://G2Plot/../../src/util/stat.ts","webpack://G2Plot/../../src/util/annotation.ts","webpack://G2Plot/../../../src/chart/controller/annotation.ts","webpack://G2Plot/../../src/util/grid.ts","webpack://G2Plot/../../../src/chart/controller/axis.ts","webpack://G2Plot/../../src/util/direction.ts","webpack://G2Plot/../../../src/chart/controller/legend.ts","webpack://G2Plot/../../../src/chart/controller/slider.ts","webpack://G2Plot/../../../src/chart/controller/scrollbar.ts","webpack://G2Plot/../../../src/interaction/action/active-region.ts","webpack://G2Plot/../../../../../src/interaction/action/component/tooltip/geometry.ts","webpack://G2Plot/../../../../../src/interaction/action/component/tooltip/sibling.ts","webpack://G2Plot/../../../../../src/interaction/action/component/tooltip/ellipsis-text.ts","webpack://G2Plot/../../../../src/interaction/action/element/state-base.ts","webpack://G2Plot/../../../../src/interaction/action/element/state.ts","webpack://G2Plot/../../../../src/interaction/action/element/active.ts","webpack://G2Plot/../../../../src/interaction/action/element/link-by-color.ts","webpack://G2Plot/../../../../src/interaction/action/element/range-state.ts","webpack://G2Plot/../../../../src/interaction/action/element/range-active.ts","webpack://G2Plot/../../../../src/interaction/action/element/single-state.ts","webpack://G2Plot/../../../../src/interaction/action/element/single-active.ts","webpack://G2Plot/../../../../src/interaction/action/element/highlight-util.ts","webpack://G2Plot/../../../../src/interaction/action/element/highlight.ts","webpack://G2Plot/../../../../src/interaction/action/element/range-highlight.ts","webpack://G2Plot/../../../../src/interaction/action/element/highlight-by-color.ts","webpack://G2Plot/../../../../src/interaction/action/element/highlight-by-x.ts","webpack://G2Plot/../../../../src/interaction/action/element/single-highlight.ts","webpack://G2Plot/../../../../src/interaction/action/element/range-selected.ts","webpack://G2Plot/../../../../src/interaction/action/element/selected.ts","webpack://G2Plot/../../../../src/interaction/action/element/single-selected.ts","webpack://G2Plot/../../../../src/interaction/action/component/list-state.ts","webpack://G2Plot/../../../../src/interaction/action/component/list-active.ts","webpack://G2Plot/../../../../src/interaction/action/component/list-highlight.ts","webpack://G2Plot/../../../../src/interaction/action/component/list-highlight-util.ts","webpack://G2Plot/../../../../src/interaction/action/component/list-selected.ts","webpack://G2Plot/../../../../src/interaction/action/component/list-unchecked.ts","webpack://G2Plot/../../../../src/interaction/action/component/list-checked.ts","webpack://G2Plot/../../../../src/interaction/action/component/list-focus.ts","webpack://G2Plot/../../../../src/interaction/action/component/list-radio.ts","webpack://G2Plot/../../../../src/interaction/action/mask/base.ts","webpack://G2Plot/../../../../src/interaction/action/mask/circle.ts","webpack://G2Plot/../../../../src/interaction/action/mask/rect.ts","webpack://G2Plot/../../../../src/interaction/action/mask/dim-rect.ts","webpack://G2Plot/../../../../src/interaction/action/data/range-filter.ts","webpack://G2Plot/../../../../src/interaction/action/mask/path.ts","webpack://G2Plot/../../../../src/interaction/action/mask/smooth-path.ts","webpack://G2Plot/../../../src/interaction/action/cursor.ts","webpack://G2Plot/../../../../src/interaction/action/data/filter.ts","webpack://G2Plot/../../../../src/interaction/action/data/sibling-filter.ts","webpack://G2Plot/../../../../src/interaction/action/element/filter.ts","webpack://G2Plot/../../../../src/interaction/action/element/sibling-filter.ts","webpack://G2Plot/../../../../src/interaction/action/view/button.ts","webpack://G2Plot/../../../../src/interaction/action/view/drag.ts","webpack://G2Plot/../../../../src/interaction/action/view/move.ts","webpack://G2Plot/../../../../src/interaction/action/view/scale-transform.ts","webpack://G2Plot/../../../../src/interaction/action/view/scale-translate.ts","webpack://G2Plot/../../../../src/interaction/action/view/scale-zoom.ts","webpack://G2Plot/../../../../src/interaction/action/view/mousewheel-scroll.ts","webpack://G2Plot/../../../../../src/geometry/label/layout/pie/distribute.ts","webpack://G2Plot/../../../../src/geometry/label/layout/hide-overlap.ts","webpack://G2Plot/../../../../src/geometry/label/layout/limit-in-shape.ts","webpack://G2Plot/../../../../src/geometry/label/layout/limit-in-canvas.ts","webpack://G2Plot/../../../../src/geometry/label/layout/limit-in-plot.ts","webpack://G2Plot/../../../../../src/geometry/label/layout/pie/outer.ts","webpack://G2Plot/../../../../src/geometry/label/layout/adjust-color.ts","webpack://G2Plot/../../../../../src/geometry/label/layout/interval/hide-overlap.ts","webpack://G2Plot/../../../../../src/geometry/label/layout/pie/spider.ts","webpack://G2Plot/../../../src/animate/animation/fade.ts","webpack://G2Plot/../../../src/animate/animation/grow-in.ts","webpack://G2Plot/../../../src/animate/animation/scale-in.ts","webpack://G2Plot/../../../src/animate/animation/wave-in.ts","webpack://G2Plot/../../../src/animate/animation/position-update.ts","webpack://G2Plot/../../../src/animate/animation/path-in.ts","webpack://G2Plot/../src/add-event-listener.ts","webpack://G2Plot/../src/create-dom.ts","webpack://G2Plot/../src/get-style.ts","webpack://G2Plot/../src/get-outer-height.ts","webpack://G2Plot/../src/get-height.ts","webpack://G2Plot/../src/get-outer-width.ts","webpack://G2Plot/../src/get-width.ts","webpack://G2Plot/../src/modify-css.ts","webpack://G2Plot/./src/adaptor/common.ts","webpack://G2Plot/../../src/abstract/group-component.ts","webpack://G2Plot/../src/util.ts","webpack://G2Plot/../src/line.ts","webpack://G2Plot/../src/bezier.ts","webpack://G2Plot/../src/quadratic.ts","webpack://G2Plot/../src/cubic.ts","webpack://G2Plot/../src/ellipse.ts","webpack://G2Plot/../src/arc.ts","webpack://G2Plot/../src/segments.ts","webpack://G2Plot/../src/polyline.ts","webpack://G2Plot/./node_modules/gl-matrix/esm/common.js","webpack://G2Plot/./src/adaptor/geometries/index.ts","webpack://G2Plot/./node_modules/gl-matrix/esm/mat3.js","webpack://G2Plot/../../src/util/matrix.ts","webpack://G2Plot/../../src/tooltip/css-const.ts","webpack://G2Plot/../../src/util/draw.ts","webpack://G2Plot/../../src/util/arrow.ts","webpack://G2Plot/../../src/util/svg.ts","webpack://G2Plot/./node_modules/@antv/adjust/node_modules/tslib/tslib.es6.js","webpack://G2Plot/./src/adaptor/geometries/base.ts","webpack://G2Plot/../src/parse-path.ts","webpack://G2Plot/../src/catmull-rom-2-bezier.ts","webpack://G2Plot/../src/fill-path.ts","webpack://G2Plot/../src/fill-path-by-diff.ts","webpack://G2Plot/../src/format-path.ts","webpack://G2Plot/../src/rect-path.ts","webpack://G2Plot/../src/parse-path-string.ts","webpack://G2Plot/../src/path-2-absolute.ts","webpack://G2Plot/../../src/process/arc-2-cubic.ts","webpack://G2Plot/../../src/process/quad-2-cubic.ts","webpack://G2Plot/../../src/process/line-2-cubic.ts","webpack://G2Plot/../../src/process/segment-2-cubic.ts","webpack://G2Plot/../src/path-2-curve.ts","webpack://G2Plot/../src/path-intersection.ts","webpack://G2Plot/../src/parse-path-array.ts","webpack://G2Plot/../src/get-arc-params.ts","webpack://G2Plot/../src/path-2-segments.ts","webpack://G2Plot/../src/get-line-intersect.ts","webpack://G2Plot/../src/point-in-polygon.ts","webpack://G2Plot/../src/is-polygons-intersect.ts","webpack://G2Plot/../../src/util/label.ts","webpack://G2Plot/./src/utils/tooltip.ts","webpack://G2Plot/../../src/adjusts/adjust.ts","webpack://G2Plot/../../src/tick-method/register.ts","webpack://G2Plot/../../src/category/base.ts","webpack://G2Plot/../src/fecha.ts","webpack://G2Plot/../../src/util/time.ts","webpack://G2Plot/../../src/util/bisector.ts","webpack://G2Plot/../../src/category/time.ts","webpack://G2Plot/../../src/continuous/base.ts","webpack://G2Plot/../../src/continuous/linear.ts","webpack://G2Plot/../../src/util/math.ts","webpack://G2Plot/../../src/continuous/log.ts","webpack://G2Plot/../../src/continuous/pow.ts","webpack://G2Plot/../../src/continuous/time.ts","webpack://G2Plot/../../src/continuous/quantize.ts","webpack://G2Plot/../../src/continuous/quantile.ts","webpack://G2Plot/../../src/identity/index.ts","webpack://G2Plot/../../src/util/pretty-number.ts","webpack://G2Plot/../../src/util/extended.ts","webpack://G2Plot/../../src/tick-method/cat.ts","webpack://G2Plot/../../src/util/d3-linear.ts","webpack://G2Plot/../../src/util/interval.ts","webpack://G2Plot/../../src/util/strict-limit.ts","webpack://G2Plot/../../src/util/pretty.ts","webpack://G2Plot/../../src/tick-method/quantile.ts","webpack://G2Plot/../../src/tick-method/time-pretty.ts","webpack://G2Plot/../../src/tick-method/index.ts","webpack://G2Plot/../../src/tick-method/time-cat.ts","webpack://G2Plot/../../src/tick-method/linear.ts","webpack://G2Plot/../../src/tick-method/r-prettry.ts","webpack://G2Plot/../../src/tick-method/time.ts","webpack://G2Plot/../../src/tick-method/log.ts","webpack://G2Plot/../../src/tick-method/pow.ts","webpack://G2Plot/../../src/tick-method/d3-linear.ts","webpack://G2Plot/../../src/util/path.ts","webpack://G2Plot/../../src/shape/base.ts","webpack://G2Plot/../../src/shape/circle.ts","webpack://G2Plot/../../src/shape/ellipse.ts","webpack://G2Plot/../../src/shape/image.ts","webpack://G2Plot/../../../src/util/in-stroke/line.ts","webpack://G2Plot/../../src/shape/line.ts","webpack://G2Plot/../../src/shape/marker.ts","webpack://G2Plot/../../../src/util/in-path/point-in-path.ts","webpack://G2Plot/../../../src/util/in-path/polygon.ts","webpack://G2Plot/../../../src/util/in-stroke/arc.ts","webpack://G2Plot/../../src/shape/path.ts","webpack://G2Plot/../../../src/util/in-stroke/polyline.ts","webpack://G2Plot/../../src/shape/polygon.ts","webpack://G2Plot/../../src/shape/polyline.ts","webpack://G2Plot/../../src/shape/rect.ts","webpack://G2Plot/../../../src/util/in-stroke/rect-radius.ts","webpack://G2Plot/../../../src/util/in-stroke/rect.ts","webpack://G2Plot/../../src/shape/text.ts","webpack://G2Plot/./src/constant.ts","webpack://G2Plot/../../src/abstract/html-component.ts","webpack://G2Plot/../../src/util/state.ts","webpack://G2Plot/./src/utils/padding.ts","webpack://G2Plot/./src/adaptor/pattern.ts","webpack://G2Plot/./src/utils/transform/percent.ts","webpack://G2Plot/./src/plots/tiny-line/utils.ts","webpack://G2Plot/./src/plots/funnel/constant.ts","webpack://G2Plot/../../src/abstract/component.ts","webpack://G2Plot/../../src/shape/dom.ts","webpack://G2Plot/../../../src/shape/marker/symbols.ts","webpack://G2Plot/../../../src/shape/marker/index.ts","webpack://G2Plot/../../src/util/format.ts","webpack://G2Plot/./node_modules/gl-matrix/esm/vec2.js","webpack://G2Plot/./src/plots/column/adaptor.ts","webpack://G2Plot/./src/plots/tiny-line/constants.ts","webpack://G2Plot/./src/plots/venn/constant.ts","webpack://G2Plot/./src/utils/hierarchy/util.ts","webpack://G2Plot/../../src/util/arc-params.ts","webpack://G2Plot/./src/core/locale.ts","webpack://G2Plot/./src/utils/data.ts","webpack://G2Plot/./src/plots/tiny-area/adaptor.ts","webpack://G2Plot/./src/interactions/actions/drill-down.ts","webpack://G2Plot/./src/plots/gauge/constants.ts","webpack://G2Plot/../../src/event/graph-event.ts","webpack://G2Plot/../../src/abstract/base.ts","webpack://G2Plot/./node_modules/gl-matrix/esm/vec3.js","webpack://G2Plot/../../src/util/offscreen.ts","webpack://G2Plot/../../src/util/event.ts","webpack://G2Plot/../../src/abstract/container.ts","webpack://G2Plot/../../src/abstract/element.ts","webpack://G2Plot/./node_modules/detect-browser/es/index.js","webpack://G2Plot/../../src/util/parse.ts","webpack://G2Plot/./src/utils/number.ts","webpack://G2Plot/./src/plots/line/adaptor.ts","webpack://G2Plot/./src/utils/pattern/util.ts","webpack://G2Plot/./src/plots/dual-axes/types.ts","webpack://G2Plot/./src/plots/dual-axes/util/option.ts","webpack://G2Plot/./src/plots/progress/adaptor.ts","webpack://G2Plot/./src/plots/progress/utils.ts","webpack://G2Plot/./src/plots/box/constant.ts","webpack://G2Plot/./src/plots/venn/interactions/util.ts","webpack://G2Plot/./src/plots/stock/constant.ts","webpack://G2Plot/./src/plots/funnel/geometries/common.ts","webpack://G2Plot/./src/plots/sunburst/constant.ts","webpack://G2Plot/./src/interactions/drill-down.ts","webpack://G2Plot/./src/plots/waterfall/constant.ts","webpack://G2Plot/./src/plots/sankey/constant.ts","webpack://G2Plot/./src/plots/mix/index.ts","webpack://G2Plot/./node_modules/d3-hierarchy/src/cluster.js","webpack://G2Plot/./node_modules/d3-hierarchy/src/hierarchy/count.js","webpack://G2Plot/./node_modules/d3-hierarchy/src/hierarchy/ancestors.js","webpack://G2Plot/./node_modules/d3-hierarchy/src/hierarchy/iterator.js","webpack://G2Plot/./node_modules/d3-hierarchy/src/hierarchy/index.js","webpack://G2Plot/./node_modules/d3-hierarchy/src/hierarchy/each.js","webpack://G2Plot/./node_modules/d3-hierarchy/src/hierarchy/eachAfter.js","webpack://G2Plot/./node_modules/d3-hierarchy/src/hierarchy/eachBefore.js","webpack://G2Plot/./node_modules/d3-hierarchy/src/hierarchy/find.js","webpack://G2Plot/./node_modules/d3-hierarchy/src/hierarchy/sum.js","webpack://G2Plot/./node_modules/d3-hierarchy/src/hierarchy/sort.js","webpack://G2Plot/./node_modules/d3-hierarchy/src/hierarchy/path.js","webpack://G2Plot/./node_modules/d3-hierarchy/src/hierarchy/descendants.js","webpack://G2Plot/./node_modules/d3-hierarchy/src/hierarchy/leaves.js","webpack://G2Plot/./node_modules/d3-hierarchy/src/hierarchy/links.js","webpack://G2Plot/./node_modules/d3-hierarchy/src/pack/enclose.js","webpack://G2Plot/./node_modules/d3-hierarchy/src/array.js","webpack://G2Plot/./node_modules/d3-hierarchy/src/pack/siblings.js","webpack://G2Plot/./node_modules/d3-hierarchy/src/accessors.js","webpack://G2Plot/./node_modules/d3-hierarchy/src/constant.js","webpack://G2Plot/./node_modules/d3-hierarchy/src/pack/index.js","webpack://G2Plot/./node_modules/d3-hierarchy/src/treemap/round.js","webpack://G2Plot/./node_modules/d3-hierarchy/src/treemap/dice.js","webpack://G2Plot/./node_modules/d3-hierarchy/src/partition.js","webpack://G2Plot/./node_modules/d3-hierarchy/src/stratify.js","webpack://G2Plot/./node_modules/d3-hierarchy/src/tree.js","webpack://G2Plot/./node_modules/d3-hierarchy/src/treemap/slice.js","webpack://G2Plot/./node_modules/d3-hierarchy/src/treemap/squarify.js","webpack://G2Plot/./node_modules/d3-hierarchy/src/treemap/index.js","webpack://G2Plot/./node_modules/d3-hierarchy/src/treemap/binary.js","webpack://G2Plot/./node_modules/d3-hierarchy/src/treemap/sliceDice.js","webpack://G2Plot/./node_modules/d3-hierarchy/src/treemap/resquarify.js","webpack://G2Plot/../../src/bbox/register.ts","webpack://G2Plot/../../src/bbox/rect.ts","webpack://G2Plot/../../src/bbox/circle.ts","webpack://G2Plot/../../src/bbox/util.ts","webpack://G2Plot/../../src/bbox/polyline.ts","webpack://G2Plot/../../src/bbox/path.ts","webpack://G2Plot/../../src/bbox/index.ts","webpack://G2Plot/../../src/bbox/polygon.ts","webpack://G2Plot/../../src/bbox/text.ts","webpack://G2Plot/../../src/bbox/line.ts","webpack://G2Plot/../../src/bbox/ellipse.ts","webpack://G2Plot/./node_modules/@babel/runtime/regenerator/index.js","webpack://G2Plot/../../src/abstract/group.ts","webpack://G2Plot/../../src/abstract/shape.ts","webpack://G2Plot/./src/utils/pick.ts","webpack://G2Plot/./src/utils/invariant.ts","webpack://G2Plot/./src/utils/view.ts","webpack://G2Plot/./src/utils/deep-assign.ts","webpack://G2Plot/./src/utils/statistic.ts","webpack://G2Plot/./src/core/global.ts","webpack://G2Plot/./node_modules/size-sensor/lib/debounce.js","webpack://G2Plot/./node_modules/size-sensor/lib/constant.js","webpack://G2Plot/./src/plots/line/index.ts","webpack://G2Plot/./src/utils/pattern/index.ts","webpack://G2Plot/./src/adaptor/geometries/point.ts","webpack://G2Plot/./src/adaptor/geometries/polygon.ts","webpack://G2Plot/./src/plots/area/index.ts","webpack://G2Plot/./src/plots/area/adaptor.ts","webpack://G2Plot/./src/plots/column/index.ts","webpack://G2Plot/./src/utils/conversion.ts","webpack://G2Plot/./src/adaptor/brush.ts","webpack://G2Plot/./src/interactions/brush.ts","webpack://G2Plot/./src/plots/bar/index.ts","webpack://G2Plot/./src/plots/bar/adaptor.ts","webpack://G2Plot/./src/plots/pie/index.ts","webpack://G2Plot/./src/plots/pie/adaptor.ts","webpack://G2Plot/./src/plots/pie/contants.ts","webpack://G2Plot/./src/plots/pie/utils.ts","webpack://G2Plot/./src/plots/pie/interactions/index.ts","webpack://G2Plot/./src/utils/matrix.ts","webpack://G2Plot/./src/plots/word-cloud/utils.ts","webpack://G2Plot/./src/plots/word-cloud/constant.ts","webpack://G2Plot/./src/plots/scatter/index.ts","webpack://G2Plot/./src/plots/scatter/adaptor.ts","webpack://G2Plot/./src/interactions/drag-move.ts","webpack://G2Plot/./src/plots/dual-axes/constant.ts","webpack://G2Plot/./src/plots/tiny-line/index.ts","webpack://G2Plot/./src/plots/tiny-line/adaptor.ts","webpack://G2Plot/./src/plots/tiny-column/index.ts","webpack://G2Plot/./src/plots/tiny-column/adaptor.ts","webpack://G2Plot/./src/plots/tiny-area/index.ts","webpack://G2Plot/./src/plots/histogram/index.ts","webpack://G2Plot/./src/utils/transform/histogram.ts","webpack://G2Plot/./src/plots/histogram/adaptor.ts","webpack://G2Plot/./src/plots/histogram/constant.ts","webpack://G2Plot/./src/plots/progress/index.ts","webpack://G2Plot/./src/plots/progress/constants.ts","webpack://G2Plot/./src/plots/ring-progress/index.ts","webpack://G2Plot/./src/plots/ring-progress/adaptor.ts","webpack://G2Plot/./src/plots/box/utils.ts","webpack://G2Plot/./src/plots/violin/utils.ts","webpack://G2Plot/./src/plots/violin/constant.ts","webpack://G2Plot/./node_modules/fmin/build/fmin.js","webpack://G2Plot/./src/plots/venn/layout/circleintersection.ts","webpack://G2Plot/./src/plots/stock/utils.ts","webpack://G2Plot/./src/plots/funnel/index.ts","webpack://G2Plot/./src/plots/funnel/adaptor.ts","webpack://G2Plot/./src/plots/funnel/geometries/basic.ts","webpack://G2Plot/./src/plots/liquid/utils.ts","webpack://G2Plot/./src/plots/liquid/shapes/liquid.ts","webpack://G2Plot/./src/plots/bullet/utils.ts","webpack://G2Plot/./src/utils/hierarchy/treemap.ts","webpack://G2Plot/./src/plots/gauge/index.ts","webpack://G2Plot/./src/plots/gauge/adaptor.ts","webpack://G2Plot/./src/plots/gauge/utils.ts","webpack://G2Plot/./src/plots/waterfall/utils.ts","webpack://G2Plot/./src/plots/bidirectional-bar/constant.ts","webpack://G2Plot/./src/plots/bidirectional-bar/utils.ts","webpack://G2Plot/./src/plots/treemap/utils.ts","webpack://G2Plot/./src/plots/sankey/helper.ts","webpack://G2Plot/./src/plots/sankey/sankey/align.ts","webpack://G2Plot/./src/plots/chord/constant.ts","webpack://G2Plot/./src/plots/circle-packing/constant.ts","webpack://G2Plot/./src/plots/mix/utils.ts","webpack://G2Plot/./node_modules/d3-timer/src/timer.js","webpack://G2Plot/./node_modules/d3-ease/src/linear.js","webpack://G2Plot/./node_modules/d3-ease/src/quad.js","webpack://G2Plot/./node_modules/d3-ease/src/cubic.js","webpack://G2Plot/./node_modules/d3-ease/src/poly.js","webpack://G2Plot/./node_modules/d3-ease/src/sin.js","webpack://G2Plot/./node_modules/d3-ease/src/math.js","webpack://G2Plot/./node_modules/d3-ease/src/exp.js","webpack://G2Plot/./node_modules/d3-ease/src/circle.js","webpack://G2Plot/./node_modules/d3-ease/src/bounce.js","webpack://G2Plot/./node_modules/d3-ease/src/back.js","webpack://G2Plot/./node_modules/d3-ease/src/elastic.js","webpack://G2Plot/./node_modules/d3-color/src/define.js","webpack://G2Plot/./node_modules/d3-color/src/color.js","webpack://G2Plot/./node_modules/d3-interpolate/src/basis.js","webpack://G2Plot/./node_modules/d3-interpolate/src/constant.js","webpack://G2Plot/./node_modules/d3-interpolate/src/color.js","webpack://G2Plot/./node_modules/d3-interpolate/src/rgb.js","webpack://G2Plot/./node_modules/d3-interpolate/src/basisClosed.js","webpack://G2Plot/./node_modules/d3-interpolate/src/numberArray.js","webpack://G2Plot/./node_modules/d3-interpolate/src/array.js","webpack://G2Plot/./node_modules/d3-interpolate/src/date.js","webpack://G2Plot/./node_modules/d3-interpolate/src/number.js","webpack://G2Plot/./node_modules/d3-interpolate/src/object.js","webpack://G2Plot/./node_modules/d3-interpolate/src/string.js","webpack://G2Plot/./node_modules/d3-interpolate/src/value.js","webpack://G2Plot/../../src/animate/timeline.ts","webpack://G2Plot/../../src/event/event-contoller.ts","webpack://G2Plot/../../src/abstract/canvas.ts","webpack://G2Plot/../../src/util/graphic.ts","webpack://G2Plot/../../src/annotation/line.ts","webpack://G2Plot/../../src/annotation/text.ts","webpack://G2Plot/../../src/annotation/arc.ts","webpack://G2Plot/../../src/annotation/region.ts","webpack://G2Plot/../../src/annotation/image.ts","webpack://G2Plot/../../src/annotation/data-marker.ts","webpack://G2Plot/../../src/annotation/data-region.ts","webpack://G2Plot/../../src/annotation/region-filter.ts","webpack://G2Plot/../../src/annotation/shape.ts","webpack://G2Plot/../../src/annotation/html.ts","webpack://G2Plot/../../src/axis/base.ts","webpack://G2Plot/../../../src/axis/overlap/auto-ellipsis.ts","webpack://G2Plot/../../../src/axis/overlap/auto-hide.ts","webpack://G2Plot/../../../src/axis/overlap/auto-rotate.ts","webpack://G2Plot/../../src/axis/line.ts","webpack://G2Plot/../../src/axis/circle.ts","webpack://G2Plot/../../src/defs/gradient.ts","webpack://G2Plot/../../src/defs/shadow.ts","webpack://G2Plot/../../src/defs/arrow.ts","webpack://G2Plot/../../src/defs/clip.ts","webpack://G2Plot/../../src/defs/pattern.ts","webpack://G2Plot/../../src/defs/index.ts","webpack://G2Plot/../src/canvas.ts","webpack://G2Plot/../../src/crosshair/base.ts","webpack://G2Plot/../../src/crosshair/line.ts","webpack://G2Plot/../../src/crosshair/circle.ts","webpack://G2Plot/../../src/crosshair/html-theme.ts","webpack://G2Plot/../../src/crosshair/css-const.ts","webpack://G2Plot/../../src/crosshair/html.ts","webpack://G2Plot/../../src/trend/constant.ts","webpack://G2Plot/../../src/trend/path.ts","webpack://G2Plot/../../src/trend/trend.ts","webpack://G2Plot/../../src/slider/handler.ts","webpack://G2Plot/../../src/slider/constant.ts","webpack://G2Plot/../../src/slider/slider.ts","webpack://G2Plot/../../src/grid/base.ts","webpack://G2Plot/../../src/grid/circle.ts","webpack://G2Plot/../../src/grid/line.ts","webpack://G2Plot/../../src/legend/base.ts","webpack://G2Plot/../../src/legend/category.ts","webpack://G2Plot/../../src/legend/continuous.ts","webpack://G2Plot/../../src/tooltip/html-theme.ts","webpack://G2Plot/../../src/tooltip/html.ts","webpack://G2Plot/../../src/util/align.ts","webpack://G2Plot/../../src/util/hit.ts","webpack://G2Plot/../../src/scrollbar/scrollbar.ts","webpack://G2Plot/../../src/adjusts/dodge.ts","webpack://G2Plot/../../src/adjusts/jitter.ts","webpack://G2Plot/../../src/adjusts/stack.ts","webpack://G2Plot/../../src/adjusts/symmetric.ts","webpack://G2Plot/./src/index.ts","webpack://G2Plot/./node_modules/process/browser.js","webpack://G2Plot/./src/utils/flow.ts","webpack://G2Plot/./src/utils/template.ts","webpack://G2Plot/./src/utils/dom.ts","webpack://G2Plot/./src/utils/geometry.ts","webpack://G2Plot/./src/utils/label.ts","webpack://G2Plot/./src/utils/path.ts","webpack://G2Plot/./src/utils/kebab-case.ts","webpack://G2Plot/./src/utils/measure-text.ts","webpack://G2Plot/./src/utils/context.ts","webpack://G2Plot/./src/locales/en_US.ts","webpack://G2Plot/./src/locales/zh_CN.ts","webpack://G2Plot/./node_modules/size-sensor/lib/index.js","webpack://G2Plot/./node_modules/size-sensor/lib/sensorPool.js","webpack://G2Plot/./node_modules/size-sensor/lib/id.js","webpack://G2Plot/./node_modules/size-sensor/lib/sensors/index.js","webpack://G2Plot/./node_modules/size-sensor/lib/sensors/object.js","webpack://G2Plot/./node_modules/size-sensor/lib/sensors/resizeObserver.js","webpack://G2Plot/./src/types/index.ts","webpack://G2Plot/./src/utils/pattern/dot.ts","webpack://G2Plot/./src/utils/pattern/line.ts","webpack://G2Plot/./src/utils/pattern/square.ts","webpack://G2Plot/./src/adaptor/geometries/area.ts","webpack://G2Plot/./src/adaptor/geometries/line.ts","webpack://G2Plot/./src/adaptor/geometries/interval.ts","webpack://G2Plot/./src/adaptor/geometries/edge.ts","webpack://G2Plot/./src/adaptor/geometries/schema.ts","webpack://G2Plot/./src/adaptor/geometries/violin.ts","webpack://G2Plot/./src/plots/line/constants.ts","webpack://G2Plot/./src/plots/line/interactions/index.ts","webpack://G2Plot/./src/plots/line/interactions/marker-active.ts","webpack://G2Plot/./src/plots/area/constants.ts","webpack://G2Plot/./src/adaptor/conversion-tag.ts","webpack://G2Plot/./src/adaptor/connected-area.ts","webpack://G2Plot/./src/interactions/actions/reset-button.ts","webpack://G2Plot/./src/plots/column/constants.ts","webpack://G2Plot/./src/plots/bar/constants.ts","webpack://G2Plot/./src/plots/pie/interactions/actions/legend-active.ts","webpack://G2Plot/./src/plots/pie/interactions/actions/statistic-active.ts","webpack://G2Plot/./src/plots/pie/interactions/util.ts","webpack://G2Plot/./src/plots/rose/index.ts","webpack://G2Plot/./src/plots/rose/adaptor.ts","webpack://G2Plot/./src/plots/rose/constant.ts","webpack://G2Plot/./src/plots/word-cloud/index.ts","webpack://G2Plot/./src/plots/word-cloud/adaptor.ts","webpack://G2Plot/./src/utils/transform/word-cloud.ts","webpack://G2Plot/./src/plots/word-cloud/shapes/word-cloud.ts","webpack://G2Plot/./src/plots/scatter/util.ts","webpack://G2Plot/./node_modules/d3-regression/dist/d3-regression.esm.js","webpack://G2Plot/./src/plots/scatter/constant.ts","webpack://G2Plot/./src/plots/scatter/interactions/index.ts","webpack://G2Plot/./src/plots/radar/index.ts","webpack://G2Plot/./src/plots/radar/adaptor.ts","webpack://G2Plot/./src/plots/radar/interactions/index.ts","webpack://G2Plot/./src/plots/radar/interactions/radar-tooltip-action.ts","webpack://G2Plot/./src/plots/dual-axes/index.ts","webpack://G2Plot/./src/plots/dual-axes/adaptor.ts","webpack://G2Plot/./src/plots/dual-axes/util/legend.ts","webpack://G2Plot/./src/plots/dual-axes/util/geometry.ts","webpack://G2Plot/./src/plots/dual-axes/util/render-sider.ts","webpack://G2Plot/./src/plots/tiny-column/constants.ts","webpack://G2Plot/./src/plots/tiny-area/constants.ts","webpack://G2Plot/./src/plots/ring-progress/constants.ts","webpack://G2Plot/./src/plots/heatmap/index.ts","webpack://G2Plot/./src/plots/heatmap/adaptor.ts","webpack://G2Plot/./src/plots/heatmap/constant.ts","webpack://G2Plot/./src/plots/heatmap/shapes/circle.ts","webpack://G2Plot/./src/plots/heatmap/shapes/square.ts","webpack://G2Plot/./src/plots/box/index.ts","webpack://G2Plot/./src/plots/box/adaptor.ts","webpack://G2Plot/./src/plots/violin/index.ts","webpack://G2Plot/./src/plots/violin/adaptor.ts","webpack://G2Plot/./node_modules/pdfast/src/index.js","webpack://G2Plot/./node_modules/pdfast/src/helper.js","webpack://G2Plot/./src/utils/transform/quantile.ts","webpack://G2Plot/./src/plots/venn/index.ts","webpack://G2Plot/./src/plots/venn/types.ts","webpack://G2Plot/./src/plots/venn/adaptor.ts","webpack://G2Plot/./src/plots/venn/utils.ts","webpack://G2Plot/./src/utils/color/blend.ts","webpack://G2Plot/./src/plots/venn/layout/layout.ts","webpack://G2Plot/./src/plots/venn/layout/diagram.ts","webpack://G2Plot/./src/plots/venn/shape.ts","webpack://G2Plot/./src/plots/venn/label.ts","webpack://G2Plot/./src/plots/venn/interactions/index.ts","webpack://G2Plot/./src/plots/venn/interactions/actions/active.ts","webpack://G2Plot/./src/plots/venn/interactions/actions/highlight.ts","webpack://G2Plot/./src/plots/venn/interactions/actions/selected.ts","webpack://G2Plot/./src/plots/stock/index.ts","webpack://G2Plot/./src/plots/stock/adaptor.ts","webpack://G2Plot/./src/plots/funnel/geometries/compare.ts","webpack://G2Plot/./src/plots/funnel/geometries/facet.ts","webpack://G2Plot/./src/plots/funnel/geometries/dynamic-height.ts","webpack://G2Plot/./src/plots/liquid/index.ts","webpack://G2Plot/./src/plots/liquid/adaptor.ts","webpack://G2Plot/./src/plots/liquid/constants.ts","webpack://G2Plot/./src/plots/bullet/index.ts","webpack://G2Plot/./src/plots/bullet/adaptor.ts","webpack://G2Plot/./src/plots/bullet/constant.ts","webpack://G2Plot/./src/plots/sunburst/index.ts","webpack://G2Plot/./src/plots/sunburst/adaptor.ts","webpack://G2Plot/./src/plots/sunburst/utils.ts","webpack://G2Plot/./src/utils/hierarchy/partition.ts","webpack://G2Plot/./node_modules/regenerator-runtime/runtime.js","webpack://G2Plot/(webpack)/buildin/module.js","webpack://G2Plot/./src/plots/sunburst/interactions/index.ts","webpack://G2Plot/./src/plots/gauge/types.ts","webpack://G2Plot/./src/plots/gauge/shapes/indicator.ts","webpack://G2Plot/./src/plots/gauge/shapes/meter-gauge.ts","webpack://G2Plot/./src/plots/waterfall/index.ts","webpack://G2Plot/./src/plots/waterfall/adaptor.ts","webpack://G2Plot/./src/plots/waterfall/shape.ts","webpack://G2Plot/./src/plots/radial-bar/index.ts","webpack://G2Plot/./src/plots/radial-bar/adaptor.ts","webpack://G2Plot/./src/plots/radial-bar/utils.ts","webpack://G2Plot/./src/plots/radial-bar/constant.ts","webpack://G2Plot/./src/plots/bidirectional-bar/index.ts","webpack://G2Plot/./src/plots/bidirectional-bar/adaptor.ts","webpack://G2Plot/./src/plots/treemap/index.ts","webpack://G2Plot/./src/plots/treemap/adaptor.ts","webpack://G2Plot/./src/plots/treemap/constant.ts","webpack://G2Plot/./src/plots/treemap/interactions/index.ts","webpack://G2Plot/./src/plots/sankey/index.ts","webpack://G2Plot/./src/plots/sankey/adaptor.ts","webpack://G2Plot/./src/plots/sankey/layout.ts","webpack://G2Plot/./src/plots/sankey/sankey/index.ts","webpack://G2Plot/./src/plots/sankey/sankey/sankey.ts","webpack://G2Plot/./src/plots/sankey/sankey/helper.ts","webpack://G2Plot/./src/plots/sankey/circle.ts","webpack://G2Plot/./src/plots/sankey/interactions/index.ts","webpack://G2Plot/./src/plots/sankey/interactions/node-draggable.ts","webpack://G2Plot/./src/plots/sankey/interactions/actions/node-drag.ts","webpack://G2Plot/./src/plots/chord/index.ts","webpack://G2Plot/./src/plots/chord/adaptor.ts","webpack://G2Plot/./src/utils/transform/chord.ts","webpack://G2Plot/./src/plots/circle-packing/index.ts","webpack://G2Plot/./src/plots/circle-packing/adaptor.ts","webpack://G2Plot/./src/plots/circle-packing/utils.ts","webpack://G2Plot/./src/utils/hierarchy/pack.ts","webpack://G2Plot/./src/plots/circle-packing/interactions/index.ts","webpack://G2Plot/./src/plugin/index.ts","webpack://G2Plot/./src/plots/mix/adaptor.ts","webpack://G2Plot/./src/plots/mix/interactions/index.ts","webpack://G2Plot/./src/plots/mix/interactions/association.ts","webpack://G2Plot/./src/plots/mix/interactions/utils.ts","webpack://G2Plot/./src/plots/facet/index.ts","webpack://G2Plot/./src/plots/facet/adaptor.ts","webpack://G2Plot/./src/plots/facet/utils.ts","webpack://G2Plot/./src/plots/facet/constant.ts","webpack://G2Plot/./src/lab.ts"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","isArrayLike","isFinite","length","contains","arr","indexOf","filter","func","result","index","push","difference","values","toString","isType","type","isNil","Array","isArray","each","elements","len","isObject","k","keys","obj","isFunction","isMatch","attrs","_keys","isObjectLike","isPlainObject","getPrototypeOf","proto","find","predicate","_predicate","a","findIndex","fromIndex","firstValue","data","rst","flatten","concat","flattenDeep","reduce","prev","curr","Math","max","min","getRange","filterValues","v","isNaN","tmp","getMax","getMin","arrPrototype","splice","pull","pullAt","indexes","last","previous","fn","init","remove","str","sortBy","comparer","b","keys_1","isString","prop","sort","uniq","cache","Map","item","has","set","union","sources","apply","tmpMap","j","val","head","startsWith","e","endsWith","every","some","groupBy","condition","groupToMap","paramscondition_1","replace","split","row","unique","groups","array","getWrapBehavior","action","wrapBehavior","method","numColorCache","numberToColor","num","color","parseRadius","radius","r1","r2","r3","r4","clamp","fixedBase","base","round","substr","parseFloat","toFixed","isNumber","isDecimal","isEven","isInteger","Number","isNegative","isNumberEqual","precision","abs","isOdd","isPositive","maxItem","Infinity","minItem","mod","DEGREE","PI","toDegree","radian","parseInt","RADIAN","toRadian","degree","lowerCase","toLowerCase","lowerFirst","charAt","substring","substitute","match","slice","undefined","upperCase","toUpperCase","upperFirst","getType","isArguments","isBoolean","isDate","isError","isNull","objectProto","isPrototype","Ctor","constructor","isRegExp","isUndefined","isElement","Element","HTMLDocument","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","f","setTimeout","cancelAnimationFrame","handler","webkitCancelAnimationFrame","mozCancelAnimationFrame","msCancelAnimationFrame","clearTimeout","_mix","dist","mix","src1","src2","src3","augment","args","clone","debounce","wait","immediate","timeout","context","arguments","later","callNow","resolver","TypeError","memoized","_deepMix","src","level","maxLevel","deepMix","extend","subclass","superclass","overrides","staticOverrides","Tmp","superObj","isEmpty","size","isEqual","other","valueKeys","otherKeys","map","identity","forEach","defaultValue","keyArr","path","idx","includes","options","leading","Date","now","throttled","remaining","trailing","cancel","prefix","isArraylike","ctx","memoize","text","font","fontFamily","fontWeight","fontStyle","fontVariant","document","createElement","getContext","fontSize","join","measureText","width","maxWidth","currentText","currentWidth","PLACEHOLDER_WIDTH","measureTextWidth","leftText","leftWidth","default_1","def","extendStatics","setPrototypeOf","__proto__","__extends","String","__","this","__assign","assign","__rest","getOwnPropertySymbols","propertyIsEnumerable","__decorate","decorators","target","desc","getOwnPropertyDescriptor","Reflect","decorate","__param","paramIndex","decorator","__metadata","metadataKey","metadataValue","metadata","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","done","then","__generator","body","y","g","_","label","sent","trys","ops","verb","iterator","op","pop","__createBinding","k2","__exportStar","__values","__read","ar","error","__spread","__spreadArrays","il","jl","__spreadArray","to","from","pack","__await","__asyncGenerator","asyncIterator","q","resume","fulfill","settle","shift","__asyncDelegator","__asyncValues","__makeTemplateObject","cooked","raw","__setModuleDefault","__importStar","__importDefault","default","__classPrivateFieldGet","receiver","state","kind","__classPrivateFieldSet","flow","pick","template","log","invariant","LEVEL","getContainerSize","tslib_1","findViewById","getViews","getSiblingViews","transformLabel","getSplinePath","deepAssign","kebabCase","renderStatistic","renderGaugeStatistic","isBetween","isRealNumber","leftTranslate","out","transMat","mat3","fromTranslation","multiply","leftRotate","rad","rotateMat","fromRotation","leftScale","scaleMat","fromScaling","transform","actions","a1","matrix","direction","v1","v2","angleTo","direct","ang","vec2","angle","angleLargeThanPI","vertical","flag","formatPadding","padding","top","left","right","bottom","clearDom","container","children","childNodes","removeChild","hasClass","cName","className","RegExp","regionToBBox","region","end","minX","start","x","minY","maxX","maxY","height","pointsToBBox","points","xs","point","ys","createBBox","getValueByPercent","percent","getCirclePoint","center","cos","sin","near","EPSILON","getBBoxWithClip","element","bbox","box1","box2","clipShape","getClip","clipBBox","getBBox","isGroup","minX_1","maxX_1","minY_1","maxY_1","getChildren","child","box","leftTop","applyToMatrix","leftBottom","rightTop","rightBottom","boxMinX","boxMaxX","boxMinY","boxMaxY","updateClip","newElement","newClipShape","clipCfg","attr","setClip","toPx","number","getTextPoint","position","offset","p1","p2","dx","dy","offsetPercent","sqrt","textColor","activeTextColor","uncheckedColor","lineColor","regionColor","verticalAxisRotate","horizontalAxisRotate","getPixelRatio","devicePixelRatio","distance","x1","y1","x2","y2","inBox","intersectRect","mergeRegion","region1","region2","isSamePoint","point1","point2","_super","_this","getElementById","utils_1","getDefaultOptions","createG2","bindEvents","Plot","renderer","xAxis","nice","autoRotate","autoHide","cfg","minGap","yAxis","animation","defaultInteractions","chart","g2_1","autoFit","getChartSize","localRefresh","setAttribute","chartSize","on","emit","clear","animate","views","execAdaptor","render","bindSizeSensor","updateOption","status","util_1","ele","getData","setState","stateObjects","states","getStates","geometry","update","changeSize","annotations","view","incoming","controller","getController","current","getComponents","co","extra","annotation","id","unbindSizeSensor","destroy","off","removeAttribute","adaptor","getSchemaAdaptor","appendPadding","forceFit","unbind","_a","size_sensor_1","triggerResize","event_emitter_1","SHAPE_TO_TAGS","rect","circle","line","marker","polyline","polygon","image","ellipse","dom","SVG_ATTR_MAP","opacity","fillStyle","fill","fillOpacity","strokeStyle","strokeOpacity","stroke","rx","ry","lineCap","lineJoin","lineWidth","lineDash","lineDashOffset","miterLimit","startArrow","endArrow","class","style","preserveAspectRatio","LAYER","DIRECTION","COMPONENT_TYPE","VIEW_LIFE_CIRCLE","GEOMETRY_LIFE_CIRCLE","PLOT_EVENTS","ELEMENT_STATE","GROUP_Z_INDEX","GROUP_ATTRS","ENGINES","getEngine","G","Error","registerEngine","engine","w","h","getComputedStyle","clientWidth","paddingLeft","paddingRight","clientHeight","paddingTop","paddingBottom","getElementSize","visible","Base","changeVisible","destroyed","EE","toScaleString","scale","invert","_parseCfg","Attribute","params","param","_toOriginParam","scales","callback","steps","floor","leftPercent","names","field","_getAttributeValue","_b","_c","_d","ret","defaultCallback","isCategory","linear","translate","getLinearValue","isLinear","gradient","colorUtil","Color","Position","scaleX","scaleY","xi","yi","Shape","ATTRIBUTE_MAP","getAttribute","registerAttribute","ctor","Opacity","Size","isTransposed","originalMatrix","Coordinate","initial","dim","isReflect","tag","vector","vec3","transformMat3","inverted","convertPoint","applyMatrix","invertMatrix","invertPoint","ext","isReflectX","isReflectY","s1","s2","Cartesian","convertDim","invertDim","endAngle","innerRadius","startAngle","Helix","maxRadius","thi","newY","subtract","rMin","Polar","oneBox","getOneBox","oneWidth","oneHeight","circleCenter","polarRadius","getCenter","vPoint","vStart3","vStart2","xPercent","yPercent","COORDINATE_MAP","registerCoordinate","LineAxis","Axis","CircleAxis","LineGrid","Grid","CircleGrid","CategoryLegend","Legend","ContinuousLegend","HtmlTooltip","Tooltip","uniqueValues","Set","mid","polarToCartesian","centerX","centerY","angleInRadian","getSectorPath","startAngleInRadian","endAngleInRadian","innerStart","innerEnd","middlePoint","innerMiddlePoint","circlePathCommands","arcSweep","sectorPathCommands","getArcPath","getAngle","shapeModel","coordinate","getPointsBox","coordStartAngle","diffAngle","getReplaceAttrs","sourceShape","targetShape","originAttrs","newAttrs","omit","sourceArray","targetArray","_i","source","BBox","subBBox","TOP","TOP_LEFT","TOP_RIGHT","fromRange","RIGHT","RIGHT_TOP","RIGHT_BOTTOM","BOTTOM","BOTTOM_LEFT","BOTTOM_RIGHT","LEFT","LEFT_TOP","LEFT_BOTTOM","gap","getXDimensionLength","isPolar","getRadius","convert","pow","getDistanceToCenter","isPointInCoordinate","getAngleByPoint","atan2","getCoordinateClipCfg","margin","endState","getWidth","getHeight","endAngle_1","center_1","radius_1","startState","startAngle_1","ratio","diff","dateRegex","inferScaleType","scaleDef","attrType","geometryType","createScaleByField","validData","getScale","valuesOfKey","test","getDefaultType","getName","alias","getDefaultCategoryScaleRange","theme","range","count","isFullCircle","getAxisRegion","isRect","getLineAxisRelativeRegion","getCircleAxisRelativeRegion","isVertical","getAxisFactorByRegion","getAxisThemeCfg","axisTheme","getAxisTitleOptions","axisOptions","getCircleAxisCenterRadius","startVector","normalVector","getAxisOption","axes","getAxisDirection","axisOption","getAxisTitleText","facets","getDefaultCfg","Facet","createContainer","generateFacets","renderViews","clearFacetViews","facet","createView","beforeEachView","eachView","afterEachView","getLayer","FORE","addGroup","createFacetViews","facetToView","removeView","viewBBox","spacing","rows","cols","xIndex","yIndex","parseSpacing","xSpacing","ySpacing","xRatio","yRatio","showTitle","fields","getTheme","getOptions","coordinateOption","geometries","getXYFields","xOption","yOption","getXAxisOption","getYAxisOption","conditions","datum","Facets","getFacet","registerFacet","Action","addAction","applyCfg","removeAction","CallbackAction","ActionCache","getActionClass","actionName","actionOption","registerAction","ActionClass","createCallbackAction","_convertArr","coord","_convertArcPath","catmullRom2bezier","crp","z","constraint","isLoop","pointList","cp1","cp2","controlPointList","smooth","prevPoint","nextPoint","nextCp0","cp0","cps","hasConstraint","sub","d0","d1","sum","add","smoothBezier","getLinePath","isInCircle","length_1","_points2path","constaint","first","prePoint","splinePath","unshift","convertPolarPath","pre","cur","transposed","subPath","curPoint","xDim","angleRange","middleConvertPoint","_convertPolarPath","_filterFullCirleLine","getMaskBBox","tolerance","maskBBox","event","getCanvasBBox","getCurrentElement","getDelegationObject","delegateObject","isElementChange","gEvent","fromShape","toShape","isList","component","isSlider","isMask","getMaskedElements","maskPath","maskShape","getMaskPath","getElements","pathToPoints","el","shapePoints","shape","shapeBBox","isPolygonsIntersect","getIntersectElements","getSiblingMaskElements","sibling","getSiblingPoint","geom","subView","getElementsByState","stateName","getElementsBy","hasState","getElementValue","record","getModel","seg","isInBox","getSilbings","parent","siblings","normalPoint","getCoordinate","point2Normalize","isInRecords","records","xFiled","yField","isIn","getScaleByField","cacheMap","Context","HTMLElement","getCanvas","getPointByClient","clientX","clientY","getCurrentPoint","isPointInPlot","getCurrentShape","components","Interaction","initEvents","clearEvents","parseAction","actionStr","arg","getAction","createAction","methodName","executeAction","actionObject","STEP_NAMES","GrammarInteraction","initContext","callbackCaches","stepArr","stepName","getActionCallback","bindEvent","trigger","offEvent","InteractionContext","subSteps","actionArr","argArr_1","currentStepName","isAllowStep","getKey","once","emitCaches","isEnable","enterStep","actionCallback","isAllowExecute","afterExecute","throttle","eventName","nameArr","addEventListener","removeEventListener","Interactions","getInteraction","registerInteraction","interaction","createThemeByStyleSheet","styleSheet","shapeStyles","pointFillColor","pointSize","pointBorderColor","pointBorder","pointFillOpacity","active","pointActiveBorderColor","pointActiveBorder","selected","pointSelectedBorderColor","pointSelectedBorder","inactive","pointInactiveFillOpacity","pointInactiveBorderOpacity","hollowPoint","hollowPointFillColor","hollowPointBorder","hollowPointBorderColor","hollowPointBorderOpacity","hollowPointSize","hollowPointActiveBorderColor","hollowPointActiveBorderOpacity","hollowPointSelectedBorder","hollowPointSelectedBorderColor","hollowPointSelectedBorderOpacity","hollowPointInactiveBorderOpacity","area","areaFillColor","areaFillOpacity","areaActiveFillOpacity","areaSelectedFillOpacity","areaInactiveFillOpacity","hollowArea","hollowAreaBorderColor","hollowAreaBorder","hollowAreaBorderOpacity","hollowAreaActiveBorder","hollowAreaSelectedBorder","hollowAreaInactiveBorderOpacity","interval","intervalFillColor","intervalFillOpacity","intervalActiveBorderColor","intervalActiveBorder","intervalSelectedBorderColor","intervalSelectedBorder","intervalInactiveFillOpacity","intervalInactiveBorderOpacity","hollowInterval","hollowIntervalFillColor","hollowIntervalBorderColor","hollowIntervalBorder","hollowIntervalBorderOpacity","hollowIntervalActiveBorderColor","hollowIntervalActiveBorder","hollowIntervalActiveBorderOpacity","hollowIntervalSelectedBorderColor","hollowIntervalSelectedBorder","hollowIntervalSelectedBorderOpacity","hollowIntervalInactiveBorderColor","hollowIntervalInactiveBorder","hollowIntervalInactiveBorderOpacity","lineBorderColor","lineBorder","lineBorderOpacity","lineAppendWidth","lineActiveBorder","lineSelectedBorder","lineInactiveBorderOpacity","axisStyles","title","axisTitleSpacing","axisTitleTextFillColor","axisTitleTextFontSize","lineHeight","axisTitleTextLineHeight","textBaseline","autoEllipsis","axisLabelOffset","axisLabelFillColor","axisLabelFontSize","axisLabelLineHeight","axisLineBorder","axisLineBorderColor","grid","axisGridBorderColor","axisGridBorder","axisGridLineDash","alignTick","tickLine","axisTickLineBorder","axisTickLineBorderColor","axisTickLineLength","subTickLine","createAxisStyles","legendStyles","symbol","legendMarkerSpacing","legendCircleMarkerSize","legendMarkerColor","itemName","legendItemNameFillColor","legendItemNameFontSize","legendItemNameLineHeight","legendItemNameFontWeight","textAlign","itemStates","nameStyle","unchecked","markerStyle","flipPage","pageNavigator","legendPageNavigatorMarkerSize","inactiveFill","legendPageNavigatorMarkerInactiveFillColor","inactiveOpacity","legendPageNavigatorMarkerInactiveFillOpacity","legendPageNavigatorMarkerFillColor","legendPageNavigatorMarkerFillOpacity","legendPageNavigatorTextFillColor","legendPageNavigatorTextFontSize","maxItemWidth","itemSpacing","legendItemSpacing","itemMarginBottom","legendItemMarginBottom","legendPadding","createLegendStyles","background","backgroundColor","defaultColor","brandColor","subColor","semanticRed","paletteSemanticRed","semanticGreen","paletteSemanticGreen","columnWidthRatio","maxColumnWidth","minColumnWidth","roseWidthRatio","multiplePieWidthRatio","colors10","paletteQualitative10","colors20","paletteQualitative20","sequenceColors","paletteSequence","shapes","sizes","middleAngle","tick","funnel","pyramid","dot","dash","hv","vh","hvh","vhv","square","bowtie","diamond","hexagon","triangle","cross","plus","hyphen","schema","candle","edge","arc","violin","hollow","axis","common","verticalLimitLength","legend","layout","legendVerticalPadding","legendHorizontalPadding","continuous","track","rail","sliderRailHeight","defaultLength","sliderRailWidth","sliderRailFillColor","sliderRailBorderColor","sliderRailBorder","align","formatter","sliderLabelTextFillColor","sliderLabelTextFontSize","sliderLabelTextLineHeight","sliderHandlerWidth","sliderHandlerFillColor","sliderHandlerBorderColor","slidable","tooltip","showContent","follow","showCrosshairs","showMarkers","shared","enterable","shadowBlur","shadowOffsetX","shadowOffsetY","shadowColor","crosshairs","tooltipCrosshairsBorderColor","tooltipCrosshairsBorder","textBackground","domStyles","TOOLTIP_CSS_CONST","CONTAINER_CLASS","visibility","zIndex","transition","tooltipContainerFillColor","tooltipContainerFillOpacity","boxShadow","tooltipContainerShadow","borderRadius","tooltipContainerBorderRadius","tooltipTextFillColor","tooltipTextFontSize","tooltipTextLineHeight","TITLE_CLASS","marginBottom","marginTop","LIST_CLASS","listStyleType","LIST_ITEM_CLASS","marginLeft","marginRight","MARKER_CLASS","display","VALUE_CLASS","float","annotationArcBorderColor","annotationArcBorder","annotationLineBorderColor","annotationLineDash","annotationLineBorder","annotationTextFillColor","annotationTextBorderColor","annotationTextBorder","annotationTextFontSize","annotationRegionBorder","annotationRegionBorderColor","annotationRegionFillColor","annotationRegionFillOpacity","dataMarker","annotationDataMarkerLineLength","autoAdjust","dataRegion","slider","backgroundStyle","cSliderBackgroundFillColor","cSliderBackgroundFillOpacity","foregroundStyle","cSliderForegroundFillColor","cSliderForegroundFillOpacity","handlerStyle","cSliderHandlerWidth","cSliderHandlerHeight","cSliderHandlerFillColor","cSliderHandlerFillOpacity","cSliderHandlerBorderColor","cSliderHandlerBorder","cSliderHandlerBorderRadius","highLightFill","cSliderHandlerHighlightFillColor","textStyle","cSliderTextFillColor","cSliderTextFillOpacity","cSliderTextFontSize","cSliderTextLineHeight","cSliderTextFontWeight","cSliderTextBorderColor","cSliderTextBorder","scrollbar","trackColor","scrollbarTrackFillColor","thumbColor","scrollbarThumbFillColor","hover","scrollbarThumbHighlightFillColor","labels","labelFillColor","labelFontSize","labelBorderColor","labelBorder","fillColorDark","labelFillColorDark","fillColorLight","labelFillColorLight","innerLabels","innerLabelFillColor","innerLabelFontSize","innerLabelBorderColor","innerLabelBorder","overflowLabels","overflowLabelFillColor","overflowLabelFontSize","overflowLabelBorderColor","overflowLabelBorder","pieLabels","labelHeight","labelLine","labelLineBorder","BLACK_COLORS","WHITE_COLORS","QUALITATIVE_10","QUALITATIVE_20","SINGLE_SEQUENCE","createLightStyleSheet","_e","_f","_g","paletteSemanticYellow","_h","_j","_k","axisLineDash","axisTitleTextFontWeight","axisSubTickLineBorderColor","axisSubTickLineLength","axisSubTickLineBorder","axisLabelFontWeight","legendTitleTextFillColor","legendTitleTextFontSize","legendTitleTextLineHeight","legendTitleTextFontWeight","legendMarkerSize","legendSquareMarkerSize","legendLineMarkerSize","sliderLabelTextFontWeight","sliderHandlerHeight","sliderHandlerBorder","annotationTextLineHeight","annotationTextFontWeight","tooltipCrosshairsLineDash","tooltipTextFontWeight","labelLineHeight","labelFontWeight","innerLabelLineHeight","innerLabelFontWeight","overflowLabelLineHeight","overflowLabelFontWeight","labelLineBorderColor","cSliderRailHieght","pointBorderOpacity","hollowPointActiveBorder","areaActiveFillColor","areaSelectedFillColor","hollowAreaActiveBorderColor","hollowAreaSelectedBorderColor","intervalActiveBorderOpacity","intervalSelectedBorderOpacity","createTheme","themeCfg","styleSheetCfg","themeObject","Themes","registerTheme","snapEqual","value1","value2","filterYValue","yScale","getYScale","yValue","originData","getXDistance","scaleValues","numericValue","getTooltipValueScale","attributes","attribute","getAttributesForLegend","tmpScale","scaleDefs","xScale","getXScale","findDataByPoint","xField","xValue","rangeMax","rangeMin","getXValueByPoint","firstXValue","firstYValue","lastXValue","isYArray","firstIdx","lastIdx","middleIdx","getTooltipItems","showNil","tooltipTitle","getFields","titleField","titleScale","getText","getTooltipTitle","tooltipOption","items","addItem","itemValue","mappingData","callbackParams","itemCfg","valueScale","eachValue","getTooltipValue","nameScale","groupScales","getGroupScales","getTooltipName","getTooltipItemsByFindData","tooltipCfg","dataArray","elementId","getElementId","elementsMap","getTooltipItemsByHitShape","getShape","findItemsFromView","reversed","tooltipItems","reverse","parsePadding","paddingArray","LOAD_COMPONENT_CONTROLLERS","registerComponentController","plugin","option","wrapperOption","CoordinateController","isTheta","props","C","hasAction","transpose","execActions","resetMatrix","sx","sy","includeActions","Event","GEvent","originalEvent","defaultLayout","syncScales","ScalePool","finalScaleDef","cacheScaleMeta","getScaleMeta","cacheScale","cacheScaleDef","scaleKeys","syncKey","MAX_SAFE_INTEGER","MIN_SAFE_INTEGER","isContinuous","change","sm","newScale","syncScale","getSyncKey","removeFromSyncScales","scaleMeta","delete","sync","PaddingCal","getPadding","calculatePadding","isAutoPadding","paddingCal","axisComponents","paddingComponents","otherComponents","AXIS","LEGEND","SLIDER","SCROLLBAR","GRID","TOOLTIP","bboxObject","getLayoutBBox","exceed","componentPadding","componentBBox","expand","inc","defaultSyncViewPadding","PC","syncPadding","instance","autoPadding","evt","createViewEvent","doPlotEvent","uniqueId","canvas","backgroundGroup","middleGroup","foregroundGroup","limitInPlot","syncViewPadding","View","layoutFunc","calculateViewBBox","initComponentController","initOptions","isUpdate","payload","BEFORE_RENDER","fromData","paint","AFTER_RENDER","BEFORE_CLEAR","filteredData","coordinateInstance","isDataChanged","isCoordinateChanged","labelsContainer","controllers","createdScaleKeys","getRootView","scalePool","deleteScale","AFTER_CLEAR","BEFORE_DESTROY","interactions","draw","console","warn","filters","legendOption","scaleOption","coordinateCfg","coordinateController","facetInstance","coordinateBBox","opt","existInteraction","interaciton","createInteraction","BEFORE_CHANGE_DATA","changeData","AFTER_CHANGE_DATA","sharedOptions","getOption","legends","removedView","yScales","dimType","defaultKey","getScaleKey","layer","BG","MID","getGroupAttributes","xScales","getScalesByDim","showTooltip","hideTooltip","lockTooltip","unlockTooltip","isTooltipLocked","dataLen","snapRecords","getSnapRecords","curStart","curEnd","bl","tr","adjust","renderDataRecursive","BEFORE_PAINT","renderPaddingRecursive","renderLayoutRecursive","renderBackgroundStyleShape","renderPaintRecursive","AFTER_PAINT","backgroundStyleRectShape","addShape","capture","toBack","adjustCoordinate","initComponents","shrink","syncViewPaddingFn","doLayout","paintGeometries","renderComponents","currentScaleDef","mergedScaleDef","createScale","doFilterData","createCoordinate","initGeometries","renderFacet","onDelegateEvents","onCanvasEvent","usedControllers","controllerName","currentInPlot","newEvent","TYPE","isPreMouseInPlot","MOUSE_LEAVE","LEAVE","MOUSE_ENTER","ENTER","filterData","createOrUpdateScales","getGeometryScales","adjustScales","getScaleFields","groupedFields","getGroupedFields","getGroupFields","adjustCategoryScaleRange","xyScales","getYScales","scaleOptions","isIdentity","doAnimation","canvasRegion","events","geometryOption","createGeometry","interactionOption","viewOption","annotationComponent","annotationOption","eventCallback","rest","geometry_1","registerGeometry","pixelRatio","supportCSSTransform","wrapperElement","createDom","appendChild","Canvas","updateCanvasStyle","bindAutoFit","initDefaultInteractions","Chart","ariaOption","BEFORE_CHANGE_SIZE","AFTER_CHANGE_SIZE","aria","unbindAutoFit","parentNode","modifyCSS","verticalAlign","onResize","Controller","includeOption","show","hide","isVisible","getTitle","dataPoint","getTooltipCfg","lastItems","lastTitle","tooltipMarkersGroup","renderTooltip","getItemsAfterProcess","renderTooltipMarkers","isCrosshairsFollowCursor","renderCrosshairs","xCrosshair","yCrosshair","isLocked","setCapture","guideGroup","reset","tooltipCrosshairsGroup","snapItem","aItem","yDistance","uniqItems","subItem","getContainer","getBoundingClientRect","isPointIn","processOption","processCustomContent","defaultCfg","currentCustomContent","customContent","content","getTooltipMarkersGroup","rootView","attrs_1","crosshairsType","renderXCrosshairs","renderYCrosshairs","getViewWithGeometry","getTooltipCrosshairsGroup","getCrosshairsText","Crosshair","Line","textCfg","firstItem","getGuideGroup","toFront","childView","originalItems","customItems","ANIMATIONS_MAP","getAnimation","registerAnimation","DEFAULT_ANIMATE_CFG","appear","duration","easing","enter","leave","GEOMETRY_ANIMATE_CFG","delay","GEOMETRY_GROUP_APPEAR_ANIMATION","getDefaultAnimateCfg","elementName","animateType","animateCfg","doAnimate","parsedAnimateCfg","repeat","parseAnimateConfig","animateFunction","toAttrs","shapeFactory","offscreenGroup","elementIndex","model","shapeType","getShapeType","drawShape","setShapeInfo","getOffscreenGroup","newShape","origin","syncShapeStyle","getAnimateCfg","labelShape","statesStyle","stateStatus","sortZIndex","setZIndex","offscreenShape","eventObject","propagationDelegate","labelBBox","stateOption","defaultShapeType","stateTheme","shapeKey","getStatesStyle","stateCfg","shapeStyle","cfg_1","AFTER_DRAW_ANIMATE","name_1","BEFORE_DRAW_ANIMATE","GroupCtor","getGroupBase","clip","newClip","newChildren","name_2","getStateStyle","stopAnimate","GEOMETRY_LABELS_MAP","GEOMETRY_LABELS_LAYOUT_MAP","getGeometryLabel","registerGeometryLabel","getGeometryLabelLayout","registerGeometryLabelLayout","layoutFn","ShapeFactoryBase","getShapePoints","shapePoint","getPoints","getDefaultPoints","getDefaultStyle","geometryTheme","getMarker","markerCfg","ShapeBase","parsePath","parsedPath","parsePathString","convertNormalPath","parsePoint","parsePoints","ShapeFactoryMap","registerShapeFactory","factoryName","geomObj","registerShape","shapeObj","getShapeFactory","isModelChange","currentModel","preModel","parseFields","keyItem","added","updated","removed","keyIncluded","sortable","intervalPadding","dodgePadding","zIndexReversed","userTheme","Geometry","positionCfg","attributeOption","createAttrOption","adjustCfg","adjusts","adjustOption","styleFunc","styleOption","animateOption","secondParam","thirdParam","labelOption","customOption","setCfg","initAttributes","processData","adjustScale","lastAttributeOption","defaultSize","beforeMappingData","beforeMapping","mapping","updateElements","lastElementsMap","canDoGroupAnimation","yMinPoint","getYMinValue","minYPoint","doGroupAppearAnimate","renderLabels","geometryLabel","idFields","hasSorted","attrName","adjustType","shapeName","xVal","yVal","length_2","dodgeAdjust","getAdjust","dodgeBy","attributeType","eachOpt","length_3","uniqMap","groupFields","length_4","attributeName","mappingArray","xScale_1","xField_1","obj1","obj2","updateStackRange","normalizeValues","y0","mappingDatum","shapeCfg","getDrawCfg","customInfo","defaultStyle","getStyleCfg","generatePoints","nextPoints","mappingDataArray","keyDatum","keyIndex","finalKey","currentShapeCfg","preShapeCfg","coordinateType","labelType","attrCfg","AttributeCtor","getAttributeClass","categoryScales","groupedArray","groupData","beforeAdjust","subData","subLen","adjustData","xScale_2","xDimensionLength","groupNum","sizeAttr","adjustNames","dodgeRatio","getDefaultValue","reverseOrder","adjustCtor","getAdjustClass","dimValuesMap","adjustInstance","process","appendConditions","eachGroup","group","mergeArray","tmpMin","tmpMax","length_5","currentData","generateShapePoints","nextData","shapeAttr","createShapePointsCfg","getAttributeValues","newRecord","_origin","mappingRecord","rstX","rstY","xLen","yLen","getLabelType","labelsMap","labelsRenderer","shapesMap","labelId","filterLabelsById","labelChildren","getMatrix","setMatrix","rotate","rotateRadian","getRotateMatrix","findLabelTextShape","getlLabelBackgroundInfo","labelGroup","labelItem","boxPadding","rotation","checkShapeOverlap","dones","lastShapesMap","Labels","createOffscreenGroup","renderLabel","renderLabelLine","renderLabelBackground","adjustLabel","origin_1","currentAnimateCfg","currentShape","updateLabel","updateAnimateCfg","fromChild","toChild","getChildByIndex","getCount","deleteShape","shapeAppendCfg","isShape","layouts","labelShapes_1","geometryShapes_1","labelItems","labelLineCfg","labelContentShape","backgroundShape","labelShapes","findAll","offsetX","offsetY","avg","GeometryLabel","mapppingArray","labelCfgs","getLabelCfgs","labelCfg","labelContent","total","subIndex","getLabelPoint","getLabelAlign","getLabelItems","getLabelsRenderer","getGeometryShapes","defaultLabelCfg","getDefaultLabelCfg","labelPointCfg","getOffsetVector","factor","offsetPoint","getDimValue","isAvg","isFunnel","centroid","former","getPolygonCentroid","setLabelPosition","getLabelOffsetPoint","labelScales","callbackCfg","originText","getLabelText","originValues","getLabelId","getLabelOffset","labelTexts","subVal","actualOffset","getMappingValue","restArgs","MarkerSymbols","diffX","diffY","STROKES_SYMBOLS","setMarkerSymbol","getLegendLayout","getLegendItems","themeMarker","userMarker","field_1","colorAttr_1","shapeAttr_1","defaultColor_1","isInPolar_1","getTicks","scaleValue","filterFieldData","getShapeMarker","isInPolar","adpatorMarkerStyle","getLegendThemeCfg","legendTheme","isValueEmpty","isYNil","getPathPoints","connectNulls","showSinglePoint","filtered","getViolinPath","getSmoothViolinPath","half","leftPoints","rightPoints","leftPath","rightPath","getStyle","isStroke","isFill","sizeName","getBackgroundRectStyle","splitPoints","eachY","LineSymbols","getLineMarker","getSinglePath","getPath","isStack","topPoints","bottomPoints","topPath","bottomPath","getRangePath","shapeAttrs","eachLinePoints","getShapeAttrs","LineShapeFactory","VERSION","Util","zoom","antvDark","legendSpacing","overflowLabelFillColorDark","overflowLabelFillColorLight","createDarkStyleSheet","Path","keyData","getShapeInfo","getPointsAndData","registeredShape","topLinePoints_1","bottomLinePoints_1","pointsData","parsedPoints","pathPoints","eachPoints","getConstraint","pointInfo","yItem","AreaShapeFactory","startOnZero","Area","EdgeShapeFactory","Heatmap","prepareRange","prepareSize","blur_1","prepareGreyScaleBlurredCircle","drawWithRange","clearShadowCanvasCtx","paletteCache","colorField","getDefaultSize","blur","grayScaleBlurredCanvas","getGrayScaleBlurredCanvas","clearRect","beginPath","closePath","valueField","getShadowCanvasCtx","alpha","drawGrayScaleBlurredCircle","colored","getImageData","colorize","putImageData","imageShape","getImageShape","ticks","shadowCanvas","globalAlpha","drawImage","img","colorAttr","pixels","palette","ColorUtil","rgb2arr","getRectPoints","yMin","yMax","xMin","xMax","getRectPath","isClosed","firstPoint","minLength","getBackgroundRectPath","p0","getFunnelPath","isPyramid","swap","backgroundCfg","backgroundPath","p3","getRectWithCornerRadius","coor","getIntervalRectPath","xValues","sourceArr","findMinDistance","normalizedSize","wr","dodgeCount","mergeData","getDodgeCount","normalizedMaxColumnWidth","normalizedMinColumnWidth","Interval","SHAPES","drawPoints","pointPosition","PointShapeFactory","Point","subX","subY","PolygonShapeFactory","Polygon","temp","xOffset","yOffset","Schema","sizeArr","maxValue","normalizeSize","_size","isMin","isMax","ViolinShapeFactory","Violin","_sizeField","sizeField","getCPath","getQPath","getArcShapePath","arc1","arc2","getArcShapeWeightPath","c1","c2","getSmoothPath","getVHVPath","newStyle","getTickPoints","getInterpolateShapeAttrs","interpolatePoints","interpolatePoint","nextX","nextY","middleX","middleY","interpolateCallback","getInterpolatePoints","getInterpolatePath","parseValue","min1","max1","median","getBoxPoints","pointsArray","halfSize","getCandleYValues","sorted","targetLength","padValue","padEnd","sourceLength","getCandlePoints","yValues","getRectAttrs","IntervalLabel","dir","getLabelValueDir","point0","nextP0","nextP1","HALF_PI","PolarLabel","labelEmit","arcPoint","isToMiddle","getMiddlePoint","getArcPoint","getPointAngle","isLabelEmit","labelPositionCfg","getLabelRotate","labelAngle","asin","PieLabel","isLabelLimit","startPoint","endPoint","antiCollision","plotRange","invisible","overlapping","startY","endY","totalHeight","MIN_VALUE","boxes","targets","pos","previousBox","posInCompositeBox","bitmap","xGap","yGap","Greedy","hasGap","adjustLabelPosition","getAxes","rotateAtPoint","deg","getProjection","scalars","isProjectionOverlap","projection1","projection2","isValidNumber","isValidBox","isIntersect","isIntersectRect","rect1Points","rect2Points","preset","shouldInShape","textShape","textBBox","fromObject","shouldInShapeSingle","hasSome","compare","rightText","doScaleAnimate","endMatrix","scaledMatrix","transformShape","arcPath","getArcParams","getArcStartPoint","getArcInfo","arcPaths","command","firstArcPathCommand","lastArcPathCommand","firstIndex","lastIndex","firstStartPoint","lastStartPoint","firstStartAngle","firstEndAngle","lastStartAngle","lastEndAngle","doShapeZoom","getFactTitleConfig","getAnglePoint","Circle","getDefaultTitleCfg","renderTitle","avgAngle","facetR","middle","processAxis","getFieldValues","facetData","getFacetDataFilter","getRegion","columnValue","columnField","columnIndex","columnValuesLength","rowValue","rowField","rowIndex","rowValuesLength","config","List","colValues","getPageCount","getRowCol","col","pageSize","Matrix","columnTitle","rowTitle","facetIndex","Mirror","reflect","columnValues","rowValues","Rect","drawLines","Tree","afterChartRender","rootFacet","getRows","getChildFacets","setRegion","forceColIndex","xWidth","yWidth","leafs","isLeaf","getFacetsByLevel","originColIndex","getRegionIndex","addFacetLines","subFacet","subRegion","middle1","middle2","drawLine","getMedian","getNormalizedValue","scaled","ANNOTATIONS_AFTER_RENDER","foregroundContainer","backgroundContainer","Annotation","onAfterRender","updateOrCreate","getCacheKey","syncCache","updateCache","clearComponents","doWhat","AnnotationComponent","getAnnotationTheme","getAnnotationCfg","isTop","NONE","ANNOTATION","xPos","yPos","parsePercentPosition","startIndex","viewData","startXValue","endXValue","parsePosition","topLeft","sp","ep","textPoint","textContent","getCoordinateBBox","start_5","end_5","lineLength","getRegionPoints","apply_1","shapes_1","addShapes_1","elem","render_1","restOptions","html_1","html","getComponentContainer","createAnnotation","newCache","getGridThemeCfg","getLineGridItems","tickValue","preTick","currentTick","currentIndex","currentValue","middleValue","getCircleGridItems","preValue","showGrid","userGrid","themeGrid","OMIT_CFG","AXIS_DEFAULT_ANIMATE_CFG","gridContainer","gridForeContainer","axisContainer","axisForeContainer","updatedCache","updateXAxes","updateYAxes","xAxisOption","axisId","getId","gridId","getLineAxisCfg","createLineAxis","getLineGridCfg","createLineGrid","RADIUS","getCircleAxisCfg","createCircleAxis","getCircleGridCfg","CIRCLE","createCircleGrid","yAxisOption","titleText","axisThemeCfg","optionWithTitle","verticalFactor","isAxisVertical","canvasWidth","canvasHeight","gridThemeCfg","gridCfg","verticalScale","directionToPosition","parentBBox","tl","br","getLegendOption","getDirection","layoutBBox","maxWidthRatio","maxHeightRatio","maxSize","getCategoryLegendSizeCfg","maxHeight","setLocation","cut","existCo","getComponentById","customCfg","getCategoryCfg","createCustomLegend","loopLegends","getContinuousCfg","createFieldLegend","getGeometries","doEach","looped","createContinuousLegend","createCategoryLegend","containMin","containMax","attrValue","attrLegendCfg","colors","mergeLegendCfg","custom","themePageNavigator","userPageNavigator","itemMarker","getCustomLegendItems","baseCfg","categoryCfg","vw","noop","changeViewData","onChangeFn","onValueChange","resetMeasure","Slider","getSliderCfg","updateSlider","createSlider","measureSlider","getMinMaxText","minText","maxText","SliderComponent","trendCfg","getThemeOptions","ticks_1","dataSize","xTickCount","minIndex","maxIndex","xScaleValues","getValidScrollbarCfg","originalAnimate","getScrollRange","trackLen","thumbLen","Scrollbar","updateScrollbar","createScrollbar","measureScrollbar","getScrollbarComponentCfg","isHorizontal","thumbOffset","cnt","xScaleCfg","yScalesCfg","thumbHighlightColor","restStyles","getScrollbarData","getStep","getCnt","startIdx","endIdx","tickMethod","ScrollbarComponent","realConfig","categorySize","getScrollbarTheme","DEFAULT_REGION_PATH_STYLE","getItemsOfView","findItemsFromViewRecurisive","ActiveRegion","ev","xValue_1","elements_1","coordinate_1","firstBBox_1","lastBBox_1","groupBBox_1","appendRatio","appendWidth","firstElement","lastElement","innterRadius","regionPath","TooltipAction","lastTimeStamp","timeStamp","preLoc","location","curLoc","isCursorEntered","SiblingTooltip","siblingPoint","EllipsisText","tipContent","tooltipStyles","StateBase","enable","setStateEnable","clearViewState","setElementState","getItem","ElementState","list","ignoreListItemStates","setElementsStateByItem","isMathItem","setStateByElement","isItemIgnore","event_1","setStateByComponent","ElementActive","StateAction","LinkByColor","nextElement","nextBBox","activeStyle","getLinkPath","getColorScale","getElementsByField","group_1","linkGroup","count_1","nextEl","addLinkShape","linkByElement","removeLink","ElementRangeState","isStarted","effectSiblings","effectByRecord","setSiblingsState","allElements","setSiblingsStateByRecord","setElementsState","effectElements","ElementRangeActive","ElementSingleState","ElementSingleActive","clearHighlight","setHighlightBy","EVENTS","STATUS_UNACTIVE","INACTIVE","STATUS_ACTIVE","ACTIVE","ElementHighlight","setElementHighlight","activeElements","allCancel_1","HighlightColor","highlightElements","Highlight","HighlightX","ElementRangeHighlight","BEFORE_HIGHLIGHT","AFTER_HIGHLIGHT","ElementSingleHighlight","ElementRangeSelected","ElementMultipleSelected","ElementSingleSelected","ListState","info","allowSetStateByElement","getAllowComponents","clearItemsState","componentNames","ignoreStates","ignoreItemStates","setItemsState","allowSetStateByItem","setItemState","getItems","triggerInfo","getTriggerListInfo","clearAllComponentsState","ListActive","ListHighlight","activeItems","getItemsByState","ListSelected","ListUnchecked","ListChecked","setCheckedBy","list_1","ListFocus","clickedItem","checkedItems","uncheckedItems","checkedItem","TIP_ID","ListRadio","containerId","MaskBase","maskAttrs","getMaskAttrs","draggable","emitEvent","starting","moving","createMask","updateMask","maskStyle","preMovePoint","currentPoint","CircleMask","RectMask","clampPoint","DimRect","normalStart","normalEnd","inPlot","PathMask","resize","SmoothPathMask","getSpline","CursorAction","cursor","setCursor","DataFilter","filterView","unCheckedItems","scale_1","names_1","getValue","max_1","min_1","getFilter","minValue","arr_1","RangeFilter","dims","BEFORE_FILTER","normalCurrent","hasDim","reRender","FILTER","AFTER_FILTER","BEFORE_RESET","RESET","AFTER_RESET","SiblingFilter","ElementFilter","maskElements_1","byRecord","filterByRecord","filterByBBox","maskElements","ButtonAction","buttonCfg","getButtonCfg","buttonShape","buttonGroup","drawButton","resetPosition","Drag","dragStart","Move","startMatrix","isMoving","ScaleTranslate","cacheScaleDefs","resetDim","startCache","noramlCurrent","translateDim","translateLinear","TransformAction","zoomRatio","zoomDim","dRatio","zoomLinear","toMin","toMax","MousewheelScroll","wheelDelta","scrollbarController","currentRatio","nextStart","deltaY","isWheelDown","correction","nextRatio","setValue","isPointInView","isInPlot","preventDefault","CanvasEngine","SVGEngine","Edge","greedy","canFill","fillGap","totalHeight_1","lineHeight_1","plotRange_1","halves_1","maxLabelsCountForOneSide","isRight","rPow2","dyPow2","innerPoint","itemX","itemY","maxTimes","dxdy","maxDelta","nt","times","accessedCache","spiralFill","label1","label2","regionMinX","regionMinY","regionMaxX","regionMaxY","finalX","finalY","translateX_1","textBox","DOT_WIDTH","getEllipsisText","labelOffset","separateLabels","totalR","labelsContainerRange","dxPow2","dx_offset","smoothConnector","atan","sweepFlag","breakPoint","breakPoint3","xSign","slope1","slope2","E","drawLabelline","overflow","fillWhite","rgb","toRGB","isContrastColorWhite","moveInShape","filteredLabels","pages","filterLabel","todo","groupedLabels","addCurrentGroup","curItems","sortedCollections","sortedLabels","sortLabels","downFail","inRight","inflectionPoint","totalOffset","seperateLabels","halfHeight","originalPos","pathCommands","curStartAngle","curEndAngle","preStartAngle","preEndAngle","diffStartAngle","diffEndAngle","onFrameStartAngle","onFrameEndAngle","getTotalLength","EllipsisTextAction","ElementHighlightByX","ElementHighlightByColor","ElementSelected","ElementLinkByColor","DimMask","DataRangeFilter","ElementSiblingFilter","ViewDrag","ViewMove","ScaleZoom","showEnable","isInShape","processing","rollback","version","eventType","attachEvent","detachEvent","TABLE","TABLE_TR","FRAGMENT_REG","CONTAINERS","tbody","thead","tfoot","td","th","$1","innerHTML","getOuterHeight","offsetHeight","bTop","pTop","pBottom","getOuterWidth","offsetWidth","bLeft","pLeft","pRight","bRight","mRight","css","seriesField","removeInteraction","meta","constant_1","annotationOptions","annotationController","pattern","COPY_PROPERTIES","COPY_PROPERTIES_EXCLUDES","GroupComponent","isRegister","isUpdating","isInit","clearOffScreenCache","localId","offScreenRender","offScreenGroup","deleteElements","applyOffset","initEvent","removeEvent","getInnerLayoutBBox","getTotalMatrix","applyMatrix2BBox","initGroup","getDelegateObject","moveElementTo","isComponent","createOffScreenGroup","renderInner","appendDelegateObject","registerElement","restCfg","inst","updateAutoRender","getMatrixByTranslate","elmentName","originOpacity","originElement","newGroup","originGroup","preElement","childComponent","origChildComponent","newCfg","replaceAttrs","updateAnimation","registerNewGroup","addAnimation","parentObject","deleteArray","callbackAnimCfg","removeElement","removeAnimation","Component","removeFromArray","isBrowser","isParent","isCanvas","getParent","isAllowCapture","minNum","maxNum","getBBoxByArray","xArr","yArr","getBBoxRange","piMod","pointAt","pointDistance","pointToLine","u","tangentAngle","nearestPoint","tCallback","v0","segNum","increaseRate","_t","d2","quadraticAt","onet","extrema","derivativeAt","divideQuadratic","x3","y3","xt","yt","controlPoint1","controlPoint2","xExtrema","yExtrema","quadraticLength","iterationCount","quadratics","x0","interpolationAt","divide","cubicAt","t1","t2","discSqrt","extremas","disc","divideCubic","x4","y4","c3","c12","c23","cubicLength","totalLength","snapLength","cubics","copysign","absv","nearestX","nearestY","relativeX","relativeY","px","py","squareA","squareB","ex","ey","rx1","ry1","qx","qy","hypot","xAt","cx","cy","xRotation","yAt","getPoint","tan","xAngle","yDim","yAngle","relativeVector","relativePoint","derivativeXAt","derivativeYAt","analyzePoints","segments","lengthOfSegment","pointAtSegments","startRatio","localRatio","angleAtSegments","distanceAtSegment","minDistance","distance_1","ARRAY_TYPE","Float32Array","RANDOM","random","createSVGElement","createElementNS","sortDom","sorter","childList","toArray","fragment","createDocumentFragment","moveTo","targetIndex","node","nodeType","nodeName","insertBefore","targetNext","glMatrix","fromMat4","copy","fromValues","m00","m01","m02","m10","m11","m12","m20","m21","m22","a01","a02","a12","a00","a10","a11","a20","a21","a22","b01","b11","b21","det","adjoint","determinant","b00","b02","b10","b12","b20","b22","fromMat2d","fromQuat","z2","xx","yx","yy","zx","zy","zz","wx","wy","wz","normalFromMat4","a03","a13","a23","a30","a31","a32","a33","b03","b04","b05","b06","b07","b08","b09","projection","frob","multiplyScalar","multiplyScalarAndAdd","exactEquals","equals","a0","a2","a3","a4","a5","a6","a7","a8","b0","b1","b2","b3","b4","b5","b6","b7","b8","mul","identityMatrix","getMatrixByAngle","currentMatrix","getAngleByMatrix","multiplyVec2","topRight","bottomLeft","bottomRight","applyRotate","applyTranslate","translateMatrix","NAME_CLASS","CROSSHAIR_X","CROSSHAIR_Y","SHAPE_ATTRS_MAP","applyAttrsToContext","setLineDash","parseStyle","drawChildren","skipDraw","checkRefresh","refreshElements","parent_1","refresh","setChildrenRefresh","checkChildrenRefresh","hasChanged","checkElementRefresh","clearChanged","cacheCanvasBBox","isInView","drawPath","arcParamsCache","startMovePoint","tangent","getStartTangent","ArrowUtil","getEndTangent","lineTo","quadraticCurveTo","bezierCurveTo","arcParams","refreshElement","changeType","_cacheCanvasBBox","getMergedRegion","minXArr","minYArr","maxXArr","maxYArr","cacheBox","validCache","validBBox","getRefreshRegion","mergeView","viewRegion","_addDefaultArrow","isStart","arrowShape","isArrowShape","_addCustomizedArrow","arrowAttrs","arrowFill","arrowStroke","arrowLineWidth","restAttrs","getShortenOffset","addStartArrow","addEndArrow","setShadow","addShadow","setTransform","hasAttribute","createPath","addClip","getMappingField","shapeField","styleField","rawFields","mappingFields","tileMappingField","getMappingFunction","tooltipFields","regexTags","regexDot","catmullRom2Bezier","decasteljau","recurse","middlePoints","splitSegment","leftSegments","segment","cmd","splitCurve","fillPath","sourceLen","targetLen","segmentsToFill","filled","getMinDiff","del","modify","fillPathByDiff","diffMatrix","sourceSegment","targetSegment","levenshteinDistance","changes","minPos","_getSegmentPoints","_splitPoints","formerEnd","formatPath","fromPath","toPath","rectPath","SPACES","PATH_COMMAND","PATH_VALUES","pathString","paramCounts","REGEX_MD","toSymmetry","pathToAbsolute","pathArray","needProcess","res","mx","my","ii","pa","preParams","upCmd","jj","symetricT","symetricS","TAU","mapToEllipse","cosphi","sinphi","centerx","centery","approxUnitArc","ang1","ang2","vectorAngle","ux","uy","vx","vy","acos","arcToBezier","xAxisRotation","largeArcFlag","curves","pxp","pyp","lambda","rxsq","rysq","pxpsq","pypsq","radicant","centerxp","centeryp","vx1","vy1","vx2","vy2","getArcCenter","ceil","curve","arcToCubic","LAF","SF","quadToCubic","lineToCubic","segmentToCubic","pathToCurve","needZCommandIndexes","seglen","path2Absolute","allPathCommands","pathCommand","zCommandIndexes","fixArc","pi","ni","base3","p4","bezlen","Tvalues","Cvalues","ct","xbase","ybase","comb","curveDim","tvalues","bounds","b2ac","sqrtb2ac","mt","jlen","intersect","denominator","px2","py2","isPointInsideBBox","r0","vb","bezierBBox","p1x","p1y","c1x","c1y","c2x","c2y","p2x","p2y","findDotsAtSegment","t13","t12","t3","nx","ny","interHelper","bez1","bez2","justCount","bbox1","bbox2","isBBoxIntersect","n1","n2","dots1","dots2","xy","di","di1","dj","dj1","ci","cj","is","pathIntersection","path1","path2","x1m","y1m","x2m","y2m","path2Curve","pj","intr","kk","segment1","segment2","interPathHelper","p2s","parsePathArray","vMag","vRatio","vAngle","arcFlag","xp","yp","cxp","cyp","theta","dTheta","getSegments","nextParams","lastStartMovePointIndex","startTangent","endTangent","cp","preSegment","dx1","dy1","dx2","dy2","getLineIntersect","D0","D1","kross","dcmp","onSegment","isInPolygon","isHit","parseToLines","lines","points1","points2","isPointInPolygon","lines1","lines2","lineIntersectPolygon","multiplyMatrix","charAtLength","charCodeAt","getMaxLabelWidth","texts","maxLen","maxIdx","code","getMaxLabelWidthOptimized","ellipsisLabel","limitLength","ellipsisText","labelLength","getLabelLength","codeLength","strLen","ellipsisFlag","reserveLength","newText","reseveLength","startStr","endStr","endIndex","startCodeLen","hasAdd","endCodeLen","ellipsisString","defaultFields","Adjust","dimValue","isAdjust","groupedDataArray","mergedData","getDimValues","adjustDim","DEFAULT_Y","methodCache","registerTickMethod","__cfg__","initCfg","Scale","setDomain","getConfig","calculateTicks","NaN","Category","translateIndexMap","buildIndexMap","order","calcPercent","calcValue","scaledValue","domainRange","token","word","literal","shorten","sLen","newArr","monthUpdate","arrName","i18n","origObj","dayNames","monthNames","monthNamesShort","defaultI18n","dayNamesShort","amPm","DoFn","dayOfMonth","globalI18n","setGlobalDateI18n","regexEscape","pad","formatFlags","D","dateObj","getDate","DD","Do","getDay","dd","ddd","dddd","M","getMonth","MM","MMM","MMMM","YY","getFullYear","YYYY","getHours","hh","H","HH","getMinutes","mm","getSeconds","ss","S","getMilliseconds","SS","SSS","A","ZZ","getTimezoneOffset","Z","monthParse","emptyDigits","emptyWord","timezoneOffset","parts","minutes","parseFlags","cent","globalMasks","shortDate","mediumDate","longDate","fullDate","isoDate","isoDateTime","shortTime","mediumTime","longTime","setGlobalDateMasks","masks","format","mask","getTime","literals","$0","combinedI18nSettings","parse","dateStr","dateInfo","year","month","day","hour","minute","second","millisecond","isPm","parseInfo","newFormat","specifiedFields","requiredFields","regex","requiredField","matches","parser","dateWithoutTZ","validateFields","UTC","timeFormat","time","fecha1","fecha","toTimeStamp","HOUR","DAY","MONTH","intervals","SECOND","MINUTE","getTickInterval","tickCount","_lo","_hi","lo","hi","TimeCat","tickIndex","Continuous","getScalePercent","firstTick","lastTick","minLimit","maxLimit","Linear","getInvertPercent","calBase","getLogPositiveMin","positiveMin","Log","appendPercent","Pow","exponent","Time","numberValue","minConfig","maxConfig","timeStamps_1","secondMin_1","minTickInterval","Quantize","minTick","minIndexPercent","Quantile","getClass","registerClass","cls","Identity","prettyNumber","DEFAULT_Q","eps","simplicity","Q","lmin","lmax","lstep","simplicityMax","density","dMin","dMax","lMin","lMax","rt","densityMax","coverage","coverageMax","span","extended","onlyLoose","best","score","dm","delta","log10","cm","minStart","maxStart","i_1","lStep","calculateCatTicks","tickInterval","e10","e5","e2","D3Linear","domain","_domain","i0","i1","stop","tickIncrement","d3ArrayTicks","power","LN10","snapMultiple","snapType","intervalTicks","maxTick","strictLimit","defaultMin","defaultMax","tickMin","tickMax","pretty","unit","nu","quantileSorted","getYear","date","createYear","creatMonth","cat","catTicks","lastValue","minYear","maxYear","yearInterval","monthInterval","mmMoth","dMonths","minMonth","diffMonth","mday","ddays","diffDay","hours","dHours","diffHour","dMinus","diffMinus","minSecond","dSeconds","seconds","d3Linear","registerScale","RGB_REG","regexLG","regexRG","regexColorStop","arr2rgb","toHex","iEl","x16Value","defaultView","getPropertyValue","exec","colorArray","fixedPercent","calColor","toCSSGradient","gradientColor","cssColor_1","colorStops_1","itemArr","catmullRomToBezier","iLen","ellipsePath","pa0","dots","crz","l2c","q2c","ax","ay","a2c","large_arc_flag","sweep_flag","recursive","f1","f2","_120","rx2","ry2","df","f2old","x2old","y2old","hx","hy","m1","m2","m3","m4","newres","bx","by","X","Y","attrs2","pcoms1","pcoms2","pfirst","pcom","processPath","T","pp","fixM","seg2","seg2len","intersection","getDefaultAttrs","Group","getHitLineWidth","getBBoxMethod","bboxMethod","halfLineWidth","isClipShape","save","restore","_afterDraw","_applyClip","getViewRange","canvasBBox","getCanvasViewBox","strokeAndFill","afterDrawPath","refX","refY","isInStrokeOrPath","AbstractShape","absDistance","ellipseDistance","squareX","squareY","Ellipse","halfLineWith","ImageShape","_setImage","image_1","Image","onload","_afterLoading","crossOrigin","originValue","onAttrChange","swidth","sheight","inLine","halfWidth","LineUtil","setArrow","startArrowDistance","endArrowDistance","startArrowShape","endArrowShape","Symbols","Marker","_resetParamsCache","_getR","_getPath","paramsCache","isPointInPath","getOffScreenContext","hasArc","extractPolygons","polygons","polylines","isPointInStroke","QuadUtil","CubicUtil","inArc","PathUtil","isInPolygons","_setPathArr","path2Segments","extractResutl","_calculateCurve","_setTcache","subt","tCache","nextSeg","segmentT","segmentL","segmentN","tempLength","inPolyline","isClose","PolyLine","_resetCache","PolylineUtil","inRectWithRadius","inRect","Text","_assembleFont","_setText","assembleFont","textArr","spaceingY","_getSpaceingY","getTextHeight","subText","fillText","strokeText","_drawTextArr","_drawText","HtmlComponent","containerTpl","containerClassName","pointerEvents","removeDom","initContainer","initDom","resetStyles","applyStyles","initCapture","initVisible","defaultStyles","applyChildrenStyles","containerCss","styles","getElementsByClassName","cssName","hasKey","MARGIN_RATIO","DODGE_RATIO","GAP","lineCount","getLineSpaceing","getTextWidth","measureWidth","trim","ADJUST_MAP","registerAdjust","parentChildren","clipPathEl","defsEl","children_1","stateStyles","styleName","normalPadding","append","currentAppendPadding","PADDING","paddings","normalPaddings","finalPadding","patternOption","colorAttribute","seriesValue","CanvasPattern","pattern_1","measure","groupField","as","sumMap","groupValue","number_1","percentage","asField","isPercent","minSize","conversionTag","Dodge","Jitter","Stack","Symmetric","LOCATION_FIELD_MAP","none","locationType","updateInner","afterUpdate","viewRange","allowDraw","AbstractGroup","targetAttrs","afterAttrsChange","canStroke","shadow","_setColor","addGradient","addPattern","elementFromPoint","isEqualNode","Dom","toDataURL","ImageData","addArrow","getDefaultArrow","triangleDown","register","getAll","_assembleMarker","symbolsFactory","_formatPath","newValue","getPointAtLength","Polyline","completed","pathRelatedAttrs","_assembleRect","BASELINE_MAP","alphabetic","hanging","BASELINE_MAP_FOR_FIREFOX","ANCHOR_MAP","_setFont","browser","detect","baseline","textLen_1","scaleAndAdd","squaredDistance","squaredLength","negate","inverse","normalize","lerp","transformMat2","transformMat2d","transformMat4","sinC","cosC","mag","cosine","zero","vec","div","sqrDist","sqrLen","stride","defaultOptions","columnStyle","percentData","percent_1","chartData","stackedItem","tooltipOptions","widthRatio","geometries_1","percentYMeta","common_1","isRange","columnTooltip","tooltipFormatter_1","isBar","brush_1","conversion_tag_1","connected_area_1","itemTpl","blendMode","defaultField","INVALID_FIELD_ERR_MSG","index_1","nodes","ancestors","depth","eachNode","EventEmitter","_events","wildcardEvents","doEmit","es","LocaleMap","locale","localeObj","global_1","numberData","gtZero","ltZero","sourceField","targetField","weightField","links","nodesMap","nodesIndex","weight","rawData","pick_1","invariant_1","WARN","areaStyle","pointOptions","lineOptions","pointState","seriesData","utils_2","primary","constants_1","pointParams","data_1","dividerText","activeTextStyle","DrillDownAction","drill","drawBreadCrumb","breadCrumbGroup","historyCache","backTo","hideCrumbGroup","nodeInfo","transformData","drillData","nodeData","drillDownConfig","deep_assign_1","breadCrumbCfg","breadCrumb","drawBreadCrumbGroup","rootText","textShapeBox","targetId","newHistoryCache","dividerBox","indicator","pointer","pin","statistic","GraphEvent","defaultPrevented","propagationStopped","az","bz","hermite","factorTimes2","factor1","factor2","factor3","factor4","bezier","inverseFactor","inverseFactorTimesTwo","zScale","transformQuat","qz","qw","uvx","uvy","uvz","uuvx","uuvy","uuvz","w2","rotateX","rotateY","rotateZ","offScreenCtx","propagationPath","emitDelegation","SHAPE_MAP","Container","totalMatrix","_applyChildrenMarix","preTotalMatrix","getShapeBase","groupClass","tmpCfg","TmpGroupClass","_findShape","invertFromMatrix","isClipped","timeline","preParent","setCanvas","setTimeline","onCanvasChange","_applyElementMatrix","contain","CLONE_CFGS","RESERVED_PORPS","getFormatFromAttrs","fromAttrs","getFormatToAttrs","checkExistedAttrs","animations","onFrame","startTime","initAttrs","initAnimate","getDefaultMatrix","setAttr","applyTo","parentMatrix","Cons","_cloneArrayAttr","cons","cfgName","isPaused","timer","initTimer","pauseCallback","resumeCallback","formatToAttrs","pathFormatted","addAnimator","toEnd","pauseTime","_paused","_pauseTime","eventObj","relativeShape","paths","getEvents","subName","emitDelegateEvent","this_1","currentTarget","delegateTarget","translateX","translateY","newMatrix","targetX","targetY","move","ratioX","ratioY","BrowserInfo","os","NodeInfo","platform","SearchBotDeviceInfo","bot","BotInfo","ReactNativeInfo","SEARCHBOT_OS_REGEX","userAgentRules","operatingSystemRules","userAgent","parseUserAgent","navigator","product","matchUserAgent","ua","matched","uaMatch","matchedRule","versionParts","output","createVersionParts","detectOS","searchBotMatch","regexPR","addStop","addColorStop","gradientStr","tanTheta","tanTheta2","createLinearGradient","parseLineGradient","fx","fy","fr","createRadialGradient","parseRadialGradient","patternStr","createPattern","complete","parsePattern","lineStyle","lineShape","pointMapping","areaMapping","areaState","areaParams","lineGeometry","fillRect","isStagger","unitSize","dpr","AxisType","DualAxesGeometry","isColumn","types_1","Column","transformAttribute","axisType","Left","Right","progressStyle","barWidthRatio","clampPercent","plot_1","boxStyle","defaultContent","risingFill","fallingFill","maxYFieldValue","getLineCoordinate","lineOption","formatter_1","hierarchyConfig","sunburstStyle","drilldown","enabled","isParentNode","inCenter","drill_down_1","leaderLine","waterfallStyle","require","Mix","adaptor_1","defaultSeparation","meanXReduce","maxYReduce","separation","nodeSize","cluster","previousNode","eachAfter","meanX","leafLeft","leafRight","hierarchy","mapChildren","objectChildren","childs","Node","eachBefore","computeHeight","copyData","that","ancestor","aNodes","bNodes","leastCommonAncestor","descendants","leaves","node_iterator","circles","shuffle","B","enclosesWeak","encloseBasis","extendBasis","enclosesWeakAll","enclosesNot","encloseBasis2","encloseBasis3","dr","x21","y21","r21","d3","ab","xa","xb","ya","yb","place","intersects","packEnclose","aa","ca","sj","sk","enclose","optional","required","constantZero","defaultRadius","radiusLeaf","packChildren","translateChild","constant","partition","treemapDice","positionNode","roundNode","preroot","ambiguous","defaultId","defaultParentId","parentId","stratify","nodeId","nodeKey","nodeByKey","nextLeft","nextRight","moveSubtree","wm","wp","nextAncestor","vim","TreeNode","tree","treeRoot","firstWalk","secondWalk","sizeNode","tx","kx","ky","executeShifts","midpoint","vip","vop","vom","sip","sop","sim","som","apportion","phi","squarifyRatio","nodeValue","sumValue","newRatio","minRatio","beta","dice","treemapSlice","squarify","tile","paddingStack","paddingInner","treemap","paddingOuter","sums","valueOffset","valueTarget","valueLeft","valueRight","xk","yk","resquarify","_squarify","getMethod","mergeBBox","mergeArrowBBox","getExtraFromSegmentWithAngle","currentAndPre","currentAndNext","preAndNext","currentAngle","xExtra","yExtra","segmentsWithAngle","EllipseArcUtil","getPathBox","clearCacheBBox","calculateBBox","calculateCanvasBBox","shadowLeft","shadowRight","shadowTop","shadowBottom","inBBox","_isInBBox","isOnlyHitBox","BRAND","getMessage","argIndex","deep","adapteStyle","styleObject","justifyContent","alignItems","shapeStyleKeys","_1","setStatisticContainerStyle","plotType","titleOpt","contentOpt","containerW","liquidShape","customHtml","polarCoord","polarCenter","polarMaxY","containerWidth","_len","_key","SensorTabIndex","SensorClassName","SizeSensorId","dot_1","line_1","square_1","tooltip_1","base_1","lineMapping","lineParams","areaGeometry","BRUSH_TYPES","brush","buttonConfig","button","getInteractionCfg","interactionType","brushType","maskType","reset_button_1","Bar","switchedFieldOptions","verticalAxis","horizontalAxis","barStyle","minBarWidth","maxBarWidth","barBackground","columnBackground","Pie","contants_1","prevOptions","angleField","prevData","curData","pieStyle","dataum","angleScale","content_1","labelLayoutType","inner","outer","spider","labelLayoutCfg","transformStatisticOptions","locale_1","titleOpt_1","contentOpt_1","dataValue","metaFormatter","pieAnnotation","startStages_1","interactions_1","stage","radio","defaultOffset","statistic_active_1","legend_active_1","ORIGIN_MATRIX","ulMatrix","getSize","containerSize","padding_1","resolvePadding","getFontSizeMapping","fMax_1","fMin_1","getSingleKeyValues","getRotate","rotationSteps","wordStyle","resolveRotate","perSize","numbers","rawOptions","chartPadding","imageMask","wordField","timeInterval","spiral","placementStrategy","words","hasText","word_cloud_1","rej","HTMLImageElement","onerror","ERROR","rotateRatio","Scatter","transformOptions","isOneX","isOneY","meta_1","util_2","pointStyle","newOptions","shapeLegend","sizeLegend","showLegend","scatterGeometry","scatterAnnotation","quadrant","xBaseline","yBaseline","labels_1","regionStyle_1","defaultConfig_1","regionStyle","labelStyle","regressionLine","defaultStyle_1","style_1","TinyLine","TinyColumn","TinyArea","Histogram","binField","binNumber","binWidth","stackField","histogram_1","getBinKey","originData_copy","rangeWidth","_binWidth","_defaultBinNumber","LN2","sturges","bins","bin","binKey","groupKey","groupKeyBinKey","plotData","Progress","RingProgress","newData","q1_1","median_1","q3_1","high_1","low_1","low","high","q1","quantile_1","q3","minMax","quantile","pdfOptions","pdfResults","pdfast_1","violinSize","violinY","kde","sampleSize","resultList","seriesGroup","series","violinStyle","zeros","norm2","weightedSum","w1","wolfeLineSearch","pk","phi0","phiPrime0","fxprime","phi_old","phiPrime","a_lo","a_high","phi_lo","iteration","bisect","parameters","maxIterations","fA","fB","fMid","nelderMead","maxDiff","nonZeroDelta","zeroDelta","minErrorDelta","minTolerance","rho","chi","psi","sigma","N","simplex","updateSimplex","sortOrder","reflected","contracted","expanded","history","sortedSimplex","worst","shouldReduce","conjugateGradient","delta_k","gradientDescent","learnRate","gradientDescentLineSearch","functionCalls","zerosM","containedInCircles","circleArea","circleCircleIntersection","stats","intersectionPoints","parentIndex","getIntersectionPoints","innerPoints","arcArea","polygonArea","arcs","midPoint","angleDiff","smallest","disjoint","open","close","Funnel","compareField","funnelStyle","defaultOption","conversion_1","dynamicHeight","facet_1","compare_1","dynamic_height_1","basic_1","formatData","datumIndex","initLineOption","getWaterWavePositions","waveLength","amplitude","getWaterWavePath","waterLevel","phase","_phase","waveRight","addWaterWave","waveCount","waveAttrs","wave","matrix_1","builtInShapeByName","cpX","cpY","outline","border","minXPoint","getFillAttrs","outlineAttrs","getLineAttrs","shapePath","waves","clipPath","measureField","rangeField","ds","rKey","mKey","tKey","flat","DEFAULT_OPTIONS","ignoreParentValue","getTileMethod","d3Hierarchy","tileMethod","Gauge","indicatorView","rangeView","gaugeStyle","meter","indicatorData","rangeData","rangeColor","contentOption","transformContent","processRangeData","newYField","dIdx","hopeData","data1","data2","__axisPosition","findInteraction","enableInteraction","drillDownInteraction","enableDrillDown","treemap_1","curPath","ancestorNode","getNodeWidthRatio","nodeWidth","nodeWidthRatio","getNodePaddingRatio","nodePadding","nodePaddingRatio","sankeyLayoutInputData","dataType","nodeAlign","nodeSort","nodeDepth","isNodeLink","circle_1","layout_1","isNode","edges","link","targetDepth","sourceLinks","targetLinks","nodeStyle","edgeStyle","PLOT_ADAPTORS","pie","adaptor_2","column","adaptor_3","bar","adaptor_4","adaptor_5","gauge","adaptor_6","adaptor_7","adaptor_8","adaptor_9","adaptor_10","progress","adaptor_11","scatter","adaptor_12","histogram","adaptor_13","adaptor_14","PLOT_CONSTRUCTOR","pie_1","column_1","bar_1","area_1","gauge_1","tiny_line_1","tiny_column_1","tiny_area_1","ring_progress_1","progress_1","scatter_1","funnel_1","DEFAULT_OPTIONS_MAP","plot","taskHead","taskTail","frame","clockLast","clockNow","clockSkew","clock","performance","setFrame","clearNow","Timer","_call","_time","_next","restart","wake","timerFlush","t0","sleep","nap","poke","clearInterval","setInterval","quadIn","quadOut","quadInOut","cubicIn","cubicOut","cubicInOut","polyIn","polyOut","polyInOut","halfPi","sinIn","sinOut","sinInOut","tpmt","expIn","expOut","expInOut","circleIn","circleOut","circleInOut","bounceIn","bounceOut","bounceInOut","backIn","overshoot","backOut","backInOut","tau","elasticIn","period","elasticOut","elasticInOut","definition","reI","reN","reP","reHex","reRgbInteger","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color_formatHex","formatHex","color_formatRgb","formatRgb","rgbn","Rgb","rgba","hsla","rgbConvert","rgb_formatHex","hex","rgb_formatRgb","Hsl","hslConvert","hsl2rgb","basis","v3","channels","displayable","formatHsl","brighter","darker","gamma","nogamma","exponential","rgbGamma","colorRgb","rgbSpline","spline","isNumberArray","ArrayBuffer","isView","DataView","genericArray","nb","na","setTime","reA","reB","am","bm","bs","bi","one","string","numberArray","valueOf","IDENTITY_MATRIX","elapsed","d3Ease","cProps","interf","toPathPoint","fromPathPoint","cPathPoint","interpolate","_update","Timeline","d3Timer","animators","removeAnimator","isAnimatePaused","animator","emitTargetEvent","bubbleEvent","bubbles","isOverEvent","EventController","_triggerEvent","dragging","_getPointInfo","_emitEvent","draggingShape","_afterDrag","_bindEvents","_eventCallback","_onDocumentMove","_onDocumentMouseUp","clientPoint","getClientByEvent","getPointByEvent","_getShape","leaveCanvas","preShape","mousedownShape","mousedownPoint","mousedownTimeStamp","isCanvasEmit","_emitMouseoverEvents","_emitDragoverEvents","timeWindow","_getEventObj","_clearEvents","isFirefox","initTimeline","setDOMSize","eventController","layerX","layerY","clientInfo","touches","changedTouches","renderTag","tagCfg","maxLength","ellipsisPosition","tagGroup","maxTextLength","LineAnnotation","Theme","renderLine","TextAnnotation","resetLocation","getLocation","textGroup","getElementByLocalId","ArcAnnotation","renderArc","largeFlag","RegionAnnotation","renderRegion","ImageAnnotation","renderImage","getImageAttrs","DataMarkerAnnotation","renderText","renderPoint","textAttrs","isVertival","findById","lineDisplay","DataRegionAnnotation","RegionFilterAnnotation","shapeIdx","adjustShapeAttrs","ShapeAnnotation","HtmlAnnotation","alignX","alignY","domWidth","domHeight","AxisBase","overlapOrder","tickStates","optimize","displayWithLabel","tickLineStyle","threshold","drawTicks","drawTitle","itemGroup","updateTickStates","getSideVector","tickLineItems","tickLineLength","tickSegment","getTickPoint","getSidePoint","tickId","subTickLineItems","subCount","tickLineCount","tickItem","tickItems","defaultTickLineStyle","tickLineGroup","getTickLineAttrs","getTickLineItems","tickCfg","drawTick","subTickLineItems_1","getSubTickLineItems","optimizeTicks","processTicks","drawLabels","drawTickLines","applyTickStates","page_1","optimizedTicks","getTextAnchor","getTextBaseline","getLabelAttrs","processOverlap","defaultLabelStyle","afterProcessTicks_1","titleCfg","titleHeight","titlePoint","getAxisVector","getTitleAttrs","getItemStates","labelStateStyle","tickLineId","tickLineShape","tickLineStateStyle","tickLineCfg","ellipseLabels","getDefault","ellipsisTail","ellipsisHead","ellipsisMiddle","getRotateAngle","isRotate","isOverlap","overlap","prevBBox","reserveOne","labelsGroup","autoHideCfg","hasHide","parityHide","firstBBox","equidistance","reserveFirst","reserveLast","reserveBoth","preLabel","equidistanceWithReverseBoth","labelRotate","setLabelsAngle","fixedAngle","customRotate","unfixedAngle","regionX","regionY","axisVector","normal","verticalVector","titleSpacing","canProcessOverlap","autoProcessOverlap","hasAdjusted","util","OverlapUtil","overlapCfg","verticalFactor_1","newAlign","unregisterElement","large","sweep","vecLen","stops","Gradient","self","ATTR_MAP","shadowOpacity","SHADOW_DIMENSION","Shadow","_parseShadow","Arrow","_setDefaultPath","_setMarker","Clip","shapeEl","Pattern","Defs","defaultArrow","arrow","autoDraw","srcElement","tagName","AbstractCanvas","CrosshairBase","renderBackground","textId","LineCrosshair","HtmlCrosshair","crosshairTpl","textTpl","HtmlTheme","resetText","crosshairEl","applyStyle","textEl","initCrossHair","alignText","BACKGROUND_STYLE","LINE_STYLE","AREA_STYLE","pointsToPath","dataToPath","getSmoothLinePath","linePathToAreaPath","areaPath","lineYPx","lineY","getAreaLineY","Trend","isArea","DEFAULT_HANDLER_STYLE","Handler","FOREGROUND_STYLE","HANDLER_STYLE","TEXT_STYLE","stopPropagation","prevX","pageX","prevY","pageY","containerDOM","getContainerDOM","onMouseMove","onMouseUp","offsetXRange","adjustOffsetRange","updateStartEnd","updateUI","delegateEmit","oldStart","oldEnd","newStart","newEnd","validCfg","minHandler","getChildComponentById","maxHandler","trend","addComponent","silent","handlerWidth","handlerHeight","foregroundShape","minTextShape","maxTextShape","_dodgeText","minAttrs","maxAttrs","onMouseDown","foreground","offsetRange","minBBox","maxBBox","GridBase","alternateColor","closed","drawGrid","prePoints","getGridPath","reversePoints","nextPath","preItem","getPathStyle","lineId","gridPath","regionId","drawAlternateRegion","getAlternatePath","lineType","getLineType","sweepFlag_1","LegendBase","resetDraw","drawLegendContent","drawBackground","DEFAULT_PAGE_NAVIGATOR","ROTATE_MAP","up","down","currentPageIndex","updateNavigation","getCurrentNavigationMatrix","totalPagesCnt","itemWidth","itemHeight","itemBackground","alignRight","itemElement","offsetGroup","drawItem","getItemHeight","clearUpdateStatus","processItems","drawItems","itemContainerGroup","startX","wrapped","pageWidth","subGroup","pageHeight","adjustNavigation","items_1","markerAttrs","textName","xPosition","radioCfg","showRadio","radioShape","tip","groupId","subContainer","getLimitItemWidth","curX","markerShape","drawMarker","itemMarkerSpacing","nameShape","drawItemText","valueShape","drawRadio","applyItemStates","subGroups","navigation","drawNavigation","navigationBBox","widthLimit","maxRow","maxRowHeight_1","cntPerPage_1","styleCfg","arrowStyle","leftArrow","drawArrow","onNavigationBack","leftArrowBBox","onNavigationAfter","rightArrow","cursorX","updateArrowPath","itemStates_1","elName","ContinueLegend","getCurrentValue","resetTrackClip","resetHandlers","bindSliderEvent","bindRailEvent","bindTrackEvent","drawRail","fixedElements","resetTrack","bindHandlersEvent","getValueByCanvasPoint","curValue","curDiff","dValue","drawLabel","labelAlign","labelFormatter","alignAttrs","getLabelAlignAttrs","railCfg","getRailPath","getRailShape","railBBox","getRailBBox","getPointByValue","trackCfg","getTrackPath","getTrackColor","trackId","trackShape","getClipTrackAttrs","trackAttrs","getTrackAttrs","getRailCanvasBBox","isVertcal","resetHandler","handlerCfg","oneSixthWidth","triangleX","triangleY","getHandlerPath","handlerShape","railShape","minLabel","maxLabel","getDrawPoint","fixedVertail","fixedHorizontal","minLabelBBox","maxLabelBBox","lengthField","changeRailLength","railHeight","fitRailLength","changeRailPosition","maxLabelWidth","CssConst","xCrosshairTpl","yCrosshairTpl","crosshairsRegion","TooltipTheme","renderCustomContent","resetTitle","renderItems","clearCrosshairs","setTitle","clearItemDoms","setCrossHairsVisible","xCrosshairDom","yCrosshairDom","getHtmlContentNode","cacheDoms","limitBox","getOffset","getPointByPosition","outSides","getOutSides","getAlignPoint","resetCrosshairs","curContainer","replaceChild","titleDom","listDom","innerText","crosshairBox","resetCrosshair","croshairDom","checkCrosshair","domName","tplName","constName","substituteObj","domStr","itemDom","getRefXY","preTest","_clearFrame","curShape","drawFrame","clearAnimationFrame","_startDraw","_getRefreshRegion","_drawRegion","_drawAll","DEFAULT_THEME","isMobile","startPos","bindLaterEvent","endPos","updateThumbOffset","newOffset","validateRange","originalValue","minThumbLen","renderTrackShape","renderThumbShape","themeSize","onStartEvent","onTrackClick","thumbShape","onThumbMouseOver","onThumbMouseOut","emitOffsetChange","customOffset","marginRatio","xDimensionLegenth","groupDataArray","adjustDataArray","frameIndex","getDistribution","getAdjustRange","valueArr","valIndex","getDodgeOffset","tickLength","getIntervalOnlyOffset","getDodgeOnlyOffset","getIntervalAndDodgeOffset","normalizedIntervalPadding","normalizedDodgePadding","geomWidth","normalizedMaxWidht","normalizedMinWidht","adjustGroup","getAdjustOffset","Cache","processStack","processOneDimStack","positive","negative","xKey","newXValue","stackHeight","stackValue","getXValuesMaxMap","off_1","getDimMaxValue","dimValues","flattenValues","en_US_1","zh_CN_1","setGlobal","Rose","WordCloud","Radar","DualAxes","Box","Venn","Stock","FUNNEL_CONVERSATION_FIELD","Liquid","Bullet","Sunburst","Waterfall","RadialBar","BidirectionalBar","Treemap","Sankey","Chord","CirclePacking","getCanvasPattern","Lab","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","run","runClearTimeout","Item","nextTick","env","argv","versions","addListener","removeListener","removeAllListeners","prependListener","prependOnceListener","listeners","binding","cwd","chdir","umask","flows","getAllElements","getAllElementsRecursively","labelOptions","points2Path","matrix_util_1","context_1","general","increase","decrease","waterfall","ver","_sensorPool","cb","sensor","getSensor","removeSensor","_id","_sensors","_constant","Sensors","sensorId","newId","createSensor","_object","_resizeObserver","ResizeObserver","_debounce","resizeListener","listener","contentDocument","newSensor","disconnect","observe","drawDot","dotCfg","Path2D","lineCfg","drawSquare","strokeRect","squareCfg","squares","stepType","otherAdaptor","marker_active_1","MarkerActiveAction","getView","getConversionTagOptionsWithDefaults","horizontal","headSize","elemPrev","elemNext","pointPrev","pointNext","totalWidth","renderArrowTag","textWidth","cWidth","cEnd","textAdjusted","renderTextTag","disabled","INTERACTION_MAP","click","getStartStages","disable","connectedArea","buttonStyle","drawText","PieLegendAction","item_1","getActiveElements","elementLabels","getActiveElementLabels","transfrom","StatisticAction","_view","initialAnnotation","getAnnotations","colorField_1","statistic_1","initialStatistic","getInitialAnnotation","sectorStyle","catch","cloudFont","cloudFontSize","cloudFontNormal","cloudRotate","cloudPadding","archimedeanSpiral","cloudText","cloudCanvas","cloud","board","dt","cloudCollide","sprite","sw","lx","msx","contextAndRatio","zeroArray","tags","cloudSprite","hasImage","cloudBounds","_tags","_bounds","can","w32","cxt","imageData","functor","spirals","tagCloud","cloudRadians","maxh","sr","cr","wcr","wsr","hcr","hsr","cw","xoff","yoff","seen","seenRow","archimedean","rectangular","sign","getTextAttrs","REGRESSION_MAP","exp","d3_regression_1","loess","poly","quad","pathData","algorithm","reg","xScaleView","yScaleView","xFieldValue","yFieldValue","xIsPositiveNumber","yIsPositiveNumber","getMetaMinMax","fieldMeta","getCustomValue","_slicedToArray","_arrayWithHoles","_arr","_n","_s","err","_iterableToArrayLimit","_nonIterableRest","xv","yv","Float64Array","visitPoints","iterations","determination","uY","predict","SSE","SST","sse","sst","interpose","xmin","xmax","LOG10E","iter","found","mp","ols","uX","uXY","uX2","slope","YL","XY","XYL","X2Y","ly","_ols2","rSquared","X2","intercept","bandwidth","_points2","bw","yhat","residuals","robustWeights","W","denom","tricube","xkw","updateInterval","medianResidual","_w","logarithmic","lb","quadratic","X3","X4","n0","X2X2","polynomial","coefficients","_o","lhs","rhs","coef","gaussianElimination","uncenter","YS","areaOptions","radar_tooltip_action_1","RadarTooltipController","cfgTitle","hintItems","title_1","result_1","displayTitle","RadarTooltipAction","getTooltipController","geometryOptions","allLine","option_1","createViews","SORT_MAP","view_1","themeColor","groupScale","leftView","rightView","leftLegend_1","rightLegend_1","leftItems","legend_1","rightItems","isGeometry","viewId","yF","legendItem_1","render_sider_1","legendItemName","attrItems","FIELD_KEY","adjust_1","sliderValue","sizeRatio","heatmapStyle","checkedSizeRatio","dautm","maxSideLength","sideLength","outliersView","yFieldName","constant_2","outliersPoint","outliersField","outliersStyle","outliersViewData","baseMeta","syncName","TOOLTIP_FIELDS","violinView","boxView","minMaxView","quantileView","medianView","legendField_1","legendOptions","LN_2","helper","kernel","getUnifiedMinMax","getUnifiedMinMaxMulti","arrMulti","relaxMin","relaxMax","findMinMulti","findMaxMulti","normalizedMinMax","buckets","partialArea","partialAreas","accumulator","generatePartialAreas","fullArea","initalValue","bucket","xToBucket","leftBlockCount","rightBlockCount","spilledAreaLeft","spilledAreaRight","startGradPos","inside","gradAccumulator","getExpectedValueFromPdf","pdf","expected","getXWithLeftTailArea","getPerplexity","entropy","ln","findMin","findMax","quickselect","sd","quantileSelect","quantileIndex","indices","stack","multiQuantileSelect","results","colorMap","colorPalette","setsField","utils_3","tempPadding","currSets","sets","filterSets","vennData","colorOptions","map_1","transformColor","customLabelInfo","vennInteraction","MAP_1","colorPaletteLen","colorArr","blend","JSON","stringify","solution","textCenters","diagram_1","setCircles","legalArr","testArr","blendObject","screen","overlay","darken","lighten","dodge","burn","colorToArr","rgbaArr","color_util_1","c0","blendRgbArr","g0","g1","areas","setid","initialLayout","bestInitialLayout","loss","lossFunction","ids","pairs","addMissingAreas","setids","positions","fmin_1","setid_1","distanceFromIntersectArea","circleintersection_1","getDistanceMatrices","distances","constraints","greedyLayout","constrained","constrainedMDSLayout","restarts","matrices","norm","xj","yj","dij","constrainedMDSGradient","setOverlaps","rowid","mostOverlapped","positioned","isPositioned","positionSet","setIndex","extraPoints","bestLoss","bestPoint","localLoss","overlaps","orientateCircles","orientation","orientationOrder","largestX","largestY","disjointCluster","maxDistance","xRoot","yRoot","disjointClusters","getBoundingBox","xRange","yRange","clusters","returnBounds","addCluster","centreing","xScaling","yScaling","scaling","circleMargin","interior","exterior","computeTextCentre","valid","areaStats","circlePath","overlapped","circleids","circleid","getOverlappingCircles","areaids","exclude","centre","tokens","wide","path_util_1","fillAttrs","VennLabel","active_1","highlight_1","selected_1","VennElementActive","syncElementsPos","toggle","VennElementHighlight","highlight","ElementSelectedAction","ElementSingleSelectedAction","VennElementSelected","VennElementSingleSelected","stockStyle","showFacetTitle","formatterData","defaultFacetLabel","viewIndex","preItemX","preItemY","liquidStyle","bulletStyle","extData","rangeGeometry","measureGeometry","targetGeometry","pathFormatter","valueFormatter","adaptorInteraction","activeDepth","partition_1","runtime","Op","hasOwn","$Symbol","iteratorSymbol","asyncIteratorSymbol","toStringTagSymbol","configurable","writable","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","_invoke","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","_sent","dispatchException","abrupt","tryCatch","makeInvokeMethod","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","Gp","defineIteratorMethods","AsyncIterator","PromiseImpl","previousPromise","callInvokeWithMethodAndArg","invoke","unwrapped","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","iterable","iteratorMethod","displayName","isGeneratorFunction","genFun","mark","awrap","async","skipTempReset","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","globalThis","Function","webpackPolyfill","deprecate","STEP","STEP_RATIO","COORD_START_ANGLE","COORD_END_ANGLE","INTERVAL","START_ANGLE","END_ANGLE","localeTotalLabel","colorMapping","Y_FIELD_META","labelMode","leaderLineCfg","linkPath","maxAngle","actualData","intervalGeometry","yData","formatRadian","stackedData","valueItem","firstViewData","secondViewData","firstView","secondView","aliasMap","metaKey","leftGeometry","rightGeometry","leftLabelCfg","positionMap_1","transData","rectStyle","polygon_1","viewZoomInteraction","edgeState","isLast","helper_1","nodesView","edgesView","nodeState","edgeView","nodeView","nodeDraggable","nodeInteractions","edgeInteractions","ALIGN_METHOD","justify","getNodeAlignFunction","sankey_1","sankeyLayoutOptions","layoutData","extent","sankeyProcessor","ascendingSourceBreadth","ascendingBreadth","ascendingTargetBreadth","defaultNodes","graph","defaultLinks","nodeById","computeLinkBreadths","linkSort","align_1","sankey","computeNodeLinks","fixedValue","computeNodeValues","maxDepth","computeNodeDepths","computeNodeHeights","columns","computeNodeLayers","nodes_6","reorderLinks","initializeNodeBreadths","relaxRightToLeft","relaxLeftToRight","computeNodeBreadths","targetTop","dy_1","reorderNodeLinks","resolveCollisions","sourceTop","dy_2","subject","resolveCollisionsBottomToTop","resolveCollisionsTopToBottom","dy_3","dy_4","getNodes","graphMatrix","removedData","visited","DFS","dfsNode","node_drag_1","isDragging","SankeyNodeDragAction","getNodeView","isNodeElement","getCurrentDatumIdx","currentElementIdx","prevNodeAnimateCfg","prevEdgeAnimateCfg","getEdgeView","prevDatum","datumGap_1","nextDatum","edgeData","chordLayoutInputData","chord_1","nodesData","edgesData","chordData","nodeGeometry","edgeGeometry","edgeOptions","sourceWeight","targetWeight","chordLayoutOptions","inEdges","outEdges","frequency","processGraph","localeCompare","sortNodes","nodePaddingRatio_1","margin_1","nodeWidthRatio_1","totalValue_1","deltaX","deltaX_1","layoutNodes","valueById_1","sId","tId","sNode","tNode","sValue","currentSValue","sStart","sEnd","tValue","currentTValue","tStart","tEnd","locatingEdges","diameter","tempAppendPadding","appendPaddingByDrilldown","finalSize","circleSize","point_1","nameFormatter","pack_1","wSize","hSize","restWidthPadding","restHeightPadding","packLayout","multiView","viewOfG2","multiPlot","plots","Association","linkField","getAssociationItems","facetAdaptor","facetType","restFacetCfg","viewOptions","plotOptions","Stage","notice","DEV","BETA","STABLE","mix_1"],"mappings":"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","file":"g2plot.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"G2Plot\"] = factory();\n\telse\n\t\troot[\"G2Plot\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 188);\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","export { flow } from './flow';\nexport { pick } from './pick';\nexport { template } from './template';\nexport { log, invariant, LEVEL } from './invariant';\nexport { getContainerSize } from './dom';\nexport * from './geometry';\nexport { findViewById, getViews, getSiblingViews } from './view';\nexport { transformLabel } from './label';\nexport { getSplinePath } from './path';\nexport { deepAssign } from './deep-assign';\nexport { kebabCase } from './kebab-case';\nexport { renderStatistic, renderGaugeStatistic } from './statistic';\nexport { measureTextWidth } from './measure-text';\nexport { isBetween, isRealNumber } from './number';\nexport * from './data';\nexport * from './padding';\n",null,null,null,"import { Chart, Event, Element, View } from '@antv/g2';\nimport { each } from '@antv/util';\nimport EE from '@antv/event-emitter';\nimport { bind } from 'size-sensor';\nimport { Options, StateName, StateCondition, Size, StateObject, Annotation } from '../types';\nimport { getContainerSize, getAllElementsRecursively, deepAssign, pick } from '../utils';\nimport { Adaptor } from './adaptor';\n\n/**  pick  */\nexport type PickOptions = Pick<\n  Options,\n  | 'width'\n  | 'height'\n  | 'padding'\n  | 'appendPadding'\n  | 'renderer'\n  | 'pixelRatio'\n  | 'autoFit'\n  | 'syncViewPadding'\n  | 'supportCSSTransform'\n  | 'limitInPlot'\n  | 'locale'\n  | 'defaultInteractions'\n>;\n\nconst SOURCE_ATTRIBUTE_NAME = 'data-chart-source-type';\n\n/** plot  */\nexport const PLOT_CONTAINER_OPTIONS = [\n  'padding',\n  'appendPadding',\n  'renderer',\n  'pixelRatio',\n  'syncViewPadding',\n  'supportCSSTransform',\n  'limitInPlot',\n];\n\n/**\n *  plot \n */\nexport abstract class Plot<O extends PickOptions> extends EE {\n  /**\n   *  options \n   * \n   */\n  static getDefaultOptions(): any {\n    return {\n      renderer: 'canvas',\n      xAxis: {\n        nice: true,\n        label: {\n          autoRotate: false,\n          autoHide: { type: 'equidistance', cfg: { minGap: 6 } },\n        },\n      },\n      yAxis: {\n        nice: true,\n        label: {\n          autoHide: true,\n          autoRotate: false,\n        },\n      },\n      animation: true,\n    };\n  }\n\n  /** plot  */\n  public abstract readonly type: string;\n  /** plot  schema  */\n  public options: O;\n  /** plot  dom */\n  public readonly container: HTMLElement;\n  /** G2 chart  */\n  public chart: Chart;\n  /** resizer unbind  */\n  private unbind: () => void;\n\n  constructor(container: string | HTMLElement, options: O) {\n    super();\n    this.container = typeof container === 'string' ? document.getElementById(container) : container;\n\n    this.options = deepAssign({}, this.getDefaultOptions(), options);\n\n    this.createG2();\n\n    this.bindEvents();\n  }\n\n  /**\n   *  G2 \n   */\n  private createG2() {\n    const { width, height, defaultInteractions } = this.options;\n\n    this.chart = new Chart({\n      container: this.container,\n      autoFit: false, // G2Plot  size-sensor  autoFit\n      ...this.getChartSize(width, height),\n      localRefresh: false, //  G \n      ...pick(this.options, PLOT_CONTAINER_OPTIONS),\n      defaultInteractions,\n    });\n\n    //  G2\n    this.container.setAttribute(SOURCE_ATTRIBUTE_NAME, 'G2Plot');\n  }\n\n  /**\n   *  chart  width  height\n   * @param width\n   * @param height\n   */\n  private getChartSize(width: number, height: number): Size {\n    const chartSize = getContainerSize(this.container);\n    return { width: width || chartSize.width || 400, height: height || chartSize.height || 400 };\n  }\n\n  /**\n   *  G2 \n   */\n  private bindEvents() {\n    if (this.chart) {\n      this.chart.on('*', (e: Event) => {\n        if (e?.type) {\n          this.emit(e.type, e);\n        }\n      });\n    }\n  }\n\n  /**\n   *  options \n   * \n   */\n  protected getDefaultOptions(): any {\n    return Plot.getDefaultOptions();\n  }\n\n  /**\n   *  schema adaptor\n   */\n  protected abstract getSchemaAdaptor(): Adaptor<O>;\n\n  /**\n   * \n   */\n  public render() {\n    //  G2 \n    this.chart.clear();\n    //  view  view  options  legend legend \n    //  chart  options \n    //  G2 view.clear  options  resetOptions\n    // #1684  view  custom legend\n    // @ts-ignore\n    this.chart.options = {\n      data: [],\n      animate: true,\n    };\n    this.chart.views = []; //  views\n    //  adaptor\n    this.execAdaptor();\n    // \n    this.chart.render();\n    // \n    this.bindSizeSensor();\n  }\n\n  /**\n   * : \n   * @param options\n   */\n  public update(options: Partial<O>) {\n    this.updateOption(options);\n    this.render();\n  }\n\n  /**\n   * \n   * @param options\n   */\n  protected updateOption(options: Partial<O>) {\n    this.options = deepAssign({}, this.options, options);\n  }\n\n  /**\n   * \n   * @param type  'active' | 'inactive' | 'selected' \n   * @param conditions \n   * @param status  true\n   */\n  public setState(type: StateName, condition: StateCondition, status: boolean = true) {\n    const elements = getAllElementsRecursively(this.chart);\n\n    each(elements, (ele: Element) => {\n      if (condition(ele.getData())) {\n        ele.setState(type, status);\n      }\n    });\n  }\n\n  /**\n   * \n   */\n  public getStates(): StateObject[] {\n    const elements = getAllElementsRecursively(this.chart);\n\n    const stateObjects: StateObject[] = [];\n    each(elements, (element: Element) => {\n      const data = element.getData();\n      const states = element.getStates();\n      each(states, (state) => {\n        stateObjects.push({ data, state, geometry: element.geometry, element });\n      });\n    });\n\n    return stateObjects;\n  }\n\n  /**\n   * \n   * @override\n   * @param options\n   */\n  public changeData(data: any) {\n    // @ts-ignore\n    this.update({ data });\n    // TODO: \n    // this.chart.changeData(data);\n  }\n\n  /**\n   * \n   * @param width\n   * @param height\n   */\n  public changeSize(width: number, height: number) {\n    this.chart.changeSize(width, height);\n  }\n\n  /**\n   *  id \n   */\n  public addAnnotations(annotations: Annotation[], view?: View): void {\n    view = view ? view : this.chart;\n    const incoming = [...annotations];\n    const controller = view.getController('annotation');\n    const current = controller.getComponents().map((co) => co.extra);\n\n    controller.clear(true);\n    for (let i = 0; i < current.length; i++) {\n      let annotation = current[i];\n\n      const findIndex = incoming.findIndex((item) => item.id && item.id === annotation.id);\n      if (findIndex !== -1) {\n        annotation = deepAssign({}, annotation, incoming[findIndex]);\n        incoming.splice(findIndex, 1);\n      }\n      controller.annotation(annotation);\n    }\n\n    incoming.forEach((annotation) => controller.annotation(annotation));\n    view.render(true);\n  }\n\n  /**\n   *  id \n   */\n  public removeAnnotations(annotations: Array<{ id: string } & Partial<Annotation>>): void {\n    const controller = this.chart.getController('annotation');\n    const current = controller.getComponents().map((co) => co.extra);\n\n    controller.clear(true);\n    for (let i = 0; i < current.length; i++) {\n      const annotation = current[i];\n\n      if (!annotations.find((item) => item.id && item.id === annotation.id)) {\n        controller.annotation(annotation);\n      }\n    }\n\n    this.chart.render(true);\n  }\n  /**\n   * \n   */\n  public destroy() {\n    //  size-sensor \n    this.unbindSizeSensor();\n    // G2 \n    this.chart.destroy();\n    // \n    this.off();\n\n    this.container.removeAttribute(SOURCE_ATTRIBUTE_NAME);\n  }\n\n  /**\n   *  adaptor \n   */\n  protected execAdaptor() {\n    const adaptor = this.getSchemaAdaptor();\n\n    const { padding, appendPadding } = this.options;\n    //  padding\n    this.chart.padding = padding;\n    //  appendPadding\n    this.chart.appendPadding = appendPadding;\n\n    //  G2 API\n    adaptor({\n      chart: this.chart,\n      options: this.options,\n    });\n  }\n\n  /**\n   * \n   */\n  protected triggerResize() {\n    this.chart.forceFit();\n  }\n\n  /**\n   *  dom \n   */\n  private bindSizeSensor() {\n    if (this.unbind) {\n      return;\n    }\n\n    const { autoFit = true } = this.options;\n    if (autoFit) {\n      this.unbind = bind(this.container, () => {\n        // \n        const { width, height } = getContainerSize(this.container);\n\n        //  resize \n        if (width !== this.chart.width || height !== this.chart.height) {\n          this.triggerResize();\n        }\n      });\n    }\n  }\n\n  /**\n   * \n   */\n  private unbindSizeSensor() {\n    if (this.unbind) {\n      this.unbind();\n      this.unbind = undefined;\n    }\n  }\n}\n","/**\n * view  group  key\n */\nexport enum LAYER {\n  /**  */\n  FORE = 'fore',\n  /**  */\n  MID = 'mid',\n  /**  */\n  BG = 'bg',\n}\n\n/**\n *  12 \n */\nexport enum DIRECTION {\n  TOP = 'top',\n  TOP_LEFT = 'top-left',\n  TOP_RIGHT = 'top-right',\n  RIGHT = 'right',\n  RIGHT_TOP = 'right-top',\n  RIGHT_BOTTOM = 'right-bottom',\n  LEFT = 'left',\n  LEFT_TOP = 'left-top',\n  LEFT_BOTTOM = 'left-bottom',\n  BOTTOM = 'bottom',\n  BOTTOM_LEFT = 'bottom-left',\n  BOTTOM_RIGHT = 'bottom-right',\n  RADIUS = 'radius',\n  CIRCLE = 'circle',\n  // no direction information\n  NONE = 'none',\n}\n\n/**\n * \n */\nexport enum COMPONENT_TYPE {\n  /** axis  */\n  AXIS = 'axis',\n  /** grid  */\n  GRID = 'grid',\n  /** legend  */\n  LEGEND = 'legend',\n  /** tooltip  */\n  TOOLTIP = 'tooltip',\n  /** annotation  */\n  ANNOTATION = 'annotation',\n  /**  */\n  SLIDER = 'slider',\n  /**  */\n  SCROLLBAR = 'scrollbar',\n  /**  */\n  OTHER = 'other',\n}\n\n/**\n *  group  z index\n */\nexport const GROUP_Z_INDEX = {\n  FORE: 3,\n  MID: 2,\n  BG: 1,\n};\n\n/**\n * View  3.x \n * \n */\nexport enum VIEW_LIFE_CIRCLE {\n  BEFORE_RENDER = 'beforerender',\n  AFTER_RENDER = 'afterrender',\n\n  BEFORE_PAINT = 'beforepaint',\n  AFTER_PAINT = 'afterpaint',\n\n  BEFORE_CHANGE_DATA = 'beforechangedata',\n  AFTER_CHANGE_DATA = 'afterchangedata',\n\n  BEFORE_CLEAR = 'beforeclear',\n  AFTER_CLEAR = 'afterclear',\n\n  BEFORE_DESTROY = 'beforedestroy',\n\n  BEFORE_CHANGE_SIZE = 'beforechangesize',\n  AFTER_CHANGE_SIZE = 'afterchangesize',\n}\n\n/**\n * geometry \n */\nexport enum GEOMETRY_LIFE_CIRCLE {\n  BEFORE_DRAW_ANIMATE = 'beforeanimate',\n  AFTER_DRAW_ANIMATE = 'afteranimate',\n}\n\n/**\n * \n */\nexport enum PLOT_EVENTS {\n  // mouse \n  MOUSE_ENTER = 'plot:mouseenter',\n  MOUSE_DOWN = 'plot:mousedown',\n  MOUSE_MOVE = 'plot:mousemove',\n  MOUSE_UP = 'plot:mouseup',\n  MOUSE_LEAVE = 'plot:mouseleave',\n  // \n  TOUCH_START = 'plot:touchstart',\n  TOUCH_MOVE = 'plot:touchmove',\n  TOUCH_END = 'plot:touchend',\n  TOUCH_CANCEL = 'plot:touchcancel',\n  // click \n  CLICK = 'plot:click',\n  DBLCLICK = 'plot:dblclick',\n  CONTEXTMENU = 'plot:contextmenu',\n\n  LEAVE = 'plot:leave',\n  ENTER = 'plot:enter',\n}\n\n/**\n * Element \n */\nexport enum ELEMENT_STATE {\n  ACTIVE = 'active',\n  INACTIVE = 'inactive',\n  SELECTED = 'selected',\n  DEFAULT = 'default',\n}\n\n/**  */\nexport const GROUP_ATTRS = ['color', 'shape', 'size'];\n/**  */\nexport const FIELD_ORIGIN = '_origin';\n/**  */\nexport const MIN_CHART_WIDTH = 1;\n/**  */\nexport const MIN_CHART_HEIGHT = 1;\n/** 25% */\nexport const COMPONENT_MAX_VIEW_PERCENTAGE = 0.25;\n","import { IG } from '../dependents';\n\nconst ENGINES: Record<string, IG> = {};\n\n/**\n *  engine\n * @param name \n * @returns G engine\n */\nexport function getEngine(name: string): IG {\n  const G = ENGINES[name];\n\n  if (!G) {\n    throw new Error(`G engine '${name}' is not exist, please register it at first.`);\n  }\n\n  return G;\n}\n\n/**\n * \n * @param name\n * @param engine\n */\nexport function registerEngine(name: string, engine: IG) {\n  ENGINES[name] = engine;\n}\n","import { MIN_CHART_HEIGHT, MIN_CHART_WIDTH } from '../constant';\nimport { Size } from '../interface';\n\n/**\n * get the element's bounding size\n * @param ele dom element\n * @returns the element width and height\n */\nfunction getElementSize(ele: HTMLElement): Size {\n  const style = getComputedStyle(ele);\n\n  return {\n    width:\n      (ele.clientWidth || parseInt(style.width, 10)) -\n      parseInt(style.paddingLeft, 10) -\n      parseInt(style.paddingRight, 10),\n    height:\n      (ele.clientHeight || parseInt(style.height, 10)) -\n      parseInt(style.paddingTop, 10) -\n      parseInt(style.paddingBottom, 10),\n  };\n}\n\n/**\n * is value a valid number\n * @param v the input value\n * @returns whether it is a number\n */\nfunction isNumber(v: any): boolean {\n  return typeof v === 'number' && !isNaN(v);\n}\n\n/**\n * @ignore\n * calculate the chart size\n * @param ele DOM element\n * @param autoFit should auto fit\n * @param width chart width which is set by user\n * @param height chart height which is set by user\n * @returns the chart width and height\n */\nexport function getChartSize(ele: HTMLElement, autoFit: boolean, width: number, height: number): Size {\n  let w = width;\n  let h = height;\n\n  if (autoFit) {\n    const size = getElementSize(ele);\n\n    w = size.width ? size.width : w;\n    h = size.height ? size.height : h;\n  }\n\n  return {\n    width: Math.max(isNumber(w) ? w : MIN_CHART_WIDTH, MIN_CHART_WIDTH),\n    height: Math.max(isNumber(h) ? h : MIN_CHART_HEIGHT, MIN_CHART_HEIGHT),\n  };\n}\n\n/**\n * @ignore\n * remove html element from its parent\n * @param dom\n */\nexport function removeDom(dom: HTMLElement) {\n  const parent = dom.parentNode;\n\n  if (parent) {\n    parent.removeChild(dom);\n  }\n}\n\n/** @ignore */\nexport { createDom, modifyCSS } from '@antv/dom-util';\n","import EE from '@antv/event-emitter';\n\ninterface BaseCfg {\n  visible?: boolean;\n}\n\n/**\n * G2 ChartViewGeometry  Element \n */\nexport default class Base extends EE {\n  /**  */\n  public visible: boolean;\n  /**  */\n  public destroyed: boolean = false;\n\n  constructor(cfg: BaseCfg) {\n    super();\n    const { visible = true } = cfg;\n    this.visible = visible;\n  }\n\n  /**\n   * \n   */\n  public show() {\n    const visible = this.visible;\n    if (!visible) {\n      this.changeVisible(true);\n    }\n  }\n\n  /**\n   * \n   */\n  public hide() {\n    const visible = this.visible;\n    if (visible) {\n      this.changeVisible(false);\n    }\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    this.off();\n    this.destroyed = true;\n  }\n\n  /**\n   * \n   * @param visible\n   * @returns\n   */\n  public changeVisible(visible: boolean) {\n    if (this.visible === visible) {\n      return;\n    }\n    this.visible = visible;\n  }\n}\n",null,"/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n",null,null,null,null,null,null,"import { GeometryCfg } from './geometry/base';\nimport { IInteractionContext } from './interface';\n\n// \nimport { registerTheme } from './core';\nimport { antvDark } from './theme/style-sheet/dark';\nimport { createThemeByStyleSheet } from './theme/util/create-by-style-sheet';\nregisterTheme('dark', createThemeByStyleSheet(antvDark));\n\n//  G \nimport * as CanvasEngine from '@antv/g-canvas';\nimport * as SVGEngine from '@antv/g-svg';\nimport { registerEngine } from './core';\n\nregisterEngine('canvas', CanvasEngine);\nregisterEngine('svg', SVGEngine);\n\n//  G2  geometry\nimport { registerGeometry } from './core';\nimport Area, { AreaCfg } from './geometry/area';\nimport Edge from './geometry/edge';\nimport Heatmap from './geometry/heatmap';\nimport Interval, { IntervalCfg } from './geometry/interval';\nimport Line from './geometry/line';\nimport Path, { PathCfg } from './geometry/path';\nimport Point from './geometry/point';\nimport Polygon from './geometry/polygon';\nimport Schema from './geometry/schema';\nimport Violin from './geometry/violin';\n\nregisterGeometry('Polygon', Polygon);\nregisterGeometry('Interval', Interval);\nregisterGeometry('Schema', Schema);\nregisterGeometry('Path', Path);\nregisterGeometry('Point', Point);\nregisterGeometry('Line', Line);\nregisterGeometry('Area', Area);\nregisterGeometry('Edge', Edge);\nregisterGeometry('Heatmap', Heatmap);\nregisterGeometry('Violin', Violin);\n\n//  shapes\nimport './geometry/shape/area/line';\nimport './geometry/shape/area/smooth';\nimport './geometry/shape/area/smooth-line';\n\nimport './geometry/shape/edge/arc';\nimport './geometry/shape/edge/smooth';\nimport './geometry/shape/edge/vhv';\n\nimport './geometry/shape/interval/funnel';\nimport './geometry/shape/interval/hollow-rect';\nimport './geometry/shape/interval/line';\nimport './geometry/shape/interval/pyramid';\nimport './geometry/shape/interval/tick';\n\nimport './geometry/shape/line/step';\n\nimport './geometry/shape/point/hollow';\nimport './geometry/shape/point/image';\nimport './geometry/shape/point/solid';\n\nimport './geometry/shape/schema/box';\nimport './geometry/shape/schema/candle';\n\nimport './geometry/shape/polygon/square';\n\nimport './geometry/shape/violin/smooth';\nimport './geometry/shape/violin/hollow';\n\n//  Geometry  label\nimport { registerGeometryLabel } from './core';\nimport GeometryLabel from './geometry/label/base';\nimport IntervalLabel from './geometry/label/interval';\nimport PieLabel from './geometry/label/pie';\nimport PolarLabel from './geometry/label/polar';\n\nregisterGeometryLabel('base', GeometryLabel);\nregisterGeometryLabel('interval', IntervalLabel);\nregisterGeometryLabel('pie', PieLabel);\nregisterGeometryLabel('polar', PolarLabel);\n\n//  Geometry label \nimport { registerGeometryLabelLayout } from './core';\nimport { distribute } from './geometry/label/layout/pie/distribute';\nimport { pieOuterLabelLayout } from './geometry/label/layout/pie/outer';\nimport { pieSpiderLabelLayout } from './geometry/label/layout/pie/spider';\nimport { limitInCanvas } from './geometry/label/layout/limit-in-canvas';\nimport { limitInShape } from './geometry/label/layout/limit-in-shape';\nimport { fixedOverlap, overlap } from './geometry/label/layout/overlap';\nimport { hideOverlap } from './geometry/label/layout/hide-overlap';\nimport { adjustColor } from './geometry/label/layout/adjust-color';\nimport { intervalAdjustPosition } from './geometry/label/layout/interval/adjust-position';\nimport { intervalHideOverlap } from './geometry/label/layout/interval/hide-overlap';\nimport { pointAdjustPosition } from './geometry/label/layout/point/adjust-position';\nimport { pathAdjustPosition } from './geometry/label/layout/path/adjust-position';\nimport { limitInPlot } from './geometry/label/layout/limit-in-plot';\n\nregisterGeometryLabelLayout('overlap', overlap);\nregisterGeometryLabelLayout('distribute', distribute);\nregisterGeometryLabelLayout('fixed-overlap', fixedOverlap);\nregisterGeometryLabelLayout('hide-overlap', hideOverlap);\nregisterGeometryLabelLayout('limit-in-shape', limitInShape);\nregisterGeometryLabelLayout('limit-in-canvas', limitInCanvas);\nregisterGeometryLabelLayout('limit-in-plot', limitInPlot);\nregisterGeometryLabelLayout('pie-outer', pieOuterLabelLayout);\nregisterGeometryLabelLayout('adjust-color', adjustColor);\nregisterGeometryLabelLayout('interval-adjust-position', intervalAdjustPosition);\nregisterGeometryLabelLayout('interval-hide-overlap', intervalHideOverlap);\nregisterGeometryLabelLayout('point-adjust-position', pointAdjustPosition);\nregisterGeometryLabelLayout('pie-spider', pieSpiderLabelLayout);\nregisterGeometryLabelLayout('path-adjust-position', pathAdjustPosition);\n\n// \nimport { fadeIn, fadeOut } from './animate/animation/fade';\nimport { growInX, growInXY, growInY } from './animate/animation/grow-in';\nimport { pathIn } from './animate/animation/path-in';\nimport { positionUpdate } from './animate/animation/position-update';\nimport { scaleInX, scaleInY } from './animate/animation/scale-in';\nimport { sectorPathUpdate } from './animate/animation/sector-path-update';\nimport { waveIn } from './animate/animation/wave-in';\nimport { zoomIn, zoomOut } from './animate/animation/zoom';\nimport { registerAnimation } from './core';\n\nregisterAnimation('fade-in', fadeIn);\nregisterAnimation('fade-out', fadeOut);\nregisterAnimation('grow-in-x', growInX);\nregisterAnimation('grow-in-xy', growInXY);\nregisterAnimation('grow-in-y', growInY);\nregisterAnimation('scale-in-x', scaleInX);\nregisterAnimation('scale-in-y', scaleInY);\nregisterAnimation('wave-in', waveIn);\nregisterAnimation('zoom-in', zoomIn);\nregisterAnimation('zoom-out', zoomOut);\nregisterAnimation('position-update', positionUpdate);\nregisterAnimation('sector-path-update', sectorPathUpdate);\nregisterAnimation('path-in', pathIn);\n\n//  Facet\nimport { registerFacet } from './core';\nimport Circle from './facet/circle';\nimport List from './facet/list';\nimport Matrix from './facet/matrix';\nimport Mirror from './facet/mirror';\nimport Rect from './facet/rect';\nimport Tree from './facet/tree';\n\nregisterFacet('rect', Rect);\nregisterFacet('mirror', Mirror);\nregisterFacet('list', List);\nregisterFacet('matrix', Matrix);\nregisterFacet('circle', Circle);\nregisterFacet('tree', Tree);\n\n//  Component\nimport { registerComponentController } from './core';\n\nimport Annotation from './chart/controller/annotation';\nimport Axis from './chart/controller/axis';\nimport Legend from './chart/controller/legend';\nimport Slider from './chart/controller/slider';\nimport Tooltip from './chart/controller/tooltip';\nimport Scrollbar from './chart/controller/scrollbar';\n\n// register build-in components\nregisterComponentController('axis', Axis);\nregisterComponentController('legend', Legend);\nregisterComponentController('tooltip', Tooltip);\nregisterComponentController('annotation', Annotation);\nregisterComponentController('slider', Slider);\nregisterComponentController('scrollbar', Scrollbar);\n\n//  Interaction Action\nimport { registerAction } from './core';\nimport ActiveRegion from './interaction/action/active-region';\nimport SiblingTooltip from './interaction/action/component/tooltip/sibling';\nimport TooltipAction from './interaction/action/component/tooltip/geometry';\nimport EllipsisTextAction from './interaction/action/component/tooltip/ellipsis-text';\n\nimport ElementActive from './interaction/action/element/active';\nimport ElementLinkByColor from './interaction/action/element/link-by-color';\nimport ElementRangeActive from './interaction/action/element/range-active';\nimport ElementSingleActive from './interaction/action/element/single-active';\n\nimport ElementHighlight from './interaction/action/element/highlight';\nimport ElementHighlightByColor from './interaction/action/element/highlight-by-color';\nimport ElementHighlightByX from './interaction/action/element/highlight-by-x';\n\nimport ElementRangeHighlight, { ELEMENT_RANGE_HIGHLIGHT_EVENTS } from './interaction/action/element/range-highlight';\nimport ElementSingleHighlight from './interaction/action/element/single-highlight';\n\nimport ElementRangeSelected from './interaction/action/element/range-selected';\nimport ElementSelected from './interaction/action/element/selected';\nimport ElementSingleSelected from './interaction/action/element/single-selected';\n\nimport ListActive from './interaction/action/component/list-active';\nimport ListHighlight from './interaction/action/component/list-highlight';\nimport ListSelected from './interaction/action/component/list-selected';\nimport ListUnchecked from './interaction/action/component/list-unchecked';\nimport ListChecked from './interaction/action/component/list-checked';\nimport ListFocus from './interaction/action/component/list-focus';\nimport ListRadio from './interaction/action/component/list-radio';\n\nimport CircleMask from './interaction/action/mask/circle';\nimport DimMask from './interaction/action/mask/dim-rect';\nimport PathMask from './interaction/action/mask/path';\nimport RectMask from './interaction/action/mask/rect';\nimport SmoothPathMask from './interaction/action/mask/smooth-path';\n\nimport CursorAction from './interaction/action/cursor';\nimport DataFilter from './interaction/action/data/filter';\nimport DataRangeFilter, { BRUSH_FILTER_EVENTS } from './interaction/action/data/range-filter';\nimport SiblingFilter from './interaction/action/data/sibling-filter';\n\nimport ElementFilter from './interaction/action/element/filter';\nimport ElementSiblingFilter from './interaction/action/element/sibling-filter';\nimport ButtonAction from './interaction/action/view/button';\nimport ViewDrag from './interaction/action/view/drag';\nimport ViewMove from './interaction/action/view/move';\nimport ScaleTranslate from './interaction/action/view/scale-translate';\nimport ScaleZoom from './interaction/action/view/scale-zoom';\nimport MousewheelScroll from './interaction/action/view/mousewheel-scroll';\n\nregisterAction('tooltip', TooltipAction);\nregisterAction('sibling-tooltip', SiblingTooltip);\nregisterAction('ellipsis-text', EllipsisTextAction);\nregisterAction('element-active', ElementActive);\nregisterAction('element-single-active', ElementSingleActive);\nregisterAction('element-range-active', ElementRangeActive);\n\nregisterAction('element-highlight', ElementHighlight);\nregisterAction('element-highlight-by-x', ElementHighlightByX);\nregisterAction('element-highlight-by-color', ElementHighlightByColor);\n\nregisterAction('element-single-highlight', ElementSingleHighlight);\nregisterAction('element-range-highlight', ElementRangeHighlight);\nregisterAction('element-sibling-highlight', ElementRangeHighlight, {\n  effectSiblings: true,\n  effectByRecord: true,\n});\n\nregisterAction('element-selected', ElementSelected);\nregisterAction('element-single-selected', ElementSingleSelected);\nregisterAction('element-range-selected', ElementRangeSelected);\nregisterAction('element-link-by-color', ElementLinkByColor);\n\nregisterAction('active-region', ActiveRegion);\nregisterAction('list-active', ListActive);\nregisterAction('list-selected', ListSelected);\nregisterAction('list-highlight', ListHighlight);\nregisterAction('list-unchecked', ListUnchecked);\nregisterAction('list-checked', ListChecked);\nregisterAction('list-focus', ListFocus);\nregisterAction('list-radio', ListRadio);\n\nregisterAction('legend-item-highlight', ListHighlight, {\n  componentNames: ['legend'],\n});\n\nregisterAction('axis-label-highlight', ListHighlight, {\n  componentNames: ['axis'],\n});\n\nregisterAction('rect-mask', RectMask);\nregisterAction('x-rect-mask', DimMask, { dim: 'x' });\nregisterAction('y-rect-mask', DimMask, { dim: 'y' });\nregisterAction('circle-mask', CircleMask);\nregisterAction('path-mask', PathMask);\nregisterAction('smooth-path-mask', SmoothPathMask);\n\nregisterAction('cursor', CursorAction);\nregisterAction('data-filter', DataFilter);\n\nregisterAction('brush', DataRangeFilter);\nregisterAction('brush-x', DataRangeFilter, { dims: ['x'] });\nregisterAction('brush-y', DataRangeFilter, { dims: ['y'] });\nregisterAction('sibling-filter', SiblingFilter);\nregisterAction('sibling-x-filter', SiblingFilter);\nregisterAction('sibling-y-filter', SiblingFilter);\n\nregisterAction('element-filter', ElementFilter);\nregisterAction('element-sibling-filter', ElementSiblingFilter);\nregisterAction('element-sibling-filter-record', ElementSiblingFilter, { byRecord: true });\n\nregisterAction('view-drag', ViewDrag);\nregisterAction('view-move', ViewMove);\n\nregisterAction('scale-translate', ScaleTranslate);\nregisterAction('scale-zoom', ScaleZoom);\nregisterAction('reset-button', ButtonAction, {\n  name: 'reset-button',\n  text: 'reset',\n});\n\nregisterAction('mousewheel-scroll', MousewheelScroll);\n\n//  Interaction \nimport { registerInteraction } from './core';\n\nfunction isPointInView(context: IInteractionContext) {\n  return context.isInPlot();\n}\n\n//  tooltip  interaction\nregisterInteraction('tooltip', {\n  start: [\n    { trigger: 'plot:mousemove', action: 'tooltip:show', throttle: { wait: 50, leading: true, trailing: false } },\n    { trigger: 'plot:touchmove', action: 'tooltip:show', throttle: { wait: 50, leading: true, trailing: false } },\n  ],\n  end: [\n    { trigger: 'plot:mouseleave', action: 'tooltip:hide' },\n    { trigger: 'plot:leave', action: 'tooltip:hide' },\n    { trigger: 'plot:touchend', action: 'tooltip:hide' },\n  ],\n});\n\nregisterInteraction('ellipsis-text', {\n  start: [\n    {\n      trigger: 'legend-item-name:mousemove',\n      action: 'ellipsis-text:show',\n      throttle: { wait: 50, leading: true, trailing: false },\n    },\n    {\n      trigger: 'legend-item-name:touchstart',\n      action: 'ellipsis-text:show',\n      throttle: { wait: 50, leading: true, trailing: false },\n    },\n    {\n      trigger: 'axis-label:mousemove',\n      action: 'ellipsis-text:show',\n      throttle: { wait: 50, leading: true, trailing: false },\n    },\n    {\n      trigger: 'axis-label:touchstart',\n      action: 'ellipsis-text:show',\n      throttle: { wait: 50, leading: true, trailing: false },\n    },\n  ],\n  end: [\n    { trigger: 'legend-item-name:mouseleave', action: 'ellipsis-text:hide' },\n    { trigger: 'legend-item-name:touchend', action: 'ellipsis-text:hide' },\n    { trigger: 'axis-label:mouseleave', action: 'ellipsis-text:hide' },\n    { trigger: 'axis-label:touchend', action: 'ellipsis-text:hide' },\n  ],\n});\n\n//  element  active\nregisterInteraction('element-active', {\n  start: [{ trigger: 'element:mouseenter', action: 'element-active:active' }],\n  end: [{ trigger: 'element:mouseleave', action: 'element-active:reset' }],\n});\n\n// \nregisterInteraction('element-selected', {\n  start: [{ trigger: 'element:click', action: 'element-selected:toggle' }],\n});\n\n// hover highlight\nregisterInteraction('element-highlight', {\n  start: [{ trigger: 'element:mouseenter', action: 'element-highlight:highlight' }],\n  end: [{ trigger: 'element:mouseleave', action: 'element-highlight:reset' }],\n});\n\n// hover highlight by x\nregisterInteraction('element-highlight-by-x', {\n  start: [{ trigger: 'element:mouseenter', action: 'element-highlight-by-x:highlight' }],\n  end: [{ trigger: 'element:mouseleave', action: 'element-highlight-by-x:reset' }],\n});\n\n// hover highlight by y\nregisterInteraction('element-highlight-by-color', {\n  start: [{ trigger: 'element:mouseenter', action: 'element-highlight-by-color:highlight' }],\n  end: [{ trigger: 'element:mouseleave', action: 'element-highlight-by-color:reset' }],\n});\n\n// legend hoverelement active\nregisterInteraction('legend-active', {\n  start: [{ trigger: 'legend-item:mouseenter', action: ['list-active:active', 'element-active:active'] }],\n  end: [{ trigger: 'legend-item:mouseleave', action: ['list-active:reset', 'element-active:reset'] }],\n});\n\n// legend hoverelement active\nregisterInteraction('legend-highlight', {\n  start: [\n    { trigger: 'legend-item:mouseenter', action: ['legend-item-highlight:highlight', 'element-highlight:highlight'] },\n  ],\n  end: [{ trigger: 'legend-item:mouseleave', action: ['legend-item-highlight:reset', 'element-highlight:reset'] }],\n});\n\n// legend hoverelement active\nregisterInteraction('axis-label-highlight', {\n  start: [\n    { trigger: 'axis-label:mouseenter', action: ['axis-label-highlight:highlight', 'element-highlight:highlight'] },\n  ],\n  end: [{ trigger: 'axis-label:mouseleave', action: ['axis-label-highlight:reset', 'element-highlight:reset'] }],\n});\n\n// legend hoverelement active\nregisterInteraction('element-list-highlight', {\n  start: [{ trigger: 'element:mouseenter', action: ['list-highlight:highlight', 'element-highlight:highlight'] }],\n  end: [{ trigger: 'element:mouseleave', action: ['list-highlight:reset', 'element-highlight:reset'] }],\n});\n\n// \nregisterInteraction('element-range-highlight', {\n  showEnable: [\n    { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },\n    { trigger: 'mask:mouseenter', action: 'cursor:move' },\n    { trigger: 'plot:mouseleave', action: 'cursor:default' },\n    { trigger: 'mask:mouseleave', action: 'cursor:crosshair' },\n  ],\n  start: [\n    {\n      trigger: 'plot:mousedown',\n      isEnable(context) {\n        //  mask \n        return !context.isInShape('mask');\n      },\n      action: ['rect-mask:start', 'rect-mask:show'],\n    },\n    {\n      trigger: 'mask:dragstart',\n      action: ['rect-mask:moveStart'],\n    },\n  ],\n  processing: [\n    {\n      trigger: 'plot:mousemove',\n      action: ['rect-mask:resize'],\n    },\n    {\n      trigger: 'mask:drag',\n      action: ['rect-mask:move'],\n    },\n    {\n      trigger: 'mask:change',\n      action: ['element-range-highlight:highlight'],\n    },\n  ],\n  end: [\n    { trigger: 'plot:mouseup', action: ['rect-mask:end'] },\n    { trigger: 'mask:dragend', action: ['rect-mask:moveEnd'] },\n    {\n      trigger: 'document:mouseup',\n      isEnable(context) {\n        return !context.isInPlot();\n      },\n      action: ['element-range-highlight:clear', 'rect-mask:end', 'rect-mask:hide'],\n    },\n  ],\n  rollback: [{ trigger: 'dblclick', action: ['element-range-highlight:clear', 'rect-mask:hide'] }],\n});\n\nregisterInteraction('brush', {\n  showEnable: [\n    { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },\n    { trigger: 'plot:mouseleave', action: 'cursor:default' },\n  ],\n  start: [\n    {\n      trigger: 'mousedown',\n      isEnable: isPointInView,\n      action: ['brush:start', 'rect-mask:start', 'rect-mask:show'],\n    },\n  ],\n  processing: [\n    {\n      trigger: 'mousemove',\n      isEnable: isPointInView,\n      action: ['rect-mask:resize'],\n    },\n  ],\n  end: [\n    {\n      trigger: 'mouseup',\n      isEnable: isPointInView,\n      action: ['brush:filter', 'brush:end', 'rect-mask:end', 'rect-mask:hide', 'reset-button:show'],\n    },\n  ],\n  rollback: [{ trigger: 'reset-button:click', action: ['brush:reset', 'reset-button:hide', 'cursor:crosshair'] }],\n});\n\nregisterInteraction('brush-visible', {\n  showEnable: [\n    { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },\n    { trigger: 'plot:mouseleave', action: 'cursor:default' },\n  ],\n  start: [\n    {\n      trigger: 'plot:mousedown',\n      action: ['rect-mask:start', 'rect-mask:show'],\n    },\n  ],\n  processing: [\n    {\n      trigger: 'plot:mousemove',\n      action: ['rect-mask:resize'],\n    },\n    { trigger: 'mask:change', action: ['element-range-highlight:highlight'] },\n  ],\n  end: [\n    {\n      trigger: 'plot:mouseup',\n      action: ['rect-mask:end', 'rect-mask:hide', 'element-filter:filter', 'element-range-highlight:clear'],\n    },\n  ],\n  rollback: [\n    {\n      trigger: 'dblclick',\n      action: ['element-filter:clear'],\n    },\n  ],\n});\n\nregisterInteraction('brush-x', {\n  showEnable: [\n    { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },\n    { trigger: 'plot:mouseleave', action: 'cursor:default' },\n  ],\n  start: [\n    {\n      trigger: 'mousedown',\n      isEnable: isPointInView,\n      action: ['brush-x:start', 'x-rect-mask:start', 'x-rect-mask:show'],\n    },\n  ],\n  processing: [\n    {\n      trigger: 'mousemove',\n      isEnable: isPointInView,\n      action: ['x-rect-mask:resize'],\n    },\n  ],\n  end: [\n    {\n      trigger: 'mouseup',\n      isEnable: isPointInView,\n      action: ['brush-x:filter', 'brush-x:end', 'x-rect-mask:end', 'x-rect-mask:hide'],\n    },\n  ],\n  rollback: [{ trigger: 'dblclick', action: ['brush-x:reset'] }],\n});\n\nregisterInteraction('element-path-highlight', {\n  showEnable: [\n    { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },\n    { trigger: 'plot:mouseleave', action: 'cursor:default' },\n  ],\n  start: [\n    { trigger: 'mousedown', isEnable: isPointInView, action: 'path-mask:start' },\n    { trigger: 'mousedown', isEnable: isPointInView, action: 'path-mask:show' },\n  ],\n  processing: [{ trigger: 'mousemove', action: 'path-mask:addPoint' }],\n  end: [{ trigger: 'mouseup', action: 'path-mask:end' }],\n  rollback: [{ trigger: 'dblclick', action: 'path-mask:hide' }],\n});\n\n// \nregisterInteraction('element-single-selected', {\n  start: [{ trigger: 'element:click', action: 'element-single-selected:toggle' }],\n});\n\n// \nregisterInteraction('legend-filter', {\n  showEnable: [\n    { trigger: 'legend-item:mouseenter', action: ['cursor:pointer', 'list-radio:show'] },\n    { trigger: 'legend-item:mouseleave', action: ['cursor:default', 'list-radio:hide'] },\n  ],\n  start: [\n    {\n      trigger: 'legend-item:click',\n      isEnable: (context) => {\n        return !context.isInShape('legend-item-radio');\n      },\n      action: ['list-unchecked:toggle', 'data-filter:filter', 'list-radio:show'],\n    },\n    //  :  radio === truthy  legend-item-radio \n    {\n      trigger: 'legend-item-radio:mouseenter',\n      action: ['list-radio:showTip'],\n    },\n    {\n      trigger: 'legend-item-radio:mouseleave',\n      action: ['list-radio:hideTip'],\n    },\n    {\n      trigger: 'legend-item-radio:click',\n      action: ['list-focus:toggle', 'data-filter:filter', 'list-radio:show'],\n    },\n  ],\n});\n\n// \nregisterInteraction('continuous-filter', {\n  start: [{ trigger: 'legend:valuechanged', action: 'data-filter:filter' }],\n});\n// \nregisterInteraction('continuous-visible-filter', {\n  start: [{ trigger: 'legend:valuechanged', action: 'element-filter:filter' }],\n});\n\n// \nregisterInteraction('legend-visible-filter', {\n  showEnable: [\n    { trigger: 'legend-item:mouseenter', action: 'cursor:pointer' },\n    { trigger: 'legend-item:mouseleave', action: 'cursor:default' },\n  ],\n  start: [{ trigger: 'legend-item:click', action: ['list-unchecked:toggle', 'element-filter:filter'] }],\n});\n\n// \nregisterInteraction('active-region', {\n  start: [{ trigger: 'plot:mousemove', action: 'active-region:show' }],\n  end: [{ trigger: 'plot:mouseleave', action: 'active-region:hide' }],\n});\n\nfunction isWheelDown(event) {\n  event.gEvent.preventDefault();\n  return event.gEvent.originalEvent.deltaY > 0;\n}\nregisterInteraction('view-zoom', {\n  start: [\n    {\n      trigger: 'plot:mousewheel',\n      isEnable(context) {\n        return isWheelDown(context.event);\n      },\n      action: 'scale-zoom:zoomOut',\n      throttle: { wait: 100, leading: true, trailing: false },\n    },\n    {\n      trigger: 'plot:mousewheel',\n      isEnable(context) {\n        return !isWheelDown(context.event);\n      },\n      action: 'scale-zoom:zoomIn',\n      throttle: { wait: 100, leading: true, trailing: false },\n    },\n  ],\n});\n\nregisterInteraction('sibling-tooltip', {\n  start: [{ trigger: 'plot:mousemove', action: 'sibling-tooltip:show' }],\n  end: [{ trigger: 'plot:mouseleave', action: 'sibling-tooltip:hide' }],\n});\n\nregisterInteraction('plot-mousewheel-scroll', {\n  start: [{ trigger: 'plot:mousewheel', action: 'mousewheel-scroll:scroll' }],\n});\n\n//  TS  View  Geometry \n/**\n *  View  Geometry \n *\n * Tips:\n * view module augmentation, detail: http://www.typescriptlang.org/docs/handbook/declaration-merging.html#module-augmentation\n */\ndeclare module './chart/view' {\n  interface View {\n    /**\n     *  Polygon \n     * @param [cfg]  Polygon \n     * @returns polygon  Polygon \n     */\n    polygon(cfg?: Partial<GeometryCfg>): Polygon;\n    /**\n     *  Point \n     * @param [cfg]  Point \n     * @returns point  Point \n     */\n    point(cfg?: Partial<GeometryCfg>): Point;\n    /**\n     *  Interval \n     * @param [cfg]  Interval \n     * @returns interval  Interval \n     */\n    interval(cfg?: Partial<IntervalCfg>): Interval;\n    /**\n     *  Schema \n     * @param [cfg]  Schema \n     * @returns schema  Schema \n     */\n    schema(cfg?: Partial<GeometryCfg>): Schema;\n    /**\n     *  Path \n     * @param [cfg]  Path \n     * @returns path  Path \n     */\n    path(cfg?: Partial<PathCfg>): Path;\n    /**\n     *  Line \n     * @param [cfg]  Line \n     * @returns line  Line \n     */\n    line(cfg?: Partial<PathCfg>): Line;\n    /**\n     *  Area \n     * @param [cfg]  Area \n     * @returns area  Area \n     */\n    area(cfg?: Partial<AreaCfg>): Area;\n    /**\n     *  Edge \n     * @param [cfg]  Edge \n     * @returns schema  Edge \n     */\n    edge(cfg?: Partial<GeometryCfg>): Edge;\n    /**\n     *  Heatmap \n     * @param [cfg]  Heatmap \n     * @returns heatmap  Heatmap \n     */\n    heatmap(cfg?: Partial<GeometryCfg>): Heatmap;\n    /**\n     *  Violin \n     * @param [cfg]  Violin \n     * @returns violin  Violin \n     */\n    violin(cfg?: Partial<GeometryCfg>): Violin;\n  }\n}\n\n// \nexport { VIEW_LIFE_CIRCLE } from './constant';\n/** brush  */\nexport { BRUSH_FILTER_EVENTS, ELEMENT_RANGE_HIGHLIGHT_EVENTS };\n\nexport * from './core';\n",null,null,null,null,"/*  */\n\n// G\nexport {\n  ICanvas,\n  IElement,\n  IGroup,\n  IShape,\n  PathCommand,\n  BBox,\n  Point,\n  ShapeAttrs,\n  Event,\n  AbstractGroup,\n  AbstractShape,\n} from '@antv/g-base';\n//  G-base  g engine \nexport type IG = any;\n\n// adjust\nexport { registerAdjust, getAdjust, Adjust } from '@antv/adjust';\n\n// attr\nexport { getAttribute, Attribute } from '@antv/attr';\nexport { Color } from '@antv/attr';\n\n// coordinate\nexport { getCoordinate, registerCoordinate, Coordinate, CoordinateCfg } from '@antv/coord';\n\n// scale\nexport { getScale, registerScale, Scale, ScaleConfig, Tick } from '@antv/scale';\n\n// component\nimport {\n  Annotation,\n  Axis,\n  Component,\n  Crosshair,\n  Grid,\n  GroupComponent,\n  HtmlComponent,\n  Legend,\n  Slider,\n  Tooltip,\n  Scrollbar,\n} from '@antv/component';\n\nexport {\n  CategoryLegendCfg,\n  CircleAxisCfg,\n  LineAxisCfg,\n  GroupComponentCfg,\n  ListItem,\n  AxisLineCfg,\n  AxisTickLineCfg,\n  AxisSubTickLineCfg,\n  AxisTitleCfg,\n  AxisLabelCfg,\n  GridLineCfg,\n  LegendMarkerCfg,\n  LegendTitleCfg,\n  LegendBackgroundCfg,\n  LegendItemNameCfg,\n  LegendItemValueCfg,\n  LegendPageNavigatorCfg,\n  ContinueLegendCfg,\n  ContinueLegendTrackCfg,\n  ContinueLegendRailCfg,\n  ContinueLegendLabelCfg,\n  ContinueLegendHandlerCfg,\n  CrosshairLineCfg,\n  CrosshairTextCfg,\n  CrosshairTextBackgroundCfg,\n  SliderCfg,\n  TrendCfg,\n  EnhancedTextCfg,\n  LineAnnotationTextCfg,\n  IComponent,\n  IList,\n} from '@antv/component';\n\nexport { HtmlComponent, GroupComponent, Component, Crosshair };\nexport { Annotation };\n// axis\nconst { Line: LineAxis, Circle: CircleAxis } = Axis;\nexport { LineAxis, CircleAxis };\n// grid\nconst { Line: LineGrid, Circle: CircleGrid } = Grid;\nexport { LineGrid, CircleGrid };\n// legend\nconst { Category: CategoryLegend, Continuous: ContinuousLegend } = Legend;\nexport { CategoryLegend, ContinuousLegend };\n// Tooltip\nconst { Html: HtmlTooltip } = Tooltip;\nexport { HtmlTooltip };\n// Slider\nexport { Slider };\n// Scrollbar\nexport { Scrollbar };\n","import { BBox } from '@antv/g-svg';\nimport { each, isEmpty, isNumber, isNumberEqual, max, min } from '@antv/util';\nimport { Coordinate, IShape, Point } from '../dependents';\nimport { ShapeInfo } from '../interface';\n\n// \nfunction getPointsBox(points) {\n  if (isEmpty(points)) {\n    return null;\n  }\n\n  let minX = points[0].x;\n  let maxX = points[0].x;\n  let minY = points[0].y;\n  let maxY = points[0].y;\n  each(points, (point) => {\n    minX = minX > point.x ? point.x : minX;\n    maxX = maxX < point.x ? point.x : maxX;\n    minY = minY > point.y ? point.y : minY;\n    maxY = maxY < point.y ? point.y : maxY;\n  });\n\n  return {\n    minX,\n    maxX,\n    minY,\n    maxY,\n    centerX: (minX + maxX) / 2,\n    centerY: (minY + maxY) / 2,\n  };\n}\n\nfunction uniqueValues<T = number>(array: T[]) {\n  return Array.from(new Set(array)).length === 1;\n}\n\nfunction mid(array: number[]) {\n  return (min(array) + max(array)) / 2;\n}\n\n/**\n * @ignore\n * \n * @param centerX\n * @param centerY\n * @param radius\n * @param angleInRadian\n * @returns\n */\nexport function polarToCartesian(centerX: number, centerY: number, radius: number, angleInRadian: number) {\n  return {\n    x: centerX + radius * Math.cos(angleInRadian),\n    y: centerY + radius * Math.sin(angleInRadian),\n  };\n}\n\n/**\n * @ignore\n *  path\n * @param centerX\n * @param centerY\n * @param radius\n * @param startAngleInRadian\n * @param endAngleInRadian\n * @returns\n */\nexport function getSectorPath(\n  centerX: number,\n  centerY: number,\n  radius: number,\n  startAngleInRadian: number,\n  endAngleInRadian: number,\n  innerRadius: number = 0\n) {\n  const start = polarToCartesian(centerX, centerY, radius, startAngleInRadian);\n  const end = polarToCartesian(centerX, centerY, radius, endAngleInRadian);\n\n  const innerStart = polarToCartesian(centerX, centerY, innerRadius, startAngleInRadian);\n  const innerEnd = polarToCartesian(centerX, centerY, innerRadius, endAngleInRadian);\n\n  if (endAngleInRadian - startAngleInRadian === Math.PI * 2) {\n    // \n    const middlePoint = polarToCartesian(centerX, centerY, radius, startAngleInRadian + Math.PI);\n    const innerMiddlePoint = polarToCartesian(centerX, centerY, innerRadius, startAngleInRadian + Math.PI);\n    const circlePathCommands = [\n      ['M', start.x, start.y],\n      ['A', radius, radius, 0, 1, 1, middlePoint.x, middlePoint.y],\n      ['A', radius, radius, 0, 1, 1, end.x, end.y],\n      ['M', innerStart.x, innerStart.y],\n    ];\n    if (innerRadius) {\n      circlePathCommands.push(['A', innerRadius, innerRadius, 0, 1, 0, innerMiddlePoint.x, innerMiddlePoint.y]);\n      circlePathCommands.push(['A', innerRadius, innerRadius, 0, 1, 0, innerEnd.x, innerEnd.y]);\n    }\n\n    circlePathCommands.push(['M', start.x, start.y]);\n    circlePathCommands.push(['Z']);\n\n    return circlePathCommands;\n  }\n\n  const arcSweep = endAngleInRadian - startAngleInRadian <= Math.PI ? 0 : 1;\n  const sectorPathCommands = [\n    ['M', start.x, start.y],\n    ['A', radius, radius, 0, arcSweep, 1, end.x, end.y],\n    ['L', innerEnd.x, innerEnd.y],\n  ];\n  if (innerRadius) {\n    sectorPathCommands.push(['A', innerRadius, innerRadius, 0, arcSweep, 0, innerStart.x, innerStart.y]);\n  }\n  sectorPathCommands.push(['L', start.x, start.y]);\n  sectorPathCommands.push(['Z']);\n\n  return sectorPathCommands;\n}\n\n/**\n * @ignore\n * Gets arc path\n * @param centerX\n * @param centerY\n * @param radius\n * @param startAngleInRadian\n * @param endAngleInRadian\n * @returns\n */\nexport function getArcPath(\n  centerX: number,\n  centerY: number,\n  radius: number,\n  startAngleInRadian: number,\n  endAngleInRadian: number\n) {\n  const start = polarToCartesian(centerX, centerY, radius, startAngleInRadian);\n  const end = polarToCartesian(centerX, centerY, radius, endAngleInRadian);\n\n  if (isNumberEqual(endAngleInRadian - startAngleInRadian, Math.PI * 2)) {\n    const middlePoint = polarToCartesian(centerX, centerY, radius, startAngleInRadian + Math.PI);\n    return [\n      ['M', start.x, start.y],\n      ['A', radius, radius, 0, 1, 1, middlePoint.x, middlePoint.y],\n      ['A', radius, radius, 0, 1, 1, start.x, start.y],\n      ['A', radius, radius, 0, 1, 0, middlePoint.x, middlePoint.y],\n      ['A', radius, radius, 0, 1, 0, start.x, start.y],\n      ['Z'],\n    ];\n  }\n  const arcSweep = endAngleInRadian - startAngleInRadian <= Math.PI ? 0 : 1;\n  return [\n    ['M', start.x, start.y],\n    ['A', radius, radius, 0, arcSweep, 1, end.x, end.y],\n  ];\n}\n\n/**\n * @ignore\n *  points \n * @param shapeModel\n * @param coordinate\n * @returns\n */\nexport function getAngle(shapeModel: ShapeInfo, coordinate: Coordinate) {\n  const points = shapeModel.points;\n  const box = getPointsBox(points);\n  let endAngle;\n  let startAngle;\n  const { startAngle: coordStartAngle, endAngle: coordEndAngle } = coordinate;\n  const diffAngle = coordEndAngle - coordStartAngle;\n\n  if (coordinate.isTransposed) {\n    endAngle = box.maxY * diffAngle;\n    startAngle = box.minY * diffAngle;\n  } else {\n    endAngle = box.maxX * diffAngle;\n    startAngle = box.minX * diffAngle;\n  }\n  endAngle += coordStartAngle;\n  startAngle += coordStartAngle;\n  return {\n    startAngle,\n    endAngle,\n  };\n}\n\n/**\n * @ignore\n * : https://en.wikipedia.org/wiki/Centroid#Of_a_polygon\n */\nexport function getPolygonCentroid(xs: number | number[], ys: number | number[]) {\n  if (isNumber(xs) && isNumber(ys)) {\n    // xs  ys \n    return [xs, ys];\n  }\n\n  xs = xs as number[];\n  ys = ys as number[];\n  //  polygon \n  //  xs [1, 1, 1, 1]\n  //  ys [0, 0, 0, 0]\n  //  k = 0\n  //  [NaN, NaN]\n  // \n  if (uniqueValues(xs) || uniqueValues(ys)) return [mid(xs), mid(ys)];\n\n  let i = -1;\n  let x = 0;\n  let y = 0;\n  let former;\n  let current = xs.length - 1;\n  let diff;\n  let k = 0;\n  while (++i < xs.length) {\n    former = current;\n    current = i;\n    k += diff = xs[former] * ys[current] - xs[current] * ys[former];\n    x += (xs[former] + xs[current]) * diff;\n    y += (ys[former] + ys[current]) * diff;\n  }\n  k *= 3;\n  return [x / k, y / k];\n}\n\n/**\n * @ignore\n *  undefined\n */\nexport function getReplaceAttrs(sourceShape: IShape, targetShape: IShape) {\n  const originAttrs = sourceShape.attr();\n  const newAttrs = targetShape.attr();\n  each(originAttrs, (v, k) => {\n    if (newAttrs[k] === undefined) {\n      newAttrs[k] = undefined;\n    }\n  });\n  return newAttrs;\n}\n","import { isArray, isString } from '@antv/util';\n\n/**\n * @ignore\n * Determines whether between is\n * @param value\n * @param start\n * @param end\n * @returns true if between\n */\nexport function isBetween(value: number, start: number, end: number): boolean {\n  const min = Math.min(start, end);\n  const max = Math.max(start, end);\n\n  return value >= min && value <= max;\n}\n\n/**\n * @ignore\n * pads the current string/array with a given value (repeated, if needed) so that the resulting reaches a given length.\n * The padding is applied from the end of the current value.\n *\n * @param source\n * @param targetLength\n * @param padValue\n * @returns\n */\nexport function padEnd(source: string | any[], targetLength: number, padValue: any) {\n  if (isString(source)) {\n    return source.padEnd(targetLength, padValue);\n  } else if (isArray(source)) {\n    const sourceLength = source.length;\n    if (sourceLength < targetLength) {\n      const diff = targetLength - sourceLength;\n      for (let i = 0; i < diff; i++) {\n        source.push(padValue);\n      }\n    }\n  }\n\n  return source;\n}\n\n/**\n * @ignore\n * omit keys of an object.\n * @param obj\n * @param keys\n */\nexport function omit<T = any>(obj: T, keys: string[]): T {\n  if (typeof obj === 'object') {\n    keys.forEach((key: string) => {\n      delete obj[key];\n    });\n  }\n\n  return obj;\n}\n\n/**\n * @ignore\n * @param sourceArray\n * @param targetArray\n * @param map\n */\nexport function uniq(sourceArray: any[], targetArray: any[] = [], map: Map<any, boolean> = new Map()) {\n  for (const source of sourceArray) {\n    if (!map.has(source)) {\n      targetArray.push(source);\n      map.set(source, true);\n    }\n  }\n  return targetArray;\n}\n","import { each } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { Padding, Point, Region } from '../interface';\nimport { BBox as BBoxObject } from '../dependents';\n\n/**\n * \n */\nexport class BBox {\n  /** x  */\n  public x: number;\n  /** y  */\n  public y: number;\n  /**  */\n  public height: number;\n  /**  */\n  public width: number;\n\n  public static fromRange(minX: number, minY: number, maxX: number, maxY: number) {\n    return new BBox(minX, minY, maxX - minX, maxY - minY);\n  }\n\n  public static fromObject(bbox: BBoxObject) {\n    return new BBox(bbox.minX, bbox.minY, bbox.width, bbox.height);\n  }\n\n  constructor(x: number = 0, y: number = 0, width: number = 0, height: number = 0) {\n    this.x = x;\n    this.y = y;\n    this.height = height;\n    this.width = width;\n  }\n\n  public get minX(): number {\n    return this.x;\n  }\n\n  public get maxX(): number {\n    return this.x + this.width;\n  }\n\n  public get minY(): number {\n    return this.y;\n  }\n\n  public get maxY(): number {\n    return this.y + this.height;\n  }\n\n  public get tl(): Point {\n    return { x: this.x, y: this.y };\n  }\n\n  public get tr(): Point {\n    return { x: this.maxX, y: this.y };\n  }\n\n  public get bl(): Point {\n    return { x: this.x, y: this.maxY };\n  }\n\n  public get br(): Point {\n    return { x: this.maxX, y: this.maxY };\n  }\n\n  public get top(): Point {\n    return {\n      x: this.x + this.width / 2,\n      y: this.minY,\n    };\n  }\n\n  public get right(): Point {\n    return {\n      x: this.maxX,\n      y: this.y + this.height / 2,\n    };\n  }\n  public get bottom(): Point {\n    return {\n      x: this.x + this.width / 2,\n      y: this.maxY,\n    };\n  }\n  public get left(): Point {\n    return {\n      x: this.minX,\n      y: this.y + this.height / 2,\n    };\n  }\n  // end \n\n  /**\n   * \n   * @param {BBox} bbox \n   * @returns      \n   */\n  public isEqual(bbox: BBox): boolean {\n    return this.x === bbox.x && this.y === bbox.y && this.width === bbox.width && this.height === bbox.height;\n  }\n\n  /**\n   * \n   * @param child\n   */\n  public contains(child: BBox): boolean {\n    return child.minX >= this.minX && child.maxX <= this.maxX && child.minY >= this.minY && child.maxY <= this.maxY;\n  }\n\n  /**\n   * \n   * @returns \n   */\n  public clone(): BBox {\n    return new BBox(this.x, this.y, this.width, this.height);\n  }\n\n  /**\n   * \n   * @param subBBox\n   */\n  public add(...subBBox: BBox[]): BBox {\n    const bbox = this.clone();\n    each(subBBox, (b: BBox) => {\n      bbox.x = Math.min(b.x, bbox.x);\n      bbox.y = Math.min(b.y, bbox.y);\n      bbox.width = Math.max(b.maxX, bbox.maxX) - bbox.x;\n      bbox.height = Math.max(b.maxY, bbox.maxY) - bbox.y;\n    });\n\n    return bbox;\n  }\n\n  /**\n   * \n   * @param subBBox\n   */\n  public merge(...subBBox: BBox[]): BBox {\n    const bbox = this.clone();\n    each(subBBox, (b: BBox) => {\n      bbox.x = Math.max(b.x, bbox.x);\n      bbox.y = Math.max(b.y, bbox.y);\n      bbox.width = Math.min(b.maxX, bbox.maxX) - bbox.x;\n      bbox.height = Math.min(b.maxY, bbox.maxY) - bbox.y;\n    });\n\n    return bbox;\n  }\n\n  /**\n   * bbox \n   * @param subBBox\n   * @param direction\n   */\n  public cut(subBBox: BBox, direction: DIRECTION): BBox {\n    const width = subBBox.width;\n    const height = subBBox.height;\n\n    switch (direction) {\n      case DIRECTION.TOP:\n      case DIRECTION.TOP_LEFT:\n      case DIRECTION.TOP_RIGHT:\n        return BBox.fromRange(this.minX, this.minY + height, this.maxX, this.maxY);\n\n      case DIRECTION.RIGHT:\n      case DIRECTION.RIGHT_TOP:\n      case DIRECTION.RIGHT_BOTTOM:\n        return BBox.fromRange(this.minX, this.minY, this.maxX - width, this.maxY);\n\n      case DIRECTION.BOTTOM:\n      case DIRECTION.BOTTOM_LEFT:\n      case DIRECTION.BOTTOM_RIGHT:\n        return BBox.fromRange(this.minX, this.minY, this.maxX, this.maxY - height);\n\n      case DIRECTION.LEFT:\n      case DIRECTION.LEFT_TOP:\n      case DIRECTION.LEFT_BOTTOM:\n        return BBox.fromRange(this.minX + width, this.minY, this.maxX, this.maxY);\n      default:\n        // \n        return this;\n    }\n  }\n\n  /**\n   * \n   * @param gap\n   */\n  public shrink(gap: Padding): BBox {\n    const [top, right, bottom, left] = gap;\n\n    return new BBox(this.x + left, this.y + top, this.width - left - right, this.height - top - bottom);\n  }\n\n  /**\n   * \n   * @param gap\n   */\n  public expand(gap: Padding): BBox {\n    const [top, right, bottom, left] = gap;\n\n    return new BBox(this.x - left, this.y - top, this.width + left + right, this.height + top + bottom);\n  }\n\n  /**\n   * get the gap of two bbox, if not exceed, then 0\n   * @param bbox\n   * @returns [top, right, bottom, left]\n   */\n  public exceed(bbox: BBox): Padding {\n    return [\n      Math.max(-this.minY + bbox.minY, 0),\n      Math.max(this.maxX - bbox.maxX, 0),\n      Math.max(this.maxY - bbox.maxY, 0),\n      Math.max(-this.minX + bbox.minX, 0),\n    ];\n  }\n\n  /**\n   * \n   * @param bbox\n   */\n  public collide(bbox: BBox): boolean {\n    return this.minX < bbox.maxX && this.maxX > bbox.minX && this.minY < bbox.maxY && this.maxY > bbox.minY;\n  }\n\n  /**\n   * \n   * @returns \n   */\n  public size(): number {\n    return this.width * this.height;\n  }\n\n  /**\n   *  bbox \n   * @param p\n   */\n  public isPointIn(p: Point) {\n    return p.x >= this.minX && p.x <= this.maxX && p.y >= this.minY && p.y <= this.maxY;\n  }\n}\n\n/**\n *  bbox  region  bbox\n * @param bbox\n * @param region\n */\nexport const getRegionBBox = (bbox: BBox, region: Region): BBox => {\n  const { start, end } = region;\n\n  return new BBox(\n    bbox.x + bbox.width * start.x,\n    bbox.y + bbox.height * start.y,\n    bbox.width * Math.abs(end.x - start.x),\n    bbox.height * Math.abs(end.y - start.y)\n  );\n};\n\n/**\n *  bbox  points\n * @param bbox\n */\nexport function toPoints(bbox: Partial<BBox>): any[] {\n  return [\n    [bbox.minX, bbox.minY],\n    [bbox.maxX, bbox.minY],\n    [bbox.maxX, bbox.maxY],\n    [bbox.minX, bbox.maxY],\n  ];\n}\n","import { Coordinate } from '../dependents';\nimport { Point } from '../interface';\nimport { getSectorPath } from './graphics';\nimport { isBetween } from './helper';\nimport { BBox } from './bbox';\n\n/**\n * @ignore\n * Gets x dimension length\n * @param coordinate\n * @returns x dimension length\n */\nexport function getXDimensionLength(coordinate): number {\n  if (coordinate.isPolar && !coordinate.isTransposed) {\n    //  width \n    return (coordinate.endAngle - coordinate.startAngle) * coordinate.getRadius();\n  }\n\n  // \n  const start = coordinate.convert({ x: 0, y: 0 });\n  const end = coordinate.convert({ x: 1, y: 0 });\n  //  transpose \n  return Math.sqrt(Math.pow(end.x - start.x, 2) + Math.pow(end.y - start.y, 2));\n}\n\n/**\n * @ignore\n * Determines whether full circle is\n * @param coordinate\n * @returns true if full circle\n */\nexport function isFullCircle(coordinate: Coordinate): boolean {\n  if (coordinate.isPolar) {\n    const { startAngle, endAngle } = coordinate;\n    return endAngle - startAngle === Math.PI * 2;\n  }\n  return false;\n}\n\n/**\n * @ignore\n * \n * @param coordinate \n * @param point \n * @returns distance to center\n */\nexport function getDistanceToCenter(coordinate: Coordinate, point: Point): number {\n  const center = coordinate.getCenter() as Point;\n  return Math.sqrt((point.x - center.x) ** 2 + (point.y - center.y) ** 2);\n}\n\n/**\n * @ignore\n * \n * @param coordinate\n * @param point\n */\nexport function isPointInCoordinate(coordinate: Coordinate, point: Point) {\n  let result = false;\n\n  if (coordinate) {\n    if (coordinate.type === 'theta') {\n      const { start, end } = coordinate;\n      result = isBetween(point.x, start.x, end.x) && isBetween(point.y, start.y, end.y);\n    } else {\n      const invertPoint = coordinate.invert(point);\n\n      result = isBetween(invertPoint.x, 0, 1) && isBetween(invertPoint.y, 0, 1);\n    }\n  }\n\n  return result;\n}\n\n/**\n * @ignore\n * \n */\nexport function getAngleByPoint(coordinate: Coordinate, point: Point): number {\n  const center = coordinate.getCenter();\n  return Math.atan2(point.y - center.y, point.x - center.x);\n}\n\n/**\n * @ignore\n * \n * @param coordinate\n * @returns\n */\nexport function getCoordinateClipCfg(coordinate: Coordinate, margin: number = 0) {\n  const { start, end } = coordinate;\n  const width = coordinate.getWidth();\n  const height = coordinate.getHeight();\n\n  if (coordinate.isPolar) {\n    const { startAngle, endAngle } = coordinate;\n    const center = coordinate.getCenter();\n    const radius = coordinate.getRadius();\n\n    return {\n      type: 'path',\n      startState: {\n        path: getSectorPath(center.x, center.y, radius + margin, startAngle, startAngle),\n      },\n      endState: (ratio) => {\n        const diff = (endAngle - startAngle) * ratio + startAngle;\n        const path = getSectorPath(center.x, center.y, radius + margin, startAngle, diff);\n        return {\n          path,\n        };\n      },\n      attrs: {\n        path: getSectorPath(center.x, center.y, radius + margin, startAngle, endAngle),\n      },\n    };\n  }\n\n  let endState;\n  if (coordinate.isTransposed) {\n    endState = {\n      height: height + margin * 2,\n    };\n  } else {\n    endState = {\n      width: width + margin * 2,\n    };\n  }\n\n  return {\n    type: 'rect',\n    startState: {\n      x: start.x - margin,\n      y: end.y - margin,\n      width: coordinate.isTransposed ? width + margin * 2 : 0,\n      height: coordinate.isTransposed ? 0 : height + margin * 2,\n    },\n    endState,\n    attrs: {\n      x: start.x - margin,\n      y: end.y - margin,\n      width: width + margin * 2,\n      height: height + margin * 2,\n    },\n  };\n}\n\n/**\n *  BBox\n * @param coordinate\n * @param margin\n */\nexport function getCoordinateBBox(coordinate: Coordinate, margin = 0) {\n  const { start, end } = coordinate;\n  const width = coordinate.getWidth();\n  const height = coordinate.getHeight();\n  const minX = Math.min(start.x, end.x);\n  const minY = Math.min(start.y, end.y);\n\n  return BBox.fromRange(minX - margin, minY - margin, minX + width + margin, minY + height + margin);\n}\n","import { firstValue, get, isEmpty, isNil, isNumber, isString, valuesOfKey } from '@antv/util';\nimport { GROUP_ATTRS } from '../constant';\nimport { getScale, Scale, Coordinate } from '../dependents';\nimport { LooseObject, ScaleOption, ViewCfg } from '../interface';\nimport { isFullCircle } from './coordinate';\n\nconst dateRegex =\n  /^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\\1(?:29|30)|(?:0?[13578]|1[02])\\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\\2(?:29))(\\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;\n\n/**\n * \n * @param field \n * @param data \n * @returns default type \n */\nfunction getDefaultType(value: any): string {\n  let type = 'linear';\n  if (dateRegex.test(value)) {\n    type = 'timeCat';\n  } else if (isString(value)) {\n    type = 'cat';\n  }\n  return type;\n}\n\n/**\n * using the scale type if user specified, otherwise infer the type\n */\nexport function inferScaleType(scale: Scale, scaleDef: ScaleOption = {}, attrType: string, geometryType: string): string {\n  if (scaleDef.type) return scaleDef.type;\n  // identity scale \n  // geometry : edge,heatmap,interval,line,path,point,polygon,schema,voilininterval  linear scale \n  if (scale.type !== 'identity' && GROUP_ATTRS.includes(attrType) && ['interval'].includes(geometryType)) {\n    return 'cat';\n  }\n  return scale.isCategory ? 'cat' : scale.type;\n}\n\n/**\n * @ignore\n *  `field`  scale\n * @param field \n * @param [data] \n * @param [scaleDef] \n * @returns scale  Scale \n */\nexport function createScaleByField(field: string | number, data?: LooseObject[] | [], scaleDef?: ScaleOption): Scale {\n  const validData = data || [];\n\n  if (isNumber(field) || (isNil(firstValue(validData, field)) && isEmpty(scaleDef))) {\n    const Identity = getScale('identity');\n    return new Identity({\n      field: field.toString(),\n      values: [field],\n    });\n  }\n\n  const values = valuesOfKey(validData, field);\n\n  //  (fix-later  scale type )\n  const type = get(scaleDef, 'type', getDefaultType(values[0]));\n  const ScaleCtor = getScale(type);\n  return new ScaleCtor({\n    field,\n    values,\n    ...scaleDef,\n  });\n}\n\n/**\n * @ignore\n *  scale\n * @todo  scale.update() \n * @param scale  scale \n * @param newScale  Scale\n */\nexport function syncScale(scale: Scale, newScale: Scale) {\n  if (scale.type !== 'identity' && newScale.type !== 'identity') {\n    const obj = {};\n    for (const k in newScale) {\n      if (Object.prototype.hasOwnProperty.call(newScale, k)) {\n        obj[k] = newScale[k];\n      }\n    }\n\n    scale.change(obj);\n  }\n}\n\n/**\n * @ignore\n * get the scale name, if alias exist, return alias, or else field\n * @param scale\n * @returns the name of field\n */\nexport function getName(scale: Scale): string {\n  return scale.alias || scale.field;\n}\n\n/**\n *  scale values  coordinate  range\n * @param scale  scale \n * @param coordinate coordinate \n * @param theme theme\n */\nexport function getDefaultCategoryScaleRange(\n  scale: Scale,\n  coordinate: Coordinate,\n  theme: ViewCfg['theme']\n): Scale['range'] {\n  const { values } = scale;\n  const count = values.length;\n  let range;\n\n  if (count === 1) {\n    range = [0.5, 1]; // , [0.5,0.5] \n  } else {\n    let widthRatio = 1;\n    let offset = 0;\n\n    if (isFullCircle(coordinate)) {\n      if (!coordinate.isTransposed) {\n        range = [0, 1 - 1 / count];\n      } else {\n        widthRatio = get(theme, 'widthRatio.multiplePie', 1 / 1.3);\n        offset = (1 / count) * widthRatio;\n        range = [offset / 2, 1 - offset / 2];\n      }\n    } else {\n      offset = 1 / count / 2; // \n      range = [offset, 1 - offset]; // \n    }\n  }\n  return range;\n}\n\n/**\n * @function yscalemax\n * @param {yScale}\n */\nexport function getMaxScale(scale: Scale) {\n  // values[] NaN/undefined/null \n  const values = scale.values.filter((item) => !isNil(item) && !isNaN(item));\n\n  return Math.max(...values, isNil(scale.max) ? -Infinity : scale.max);\n}\n","import { deepMix, get, isBoolean } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { Coordinate, Scale } from '../dependents';\nimport { AxisCfg, AxisOption, Point, Region } from '../interface';\nimport { getName } from './scale';\nimport { vec2 } from '@antv/matrix-util';\n\n/**\n * @ignore\n * get axis relative region ( 0 ~ 1) by direction when coordinate is rect\n * @param direction\n * @returns axis coordinate region\n */\nexport function getLineAxisRelativeRegion(direction: DIRECTION): Region {\n  let start;\n  let end;\n\n  switch (direction) {\n    case DIRECTION.TOP:\n      start = { x: 0, y: 1 };\n      end = { x: 1, y: 1 };\n      break;\n    case DIRECTION.RIGHT:\n      start = { x: 1, y: 0 };\n      end = { x: 1, y: 1 };\n      break;\n    case DIRECTION.BOTTOM:\n      start = { x: 0, y: 0 };\n      end = { x: 1, y: 0 };\n      break;\n    case DIRECTION.LEFT:\n      start = { x: 0, y: 0 };\n      end = { x: 0, y: 1 };\n      break;\n    default:\n      start = end = { x: 0, y: 0 };\n  }\n\n  return { start, end };\n}\n\n/**\n * @ignore\n * get axis relative region ( 0 ~ 1) by direction when coordinate is polar\n * @param coordinate\n * @returns axis coordinate region\n */\nexport function getCircleAxisRelativeRegion(coordinate: Coordinate) {\n  let start;\n  let end;\n  if (coordinate.isTransposed) {\n    start = {\n      x: 0,\n      y: 0,\n    };\n    end = {\n      x: 1,\n      y: 0,\n    };\n  } else {\n    start = {\n      x: 0,\n      y: 0,\n    };\n    end = {\n      x: 0,\n      y: 1,\n    };\n  }\n\n  return { start, end };\n}\n\n/**\n * @ignore\n * get the axis region from coordinate\n * @param coordinate\n * @param direction\n * @returns the axis region (start point, end point)\n */\nexport function getAxisRegion(coordinate: Coordinate, direction: DIRECTION): Region {\n  let region = { start: { x: 0, y: 0 }, end: { x: 0, y: 0 } };\n  if (coordinate.isRect) {\n    region = getLineAxisRelativeRegion(direction);\n  } else if (coordinate.isPolar) {\n    region = getCircleAxisRelativeRegion(coordinate);\n  }\n\n  const { start, end } = region;\n  return {\n    start: coordinate.convert(start),\n    end: coordinate.convert(end),\n  };\n}\n\n/**\n * @ignore\n * get axis factor\n * @param coordinate\n * @param direction\n * @returns factor\n */\nexport function getAxisFactor(coordinate: Coordinate, direction: DIRECTION): number {\n  // rect coordinate, by direction\n  if (coordinate.isRect) {\n    return coordinate.isTransposed\n      ? [DIRECTION.RIGHT, DIRECTION.BOTTOM].includes(direction)\n        ? 1\n        : -1\n      : [DIRECTION.BOTTOM, DIRECTION.RIGHT].includes(direction)\n      ? -1\n      : 1;\n  }\n\n  // polar y axis, by angle\n  if (coordinate.isPolar) {\n    const startAngle = coordinate.x.start;\n    return startAngle < 0 ? -1 : 1;\n  }\n\n  return 1;\n}\n\n/**\n * @ignore\n * whether the axis isVertical\n * @param region\n * @returns isVertical\n */\nexport function isVertical(region: Region): boolean {\n  const { start, end } = region;\n\n  return start.x === end.x;\n}\n\n/**\n * @ignore\n * get factor by region (real position)\n * @param region\n * @param center\n * @returns factor\n */\nexport function getAxisFactorByRegion(region: Region, center: Point): number {\n  const { start, end } = region;\n\n  const isAxisVertical = isVertical(region);\n\n  // \n  if (isAxisVertical) {\n    // ,,\n    if ((start.y - end.y) * (center.x - start.x) > 0) {\n      return 1;\n    } else {\n      return -1;\n    }\n  } else {\n    // ,,\n    if ((end.x - start.x) * (start.y - center.y) > 0) {\n      return -1;\n    } else {\n      return 1;\n    }\n  }\n}\n\n/**\n * @ignore\n * get the axis cfg from theme, will mix the common cfg of legend theme\n *\n * @param theme view theme object\n * @param direction axis direction\n * @returns axis theme cfg\n */\nexport function getAxisThemeCfg(theme: object, direction: string): object {\n  const axisTheme = get(theme, ['components', 'axis'], {});\n  return deepMix({}, get(axisTheme, ['common'], {}), deepMix({}, get(axisTheme, [direction], {})));\n}\n\n/**\n * get the options of axis titlemix the cfg from theme, avoid common themeCfg not work\n * @param theme\n * @param direction\n * @param axisOptions\n * @returns axis title options\n */\nexport function getAxisTitleOptions(theme: object, direction: string, axisOptions?: object): object {\n  const axisTheme = get(theme, ['components', 'axis'], {});\n  return deepMix(\n    {},\n    get(axisTheme, ['common', 'title'], {}),\n    deepMix({}, get(axisTheme, [direction, 'title'], {})),\n    axisOptions\n  );\n}\n\n/**\n * @ignore\n * get circle axis center and radius\n * @param coordinate\n */\nexport function getCircleAxisCenterRadius(coordinate: Coordinate) {\n  // @ts-ignore\n  const { x, y, circleCenter: center } = coordinate;\n  const isReflectY = y.start > y.end;\n  const start = coordinate.isTransposed\n    ? coordinate.convert({\n        x: isReflectY ? 0 : 1,\n        y: 0,\n      })\n    : coordinate.convert({\n        x: 0,\n        y: isReflectY ? 0 : 1,\n      });\n\n  const startVector: [number, number] = [start.x - center.x, start.y - center.y];\n  const normalVector: [number, number] = [1, 0];\n  const startAngle =\n    start.y > center.y ? vec2.angle(startVector, normalVector) : vec2.angle(startVector, normalVector) * -1;\n  const endAngle = startAngle + (x.end - x.start);\n  const radius = Math.sqrt((start.x - center.x) ** 2 + (start.y - center.y) ** 2);\n\n  return {\n    center,\n    radius,\n    startAngle,\n    endAngle,\n  };\n}\n\n/**\n * @ignore\n *  axis \n * @param axes\n * @param field\n * @returns the axis option of field\n */\nexport function getAxisOption(axes: Record<string, AxisOption> | boolean, field: string) {\n  if (isBoolean(axes)) {\n    return axes === false ? false : {};\n  }\n  return get(axes, [field]);\n}\n\n/**\n * @ignore\n *  position\n * @param axisOption\n * @param def\n */\nexport function getAxisDirection(axisOption: AxisOption, def: DIRECTION): DIRECTION {\n  return get(axisOption, 'position', def);\n}\n\n/**\n *  axis  title \n * @param scale\n * @param axisOption\n */\nexport function getAxisTitleText(scale: Scale, axisOption: AxisCfg): string {\n  return get(axisOption, ['title', 'text'], getName(scale));\n}\n","import { deepMix, each, every, get, isNil, isNumber } from '@antv/util';\nimport { LAYER } from '../constant';\nimport { IGroup } from '../dependents';\nimport { AxisCfg, Condition, Datum, FacetCfg, FacetData, FacetDataFilter, Region } from '../interface';\n\nimport View from '../chart/view';\nimport { getAxisOption } from '../util/axis';\n\n/**\n * facet \n *  -  facet\n *  - \n *\n * \n *\n *  init\n * 1. \n * 2. \n *\n *  render\n * 1. view \n * 2. title\n * 3. axis\n *\n *  clear\n * 1.  view\n *\n *  destroy\n * 1. clear\n * 2. \n * 3.  group\n */\nexport abstract class Facet<C extends FacetCfg<FacetData> = FacetCfg<FacetData>, F extends FacetData = FacetData> {\n  /**  view */\n  public view: View;\n  /**  */\n  public container: IGroup;\n  /**  */\n  public destroyed: boolean = false;\n\n  /**  */\n  protected cfg: C;\n  /**  */\n  protected facets: F[] = [];\n\n  constructor(view: View, cfg: C) {\n    this.view = view;\n    this.cfg = deepMix({}, this.getDefaultCfg(), cfg);\n  }\n\n  /**\n   * \n   */\n  public init() {\n    // \n    if (!this.container) {\n      this.container = this.createContainer();\n    }\n\n    // \n    const data = this.view.getData();\n    this.facets = this.generateFacets(data);\n  }\n\n  /**\n   *  view \n   *  -  view\n   *  - \n   *  - title\n   *\n   *  \n   */\n  public render() {\n    this.renderViews();\n  }\n\n  /**\n   *  facet\n   */\n  public update() {\n    //  facet  View  Geometry  view \n  }\n\n  /**\n   * clear  init \n   * \n   */\n  public clear() {\n    this.clearFacetViews();\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    this.clear();\n\n    if (this.container) {\n      this.container.remove(true);\n      this.container = undefined;\n    }\n\n    this.destroyed = true;\n    this.view = undefined;\n    this.facets = [];\n  }\n\n  /**\n   *  facet  view\n   * @param facet\n   */\n  protected facetToView(facet: F): View {\n    const { region, data, padding = this.cfg.padding } = facet;\n\n    const view = this.view.createView({\n      region,\n      padding,\n    });\n\n    // \n    view.data(data || []);\n    facet.view = view;\n\n    // \n    this.beforeEachView(view, facet);\n\n    const { eachView } = this.cfg;\n    if (eachView) {\n      eachView(view, facet);\n    }\n\n    // \n    this.afterEachView(view, facet);\n\n    return view;\n  }\n\n  // \n  private createContainer(): IGroup {\n    const foregroundGroup = this.view.getLayer(LAYER.FORE);\n    return foregroundGroup.addGroup();\n  }\n\n  /**\n   *  view\n   */\n  private renderViews() {\n    this.createFacetViews();\n  }\n\n  /**\n   *   view\n   */\n  private createFacetViews(): View[] {\n    //   view\n    return this.facets.map((facet): View => {\n      return this.facetToView(facet);\n    });\n  }\n\n  /**\n   *  view  facetView\n   */\n  private clearFacetViews() {\n    //  view  view\n    each(this.facets, (facet) => {\n      if (facet.view) {\n        this.view.removeView(facet.view);\n        facet.view = undefined;\n      }\n    });\n  }\n\n  /**\n   *  spacing\n   */\n  private parseSpacing() {\n    /**\n     * @example\n     *\n     * // \n     * //  10% 10%\n     * ['10%', '10%']\n     * //  10px 10px\n     * [10, 10]\n     *\n     * // \n     * ['10%', 10]\n     * //  10% 10px\n     */\n    const { width, height } = this.view.viewBBox;\n    const { spacing } = this.cfg;\n    return spacing.map((s: number, idx: number) => {\n      if (isNumber(s)) return s / (idx === 0 ? width : height);\n      else return parseFloat(s) / 100;\n    });\n  }\n\n  // \n\n  /**\n   * \n   * @protected\n   * @param data \n   * @param field \n   * @return \n   */\n  protected getFieldValues(data: Datum[], field: string): string[] {\n    const rst = [];\n    const cache: Record<string, boolean> = {};\n\n    //  Nil \n    each(data, (d: Datum) => {\n      const value = d[field];\n      if (!isNil(value) && !cache[value]) {\n        rst.push(value);\n        cache[value] = true;\n      }\n    });\n\n    return rst;\n  }\n\n  /**\n   *  region\n   * @param rows row \n   * @param cols col \n   * @param xIndex x  index\n   * @param yIndex y  index\n   */\n  protected getRegion(rows: number, cols: number, xIndex: number, yIndex: number): Region {\n    const [xSpacing, ySpacing] = this.parseSpacing();\n    // xSPacing, ySpacing\n    // \n    /**\n     * ratio * num + spacing * (num - 1) = 1\n     * => ratio = (1 - (spacing * (num - 1))) / num\n     *          = (1 + spacing) / num - spacing\n     *\n     * num  cols/rows\n     * spacing  xSpacing/ySpacing\n     */\n    const xRatio = (1 + xSpacing) / (cols === 0 ? 1 : cols) - xSpacing;\n    const yRatio = (1 + ySpacing) / (rows === 0 ? 1 : rows) - ySpacing;\n\n    //  index \n    const start = {\n      x: (xRatio + xSpacing) * xIndex,\n      y: (yRatio + ySpacing) * yIndex,\n    };\n    const end = {\n      x: start.x + xRatio,\n      y: start.y + yRatio,\n    };\n    return { start, end };\n  }\n\n  protected getDefaultCfg() {\n    return {\n      eachView: undefined,\n      showTitle: true,\n      spacing: [0, 0],\n      padding: 10,\n      fields: [],\n    };\n  }\n\n  /**\n   *  title  title columnTitlerowTitle\n   */\n  protected getDefaultTitleCfg() {\n    // @ts-ignore\n    const fontFamily = this.view.getTheme().fontFamily;\n    return {\n      style: {\n        fontSize: 14,\n        fill: '#666',\n        fontFamily,\n      },\n    };\n  }\n\n  /**\n   *  axis \n   * @param view\n   * @param facet\n   */\n  protected processAxis(view: View, facet: F) {\n    const options = view.getOptions();\n\n    const coordinateOption = options.coordinate;\n    const geometries = view.geometries;\n\n    const coordinateType = get(coordinateOption, 'type', 'rect');\n\n    if (coordinateType === 'rect' && geometries.length) {\n      if (isNil(options.axes)) {\n        // @ts-ignore\n        options.axes = {};\n      }\n      const axes = options.axes;\n\n      const [x, y] = geometries[0].getXYFields();\n\n      const xOption = getAxisOption(axes, x);\n      const yOption = getAxisOption(axes, y);\n\n      if (xOption !== false) {\n        options.axes[x] = this.getXAxisOption(x, axes, xOption, facet);\n      }\n\n      if (yOption !== false) {\n        options.axes[y] = this.getYAxisOption(y, axes, yOption, facet);\n      }\n    }\n  }\n\n  /**\n   * \n   * @param conditions\n   */\n  protected getFacetDataFilter(conditions: Condition[]): FacetDataFilter {\n    return (datum: Datum) => {\n      // \n      return every(conditions, (condition) => {\n        const { field, value } = condition;\n\n        if (!isNil(value) && field) {\n          return datum[field] === value;\n        }\n        return true;\n      });\n    };\n  }\n\n  /**\n   * @override  eachView\n   * @param view\n   * @param facet\n   */\n  protected abstract beforeEachView(view: View, facet: F);\n\n  /**\n   * @override  eachView \n   * @param view\n   * @param facet\n   */\n  protected abstract afterEachView(view: View, facet: F);\n\n  /**\n   * @override \n   * @param data\n   */\n  protected abstract generateFacets(data: Datum[]): F[];\n\n  /**\n   *  x \n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected abstract getXAxisOption(x: string, axes: any, option: AxisCfg, facet: F): object;\n\n  /**\n   *  y \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected abstract getYAxisOption(y: string, axes: any, option: AxisCfg, facet: F): object;\n}\n","import { lowerCase } from '@antv/util';\nimport { FacetCtor } from '../interface';\nexport { Facet } from './facet';\n\n/**\n *  Facet \n */\nconst Facets: Record<string, FacetCtor> = {};\n\n/**\n *  type  facet \n * @param type \n */\nexport const getFacet = (type: string): FacetCtor => {\n  return Facets[lowerCase(type)];\n};\n\n/**\n *  Facet \n * @param type \n * @param ctor \n */\nexport const registerFacet = (type: string, ctor: FacetCtor) => {\n  Facets[lowerCase(type)] = ctor;\n};\n","import { assign } from '@antv/util';\nimport { IAction, IInteractionContext, LooseObject } from '../../interface';\n\n/**\n * Action \n */\nabstract class Action<T = LooseObject> implements IAction {\n  /** Action  */\n  public name;\n  /**  */\n  public context: IInteractionContext;\n  /** Action  */\n  protected cfg: T;\n  /**  this  */\n  protected cfgFields: string[];\n\n  constructor(context: IInteractionContext, cfg?: T) {\n    this.context = context;\n    this.cfg = cfg;\n    context.addAction(this);\n  }\n\n  /**\n   * \n   * @param cfg\n   */\n  protected applyCfg(cfg) {\n    assign(this, cfg);\n  }\n\n  /**\n   * Inits action\n   */\n  public init() {\n    this.applyCfg(this.cfg);\n  }\n\n  /**\n   * Destroys action\n   */\n  public destroy() {\n    //  action\n    this.context.removeAction(this);\n    // \n    this.context = null;\n  }\n}\n\nexport default Action;\n","import { ActionCallback } from '../../interface';\nimport Action from './base';\n\n/**  Action */\nexport default class CallbackAction extends Action {\n  /**\n   * \n   */\n  public callback: ActionCallback;\n  /**\n   * \n   */\n  public execute() {\n    if (this.callback) {\n      this.callback(this.context);\n    }\n  }\n  /**\n   * \n   */\n  public destroy() {\n    super.destroy();\n    this.callback = null;\n  }\n}\n","import { ActionCallback, IInteractionContext, LooseObject } from '../../interface';\nimport Action from './base';\nimport CallbackAction from './callback';\nimport { get } from '@antv/util';\n\n/** Action  */\ntype ActionConstructor = new (context: IInteractionContext, cfg?: LooseObject) => Action;\n\n/** @ignore */\ninterface ActionOption {\n  ActionClass: ActionConstructor;\n  cfg: LooseObject;\n}\n\n// Action \nconst ActionCache: Record<string, ActionOption> = {};\n\n/**\n *  Action \n * @param actionName - action \n * @param context \n * @returns Action \n */\nexport function createAction(actionName: string, context: IInteractionContext): Action {\n  const actionOption = ActionCache[actionName];\n  let action = null;\n  if (actionOption) {\n    const { ActionClass, cfg } = actionOption;\n    action = new ActionClass(context, cfg);\n    action.name = actionName;\n    action.init();\n  }\n  return action;\n}\n\n/**\n *  action  name \n * @param actionName action  name\n */\nexport function getActionClass(actionName: string): ActionConstructor {\n  const actionOption = ActionCache[actionName];\n  return get(actionOption, 'ActionClass');\n}\n\n/**\n *  Action\n * @param actionName - action \n * @param ActionClass -  action \n */\nexport function registerAction(actionName: string, ActionClass: ActionConstructor, cfg?: LooseObject) {\n  ActionCache[actionName] = {\n    ActionClass,\n    cfg,\n  };\n}\n\n/**\n *  Action\n * @param actionName action \n */\nexport function unregisterAction(actionName: string) {\n  delete ActionCache[actionName];\n}\n\n/**\n *  Action \n * @param callback - action \n * @param context \n * @returns Action \n */\nexport function createCallbackAction(callback: ActionCallback, context: IInteractionContext): CallbackAction {\n  const action = new CallbackAction(context);\n  action.callback = callback;\n  action.name = 'callback';\n  return action;\n}\n","import { vec2 } from '@antv/matrix-util';\nimport { each } from '@antv/util';\nimport { Coordinate, PathCommand } from '../../../dependents';\nimport { Point, Position } from '../../../interface';\nimport { getDistanceToCenter } from '../../../util/coordinate';\n\nfunction _points2path(points: Point[], isInCircle: boolean): PathCommand[] {\n  const path = [];\n  if (points.length) {\n    path.push(['M', points[0].x, points[0].y]);\n    for (let i = 1, length = points.length; i < length; i += 1) {\n      const item = points[i];\n      path.push(['L', item.x, item.y]);\n    }\n\n    if (isInCircle) {\n      path.push(['Z']);\n    }\n  }\n\n  return path;\n}\n\nfunction _convertArr(arr: number[], coord: Coordinate): any[] {\n  const tmp = [arr[0]];\n  for (let i = 1, len = arr.length; i < len; i = i + 2) {\n    const point = coord.convert({\n      x: arr[i],\n      y: arr[i + 1],\n    });\n    tmp.push(point.x, point.y);\n  }\n  return tmp;\n}\nfunction _convertArcPath(path: PathCommand, coord: Coordinate): any[] {\n  const { isTransposed } = coord;\n  const r = path[1];\n  const x = path[6];\n  const y = path[7];\n  const point = coord.convert({ x, y });\n  const direction = isTransposed ? 0 : 1;\n  return ['A', r, r, 0, 0, direction, point.x, point.y];\n}\n\nfunction _convertPolarPath(pre: PathCommand, cur: PathCommand, coord: Coordinate): PathCommand[] {\n  const { isTransposed, startAngle, endAngle } = coord;\n  const prePoint =\n    pre[0].toLowerCase() === 'a'\n      ? {\n          x: pre[6],\n          y: pre[7],\n        }\n      : {\n          x: pre[1],\n          y: pre[2],\n        };\n  const curPoint = {\n    x: cur[1],\n    y: cur[2],\n  };\n  const rst = [];\n  const xDim = isTransposed ? 'y' : 'x';\n  const angleRange = Math.abs(curPoint[xDim] - prePoint[xDim]) * (endAngle - startAngle);\n  const direction = curPoint[xDim] >= prePoint[xDim] ? 1 : 0; // \n  const flag = angleRange > Math.PI ? 1 : 0; // \n  const convertPoint = coord.convert(curPoint);\n  const r = getDistanceToCenter(coord, convertPoint);\n  if (r >= 0.5) {\n    // 1\n    if (angleRange === Math.PI * 2) {\n      const middlePoint = {\n        x: (curPoint.x + prePoint.x) / 2,\n        y: (curPoint.y + prePoint.y) / 2,\n      };\n      const middleConvertPoint = coord.convert(middlePoint);\n      rst.push(['A', r, r, 0, flag, direction, middleConvertPoint.x, middleConvertPoint.y]);\n      rst.push(['A', r, r, 0, flag, direction, convertPoint.x, convertPoint.y]);\n    } else {\n      rst.push(['A', r, r, 0, flag, direction, convertPoint.x, convertPoint.y]);\n    }\n  }\n  return rst;\n}\n\n// \nfunction _filterFullCirleLine(path: PathCommand[]) {\n  each(path, (subPath, index) => {\n    const cur = subPath;\n    if (cur[0].toLowerCase() === 'a') {\n      const pre = path[index - 1];\n      const next = path[index + 1];\n      if (next && next[0].toLowerCase() === 'a') {\n        if (pre && pre[0].toLowerCase() === 'l') {\n          pre[0] = 'M';\n        }\n      } else if (pre && pre[0].toLowerCase() === 'a') {\n        if (next && next[0].toLowerCase() === 'l') {\n          next[0] = 'M';\n        }\n      }\n    }\n  });\n}\n\n/**\n * @ignore\n * \n */\nexport const smoothBezier = (\n  points: Position[],\n  smooth: number,\n  isLoop: boolean,\n  constraint: Position[]\n): Position[] => {\n  const cps = [];\n  const hasConstraint = !!constraint;\n\n  let prevPoint: Position;\n  let nextPoint: Position;\n  let min: Position;\n  let max: Position;\n  let nextCp0: Position;\n  let cp1: Position;\n  let cp0: Position;\n\n  if (hasConstraint) {\n    [min, max] = constraint;\n    for (let i = 0, l = points.length; i < l; i++) {\n      const point = points[i];\n      min = vec2.min([0, 0], min, point) as [number, number];\n      max = vec2.max([0, 0], max, point) as [number, number];\n    }\n  }\n\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (i === 0 && !isLoop) {\n      cp0 = point;\n    } else if (i === len - 1 && !isLoop) {\n      cp1 = point;\n      cps.push(cp0);\n      cps.push(cp1);\n    } else {\n      prevPoint = points[isLoop ? (i ? i - 1 : len - 1) : i - 1];\n      nextPoint = points[isLoop ? (i + 1) % len : i + 1];\n\n      let v: [number, number] = [0, 0];\n      v = vec2.sub(v, nextPoint, prevPoint) as [number, number];\n      v = vec2.scale(v, v, smooth) as [number, number];\n\n      let d0 = vec2.distance(point, prevPoint);\n      let d1 = vec2.distance(point, nextPoint);\n\n      const sum = d0 + d1;\n      if (sum !== 0) {\n        d0 /= sum;\n        d1 /= sum;\n      }\n\n      let v1 = vec2.scale([0, 0], v, -d0);\n      let v2 = vec2.scale([0, 0], v, d1);\n\n      cp1 = vec2.add([0, 0], point, v1) as Position;\n      nextCp0 = vec2.add([0, 0], point, v2) as Position;\n\n      // \n      nextCp0 = vec2.min([0, 0], nextCp0, vec2.max([0, 0], nextPoint, point)) as Position;\n      nextCp0 = vec2.max([0, 0], nextCp0, vec2.min([0, 0], nextPoint, point)) as Position;\n\n      //  cp1 \n      v1 = vec2.sub([0, 0], nextCp0, point);\n      v1 = vec2.scale([0, 0], v1, -d0 / d1);\n      cp1 = vec2.add([0, 0], point, v1) as Position;\n\n      // \n      cp1 = vec2.min([0, 0], cp1, vec2.max([0, 0], prevPoint, point)) as Position;\n      cp1 = vec2.max([0, 0], cp1, vec2.min([0, 0], prevPoint, point)) as Position;\n\n      //  nextCp0 \n      v2 = vec2.sub([0, 0], point, cp1);\n      v2 = vec2.scale([0, 0], v2, d1 / d0);\n      nextCp0 = vec2.add([0, 0], point, v2) as Position;\n\n      if (hasConstraint) {\n        cp1 = vec2.max([0, 0], cp1, min) as Position;\n        cp1 = vec2.min([0, 0], cp1, max) as Position;\n        nextCp0 = vec2.max([0, 0], nextCp0, min) as Position;\n        nextCp0 = vec2.min([0, 0], nextCp0, max) as Position;\n      }\n\n      cps.push(cp0);\n      cps.push(cp1);\n      cp0 = nextCp0;\n    }\n  }\n\n  if (isLoop) {\n    cps.push(cps.shift());\n  }\n\n  return cps;\n};\n\n/**\n * @ignore\n * \n */\nexport function catmullRom2bezier(crp: number[], z: boolean, constraint: Position[]): PathCommand[] {\n  const isLoop = !!z;\n  const pointList = [];\n  for (let i = 0, l = crp.length; i < l; i += 2) {\n    pointList.push([crp[i], crp[i + 1]]);\n  }\n\n  const controlPointList = smoothBezier(pointList, 0.4, isLoop, constraint);\n  const len = pointList.length;\n  const d1 = [];\n\n  let cp1: Position;\n  let cp2: Position;\n  let p: Position;\n\n  for (let i = 0; i < len - 1; i++) {\n    cp1 = controlPointList[i * 2];\n    cp2 = controlPointList[i * 2 + 1];\n    p = pointList[i + 1];\n\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n\n  if (isLoop) {\n    cp1 = controlPointList[len];\n    cp2 = controlPointList[len + 1];\n    p = pointList[0];\n\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n  return d1;\n}\n\n/**\n * @ignore\n *  path\n */\nexport function getLinePath(points: Point[], isInCircle?: boolean): PathCommand[] {\n  return _points2path(points, isInCircle);\n}\n\n/**\n * @ignore\n * \n */\nexport function getSplinePath(points: Point[], isInCircle?: boolean, constaint?: Position[]): PathCommand[] {\n  const data = [];\n  const first = points[0];\n  let prePoint = null;\n  if (points.length <= 2) {\n    // \n    return getLinePath(points, isInCircle);\n  }\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (!prePoint || !(prePoint.x === point.x && prePoint.y === point.y)) {\n      data.push(point.x);\n      data.push(point.y);\n      prePoint = point;\n    }\n  }\n  const constraint = constaint || [\n    // \n    [0, 0],\n    [1, 1],\n  ];\n  const splinePath = catmullRom2bezier(data, isInCircle, constraint);\n  splinePath.unshift(['M', first.x, first.y]);\n  return splinePath;\n}\n\n/**\n * @ignore\n * \n */\nexport function convertNormalPath(coord, path: PathCommand[]): PathCommand[] {\n  const tmp = [];\n  each(path, (subPath) => {\n    const action = subPath[0];\n    switch (action.toLowerCase()) {\n      case 'm':\n      case 'l':\n      case 'c':\n        tmp.push(_convertArr(subPath, coord));\n        break;\n      case 'a':\n        tmp.push(_convertArcPath(subPath, coord));\n        break;\n      case 'z':\n      default:\n        tmp.push(subPath);\n        break;\n    }\n  });\n  return tmp;\n}\n\n/**\n * @ignore\n * \n */\nexport function convertPolarPath(coord, path: PathCommand[]): PathCommand[] {\n  let tmp = [];\n  let pre: PathCommand;\n  let cur: PathCommand;\n  let transposed: boolean;\n  let equals: boolean;\n  each(path, (subPath, index) => {\n    const action = subPath[0];\n\n    switch (action.toLowerCase()) {\n      case 'm':\n      case 'c':\n      case 'q':\n        tmp.push(_convertArr(subPath, coord));\n        break;\n      case 'l':\n        pre = path[index - 1];\n        cur = subPath;\n        transposed = coord.isTransposed;\n        // \n        equals = transposed ? pre[pre.length - 2] === cur[1] : pre[pre.length - 1] === cur[2];\n        if (equals) {\n          tmp = tmp.concat(_convertPolarPath(pre, cur, coord));\n        } else {\n          // y \n          tmp.push(_convertArr(subPath, coord));\n        }\n        break;\n      case 'a':\n        tmp.push(_convertArcPath(subPath, coord));\n        break;\n      case 'z':\n      default:\n        tmp.push(subPath);\n        break;\n    }\n  });\n  _filterFullCirleLine(tmp); // \n  return tmp;\n}\n","import { each, isArray } from '@antv/util';\nimport { View } from '../../chart';\nimport { BBox, PathCommand, Point } from '../../dependents';\nimport Geometry from '../../geometry/base';\nimport Element from '../../geometry/element/';\nimport { catmullRom2bezier, getLinePath } from '../../geometry/shape/util/path';\nimport { toPoints } from '../../util/bbox';\nimport { isPolygonsIntersect } from '@antv/path-util';\nimport { ComponentOption, IInteractionContext, LooseObject } from '../../interface';\n\nfunction getMaskBBox(context: IInteractionContext, tolerance: number) {\n  const event = context.event;\n  const maskShape = event.target;\n  const maskBBox = maskShape.getCanvasBBox();\n  //  bbox \n  if (!(maskBBox.width >= tolerance || maskBBox.height >= tolerance)) {\n    return null;\n  }\n  return maskBBox;\n}\n\nfunction getMaskPath(context: IInteractionContext, tolerance: number) {\n  const event = context.event;\n  const maskShape = event.target;\n  const maskBBox = maskShape.getCanvasBBox();\n  //  bbox \n  if (!(maskBBox.width >= tolerance || maskBBox.height >= tolerance)) {\n    return null;\n  }\n  return maskShape.attr('path');\n}\n\n/**\n * \n * @param context \n * @ignore\n */\nexport function getCurrentElement(context: IInteractionContext): Element {\n  const event = context.event;\n  let element;\n  const target = event.target;\n  if (target) {\n    element = target.get('element');\n  }\n  return element;\n}\n\n/**\n * \n * @param context \n * @ignore\n */\nexport function getDelegationObject(context: IInteractionContext): LooseObject {\n  const event = context.event;\n  const target = event.target;\n  let delegateObject;\n  if (target) {\n    delegateObject = target.get('delegateObject');\n  }\n  return delegateObject;\n}\n\nexport function isElementChange(context: IInteractionContext) {\n  const event = context.event.gEvent;\n  //  element label  shape \n  if (event && event.fromShape && event.toShape && event.fromShape.get('element') === event.toShape.get('element')) {\n    return false;\n  }\n  return true;\n}\n\n/**\n * \n * @param delegateObject \n * @ignore\n */\nexport function isList(delegateObject: LooseObject): boolean {\n  return delegateObject && delegateObject.component && delegateObject.component.isList();\n}\n\n/**\n * \n * @param delegateObject \n * @ignore\n */\nexport function isSlider(delegateObject: LooseObject): boolean {\n  return delegateObject && delegateObject.component && delegateObject.component.isSlider();\n}\n\n/**\n *  mask \n * @param context \n * @ignore\n */\nexport function isMask(context: IInteractionContext): boolean {\n  const event = context.event;\n  const target = event.target;\n  return target && target.get('name') === 'mask';\n}\n\n/**\n *  elements\n * @param context \n * @ignore\n */\nexport function getMaskedElements(context: IInteractionContext, tolerance: number): Element[] {\n  const target = context.event.target;\n  if (target.get('type') === 'path') {\n    const maskPath = getMaskPath(context, tolerance);\n    if (!maskPath) {\n      return;\n    }\n    return getElementsByPath(context.view, maskPath);\n  }\n  const maskBBox = getMaskBBox(context, tolerance);\n  //  bbox \n  if (!maskBBox) {\n    return null;\n  }\n  return getIntersectElements(context.view, maskBBox);\n}\n\n/**\n * @ignore\n */\nexport function getSiblingMaskElements(context: IInteractionContext, sibling: View, tolerance: number) {\n  const maskBBox = getMaskBBox(context, tolerance);\n  //  bbox \n  if (!maskBBox) {\n    return null;\n  }\n  const view = context.view;\n  const start = getSiblingPoint(view, sibling, { x: maskBBox.x, y: maskBBox.y });\n  const end = getSiblingPoint(view, sibling, { x: maskBBox.maxX, y: maskBBox.maxY });\n  const box = {\n    minX: start.x,\n    minY: start.y,\n    maxX: end.x,\n    maxY: end.y,\n  };\n  return getIntersectElements(sibling, box);\n}\n\n/**\n * \n * @param view View/Chart\n * @ignore\n */\nexport function getElements(view: View): Element[] {\n  const geometries = view.geometries;\n  let rst: Element[] = [];\n  each(geometries, (geom: Geometry) => {\n    const elements = geom.elements;\n    rst = rst.concat(elements);\n  });\n  if (view.views && view.views.length) {\n    each(view.views, (subView) => {\n      rst = rst.concat(getElements(subView));\n    });\n  }\n  return rst;\n}\n\n/**\n * \n * @param view View/Chart\n * @param field \n * @param value \n * @ignore\n */\nexport function getElementsByField(view: View, field: string, value: any) {\n  const elements = getElements(view);\n  return elements.filter((el) => {\n    return getElementValue(el, field) === value;\n  });\n}\n\n/**\n * \n * @param view View/Chart\n * @param stateName \n * @ignore\n */\nexport function getElementsByState(view: View, stateName: string): Element[] {\n  const geometries = view.geometries;\n  let rst: Element[] = [];\n  each(geometries, (geom: Geometry) => {\n    const elements = geom.getElementsBy((el) => el.hasState(stateName));\n    rst = rst.concat(elements);\n  });\n  return rst;\n}\n\n/**\n * \n * @param element \n * @param field \n * @ignore\n */\nexport function getElementValue(element: Element, field) {\n  const model = element.getModel();\n  const record = model.data;\n  let value;\n  if (isArray(record)) {\n    value = record[0][field];\n  } else {\n    value = record[field];\n  }\n  return value;\n}\n\n/**\n * \n * @param box1 1\n * @param box2 2\n * @ignore\n */\nexport function intersectRect(box1, box2) {\n  return !(box2.minX > box1.maxX || box2.maxX < box1.minX || box2.minY > box1.maxY || box2.maxY < box1.minY);\n}\n\n/**\n * \n * @param view View/Chart\n * @param box \n * @ignore\n */\nexport function getIntersectElements(view: View, box) {\n  const elements = getElements(view);\n  const rst = [];\n  each(elements, (el) => {\n    const shape = el.shape;\n    const shapeBBox = shape.getCanvasBBox();\n    if (intersectRect(box, shapeBBox)) {\n      rst.push(el);\n    }\n  });\n  return rst;\n}\nfunction pathToPoints(path: any[]) {\n  const points = [];\n  each(path, (seg) => {\n    const command = seg[0];\n    if (command !== 'A') {\n      for (let i = 1; i < seg.length; i = i + 2) {\n        points.push([seg[i], seg[i + 1]]);\n      }\n    } else {\n      const length = seg.length;\n      points.push([seg[length - 2], seg[length - 1]]);\n    }\n  });\n  return points;\n}\n/**\n * \n * @param view View/Chart\n * @param path \n * @ignore\n */\nexport function getElementsByPath(view: View, path: any[]) {\n  const elements = getElements(view);\n  const points = pathToPoints(path);\n  const rst = elements.filter((el: Element) => {\n    const shape = el.shape;\n    let shapePoints;\n    if (shape.get('type') === 'path') {\n      shapePoints = pathToPoints(shape.attr('path'));\n    } else {\n      const shapeBBox = shape.getCanvasBBox();\n      shapePoints = toPoints(shapeBBox);\n    }\n    return isPolygonsIntersect(points, shapePoints);\n  });\n  return rst;\n}\n\n/**\n *  View \n * @param view View/Chart\n * @ignore\n */\nexport function getComponents(view) {\n  return view.getComponents().map((co: ComponentOption) => co.component);\n}\n\n/** @ignore */\nexport function distance(p1: Point, p2: Point) {\n  const dx = p2.x - p1.x;\n  const dy = p2.y - p1.y;\n  return Math.sqrt(dx * dx + dy * dy);\n}\n\n/** @ignore */\nexport function getSpline(points: Point[], z: boolean): PathCommand[] {\n  if (points.length <= 2) {\n    return getLinePath(points, false);\n  }\n  const first = points[0];\n  const arr = [];\n  each(points, (point) => {\n    arr.push(point.x);\n    arr.push(point.y);\n  });\n  const path = catmullRom2bezier(arr, z, null);\n  path.unshift(['M', first.x, first.y]);\n  return path;\n}\n\n/**\n * \n * @param box \n * @param point \n * @ignore\n */\nexport function isInBox(box: BBox, point: Point) {\n  return box.x <= point.x && box.maxX >= point.x && box.y <= point.y && box.maxY > point.y;\n}\n\n/**\n *  view  views\n * @param view  view\n * @returns  views\n * @ignore\n */\nexport function getSilbings(view: View): View[] {\n  const parent = view.parent;\n  let siblings = null;\n  if (parent) {\n    siblings = parent.views.filter((sub) => sub !== view);\n  }\n  return siblings;\n}\n\nfunction point2Normalize(view: View, point: Point): Point {\n  const coord = view.getCoordinate();\n  return coord.invert(point);\n}\n/**\n *  view  view \n * @param view  view\n * @param sibling  view\n * @param point \n * @ignore\n */\nexport function getSiblingPoint(view: View, sibling: View, point: Point): Point {\n  const normalPoint = point2Normalize(view, point);\n  return sibling.getCoordinate().convert(normalPoint);\n}\n\n/**\n *  view \n *  view  includes\n *  x, y  isEqual \n * \n * @param records\n * @param record\n * @param xFiled\n * @param yField\n * @returns\n * @ignore\n */\nexport function isInRecords(records: object[], record: object, xFiled: string, yField: string) {\n  let isIn = false;\n  each(records, (r) => {\n    if (r[xFiled] === record[xFiled] && r[yField] === record[yField]) {\n      isIn = true;\n      return false;\n    }\n  });\n  return isIn;\n}\n\n//  field  scale view  view\nexport function getScaleByField(view: View, field: string) {\n  let scale = view.getScaleByField(field);\n  if (!scale && view.views) {\n    each(view.views, (subView) => {\n      scale = getScaleByField(subView, field);\n      if (scale) {\n        return false; // \n      }\n    });\n  }\n  return scale;\n}\n","import { each, get } from '@antv/util';\nimport { View } from '../chart';\nimport { BBox, IShape, Point } from '../dependents';\nimport { IAction, IInteractionContext, LooseObject } from '../interface';\nimport { getComponents, isInBox } from './action/util';\n\n/**\n * \n */\nexport default class Context implements IInteractionContext {\n  /**  Action */\n  public actions: IAction[] = [];\n  /**  View  */\n  public view: View;\n  /**  */\n  public event: LooseObject = null;\n\n  private cacheMap: LooseObject = {};\n\n  constructor(view: View) {\n    this.view = view;\n  }\n\n  /**\n   * \n   * @param params \n   *  - \n   *  - \n   */\n  public cache(...params) {\n    if (params.length === 1) {\n      return this.cacheMap[params[0]];\n    } else if (params.length === 2) {\n      this.cacheMap[params[0]] = params[1];\n    }\n  }\n\n  /**\n   *  Action\n   * @param name Action \n   */\n  public getAction(name: string): IAction {\n    return this.actions.find((action) => action.name === name);\n  }\n\n  /**\n   *  Action\n   * @param action Action \n   */\n  public addAction(action: IAction) {\n    this.actions.push(action);\n  }\n\n  /**\n   *  Action\n   * @param action Action \n   */\n  public removeAction(action: IAction) {\n    const actions = this.actions;\n    const index = this.actions.indexOf(action);\n    if (index >= 0) {\n      actions.splice(index, 1);\n    }\n  }\n\n  /**\n   * \n   */\n  public getCurrentPoint(): Point {\n    const event = this.event;\n    if (event) {\n      if (event.target instanceof HTMLElement) {\n        const canvas = this.view.getCanvas();\n        const point = canvas.getPointByClient(event.clientX, event.clientY);\n        return point;\n      } else {\n        return {\n          x: event.x,\n          y: event.y,\n        };\n      }\n    }\n    return null;\n  }\n\n  /**\n   *  shape\n   * @returns current shape\n   */\n  public getCurrentShape(): IShape {\n    return get(this.event, ['gEvent', 'shape']);\n  }\n\n  /**\n   *  View \n   */\n  public isInPlot() {\n    const point = this.getCurrentPoint();\n    if (point) {\n      return this.view.isPointInPlot(point);\n    }\n    return false;\n  }\n\n  /**\n   * \n   * @param name shape  name\n   */\n  public isInShape(name) {\n    const shape = this.getCurrentShape(); //  shape  parent \n    if (shape) {\n      return shape.get('name') === name;\n    }\n    return false;\n  }\n\n  /**\n   * \n   * @param name \n   */\n  public isInComponent(name?: string) {\n    const components = getComponents(this.view);\n    const point = this.getCurrentPoint();\n    if (point) {\n      return !!components.find((component) => {\n        const bbox = component.getBBox() as BBox;\n        if (name) {\n          return component.get('name') === name && isInBox(bbox, point);\n        } else {\n          return isInBox(bbox, point);\n        }\n      });\n    }\n    return false;\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    //  action \n    each(this.actions.slice(), (action) => {\n      action.destroy();\n    });\n    this.view = null;\n    this.event = null;\n    this.actions = null;\n    this.cacheMap = null;\n  }\n}\n","import { View } from '../chart';\nimport { LooseObject } from '../interface';\n\nexport type InteractionConstructor = new (view: View, cfg: LooseObject) => Interaction;\n\n/**\n * \n */\nexport default class Interaction {\n  /** view  chart */\n  protected view: View;\n  /**  */\n  protected cfg: LooseObject;\n\n  constructor(view: View, cfg: LooseObject) {\n    this.view = view;\n    this.cfg = cfg;\n  }\n\n  /**\n   * \n   */\n  public init() {\n    this.initEvents();\n  }\n\n  /**\n   * \n   */\n  protected initEvents() {}\n\n  /**\n   * \n   */\n  protected clearEvents() {}\n\n  /**\n   * \n   */\n  public destroy() {\n    this.clearEvents();\n  }\n}\n","import { each, isArray, isFunction, isString, debounce, throttle } from '@antv/util';\nimport { View } from '../chart';\nimport { ActionCallback, IAction, IInteractionContext, LooseObject } from '../interface';\nimport { createAction, createCallbackAction } from './action/register';\nimport InteractionContext from './context';\nimport Interaction from './interaction';\n\n//  action\nexport function parseAction(actionStr: string, context: IInteractionContext, arg?: any): ActionObject {\n  const arr = actionStr.split(':');\n  const actionName = arr[0];\n  //  action  action\n  const action = context.getAction(actionName) || createAction(actionName, context);\n  if (!action) {\n    throw new Error(`There is no action named ${actionName}`);\n  }\n  const methodName = arr[1];\n  return {\n    action,\n    methodName,\n    arg,\n  };\n}\n\n//  Action\nfunction executeAction(actionObject: ActionObject) {\n  const { action, methodName, arg } = actionObject;\n  if (action[methodName]) {\n    action[methodName](arg);\n  } else {\n    throw new Error(`Action(${action.name}) doesn't have a method called ${methodName}`);\n  }\n}\n\nconst STEP_NAMES = {\n  START: 'start',\n  SHOW_ENABLE: 'showEnable',\n  END: 'end',\n  ROLLBACK: 'rollback',\n  PROCESSING: 'processing',\n};\n\n/**  */\nexport interface InteractionStep {\n  /**\n   *  viewchart  documentwindow \n   */\n  trigger: string;\n  /**\n   *  action\n   * @param context - \n   */\n  isEnable?: (context: IInteractionContext) => boolean;\n  /**\n   * \n   * - action:method : action \n   * - [action1:method1, action2:method]\n   * - ActionCallback: \n   */\n  action: string | string[] | ActionCallback;\n  /**\n   *  action method \n   * -  action args \n   */\n  arg?: any | any[];\n  /**\n   * action \n   */\n  callback?: (context: IInteractionContext) => void;\n  /**\n   * @private\n   * \n   */\n  actionObject?: ActionObject | ActionObject[];\n  /**\n   * \n   */\n  once?: boolean;\n  /**\n   * \n   */\n  throttle?: ThrottleOption;\n  /**\n   * \n   */\n  debounce?: DebounceOption;\n}\n\n// action  debounce  throttlehttps://css-tricks.com/debouncing-throttling-explained-examples/\n/**\n * debounce \n */\nexport interface DebounceOption {\n  /**\n   * \n   */\n  wait: number;\n  /**\n   * \n   */\n  immediate?: boolean;\n}\n\n/**\n * throttle \n */\nexport interface ThrottleOption {\n  /**\n   * \n   */\n  wait: number;\n  /**\n   * \n   */\n  leading?: boolean;\n  /**\n   * \n   */\n  trailing?: boolean;\n}\n\n/**  action  */\ninterface ActionObject {\n  /**\n   *  action\n   */\n  action: IAction;\n  /**\n   * action \n   */\n  methodName: string;\n  /**\n   *  action \n   */\n  arg?: any;\n}\n\n/**  */\nexport interface InteractionSteps {\n  /**\n   * \n   */\n  showEnable?: InteractionStep[];\n  /**\n   * \n   */\n  start?: InteractionStep[];\n  /**\n   * \n   */\n  processing?: InteractionStep[];\n  /**\n   * \n   */\n  end?: InteractionStep[];\n  /**\n   * \n   */\n  rollback?: InteractionStep[];\n}\n\n/**\n * \n */\nexport default class GrammarInteraction extends Interaction {\n  // \n  private steps: InteractionSteps;\n  /**  */\n  public currentStepName: string;\n  /**\n   * \n   */\n  public context: IInteractionContext;\n\n  private callbackCaches: LooseObject = {};\n  // \n  private emitCaches: LooseObject = {};\n\n  constructor(view: View, steps: InteractionSteps) {\n    super(view, steps);\n    this.steps = steps;\n  }\n\n  /**\n   * \n   */\n  public init() {\n    this.initContext();\n    super.init();\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    super.destroy(); // \n    this.steps = null;\n    if (this.context) {\n      this.context.destroy();\n      this.context = null;\n    }\n\n    this.callbackCaches = null;\n    this.view = null;\n  }\n\n  /**\n   * \n   */\n  protected initEvents() {\n    each(this.steps, (stepArr, stepName) => {\n      each(stepArr, (step) => {\n        const callback = this.getActionCallback(stepName, step);\n        if (callback) {\n          //  callback callback \n          this.bindEvent(step.trigger, callback);\n        }\n      });\n    });\n  }\n\n  /**\n   * \n   */\n  protected clearEvents() {\n    each(this.steps, (stepArr, stepName) => {\n      each(stepArr, (step) => {\n        const callback = this.getActionCallback(stepName, step);\n        if (callback) {\n          this.offEvent(step.trigger, callback);\n        }\n      });\n    });\n  }\n\n  //  action\n  private initContext() {\n    const view = this.view;\n    const context = new InteractionContext(view);\n    this.context = context;\n    const steps = this.steps;\n    //  Action\n    each(steps, (subSteps: InteractionStep[]) => {\n      each(subSteps, (step: InteractionStep) => {\n        if (isFunction(step.action)) {\n          //  CallbackAction\n          step.actionObject = {\n            action: createCallbackAction(step.action, context),\n            methodName: 'execute',\n          };\n        } else if (isString(step.action)) {\n          // \n          step.actionObject = parseAction(step.action, context, step.arg);\n        } else if (isArray(step.action)) {\n          // \n          const actionArr = step.action;\n          const argArr = isArray(step.arg) ? step.arg : [step.arg];\n          step.actionObject = [];\n          each(actionArr, (actionStr, idx) => {\n            (step.actionObject as ActionObject[]).push(parseAction(actionStr, context, argArr[idx]));\n          });\n        }\n        //  action  actionObject\n      });\n    });\n  }\n\n  // \n  private isAllowStep(stepName: string): boolean {\n    const currentStepName = this.currentStepName;\n    const steps = this.steps;\n    // \n    if (currentStepName === stepName) {\n      return true;\n    }\n\n    if (stepName === STEP_NAMES.SHOW_ENABLE) {\n      // \n      return true;\n    }\n\n    if (stepName === STEP_NAMES.PROCESSING) {\n      //  start  processing\n      return currentStepName === STEP_NAMES.START;\n    }\n\n    if (stepName === STEP_NAMES.START) {\n      //  processing start end \n      return currentStepName !== STEP_NAMES.PROCESSING;\n    }\n\n    if (stepName === STEP_NAMES.END) {\n      return currentStepName === STEP_NAMES.PROCESSING || currentStepName === STEP_NAMES.START;\n    }\n\n    if (stepName === STEP_NAMES.ROLLBACK) {\n      if (steps[STEP_NAMES.END]) {\n        //  end,  end \n        return currentStepName === STEP_NAMES.END;\n      } else if (currentStepName === STEP_NAMES.START) {\n        //  end, \n        return true;\n      }\n    }\n    return false;\n  }\n\n  // \n  private isAllowExecute(stepName: string, step: InteractionStep): boolean {\n    if (this.isAllowStep(stepName)) {\n      const key = this.getKey(stepName, step);\n      // \n      if (step.once && this.emitCaches[key]) {\n        return false;\n      }\n      //  isEnable \n      if (step.isEnable) {\n        return step.isEnable(this.context);\n      }\n      return true; //  isEnable \n    }\n    return false;\n  }\n\n  private enterStep(stepName: string) {\n    this.currentStepName = stepName;\n    this.emitCaches = {}; // \n  }\n\n  // \n  private afterExecute(stepName: string, step) {\n    // show enable  step\n    if (stepName !== STEP_NAMES.SHOW_ENABLE && this.currentStepName !== stepName) {\n      this.enterStep(stepName);\n    }\n    const key = this.getKey(stepName, step);\n    // \n    this.emitCaches[key] = true;\n  }\n  // \n  private getKey(stepName, step) {\n    return stepName + step.trigger + step.action;\n  }\n\n  //  step \n  private getActionCallback(stepName: string, step: InteractionStep): (e: object) => void {\n    const context = this.context;\n    const callbackCaches = this.callbackCaches;\n    const actionObject = step.actionObject;\n    if (step.action && actionObject) {\n      const key = this.getKey(stepName, step);\n      if (!callbackCaches[key]) {\n        //  action \n        const actionCallback = (event) => {\n          context.event = event; //  event\n          if (this.isAllowExecute(stepName, step)) {\n            // \n            if (isArray(actionObject)) {\n              each(actionObject, (obj: ActionObject) => {\n                context.event = event; //  context.event \n                executeAction(obj);\n              });\n            } else {\n              context.event = event; //  context.event \n              executeAction(actionObject);\n            }\n            this.afterExecute(stepName, step);\n            if (step.callback) {\n              context.event = event; //  context.event \n              step.callback(context);\n            }\n          } else {\n            // \n            context.event = null;\n          }\n        };\n        //  debounce\n        if (step.debounce) {\n          callbackCaches[key] = debounce(actionCallback, step.debounce.wait, step.debounce.immediate);\n        } else if (step.throttle) {\n          //  throttle\n          callbackCaches[key] = throttle(actionCallback, step.throttle.wait, {\n            leading: step.throttle.leading,\n            trailing: step.throttle.trailing,\n          });\n        } else {\n          // \n          callbackCaches[key] = actionCallback;\n        }\n      }\n      return callbackCaches[key];\n    }\n    return null;\n  }\n\n  private bindEvent(eventName, callback) {\n    const nameArr = eventName.split(':');\n    if (nameArr[0] === 'window') {\n      window.addEventListener(nameArr[1], callback);\n    } else if (nameArr[0] === 'document') {\n      document.addEventListener(nameArr[1], callback);\n    } else {\n      this.view.on(eventName, callback);\n    }\n  }\n\n  private offEvent(eventName, callback) {\n    const nameArr = eventName.split(':');\n    if (nameArr[0] === 'window') {\n      window.removeEventListener(nameArr[1], callback);\n    } else if (nameArr[0] === 'document') {\n      document.removeEventListener(nameArr[1], callback);\n    } else {\n      this.view.off(eventName, callback);\n    }\n  }\n}\n","import { clone, isPlainObject, lowerCase, mix } from '@antv/util';\nimport { View } from '../chart';\nimport { LooseObject } from '../interface';\nimport GrammarInteraction, { InteractionSteps } from './grammar-interaction';\nimport { InteractionConstructor } from './interaction';\n\nconst Interactions: LooseObject = {};\n\n/**\n * \n * @param name \n * @returns \n */\nexport function getInteraction(name: string): InteractionSteps | InteractionConstructor {\n  return Interactions[lowerCase(name)];\n}\n\n/**\n * \n * @param name \n * @param interaction \n */\nexport function registerInteraction(name: string, interaction: InteractionSteps | InteractionConstructor) {\n  Interactions[lowerCase(name)] = interaction;\n}\n\n/**\n * \n * @param name \n * @param view  View \n * @param cfg \n */\nexport function createInteraction(name: string, view: View, cfg?: LooseObject) {\n  const interaciton = getInteraction(name);\n  if (!interaciton) {\n    return null;\n  }\n  if (isPlainObject(interaciton)) {\n    //  clone  interaction  step \n    const steps = mix(clone(interaciton), cfg) as InteractionSteps;\n    return new GrammarInteraction(view, steps);\n  } else {\n    const cls = interaciton as InteractionConstructor;\n    return new cls(view, cfg);\n  }\n}\n\nexport { default as Interaction } from './interaction';\nexport { Action, registerAction, getActionClass } from './action';\n","import { TOOLTIP_CSS_CONST } from '@antv/component';\nimport { ext } from '@antv/matrix-util';\nimport { deepMix } from '@antv/util';\nimport Element from '../../geometry/element';\nimport { LooseObject, StyleSheet } from '../../interface';\nimport { getAngle } from '../../util/graphics';\n\n/**\n *  axis \n * @param styleSheet\n */\nfunction createAxisStyles(styleSheet: StyleSheet): LooseObject {\n  return {\n    title: {\n      autoRotate: true,\n      position: 'center', // start, center, end\n      spacing: styleSheet.axisTitleSpacing,\n      style: {\n        fill: styleSheet.axisTitleTextFillColor,\n        fontSize: styleSheet.axisTitleTextFontSize,\n        lineHeight: styleSheet.axisTitleTextLineHeight,\n        textBaseline: 'middle',\n        fontFamily: styleSheet.fontFamily,\n      },\n    },\n    label: {\n      autoRotate: false,\n      autoEllipsis: false,\n      autoHide: { type: 'equidistance', cfg: { minGap: 6 } },\n      offset: styleSheet.axisLabelOffset,\n      style: {\n        fill: styleSheet.axisLabelFillColor,\n        fontSize: styleSheet.axisLabelFontSize,\n        lineHeight: styleSheet.axisLabelLineHeight,\n        fontFamily: styleSheet.fontFamily,\n      },\n    },\n    line: {\n      style: {\n        lineWidth: styleSheet.axisLineBorder,\n        stroke: styleSheet.axisLineBorderColor,\n      },\n    },\n    grid: {\n      line: {\n        type: 'line',\n        style: {\n          stroke: styleSheet.axisGridBorderColor,\n          lineWidth: styleSheet.axisGridBorder,\n          lineDash: styleSheet.axisGridLineDash,\n        },\n      },\n      alignTick: true,\n      animate: true,\n    },\n    tickLine: {\n      style: {\n        lineWidth: styleSheet.axisTickLineBorder,\n        stroke: styleSheet.axisTickLineBorderColor,\n      },\n      alignTick: true, // \n      length: styleSheet.axisTickLineLength,\n    },\n    subTickLine: null,\n    animate: true,\n  };\n}\n\n/**\n *\n * @param styleSheet\n */\n// export function\n\n/**\n *  legend \n * @param styleSheet\n */\nfunction createLegendStyles(styleSheet: StyleSheet): LooseObject {\n  return {\n    title: null,\n    marker: {\n      symbol: 'circle',\n      spacing: styleSheet.legendMarkerSpacing,\n      style: {\n        r: styleSheet.legendCircleMarkerSize,\n        fill: styleSheet.legendMarkerColor,\n      },\n    },\n    itemName: {\n      spacing: 5, //  value \n      style: {\n        fill: styleSheet.legendItemNameFillColor,\n        fontFamily: styleSheet.fontFamily,\n        fontSize: styleSheet.legendItemNameFontSize,\n        lineHeight: styleSheet.legendItemNameLineHeight,\n        fontWeight: styleSheet.legendItemNameFontWeight,\n        textAlign: 'start',\n        textBaseline: 'middle',\n      },\n    },\n    itemStates: {\n      active: {\n        nameStyle: {\n          opacity: 0.8,\n        },\n      },\n      unchecked: {\n        nameStyle: {\n          fill: '#D8D8D8',\n        },\n        markerStyle: {\n          fill: '#D8D8D8',\n          stroke: '#D8D8D8',\n        },\n      },\n      inactive: {\n        nameStyle: {\n          fill: '#D8D8D8',\n        },\n        markerStyle: {\n          opacity: 0.2,\n        },\n      },\n    },\n    flipPage: true,\n    pageNavigator: {\n      marker: {\n        style: {\n          size: styleSheet.legendPageNavigatorMarkerSize,\n          inactiveFill: styleSheet.legendPageNavigatorMarkerInactiveFillColor,\n          inactiveOpacity: styleSheet.legendPageNavigatorMarkerInactiveFillOpacity,\n          fill: styleSheet.legendPageNavigatorMarkerFillColor,\n          opacity: styleSheet.legendPageNavigatorMarkerFillOpacity,\n        },\n      },\n      text: {\n        style: {\n          fill: styleSheet.legendPageNavigatorTextFillColor,\n          fontSize: styleSheet.legendPageNavigatorTextFontSize,\n        },\n      },\n    },\n    animate: false,\n    maxItemWidth: 200,\n    itemSpacing: styleSheet.legendItemSpacing,\n    itemMarginBottom: styleSheet.legendItemMarginBottom,\n    padding: styleSheet.legendPadding, // \n  };\n}\n\n/**\n * \n * @param styleSheet \n */\nexport function createThemeByStyleSheet(styleSheet: StyleSheet): LooseObject {\n  const shapeStyles = {\n    point: {\n      default: {\n        fill: styleSheet.pointFillColor,\n        r: styleSheet.pointSize,\n        stroke: styleSheet.pointBorderColor,\n        lineWidth: styleSheet.pointBorder,\n        fillOpacity: styleSheet.pointFillOpacity,\n      },\n      active: {\n        stroke: styleSheet.pointActiveBorderColor,\n        lineWidth: styleSheet.pointActiveBorder,\n      },\n      selected: {\n        stroke: styleSheet.pointSelectedBorderColor,\n        lineWidth: styleSheet.pointSelectedBorder,\n      },\n      inactive: {\n        fillOpacity: styleSheet.pointInactiveFillOpacity,\n        strokeOpacity: styleSheet.pointInactiveBorderOpacity,\n      },\n    },\n    hollowPoint: {\n      default: {\n        fill: styleSheet.hollowPointFillColor,\n        lineWidth: styleSheet.hollowPointBorder,\n        stroke: styleSheet.hollowPointBorderColor,\n        strokeOpacity: styleSheet.hollowPointBorderOpacity,\n        r: styleSheet.hollowPointSize,\n      },\n      active: {\n        stroke: styleSheet.hollowPointActiveBorderColor,\n        strokeOpacity: styleSheet.hollowPointActiveBorderOpacity,\n      },\n      selected: {\n        lineWidth: styleSheet.hollowPointSelectedBorder,\n        stroke: styleSheet.hollowPointSelectedBorderColor,\n        strokeOpacity: styleSheet.hollowPointSelectedBorderOpacity,\n      },\n      inactive: {\n        strokeOpacity: styleSheet.hollowPointInactiveBorderOpacity,\n      },\n    },\n    area: {\n      default: {\n        fill: styleSheet.areaFillColor,\n        fillOpacity: styleSheet.areaFillOpacity,\n        stroke: null,\n      },\n      active: {\n        fillOpacity: styleSheet.areaActiveFillOpacity,\n      },\n      selected: {\n        fillOpacity: styleSheet.areaSelectedFillOpacity,\n      },\n      inactive: {\n        fillOpacity: styleSheet.areaInactiveFillOpacity,\n      },\n    },\n    hollowArea: {\n      default: {\n        fill: null,\n        stroke: styleSheet.hollowAreaBorderColor,\n        lineWidth: styleSheet.hollowAreaBorder,\n        strokeOpacity: styleSheet.hollowAreaBorderOpacity,\n      },\n      active: {\n        fill: null,\n        lineWidth: styleSheet.hollowAreaActiveBorder,\n      },\n      selected: {\n        fill: null,\n        lineWidth: styleSheet.hollowAreaSelectedBorder,\n      },\n      inactive: {\n        strokeOpacity: styleSheet.hollowAreaInactiveBorderOpacity,\n      },\n    },\n    interval: {\n      default: {\n        fill: styleSheet.intervalFillColor,\n        fillOpacity: styleSheet.intervalFillOpacity,\n      },\n      active: {\n        stroke: styleSheet.intervalActiveBorderColor,\n        lineWidth: styleSheet.intervalActiveBorder,\n      },\n      selected: {\n        stroke: styleSheet.intervalSelectedBorderColor,\n        lineWidth: styleSheet.intervalSelectedBorder,\n      },\n      inactive: {\n        fillOpacity: styleSheet.intervalInactiveFillOpacity,\n        strokeOpacity: styleSheet.intervalInactiveBorderOpacity,\n      },\n    },\n    hollowInterval: {\n      default: {\n        fill: styleSheet.hollowIntervalFillColor,\n        stroke: styleSheet.hollowIntervalBorderColor,\n        lineWidth: styleSheet.hollowIntervalBorder,\n        strokeOpacity: styleSheet.hollowIntervalBorderOpacity,\n      },\n      active: {\n        stroke: styleSheet.hollowIntervalActiveBorderColor,\n        lineWidth: styleSheet.hollowIntervalActiveBorder,\n        strokeOpacity: styleSheet.hollowIntervalActiveBorderOpacity,\n      },\n      selected: {\n        stroke: styleSheet.hollowIntervalSelectedBorderColor,\n        lineWidth: styleSheet.hollowIntervalSelectedBorder,\n        strokeOpacity: styleSheet.hollowIntervalSelectedBorderOpacity,\n      },\n      inactive: {\n        stroke: styleSheet.hollowIntervalInactiveBorderColor,\n        lineWidth: styleSheet.hollowIntervalInactiveBorder,\n        strokeOpacity: styleSheet.hollowIntervalInactiveBorderOpacity,\n      },\n    },\n    line: {\n      default: {\n        stroke: styleSheet.lineBorderColor,\n        lineWidth: styleSheet.lineBorder,\n        strokeOpacity: styleSheet.lineBorderOpacity,\n        fill: null,\n        lineAppendWidth: 10,\n        lineCap: 'round',\n        lineJoin: 'round',\n      },\n      active: {\n        lineWidth: styleSheet.lineActiveBorder,\n      },\n      selected: {\n        lineWidth: styleSheet.lineSelectedBorder,\n      },\n      inactive: {\n        strokeOpacity: styleSheet.lineInactiveBorderOpacity,\n      },\n    },\n  };\n  const axisStyles = createAxisStyles(styleSheet);\n  const legendStyles = createLegendStyles(styleSheet);\n\n  return {\n    background: styleSheet.backgroundColor,\n    defaultColor: styleSheet.brandColor,\n    subColor: styleSheet.subColor,\n    semanticRed: styleSheet.paletteSemanticRed,\n    semanticGreen: styleSheet.paletteSemanticGreen,\n    padding: 'auto',\n    fontFamily: styleSheet.fontFamily,\n    // Theme\n    /** geometrygeometrynull */\n    columnWidthRatio: 1 / 2,\n    /**  */\n    maxColumnWidth: null,\n    /**  */\n    minColumnWidth: null,\n    /**  */\n    roseWidthRatio: 0.9999999,\n    /** / */\n    multiplePieWidthRatio: 1 / 1.3,\n    colors10: styleSheet.paletteQualitative10,\n    colors20: styleSheet.paletteQualitative20,\n    sequenceColors: styleSheet.paletteSequence,\n    shapes: {\n      point: [\n        'hollow-circle',\n        'hollow-square',\n        'hollow-bowtie',\n        'hollow-diamond',\n        'hollow-hexagon',\n        'hollow-triangle',\n        'hollow-triangle-down',\n        'circle',\n        'square',\n        'bowtie',\n        'diamond',\n        'hexagon',\n        'triangle',\n        'triangle-down',\n        'cross',\n        'tick',\n        'plus',\n        'hyphen',\n        'line',\n      ],\n      line: ['line', 'dash', 'dot', 'smooth'],\n      area: ['area', 'smooth', 'line', 'smooth-line'],\n      interval: ['rect', 'hollow-rect', 'line', 'tick'],\n    },\n    sizes: [1, 10],\n    geometries: {\n      interval: {\n        rect: {\n          default: {\n            style: shapeStyles.interval.default,\n          },\n          active: {\n            style: shapeStyles.interval.active,\n          },\n          inactive: {\n            style: shapeStyles.interval.inactive,\n          },\n          selected: {\n            style: (element: Element) => {\n              const coordinate = element.geometry.coordinate;\n              if (coordinate.isPolar && coordinate.isTransposed) {\n                const { startAngle, endAngle } = getAngle(element.getModel(), coordinate);\n                const middleAngle = (startAngle + endAngle) / 2;\n                const r = 7.5;\n                const x = r * Math.cos(middleAngle);\n                const y = r * Math.sin(middleAngle);\n                return {\n                  matrix: ext.transform(null, [['t', x, y]]),\n                };\n              }\n              return shapeStyles.interval.selected;\n            },\n          },\n        },\n        'hollow-rect': {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n        line: {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n        tick: {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n        funnel: {\n          default: {\n            style: shapeStyles.interval.default,\n          },\n          active: {\n            style: shapeStyles.interval.active,\n          },\n          inactive: {\n            style: shapeStyles.interval.inactive,\n          },\n          selected: {\n            style: shapeStyles.interval.selected,\n          },\n        },\n        pyramid: {\n          default: {\n            style: shapeStyles.interval.default,\n          },\n          active: {\n            style: shapeStyles.interval.active,\n          },\n          inactive: {\n            style: shapeStyles.interval.inactive,\n          },\n          selected: {\n            style: shapeStyles.interval.selected,\n          },\n        },\n      },\n      line: {\n        line: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        dot: {\n          default: {\n            style: {\n              ...shapeStyles.line.default,\n              lineCap: null,\n              lineDash: [1, 1],\n            },\n          },\n          active: {\n            style: {\n              ...shapeStyles.line.active,\n              lineCap: null,\n              lineDash: [1, 1],\n            },\n          },\n          inactive: {\n            style: {\n              ...shapeStyles.line.inactive,\n              lineCap: null,\n              lineDash: [1, 1],\n            },\n          },\n          selected: {\n            style: {\n              ...shapeStyles.line.selected,\n              lineCap: null,\n              lineDash: [1, 1],\n            },\n          },\n        },\n        dash: {\n          default: {\n            style: {\n              ...shapeStyles.line.default,\n              lineCap: null,\n              lineDash: [5.5, 1],\n            },\n          },\n          active: {\n            style: {\n              ...shapeStyles.line.active,\n              lineCap: null,\n              lineDash: [5.5, 1],\n            },\n          },\n          inactive: {\n            style: {\n              ...shapeStyles.line.inactive,\n              lineCap: null,\n              lineDash: [5.5, 1],\n            },\n          },\n          selected: {\n            style: {\n              ...shapeStyles.line.selected,\n              lineCap: null,\n              lineDash: [5.5, 1],\n            },\n          },\n        },\n        smooth: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        hv: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        vh: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        hvh: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        vhv: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n      },\n      polygon: {\n        polygon: {\n          default: {\n            style: shapeStyles.interval.default,\n          },\n          active: {\n            style: shapeStyles.interval.active,\n          },\n          inactive: {\n            style: shapeStyles.interval.inactive,\n          },\n          selected: {\n            style: shapeStyles.interval.selected,\n          },\n        },\n      },\n      point: {\n        circle: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        square: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        bowtie: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        diamond: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        hexagon: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        triangle: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        'triangle-down': {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        'hollow-circle': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-square': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-bowtie': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-diamond': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-hexagon': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-triangle': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-triangle-down': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        cross: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        tick: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        plus: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        hyphen: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        line: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n      },\n      area: {\n        area: {\n          default: {\n            style: shapeStyles.area.default,\n          },\n          active: {\n            style: shapeStyles.area.active,\n          },\n          inactive: {\n            style: shapeStyles.area.inactive,\n          },\n          selected: {\n            style: shapeStyles.area.selected,\n          },\n        },\n        smooth: {\n          default: {\n            style: shapeStyles.area.default,\n          },\n          active: {\n            style: shapeStyles.area.active,\n          },\n          inactive: {\n            style: shapeStyles.area.inactive,\n          },\n          selected: {\n            style: shapeStyles.area.selected,\n          },\n        },\n        line: {\n          default: {\n            style: shapeStyles.hollowArea.default,\n          },\n          active: {\n            style: shapeStyles.hollowArea.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowArea.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowArea.selected,\n          },\n        },\n        'smooth-line': {\n          default: {\n            style: shapeStyles.hollowArea.default,\n          },\n          active: {\n            style: shapeStyles.hollowArea.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowArea.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowArea.selected,\n          },\n        },\n      },\n      schema: {\n        candle: {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n        box: {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n      },\n      edge: {\n        line: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        vhv: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        smooth: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        arc: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n      },\n      violin: {\n        violin: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        smooth: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        hollow: {\n          default: {\n            style: shapeStyles.hollowArea.default,\n          },\n          active: {\n            style: shapeStyles.hollowArea.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowArea.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowArea.selected,\n          },\n        },\n        'hollow-smooth': {\n          default: {\n            style: shapeStyles.hollowArea.default,\n          },\n          active: {\n            style: shapeStyles.hollowArea.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowArea.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowArea.selected,\n          },\n        },\n      },\n    },\n    components: {\n      axis: {\n        common: axisStyles,\n        top: {\n          position: 'top',\n          grid: null,\n          title: null,\n          verticalLimitLength: 1 / 2,\n        },\n        bottom: {\n          position: 'bottom',\n          grid: null,\n          title: null,\n          verticalLimitLength: 1 / 2,\n        },\n        left: {\n          position: 'left',\n          title: null,\n          line: null,\n          tickLine: null,\n          verticalLimitLength: 1 / 3,\n        },\n        right: {\n          position: 'right',\n          title: null,\n          line: null,\n          tickLine: null,\n          verticalLimitLength: 1 / 3,\n        },\n        circle: {\n          title: null,\n          grid: deepMix({}, axisStyles.grid, { line: { type: 'line' } }),\n        },\n        radius: {\n          title: null,\n          grid: deepMix({}, axisStyles.grid, { line: { type: 'circle' } }),\n        },\n      },\n      legend: {\n        common: legendStyles,\n        right: {\n          layout: 'vertical',\n          padding: styleSheet.legendVerticalPadding,\n        },\n        left: {\n          layout: 'vertical',\n          padding: styleSheet.legendVerticalPadding,\n        },\n        top: {\n          layout: 'horizontal',\n          padding: styleSheet.legendHorizontalPadding,\n        },\n        bottom: {\n          layout: 'horizontal',\n          padding: styleSheet.legendHorizontalPadding,\n        },\n        continuous: {\n          title: null,\n          background: null,\n          track: {},\n          rail: {\n            type: 'color',\n            size: styleSheet.sliderRailHeight,\n            defaultLength: styleSheet.sliderRailWidth,\n            style: {\n              fill: styleSheet.sliderRailFillColor,\n              stroke: styleSheet.sliderRailBorderColor,\n              lineWidth: styleSheet.sliderRailBorder,\n            },\n          },\n          label: {\n            align: 'rail',\n            spacing: 4, //  rail \n            formatter: null,\n            style: {\n              fill: styleSheet.sliderLabelTextFillColor,\n              fontSize: styleSheet.sliderLabelTextFontSize,\n              lineHeight: styleSheet.sliderLabelTextLineHeight,\n              textBaseline: 'middle',\n              fontFamily: styleSheet.fontFamily,\n            },\n          },\n          handler: {\n            size: styleSheet.sliderHandlerWidth,\n            style: {\n              fill: styleSheet.sliderHandlerFillColor,\n              stroke: styleSheet.sliderHandlerBorderColor,\n            },\n          },\n          slidable: true,\n          padding: legendStyles.padding,\n        },\n      },\n      tooltip: {\n        showContent: true,\n        follow: true,\n        showCrosshairs: false,\n        showMarkers: true,\n        shared: false,\n        enterable: false,\n        position: 'auto',\n        marker: {\n          symbol: 'circle',\n          stroke: '#fff',\n          shadowBlur: 10,\n          shadowOffsetX: 0,\n          shadowOffsetY: 0,\n          shadowColor: 'rgba(0,0,0,0.09)',\n          lineWidth: 2,\n          r: 4,\n        },\n        crosshairs: {\n          line: {\n            style: {\n              stroke: styleSheet.tooltipCrosshairsBorderColor,\n              lineWidth: styleSheet.tooltipCrosshairsBorder,\n            },\n          },\n          text: null,\n          textBackground: {\n            padding: 2,\n            style: {\n              fill: 'rgba(0, 0, 0, 0.25)',\n              lineWidth: 0,\n              stroke: null,\n            },\n          },\n          follow: false,\n        },\n        // tooltip dom \n        domStyles: {\n          [`${TOOLTIP_CSS_CONST.CONTAINER_CLASS}`]: {\n            position: 'absolute',\n            visibility: 'hidden',\n            zIndex: 8,\n            transition: 'left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s',\n            backgroundColor: styleSheet.tooltipContainerFillColor,\n            opacity: styleSheet.tooltipContainerFillOpacity,\n            boxShadow: styleSheet.tooltipContainerShadow,\n            borderRadius: `${styleSheet.tooltipContainerBorderRadius}px`,\n            color: styleSheet.tooltipTextFillColor,\n            fontSize: `${styleSheet.tooltipTextFontSize}px`,\n            fontFamily: styleSheet.fontFamily,\n            lineHeight: `${styleSheet.tooltipTextLineHeight}px`,\n            padding: '0 12px 0 12px',\n          },\n          [`${TOOLTIP_CSS_CONST.TITLE_CLASS}`]: {\n            marginBottom: '12px',\n            marginTop: '12px',\n          },\n          [`${TOOLTIP_CSS_CONST.LIST_CLASS}`]: {\n            margin: 0,\n            listStyleType: 'none',\n            padding: 0,\n          },\n          [`${TOOLTIP_CSS_CONST.LIST_ITEM_CLASS}`]: {\n            listStyleType: 'none',\n            padding: 0,\n            marginBottom: '12px',\n            marginTop: '12px',\n            marginLeft: 0,\n            marginRight: 0,\n          },\n          [`${TOOLTIP_CSS_CONST.MARKER_CLASS}`]: {\n            width: '8px',\n            height: '8px',\n            borderRadius: '50%',\n            display: 'inline-block',\n            marginRight: '8px',\n          },\n          [`${TOOLTIP_CSS_CONST.VALUE_CLASS}`]: {\n            display: 'inline-block',\n            float: 'right',\n            marginLeft: '30px',\n          },\n        },\n      },\n      annotation: {\n        arc: {\n          style: {\n            stroke: styleSheet.annotationArcBorderColor,\n            lineWidth: styleSheet.annotationArcBorder,\n          },\n          animate: true,\n        },\n        line: {\n          style: {\n            stroke: styleSheet.annotationLineBorderColor,\n            lineDash: styleSheet.annotationLineDash,\n            lineWidth: styleSheet.annotationLineBorder,\n          },\n          text: {\n            position: 'start',\n            autoRotate: true,\n            style: {\n              fill: styleSheet.annotationTextFillColor,\n              stroke: styleSheet.annotationTextBorderColor,\n              lineWidth: styleSheet.annotationTextBorder,\n              fontSize: styleSheet.annotationTextFontSize,\n              textAlign: 'start',\n              fontFamily: styleSheet.fontFamily,\n              textBaseline: 'bottom',\n            },\n          },\n          animate: true,\n        },\n        text: {\n          style: {\n            fill: styleSheet.annotationTextFillColor,\n            stroke: styleSheet.annotationTextBorderColor,\n            lineWidth: styleSheet.annotationTextBorder,\n            fontSize: styleSheet.annotationTextFontSize,\n            textBaseline: 'middle',\n            textAlign: 'start',\n            fontFamily: styleSheet.fontFamily,\n          },\n          animate: true,\n        },\n        region: {\n          top: false,\n          style: {\n            lineWidth: styleSheet.annotationRegionBorder,\n            stroke: styleSheet.annotationRegionBorderColor,\n            fill: styleSheet.annotationRegionFillColor,\n            fillOpacity: styleSheet.annotationRegionFillOpacity,\n          }, // \n          animate: true,\n        },\n        image: {\n          top: false,\n          animate: true,\n        },\n        dataMarker: {\n          top: true,\n          point: {\n            style: {\n              r: 3,\n              stroke: styleSheet.brandColor,\n              lineWidth: 2,\n            },\n          },\n          line: {\n            style: {\n              stroke: styleSheet.annotationLineBorderColor,\n              lineWidth: styleSheet.annotationLineBorder,\n            },\n            length: styleSheet.annotationDataMarkerLineLength,\n          },\n          text: {\n            style: {\n              textAlign: 'start',\n              fill: styleSheet.annotationTextFillColor,\n              stroke: styleSheet.annotationTextBorderColor,\n              lineWidth: styleSheet.annotationTextBorder,\n              fontSize: styleSheet.annotationTextFontSize,\n              fontFamily: styleSheet.fontFamily,\n            },\n          },\n          direction: 'upward',\n          autoAdjust: true,\n          animate: true,\n        },\n        dataRegion: {\n          style: {\n            region: {\n              fill: styleSheet.annotationRegionFillColor,\n              fillOpacity: styleSheet.annotationRegionFillOpacity,\n            },\n            text: {\n              textAlign: 'center',\n              textBaseline: 'bottom',\n              fill: styleSheet.annotationTextFillColor,\n              stroke: styleSheet.annotationTextBorderColor,\n              lineWidth: styleSheet.annotationTextBorder,\n              fontSize: styleSheet.annotationTextFontSize,\n              fontFamily: styleSheet.fontFamily,\n            },\n          },\n          animate: true,\n        },\n      },\n      slider: {\n        common: {\n          padding: [8, 8, 8, 8],\n          backgroundStyle: {\n            fill: styleSheet.cSliderBackgroundFillColor,\n            opacity: styleSheet.cSliderBackgroundFillOpacity,\n          },\n          foregroundStyle: {\n            fill: styleSheet.cSliderForegroundFillColor,\n            opacity: styleSheet.cSliderForegroundFillOpacity,\n          },\n          handlerStyle: {\n            width: styleSheet.cSliderHandlerWidth,\n            height: styleSheet.cSliderHandlerHeight,\n            fill: styleSheet.cSliderHandlerFillColor,\n            opacity: styleSheet.cSliderHandlerFillOpacity,\n            stroke: styleSheet.cSliderHandlerBorderColor,\n            lineWidth: styleSheet.cSliderHandlerBorder,\n            radius: styleSheet.cSliderHandlerBorderRadius,\n            // \n            highLightFill: styleSheet.cSliderHandlerHighlightFillColor,\n          },\n          textStyle: {\n            fill: styleSheet.cSliderTextFillColor,\n            opacity: styleSheet.cSliderTextFillOpacity,\n            fontSize: styleSheet.cSliderTextFontSize,\n            lineHeight: styleSheet.cSliderTextLineHeight,\n            fontWeight: styleSheet.cSliderTextFontWeight,\n            stroke: styleSheet.cSliderTextBorderColor,\n            lineWidth: styleSheet.cSliderTextBorder,\n          },\n        },\n      },\n      scrollbar: {\n        common: {\n          padding: [8, 8, 8, 8],\n        },\n        default: {\n          style: {\n            trackColor: styleSheet.scrollbarTrackFillColor,\n            thumbColor: styleSheet.scrollbarThumbFillColor,\n          },\n        },\n        hover: {\n          style: {\n            thumbColor: styleSheet.scrollbarThumbHighlightFillColor,\n          },\n        },\n      },\n    },\n    labels: {\n      offset: 12,\n      style: {\n        fill: styleSheet.labelFillColor,\n        fontSize: styleSheet.labelFontSize,\n        fontFamily: styleSheet.fontFamily,\n        stroke: styleSheet.labelBorderColor,\n        lineWidth: styleSheet.labelBorder,\n      },\n      fillColorDark: styleSheet.labelFillColorDark,\n      fillColorLight: styleSheet.labelFillColorLight,\n      autoRotate: true,\n    },\n    innerLabels: {\n      style: {\n        fill: styleSheet.innerLabelFillColor,\n        fontSize: styleSheet.innerLabelFontSize,\n        fontFamily: styleSheet.fontFamily,\n        stroke: styleSheet.innerLabelBorderColor,\n        lineWidth: styleSheet.innerLabelBorder,\n      },\n      autoRotate: true,\n    },\n    overflowLabels: {\n      style: {\n        fill: styleSheet.overflowLabelFillColor,\n        fontSize: styleSheet.overflowLabelFontSize,\n        fontFamily: styleSheet.fontFamily,\n        stroke: styleSheet.overflowLabelBorderColor,\n        lineWidth: styleSheet.overflowLabelBorder,\n      },\n    },\n    pieLabels: {\n      labelHeight: 14,\n      offset: 10,\n      labelLine: {\n        style: {\n          lineWidth: styleSheet.labelLineBorder,\n        },\n      },\n      autoRotate: true,\n    },\n  };\n}\n","import { StyleSheetCfg } from '../../interface';\n\nconst BLACK_COLORS = {\n  100: '#000',\n  95: '#0D0D0D',\n  85: '#262626',\n  65: '#595959',\n  45: '#8C8C8C',\n  25: '#BFBFBF',\n  15: '#D9D9D9',\n  6: '#F0F0F0',\n};\n\nconst WHITE_COLORS = {\n  100: '#FFFFFF',\n  95: '#F2F2F2',\n  85: '#D9D9D9',\n  65: '#A6A6A6',\n  45: '#737373',\n  25: '#404040',\n  15: '#262626',\n  6: '#0F0F0F',\n};\n\nconst QUALITATIVE_10 = [\n  '#5B8FF9',\n  '#5AD8A6',\n  '#5D7092',\n  '#F6BD16',\n  '#6F5EF9',\n  '#6DC8EC',\n  '#945FB9',\n  '#FF9845',\n  '#1E9493',\n  '#FF99C3',\n];\n\nconst QUALITATIVE_20 = [\n  '#5B8FF9',\n  '#CDDDFD',\n  '#5AD8A6',\n  '#CDF3E4',\n  '#5D7092',\n  '#CED4DE',\n  '#F6BD16',\n  '#FCEBB9',\n  '#6F5EF9',\n  '#D3CEFD',\n  '#6DC8EC',\n  '#D3EEF9',\n  '#945FB9',\n  '#DECFEA',\n  '#FF9845',\n  '#FFE0C7',\n  '#1E9493',\n  '#BBDEDE',\n  '#FF99C3',\n  '#FFE0ED',\n];\n\n/**  */\nconst SINGLE_SEQUENCE = [\n  '#B8E1FF',\n  '#9AC5FF',\n  '#7DAAFF',\n  '#5B8FF9',\n  '#3D76DD',\n  '#085EC0',\n  '#0047A5',\n  '#00318A',\n  '#001D70',\n];\n\nexport const createLightStyleSheet = (cfg: StyleSheetCfg = {}) => {\n  const {\n    backgroundColor = 'transparent',\n    subColor = 'rgba(0,0,0,0.05)',\n    paletteQualitative10 = QUALITATIVE_10,\n    paletteQualitative20 = QUALITATIVE_20,\n    paletteSemanticRed = '#F4664A',\n    paletteSemanticGreen = '#30BF78',\n    paletteSemanticYellow = '#FAAD14',\n    paletteSequence = SINGLE_SEQUENCE,\n    fontFamily = `\"Segoe UI\", Roboto, \"Helvetica Neue\", Arial,\n    \"Noto Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\",\n    \"Noto Color Emoji\"`,\n  } = cfg;\n  const { brandColor = paletteQualitative10[0] } = cfg;\n\n  return {\n    /**  */\n    backgroundColor,\n    /**  */\n    brandColor,\n    /**  */\n    subColor,\n    /**  1 10  */\n    paletteQualitative10,\n    /**  2 10  */\n    paletteQualitative20,\n    /**  */\n    paletteSemanticRed,\n    /**  */\n    paletteSemanticGreen,\n    /**  */\n    paletteSemanticYellow,\n    /** () */\n    paletteSequence,\n    /**  */\n    fontFamily,\n\n    // --------------------  --------------------\n    /**  */\n    axisLineBorderColor: BLACK_COLORS[25],\n    /**  */\n    axisLineBorder: 1,\n    /**  lineDash  */\n    axisLineDash: null,\n\n    /**  */\n    axisTitleTextFillColor: BLACK_COLORS[65],\n    /**  */\n    axisTitleTextFontSize: 12,\n    /**  */\n    axisTitleTextLineHeight: 12,\n    /**  */\n    axisTitleTextFontWeight: 'normal',\n    /**  */\n    axisTitleSpacing: 12,\n\n    /**  */\n    axisTickLineBorderColor: BLACK_COLORS[25],\n    /**  */\n    axisTickLineLength: 4,\n    /**  */\n    axisTickLineBorder: 1,\n\n    /**  */\n    axisSubTickLineBorderColor: BLACK_COLORS[15],\n    /**  */\n    axisSubTickLineLength: 2,\n    /**  */\n    axisSubTickLineBorder: 1,\n\n    /**  */\n    axisLabelFillColor: BLACK_COLORS[45],\n    /**  */\n    axisLabelFontSize: 12,\n    /**  */\n    axisLabelLineHeight: 12,\n    /**  */\n    axisLabelFontWeight: 'normal',\n    /**  */\n    axisLabelOffset: 8,\n\n    /**  */\n    axisGridBorderColor: BLACK_COLORS[15],\n    /**  */\n    axisGridBorder: 1,\n    /**  */\n    axisGridLineDash: null,\n\n    // --------------------  --------------------\n    /**  */\n    legendTitleTextFillColor: BLACK_COLORS[45],\n    /**  */\n    legendTitleTextFontSize: 12,\n    /**  */\n    legendTitleTextLineHeight: 21,\n    /**  */\n    legendTitleTextFontWeight: 'normal',\n\n    /**  marker  */\n    legendMarkerColor: brandColor,\n    /**  marker  */\n    legendMarkerSpacing: 8,\n    /**  marker  */\n    legendMarkerSize: 4,\n    /**  'circle' marker  */\n    legendCircleMarkerSize: 4,\n    /**  'square' marker  */\n    legendSquareMarkerSize: 4,\n    /**  'line' marker  */\n    legendLineMarkerSize: 5,\n\n    /**  */\n    legendItemNameFillColor: BLACK_COLORS[65],\n    /**  */\n    legendItemNameFontSize: 12,\n    /**  */\n    legendItemNameLineHeight: 12,\n    /**  */\n    legendItemNameFontWeight: 'normal',\n    /**  */\n    legendItemSpacing: 24,\n    /**  */\n    legendItemMarginBottom: 12,\n    /**   */\n    legendPadding: [8, 8, 8, 8],\n    /**  */\n    legendHorizontalPadding: [8, 0, 8, 0],\n    /**  */\n    legendVerticalPadding: [0, 8, 0, 8],\n\n    // \n    /**  marker  */\n    legendPageNavigatorMarkerSize: 12,\n    /**  marker  */\n    legendPageNavigatorMarkerInactiveFillColor: BLACK_COLORS[100],\n    /**  marker  */\n    legendPageNavigatorMarkerInactiveFillOpacity: 0.45,\n    /**  marker  */\n    legendPageNavigatorMarkerFillColor: BLACK_COLORS[100],\n    /**  marker  */\n    legendPageNavigatorMarkerFillOpacity: 1,\n    /**  */\n    legendPageNavigatorTextFillColor: BLACK_COLORS[45],\n    /**  */\n    legendPageNavigatorTextFontSize: 12,\n\n    /**  */\n    sliderRailFillColor: BLACK_COLORS[15],\n    /**  */\n    sliderRailBorder: 0,\n    /**  */\n    sliderRailBorderColor: null,\n    /**  */\n    sliderRailWidth: 100,\n    /**  */\n    sliderRailHeight: 12,\n\n    /**  */\n    sliderLabelTextFillColor: BLACK_COLORS[45],\n    /**  */\n    sliderLabelTextFontSize: 12,\n    /**  */\n    sliderLabelTextLineHeight: 12,\n    /**  */\n    sliderLabelTextFontWeight: 'normal',\n\n    /**  */\n    sliderHandlerFillColor: BLACK_COLORS[6],\n    /**  */\n    sliderHandlerWidth: 10,\n    /**  */\n    sliderHandlerHeight: 14,\n    /**  */\n    sliderHandlerBorder: 1,\n    /**  */\n    sliderHandlerBorderColor: BLACK_COLORS[25],\n\n    // -------------------- Annotation --------------------\n    /** arc  */\n    annotationArcBorderColor: BLACK_COLORS[15],\n    /** arc  */\n    annotationArcBorder: 1,\n\n    /** line  */\n    annotationLineBorderColor: BLACK_COLORS[25],\n    /** line  */\n    annotationLineBorder: 1,\n    /** lube  */\n    annotationLineDash: null,\n\n    /** text  */\n    annotationTextFillColor: BLACK_COLORS[65],\n    /** text  */\n    annotationTextFontSize: 12,\n    /** text  */\n    annotationTextLineHeight: 12,\n    /** text  */\n    annotationTextFontWeight: 'normal',\n    /** text  */\n    annotationTextBorderColor: null,\n    /** text  */\n    annotationTextBorder: 0,\n\n    /** region  */\n    annotationRegionFillColor: BLACK_COLORS[100],\n    /** region  */\n    annotationRegionFillOpacity: 0.06,\n    /** region  */\n    annotationRegionBorder: 0,\n    /** region  */\n    annotationRegionBorderColor: null,\n\n    /** dataMarker  */\n    annotationDataMarkerLineLength: 16,\n\n    // -------------------- Tooltip --------------------\n    /** tooltip crosshairs  */\n    tooltipCrosshairsBorderColor: BLACK_COLORS[25],\n    /** tooltip crosshairs  */\n    tooltipCrosshairsBorder: 1,\n    /** tooltip crosshairs  */\n    tooltipCrosshairsLineDash: null,\n\n    /** tooltip  */\n    tooltipContainerFillColor: 'rgb(255, 255, 255)',\n    tooltipContainerFillOpacity: 0.95,\n    /** tooltip  */\n    tooltipContainerShadow: '0px 0px 10px #aeaeae',\n    /** tooltip  */\n    tooltipContainerBorderRadius: 3,\n\n    /** tooltip  */\n    tooltipTextFillColor: BLACK_COLORS[65],\n    /** tooltip  */\n    tooltipTextFontSize: 12,\n    /** tooltip  */\n    tooltipTextLineHeight: 12,\n    /** tooltip  */\n    tooltipTextFontWeight: 'bold',\n\n    // -------------------- Geometry labels --------------------\n    /** Geometry label  */\n    labelFillColor: BLACK_COLORS[65],\n    labelFillColorDark: '#2c3542',\n    labelFillColorLight: '#ffffff',\n    /** Geometry label  */\n    labelFontSize: 12,\n    /** Geometry label  */\n    labelLineHeight: 12,\n    /** Geometry label  */\n    labelFontWeight: 'normal',\n    /** Geometry label  */\n    labelBorderColor: null,\n    /** Geometry label  */\n    labelBorder: 0,\n\n    /** Geometry innerLabel  */\n    innerLabelFillColor: WHITE_COLORS[100],\n    /** Geometry innerLabel  */\n    innerLabelFontSize: 12,\n    /** Geometry innerLabel  */\n    innerLabelLineHeight: 12,\n    /** Geometry innerLabel  */\n    innerLabelFontWeight: 'normal',\n    /** Geometry innerLabel  */\n    innerLabelBorderColor: null,\n    /** Geometry innerLabel  */\n    innerLabelBorder: 0,\n\n    /** Geometry overflowLabel  */\n    overflowLabelFillColor: BLACK_COLORS[65],\n    /** Geometry overflowLabel  */\n    overflowLabelFontSize: 12,\n    /** Geometry overflowLabel  */\n    overflowLabelLineHeight: 12,\n    /** Geometry overflowLabel  */\n    overflowLabelFontWeight: 'normal',\n    /** Geometry overflowLabel  */\n    overflowLabelBorderColor: WHITE_COLORS[100],\n    /** Geometry overflowLabel  */\n    overflowLabelBorder: 1,\n\n    /** Geometry label  */\n    labelLineBorder: 1,\n    /** Geometry label  */\n    labelLineBorderColor: BLACK_COLORS[25],\n\n    // -------------------- Slider --------------------\n    /** slider  */\n    cSliderRailHieght: 16,\n    /** slider  */\n    cSliderBackgroundFillColor: '#416180',\n    /** slider  */\n    cSliderBackgroundFillOpacity: 0.05,\n    /** slider  */\n    cSliderForegroundFillColor: '#5B8FF9',\n    /** slider  */\n    cSliderForegroundFillOpacity: 0.15,\n    // slider handlerStyle \n    /** slider  */\n    cSliderHandlerHeight: 24,\n    /** Slider  */\n    cSliderHandlerWidth: 10,\n    /** Slider  */\n    cSliderHandlerFillColor: '#F7F7F7',\n    /** Slider  */\n    cSliderHandlerFillOpacity: 1,\n    /** Slider  */\n    cSliderHandlerHighlightFillColor: '#FFF',\n    /** Slider  */\n    cSliderHandlerBorderColor: '#BFBFBF',\n    /** Slider  */\n    cSliderHandlerBorder: 1,\n    /** Slider  */\n    cSliderHandlerBorderRadius: 2,\n    // slider textStyle \n    /** Slider  */\n    cSliderTextFillColor: '#000',\n    /** Slider  */\n    cSliderTextFillOpacity: 0.45,\n    /** Slider  */\n    cSliderTextFontSize: 12,\n    /** Slider  */\n    cSliderTextLineHeight: 12,\n    /** Slider  */\n    cSliderTextFontWeight: 'normal',\n    /** Slider  */\n    cSliderTextBorderColor: null,\n    /** Slider  */\n    cSliderTextBorder: 0,\n\n    // -------------------- Scrollbar --------------------\n    /**   */\n    scrollbarTrackFillColor: 'rgba(0,0,0,0)',\n    /**   */\n    scrollbarThumbFillColor: 'rgba(0,0,0,0.15)',\n    /**   */\n    scrollbarThumbHighlightFillColor: 'rgba(0,0,0,0.2)',\n\n    // -------------------- Geometry --------------------\n    /**  */\n    pointFillColor: brandColor,\n    /**  */\n    pointFillOpacity: 0.95,\n    /**  */\n    pointSize: 4,\n    /**  */\n    pointBorder: 1,\n    /**  */\n    pointBorderColor: WHITE_COLORS[100],\n    /**  */\n    pointBorderOpacity: 1,\n\n    /**  active  */\n    pointActiveBorderColor: BLACK_COLORS[100],\n\n    /**  selected  */\n    pointSelectedBorder: 2,\n    /**  selected  */\n    pointSelectedBorderColor: BLACK_COLORS[100],\n\n    /**  inactive  */\n    pointInactiveFillOpacity: 0.3,\n    /**  inactive  */\n    pointInactiveBorderOpacity: 0.3,\n\n    /**  */\n    hollowPointSize: 4,\n    /**  */\n    hollowPointBorder: 1,\n    /**  */\n    hollowPointBorderColor: brandColor,\n    /**  */\n    hollowPointBorderOpacity: 0.95,\n    hollowPointFillColor: WHITE_COLORS[100],\n\n    /**  active  */\n    hollowPointActiveBorder: 1,\n    /**  active  */\n    hollowPointActiveBorderColor: BLACK_COLORS[100],\n    /**  active  */\n    hollowPointActiveBorderOpacity: 1,\n\n    /**  selected  */\n    hollowPointSelectedBorder: 2,\n    /**  selected  */\n    hollowPointSelectedBorderColor: BLACK_COLORS[100],\n    /**  selected  */\n    hollowPointSelectedBorderOpacity: 1,\n\n    /**  inactive  */\n    hollowPointInactiveBorderOpacity: 0.3,\n\n    /**  */\n    lineBorder: 2,\n    /**  */\n    lineBorderColor: brandColor,\n    /**  */\n    lineBorderOpacity: 1,\n\n    /**  Active  */\n    lineActiveBorder: 3,\n\n    /**  selected  */\n    lineSelectedBorder: 3,\n\n    /**  inactive  */\n    lineInactiveBorderOpacity: 0.3,\n\n    /** area  */\n    areaFillColor: brandColor,\n    /** area  */\n    areaFillOpacity: 0.25,\n\n    /** area  active  */\n    areaActiveFillColor: brandColor,\n    areaActiveFillOpacity: 0.5,\n\n    /** area  selected  */\n    areaSelectedFillColor: brandColor,\n    areaSelectedFillOpacity: 0.5,\n\n    /** area inactive  */\n    areaInactiveFillOpacity: 0.3,\n\n    /** hollowArea  */\n    hollowAreaBorderColor: brandColor,\n    /** hollowArea  */\n    hollowAreaBorder: 2,\n    /** hollowArea  */\n    hollowAreaBorderOpacity: 1,\n\n    /** hollowArea active  */\n    hollowAreaActiveBorder: 3,\n    hollowAreaActiveBorderColor: BLACK_COLORS[100],\n\n    /** hollowArea selected  */\n    hollowAreaSelectedBorder: 3,\n    hollowAreaSelectedBorderColor: BLACK_COLORS[100],\n\n    /** hollowArea inactive  */\n    hollowAreaInactiveBorderOpacity: 0.3,\n\n    /** interval  */\n    intervalFillColor: brandColor,\n    /** interval  */\n    intervalFillOpacity: 0.95,\n\n    /** interval active  */\n    intervalActiveBorder: 1,\n    /** interval active  */\n    intervalActiveBorderColor: BLACK_COLORS[100],\n    intervalActiveBorderOpacity: 1,\n\n    /** interval selected  */\n    intervalSelectedBorder: 2,\n    /** interval selected  */\n    intervalSelectedBorderColor: BLACK_COLORS[100],\n    /** interval selected  */\n    intervalSelectedBorderOpacity: 1,\n\n    /** interval inactive  */\n    intervalInactiveBorderOpacity: 0.3,\n    /** interval inactive  */\n    intervalInactiveFillOpacity: 0.3,\n\n    /** interval  */\n    hollowIntervalBorder: 2,\n    /** hollowInterval  */\n    hollowIntervalBorderColor: brandColor,\n    /** hollowInterval  */\n    hollowIntervalBorderOpacity: 1,\n    hollowIntervalFillColor: WHITE_COLORS[100],\n\n    /** hollowInterval active  */\n    hollowIntervalActiveBorder: 2,\n    /** hollowInterval active  */\n    hollowIntervalActiveBorderColor: BLACK_COLORS[100],\n\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorder: 3,\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorderColor: BLACK_COLORS[100],\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorderOpacity: 1,\n\n    /** hollowInterval inactive  */\n    hollowIntervalInactiveBorderOpacity: 0.3,\n  };\n};\n\nexport const antvLight = createLightStyleSheet();\n","import { deepMix } from '@antv/util';\nimport { createThemeByStyleSheet } from './create-by-style-sheet';\nimport { createLightStyleSheet } from '../style-sheet/light';\nimport { LooseObject, StyleSheetCfg } from '../../interface';\n\ninterface ThemeCfg extends LooseObject {\n  styleSheet?: StyleSheetCfg;\n}\n\nexport function createTheme(themeCfg: ThemeCfg): LooseObject {\n  const { styleSheet: styleSheetCfg = {}, ...themeObject } = themeCfg;\n\n  //   ( light )\n  const styleSheet = createLightStyleSheet(styleSheetCfg);\n  //  \n  return deepMix({}, createThemeByStyleSheet(styleSheet), themeObject);\n}\n","import { get, lowerCase } from '@antv/util';\nimport { LooseObject } from '../interface';\n\nimport { createTheme } from './util';\n\nconst defaultTheme = createTheme({});\n\n// \nconst Themes: Record<string, LooseObject> = {\n  default: defaultTheme,\n};\n\n/**\n * \n * @param theme \n */\nexport function getTheme(theme?: string): LooseObject {\n  return get(Themes, lowerCase(theme), Themes.default);\n}\n\n/**\n * \n * @param theme \n * @param value \n */\nexport function registerTheme(theme: string, value: LooseObject) {\n  Themes[lowerCase(theme)] = createTheme(value);\n}\n","import {\n  contains,\n  filter,\n  find,\n  isArray,\n  isEmpty,\n  isFunction,\n  isNil,\n  isNumberEqual,\n  isObject,\n  memoize,\n  get,\n  values,\n} from '@antv/util';\nimport { View } from '../chart';\nimport { FIELD_ORIGIN, GROUP_ATTRS } from '../constant';\nimport { Attribute, Scale } from '../dependents';\nimport Geometry from '../geometry/base';\nimport { Data, Datum, MappingDatum, Point, TooltipCfg, TooltipTitle } from '../interface';\nimport { getName, inferScaleType } from './scale';\n\nfunction snapEqual(v1: any, v2: any, scale: Scale) {\n  const value1 = scale.translate(v1);\n  const value2 = scale.translate(v2);\n\n  return isNumberEqual(value1, value2);\n}\n\nfunction getXValueByPoint(point: Point, geometry: Geometry): number {\n  const coordinate = geometry.coordinate;\n  const xScale = geometry.getXScale();\n  const range = xScale.range;\n  const rangeMax = range[range.length - 1];\n  const rangeMin = range[0];\n\n  const invertPoint = coordinate.invert(point);\n\n  let xValue = invertPoint.x;\n  if (coordinate.isPolar && xValue > (1 + rangeMax) / 2) {\n    xValue = rangeMin; // scale  range \n  }\n  return xScale.translate(xScale.invert(xValue));\n}\n\nfunction filterYValue(data: Data, point: Point, geometry: Geometry) {\n  const coordinate = geometry.coordinate;\n  const yScale = geometry.getYScale();\n  const yField = yScale.field;\n  const invertPoint = coordinate.invert(point);\n  const yValue = yScale.invert(invertPoint.y);\n\n  const result = find(data, (obj: Datum) => {\n    const originData = obj[FIELD_ORIGIN];\n    return originData[yField][0] <= yValue && originData[yField][1] >= yValue;\n  });\n  return result || data[data.length - 1];\n}\n\nconst getXDistance = memoize((scale: Scale) => {\n  if (scale.isCategory) {\n    return 1;\n  }\n  const scaleValues = scale.values; // values \n  const length = scaleValues.length;\n  let min = scale.translate(scaleValues[0]);\n  let max = min;\n\n  for (let index = 0; index < length; index++) {\n    const value = scaleValues[index];\n    //  translate\n    const numericValue = scale.translate(value);\n    if (numericValue < min) {\n      min = numericValue;\n    }\n    if (numericValue > max) {\n      max = numericValue;\n    }\n  }\n  return (max - min) / (length - 1);\n});\n\n/**\n *  tooltip  title\n * @param originData\n * @param geometry\n * @param title\n */\nfunction getTooltipTitle(originData: Datum, geometry: Geometry, title: TooltipTitle): string {\n  const positionAttr = geometry.getAttribute('position');\n  const fields = positionAttr.getFields();\n  const scales = geometry.scales;\n\n  const titleField = isFunction(title) || !title ? fields[0] : title;\n  const titleScale = scales[titleField];\n\n  //  scale scale.getText() \n  //  scale title \n  const tooltipTitle = titleScale ? titleScale.getText(originData[titleField]) : originData[titleField] || titleField;\n\n  return isFunction(title) ? title(tooltipTitle, originData) : tooltipTitle;\n}\n\nfunction getAttributesForLegend(geometry: Geometry) {\n  const attributes = values(geometry.attributes);\n  return filter(attributes, (attribute: Attribute) => contains(GROUP_ATTRS, attribute.type));\n}\n\nfunction getTooltipValueScale(geometry: Geometry) {\n  const attributes = getAttributesForLegend(geometry);\n  let scale;\n  for (const attribute of attributes) {\n    const tmpScale = attribute.getScale(attribute.type);\n    if (tmpScale && tmpScale.isLinear) {\n      const tmpScaleDef = get(geometry.scaleDefs, tmpScale.field);\n      const inferedScaleType = inferScaleType(tmpScale, tmpScaleDef, attribute.type, geometry.type);\n      if (inferedScaleType !== 'cat') {\n        //  position \n        scale = tmpScale;\n        break;\n      }\n    }\n  }\n\n  const xScale = geometry.getXScale();\n  const yScale = geometry.getYScale();\n\n  return scale || yScale || xScale;\n}\n\nfunction getTooltipValue(originData: Datum, valueScale: Scale) {\n  const field = valueScale.field;\n  const value = originData[field];\n\n  if (isArray(value)) {\n    const texts = value.map((eachValue) => {\n      return valueScale.getText(eachValue);\n    });\n    return texts.join('-');\n  }\n  return valueScale.getText(value);\n}\n\n//  tooltip item  name \nfunction getTooltipName(originData: Datum, geometry: Geometry) {\n  let nameScale: Scale;\n  const groupScales = geometry.getGroupScales();\n  if (groupScales.length) {\n    // \n    nameScale = groupScales[0];\n  }\n  if (nameScale) {\n    const field = nameScale.field;\n    return nameScale.getText(originData[field]);\n  }\n\n  const valueScale = getTooltipValueScale(geometry);\n  return getName(valueScale);\n}\n\n/**\n * @ignore\n * Finds data from geometry by point\n * @param point canvas point\n * @param data an item of geometry.dataArray\n * @param geometry\n * @returns\n */\nexport function findDataByPoint(point: Point, data: MappingDatum[], geometry: Geometry) {\n  if (data.length === 0) {\n    return null;\n  }\n\n  const geometryType = geometry.type;\n  const xScale = geometry.getXScale();\n  const yScale = geometry.getYScale();\n\n  const xField = xScale.field;\n  const yField = yScale.field;\n\n  let rst = null;\n\n  //  point \n  if (geometryType === 'heatmap' || geometryType === 'point') {\n    //  point \n    const coordinate = geometry.coordinate;\n    const invertPoint = coordinate.invert(point); // \n    const x = xScale.invert(invertPoint.x); // \n    const y = yScale.invert(invertPoint.y); // \n\n    let min = Infinity;\n    for (let index = 0; index < data.length; index++) {\n      const obj = data[index];\n      const originData = obj[FIELD_ORIGIN];\n      const range = (originData[xField] - x) ** 2 + (originData[yField] - y) ** 2;\n      if (range < min) {\n        min = range;\n        rst = obj;\n      }\n    }\n\n    return rst;\n  }\n\n  //  Geometry  x \n  const first = data[0];\n  let last = data[data.length - 1];\n  const xValue = getXValueByPoint(point, geometry);\n  const firstXValue = first[FIELD_ORIGIN][xField];\n  const firstYValue = first[FIELD_ORIGIN][yField];\n  const lastXValue = last[FIELD_ORIGIN][xField];\n  const isYArray = yScale.isLinear && isArray(firstYValue); //  x y \n\n  //  x \n  if (isArray(firstXValue)) {\n    for (let index = 0; index < data.length; index++) {\n      const record = data[index];\n      const originData = record[FIELD_ORIGIN];\n      // xValue  originData[xField] \n      if (xScale.translate(originData[xField][0]) <= xValue && xScale.translate(originData[xField][1]) >= xValue) {\n        if (isYArray) {\n          // x  y \n          if (!isArray(rst)) {\n            rst = [];\n          }\n          rst.push(record);\n        } else {\n          rst = record;\n          break;\n        }\n      }\n    }\n    if (isArray(rst)) {\n      rst = filterYValue(rst, point, geometry);\n    }\n  } else {\n    let next;\n    if (!xScale.isLinear && xScale.type !== 'timeCat') {\n      // x \n      for (let index = 0; index < data.length; index++) {\n        const record = data[index];\n        const originData = record[FIELD_ORIGIN];\n        if (snapEqual(originData[xField], xValue, xScale)) {\n          if (isYArray) {\n            if (!isArray(rst)) {\n              rst = [];\n            }\n            rst.push(record);\n          } else {\n            rst = record;\n            break;\n          }\n        } else if (xScale.translate(originData[xField]) <= xValue) {\n          last = record;\n          next = data[index + 1];\n        }\n      }\n\n      if (isArray(rst)) {\n        rst = filterYValue(rst, point, geometry);\n      }\n    } else {\n      // x \n      if (\n        (xValue > xScale.translate(lastXValue) || xValue < xScale.translate(firstXValue)) &&\n        (xValue > xScale.max || xValue < xScale.min)\n      ) {\n        // \n        return null;\n      }\n\n      let firstIdx = 0;\n      let lastIdx = data.length - 1;\n      let middleIdx;\n      while (firstIdx <= lastIdx) {\n        middleIdx = Math.floor((firstIdx + lastIdx) / 2);\n        const item = data[middleIdx][FIELD_ORIGIN][xField];\n        if (snapEqual(item, xValue, xScale)) {\n          return data[middleIdx];\n        }\n\n        if (xScale.translate(item) <= xScale.translate(xValue)) {\n          firstIdx = middleIdx + 1;\n          last = data[middleIdx];\n          next = data[middleIdx + 1];\n        } else {\n          if (lastIdx === 0) {\n            last = data[0];\n          }\n          lastIdx = middleIdx - 1;\n        }\n      }\n    }\n\n    if (last && next) {\n      // \n      if (\n        Math.abs(xScale.translate(last[FIELD_ORIGIN][xField]) - xValue) >\n        Math.abs(xScale.translate(next[FIELD_ORIGIN][xField]) - xValue)\n      ) {\n        last = next;\n      }\n    }\n  }\n\n  const distance = getXDistance(geometry.getXScale()); // \n  if (!rst && Math.abs(xScale.translate(last[FIELD_ORIGIN][xField]) - xValue) <= distance / 2) {\n    rst = last;\n  }\n\n  return rst;\n}\n\n/**\n * @ignore\n * Gets tooltip items\n * @param data\n * @param geometry\n * @param [title]\n * @returns\n */\nexport function getTooltipItems(\n  data: MappingDatum,\n  geometry: Geometry,\n  title: TooltipTitle = '',\n  showNil: boolean = false\n) {\n  const originData = data[FIELD_ORIGIN];\n  const tooltipTitle = getTooltipTitle(originData, geometry, title);\n  const tooltipOption = geometry.tooltipOption;\n  const { defaultColor } = geometry.theme;\n  const items = [];\n  let name;\n  let value;\n\n  function addItem(itemName, itemValue) {\n    if (showNil || (!isNil(itemValue) && itemValue !== '')) {\n      //  null\n      const item = {\n        title: tooltipTitle,\n        data: originData, // \n        mappingData: data, // \n        name: itemName,\n        value: itemValue,\n        color: data.color || defaultColor,\n        marker: true,\n      };\n\n      items.push(item);\n    }\n  }\n\n  if (isObject(tooltipOption)) {\n    const { fields, callback } = tooltipOption;\n    if (callback) {\n      // \n      const callbackParams = fields.map((field: string) => {\n        return data[FIELD_ORIGIN][field];\n      });\n      const cfg = callback(...callbackParams);\n      const itemCfg = {\n        data: data[FIELD_ORIGIN], // \n        mappingData: data, // \n        title: tooltipTitle,\n        color: data.color || defaultColor,\n        marker: true, //  marker\n        ...cfg,\n      };\n\n      items.push(itemCfg);\n    } else {\n      const scales = geometry.scales;\n      for (const field of fields) {\n        if (!isNil(originData[field])) {\n          // null, undefined \n          const scale = scales[field];\n          name = getName(scale);\n          value = scale.getText(originData[field]);\n          addItem(name, value);\n        }\n      }\n    }\n  } else {\n    const valueScale = getTooltipValueScale(geometry);\n    // null ,undefined\n    value = getTooltipValue(originData, valueScale);\n    name = getTooltipName(originData, geometry);\n    addItem(name, value);\n  }\n  return items;\n}\n\nfunction getTooltipItemsByFindData(geometry: Geometry, point, title, tooltipCfg: TooltipCfg) {\n  const { showNil } = tooltipCfg;\n  const result = [];\n  const dataArray = geometry.dataArray;\n  if (!isEmpty(dataArray)) {\n    geometry.sort(dataArray); //  tooltip \n    for (const data of dataArray) {\n      const record = findDataByPoint(point, data, geometry);\n      if (record) {\n        const elementId = geometry.getElementId(record);\n        const element = geometry.elementsMap[elementId];\n        if (geometry.type === 'heatmap' || element.visible) {\n          // Heatmap  Element\n          //  tooltip \n          const items = getTooltipItems(record, geometry, title, showNil);\n          if (items.length) {\n            result.push(items);\n          }\n        }\n      }\n    }\n  }\n\n  return result;\n}\n\nfunction getTooltipItemsByHitShape(geometry, point, title, tooltipCfg: TooltipCfg) {\n  const { showNil } = tooltipCfg;\n  const result = [];\n  const container = geometry.container;\n  const shape = container.getShape(point.x, point.y);\n  if (shape && shape.get('visible') && shape.get('origin')) {\n    const mappingData = shape.get('origin').mappingData;\n    const items = getTooltipItems(mappingData, geometry, title, showNil);\n    if (items.length) {\n      result.push(items);\n    }\n  }\n\n  return result;\n}\n\n/**\n * \n */\nexport function findItemsFromView(view: View, point: Point, tooltipCfg: TooltipCfg) {\n  const result = [];\n  //  view \n  const geometries = view.geometries;\n  const { shared, title, reversed } = tooltipCfg;\n  for (const geometry of geometries) {\n    if (geometry.visible && geometry.tooltipOption !== false) {\n      // geometry  tooltip\n      const geometryType = geometry.type;\n      let tooltipItems;\n      if (['point', 'edge', 'polygon'].includes(geometryType)) {\n        // \n        tooltipItems = getTooltipItemsByHitShape(geometry, point, title, tooltipCfg);\n      } else if (['area', 'line', 'path', 'heatmap'].includes(geometryType)) {\n        //  'area', 'line', 'path' tooltip\n        tooltipItems = getTooltipItemsByFindData(geometry, point, title, tooltipCfg);\n      } else {\n        if (shared !== false) {\n          tooltipItems = getTooltipItemsByFindData(geometry, point, title, tooltipCfg);\n        } else {\n          tooltipItems = getTooltipItemsByHitShape(geometry, point, title, tooltipCfg);\n        }\n      }\n      if (tooltipItems.length) {\n        if (reversed) {\n          tooltipItems.reverse();\n        }\n        // geometry  item geometry.tooltip('x*y*z')\n        result.push(tooltipItems);\n      }\n    }\n  }\n\n  return result;\n}\n\nexport function findItemsFromViewRecurisive(view: View, point: Point, tooltipCfg: TooltipCfg) {\n  let result = findItemsFromView(view, point, tooltipCfg);\n\n  // \n  for (const childView of view.views) {\n    result = result.concat(findItemsFromView(childView, point, tooltipCfg));\n  }\n\n  return result;\n}\n","import { isArray, isNumber } from '@antv/util';\nimport { Padding, ViewPadding } from '../interface';\n\n/**\n * @ignore\n *  padding\n * @param padding\n */\nexport function isAutoPadding(padding: ViewPadding): padding is 'auto' {\n  return !isNumber(padding) && !isArray(padding);\n}\n\n/**\n * @ignore\n * padding \n * @param padding\n * @return [ top, right, bottom, left ]\n */\nexport function parsePadding(padding: number[] | number = 0): Padding {\n  let paddingArray = isArray(padding) ? padding : [padding];\n\n  switch (paddingArray.length) {\n    case 0:\n      paddingArray = [0, 0, 0, 0];\n      break;\n    case 1:\n      paddingArray = new Array(4).fill(paddingArray[0]);\n      break;\n    case 2:\n      paddingArray = [...paddingArray, ...paddingArray];\n      break;\n    case 3:\n      paddingArray = [...paddingArray, paddingArray[1]];\n      break;\n    default:\n      // \n      paddingArray = paddingArray.slice(0, 4);\n      break;\n  }\n\n  return paddingArray as [number, number, number, number];\n}\n","import { ControllerCtor } from './base';\n\nconst LOAD_COMPONENT_CONTROLLERS: Record<string, ControllerCtor> = {};\n\n/**\n * \n * @param name \n * @param plugin \n * @returns void\n */\nexport function registerComponentController(name: string, plugin: ControllerCtor) {\n  LOAD_COMPONENT_CONTROLLERS[name] = plugin;\n}\n\n/**\n * \n * @param name \n * @returns void\n */\nexport function unregisterComponentController(name: string) {\n  delete LOAD_COMPONENT_CONTROLLERS[name];\n}\n\n/**\n * \n * @returns string[] \n */\nexport function getComponentControllerNames(): string[] {\n  return Object.keys(LOAD_COMPONENT_CONTROLLERS);\n}\n\n/**\n * \n * @param name \n * @returns \n */\nexport function getComponentController(name: string): ControllerCtor {\n  return LOAD_COMPONENT_CONTROLLERS[name];\n}\n","import { each, isNil, some } from '@antv/util';\nimport { Coordinate, getCoordinate, Point } from '../../dependents';\nimport { CoordinateOption } from '../../interface';\n\n/**\n * coordinate controller\n * 1. \n * 2. \n */\nexport default class CoordinateController {\n  private option: CoordinateOption;\n  private coordinate: Coordinate;\n\n  constructor(option?: CoordinateOption) {\n    // \n    this.option = this.wrapperOption(option);\n  }\n\n  /**\n   * \n   * @param option\n   */\n  public update(option: CoordinateOption) {\n    this.option = this.wrapperOption(option);\n    return this;\n  }\n\n  /**\n   *  action\n   * @param actionName\n   */\n  public hasAction(actionName: string) {\n    const { actions } = this.option;\n\n    return some(actions, (action) => action[0] === actionName);\n  }\n  /**\n   * \n   * @param start \n   * @param end   \n   * @return \n   */\n  public create(start: Point, end: Point) {\n    const { type, cfg } = this.option;\n    const isTheta = type === 'theta';\n\n    // 1. \n    const props = {\n      start,\n      end,\n      ...cfg,\n    };\n\n    // 2. \n    const C = getCoordinate(isTheta ? 'polar' : type);\n\n    this.coordinate = new C(props);\n\n    // @ts-ignore FIXME coordinate  type \n    this.coordinate.type = type;\n\n    // 3.  action\n    if (isTheta) {\n      //  transpose action\n      if (!this.hasAction('transpose')) {\n        this.transpose();\n      }\n    }\n\n    // 4.  action\n    this.execActions();\n\n    return this.coordinate;\n  }\n\n  /**\n   * \n   * @param start \n   * @param end   \n   * @return \n   */\n  public adjust(start: Point, end: Point) {\n    this.coordinate.update({\n      start,\n      end,\n    });\n\n    // \n    // 1.  matrix\n    // 2.  matrix  action\n    this.coordinate.resetMatrix();\n    this.execActions(['scale', 'rotate', 'translate']);\n\n    return this.coordinate;\n  }\n\n  /**\n   * \n   * @param angle\n   */\n  public rotate(angle: number) {\n    this.option.actions.push(['rotate', angle]);\n    return this;\n  }\n\n  /**\n   * \n   * @param dim\n   */\n  public reflect(dim: 'x' | 'y') {\n    this.option.actions.push(['reflect', dim]);\n    return this;\n  }\n\n  /**\n   * scale\n   * @param sx\n   * @param sy\n   */\n  public scale(sx: number, sy: number) {\n    this.option.actions.push(['scale', sx, sy]);\n    return this;\n  }\n\n  /**\n   * \n   */\n  public transpose() {\n    this.option.actions.push(['transpose']);\n    return this;\n  }\n\n  /**\n   * \n   */\n  public getOption(): CoordinateOption {\n    return this.option;\n  }\n\n  /**\n   *  coordinate \n   */\n  public getCoordinate() {\n    return this.coordinate;\n  }\n\n  /**\n   * \n   * @param option\n   */\n  private wrapperOption(option: CoordinateOption): CoordinateOption {\n    return {\n      type: 'rect',\n      actions: [],\n      cfg: {},\n      ...option,\n    };\n  }\n\n  /**\n   * coordinate  actions\n   * @params includeActions  action\n   */\n  private execActions(includeActions?: string[]) {\n    const { actions } = this.option;\n\n    each(actions, (action) => {\n      const [actionName, ...args] = action;\n\n      const shouldExec = isNil(includeActions) ? true : includeActions.includes(actionName);\n\n      if (shouldExec) {\n        this.coordinate[actionName](...args);\n      }\n    });\n  }\n}\n","import { Event as GEvent, IShape } from '../dependents';\nimport { Datum } from '../interface';\nimport View from './view';\n\n/**\n * @todo Whether it can(or necessary to) keep consistent with the structure of G.Event or directly use the structure of G.Event\n * G2  G.Event\n */\nexport default class Event {\n  /**  target  view  */\n  public view: View;\n  /**  G  */\n  public gEvent: GEvent;\n  /**  */\n  public data?: Datum;\n  /**  */\n  public type: string;\n\n  constructor(view: View, gEvent: GEvent, data?: Datum) {\n    this.view = view;\n    this.gEvent = gEvent;\n    this.data = data;\n    this.type = gEvent.type;\n  }\n\n  /**\n   * \n   * @param view\n   * @param type\n   * @param data\n   */\n  public static fromData(view: View, type: string, data: Datum) {\n    return new Event(view, new GEvent(type, {}), data);\n  }\n\n  // below props are proxy props of G.event convenient\n\n  /** the real trigger shape of the event */\n  public get target(): IShape {\n    // @todo G  object  ignore\n    // @ts-ignore\n    return this.gEvent.target;\n  }\n\n  /**  dom  */\n  public get event(): any {\n    return this.gEvent.originalEvent;\n  }\n\n  /** x  */\n  public get x(): number {\n    return this.gEvent.x;\n  }\n\n  /** y  */\n  public get y(): number {\n    return this.gEvent.y;\n  }\n\n  /** x  */\n  public get clientX(): number {\n    return this.gEvent.clientX;\n  }\n\n  /** y  */\n  public get clientY(): number {\n    return this.gEvent.clientY;\n  }\n  // end for proxy events\n\n  /**\n   * event string\n   * @returns string\n   */\n  public toString(): string {\n    return `[Event (type=${this.type})]`;\n  }\n\n  /**\n   * clone a new event with same attributes\n   * @returns [[Event]]\n   */\n  public clone(): Event {\n    return new Event(this.view, this.gEvent, this.data);\n  }\n}\n","import { Controller } from '../controller/base';\nimport View from '../view';\n\n// \n//  view  padding \nexport type Layout = (view: View) => void;\n\n/**\n * @ignore\n * G2  layout \n * \n *\n * 1.  padding = 'auto' direction  padding \n * 2.  padding  direction  padding \n * 3. \n *\n *  12  view \n * @param view\n */\nexport default function defaultLayout(view: View): void {\n  const axis = view.getController('axis');\n  const legend = view.getController('legend');\n  const annotation = view.getController('annotation');\n  const slider = view.getController('slider');\n  const scrollbar = view.getController('scrollbar');\n\n  //  coordinate \n  [axis, slider, scrollbar, legend, annotation].forEach((controller: Controller) => {\n    if (controller) {\n      controller.layout();\n    }\n  });\n}\n","/**\n * view  scale \n */\nimport { deepMix, each, get, isNumber, last } from '@antv/util';\nimport { Scale, Coordinate } from '../../dependents';\nimport { Data, LooseObject, ScaleOption, ViewCfg } from '../../interface';\nimport { createScaleByField, syncScale, getDefaultCategoryScaleRange } from '../../util/scale';\n\n/** @ignore */\ninterface ScaleMeta {\n  readonly key: string;\n  readonly scale: Scale;\n  scaleDef: ScaleOption;\n  syncKey?: string;\n}\n\n/** @ignore */\nexport class ScalePool {\n  /**  scales */\n  private scales = new Map<string, ScaleMeta>();\n  /**  scale  key: scaleKeyArray */\n  private syncScales = new Map<string, string[]>();\n\n  /**\n   *  scale\n   * @param field\n   * @param data\n   * @param scaleDef\n   * @param key\n   */\n  public createScale(field: string, data: Data, scaleDef: ScaleOption, key: string): Scale {\n    let finalScaleDef = scaleDef;\n\n    const cacheScaleMeta = this.getScaleMeta(key);\n    if (data.length === 0 && cacheScaleMeta) {\n      //  key  scale  scale \n      const cacheScale = cacheScaleMeta.scale;\n      const cacheScaleDef: LooseObject = {\n        type: cacheScale.type,\n      };\n      if (cacheScale.isCategory) {\n        //  values\n        cacheScaleDef.values = cacheScale.values;\n      }\n      finalScaleDef = deepMix(cacheScaleDef, cacheScaleMeta.scaleDef, scaleDef);\n    }\n\n    const scale = createScaleByField(field, data, finalScaleDef);\n\n    // \n    this.cacheScale(scale, scaleDef, key);\n\n    return scale;\n  }\n\n  /**\n   *  scale\n   */\n  public sync(coordinate: Coordinate, theme: ViewCfg['theme']) {\n    //  syncScales  syncKey  scale \n    this.syncScales.forEach((scaleKeys: string[], syncKey: string) => {\n      // min, max, values, ranges\n      let min = Number.MAX_SAFE_INTEGER;\n      let max = Number.MIN_SAFE_INTEGER;\n      const values = [];\n\n      // 1. values \n      each(scaleKeys, (key: string) => {\n        const scale = this.getScale(key);\n\n        max = isNumber(scale.max) ? Math.max(max, scale.max) : max;\n        min = isNumber(scale.min) ? Math.min(min, scale.min) : min;\n\n        // \n        each(scale.values, (v: any) => {\n          if (!values.includes(v)) {\n            values.push(v);\n          }\n        });\n      });\n\n      // 2. \n      each(scaleKeys, (key: string) => {\n        const scale = this.getScale(key);\n\n        if (scale.isContinuous) {\n          scale.change({\n            min,\n            max,\n            values,\n          });\n        } else if (scale.isCategory) {\n          let range = scale.range;\n          const cacheScaleMeta = this.getScaleMeta(key);\n\n          //  value  range  to fix https://github.com/antvis/G2/issues/2996\n          if (values && !get(cacheScaleMeta, ['scaleDef', 'range'])) {\n            //  range\n            range = getDefaultCategoryScaleRange(\n              deepMix({}, scale, {\n                values,\n              }),\n              coordinate,\n              theme\n            );\n          }\n          scale.change({\n            values,\n            range,\n          });\n        }\n      });\n    });\n  }\n\n  /**\n   *  scale\n   * @param scale\n   * @param scaleDef\n   * @param key\n   */\n  private cacheScale(scale: Scale, scaleDef: ScaleOption, key: string) {\n    // 1.  scales\n\n    let sm = this.getScaleMeta(key);\n    // \n    if (sm && sm.scale.type === scale.type) {\n      syncScale(sm.scale, scale);\n      sm.scaleDef = scaleDef;\n      //  scaleDef\n    } else {\n      sm = {\n        key,\n        scale,\n        scaleDef,\n      };\n\n      this.scales.set(key, sm);\n    }\n\n    // 2.  syncScales Record<sync, string[]> \n    const syncKey = this.getSyncKey(sm);\n    sm.syncKey = syncKey; //  sync  key\n\n    //  scale  syncScales  sync \n    this.removeFromSyncScales(key);\n\n    //  sync  sync\n    if (syncKey) {\n      //  syncKey\n      let scaleKeys = this.syncScales.get(syncKey);\n      if (!scaleKeys) {\n        scaleKeys = [];\n        this.syncScales.set(syncKey, scaleKeys);\n      }\n      scaleKeys.push(key);\n    }\n  }\n\n  /**\n   *  key  scale\n   * @param key\n   */\n  public getScale(key: string): Scale {\n    let scaleMeta = this.getScaleMeta(key);\n    if (!scaleMeta) {\n      const field = last(key.split('-'));\n      const scaleKeys = this.syncScales.get(field);\n      if (scaleKeys && scaleKeys.length) {\n        scaleMeta = this.getScaleMeta(scaleKeys[0]);\n      }\n    }\n    return scaleMeta && scaleMeta.scale;\n  }\n\n  /**\n   *  view  scale \n   * @param key\n   */\n  public deleteScale(key: string) {\n    const scaleMeta = this.getScaleMeta(key);\n    if (scaleMeta) {\n      const { syncKey } = scaleMeta;\n\n      const scaleKeys = this.syncScales.get(syncKey);\n\n      // \n      if (scaleKeys && scaleKeys.length) {\n        const idx = scaleKeys.indexOf(key);\n\n        if (idx !== -1) {\n          scaleKeys.splice(idx, 1);\n        }\n      }\n    }\n\n    //  scale \n    this.scales.delete(key);\n  }\n\n  /**\n   * \n   */\n  public clear() {\n    this.scales.clear();\n    this.syncScales.clear();\n  }\n\n  /**\n   *  sync scale \n   * @param key\n   */\n  private removeFromSyncScales(key: string) {\n    this.syncScales.forEach((scaleKeys: string[], syncKey: string) => {\n      const idx = scaleKeys.indexOf(key);\n\n      if (idx !== -1) {\n        scaleKeys.splice(idx, 1);\n\n        // \n        if (scaleKeys.length === 0) {\n          this.syncScales.delete(syncKey);\n        }\n\n        return false; // \n      }\n    });\n  }\n\n  /**\n   * get sync key\n   * @param sm\n   */\n  private getSyncKey(sm: ScaleMeta): string {\n    const { scale, scaleDef } = sm;\n    const { field } = scale;\n    const sync = get(scaleDef, ['sync']);\n\n    //  sync = true syncKey\n    return sync === true ? field : sync === false ? undefined : sync;\n  }\n\n  /**\n   *  key  scale\n   * @param key\n   */\n  private getScaleMeta(key: string): ScaleMeta {\n    return this.scales.get(key);\n  }\n}\n","import { DIRECTION } from '../../constant';\nimport { BBox } from '../../dependents';\nimport { Padding } from '../../interface';\n\nexport type PaddingCalCtor = {\n  readonly instance: (top?: number, right?: number, bottom?: number, left?: number) => PaddingCal;\n};\n\n/** @ignore */\nexport class PaddingCal {\n  private top: number;\n  private right: number;\n  private bottom: number;\n  private left: number;\n\n  /**\n   * \n   * @param top\n   * @param right\n   * @param bottom\n   * @param left\n   */\n  public static instance(top: number = 0, right: number = 0, bottom: number = 0, left: number = 0) {\n    return new PaddingCal(top, right, bottom, left);\n  }\n\n  /**\n   *  padding \n   * @param top\n   * @param right\n   * @param bottom\n   * @param left\n   */\n  constructor(top: number = 0, right: number = 0, bottom: number = 0, left: number = 0) {\n    this.top = top;\n    this.right = right;\n    this.bottom = bottom;\n    this.left = left;\n  }\n\n  /**\n   * \n   * @param padding\n   */\n  public max(padding: Padding): PaddingCal {\n    const [top, right, bottom, left] = padding;\n\n    this.top = Math.max(this.top, top);\n    this.right = Math.max(this.right, right);\n    this.bottom = Math.max(this.bottom, bottom);\n    this.left = Math.max(this.left, left);\n\n    return this;\n  }\n\n  /**\n   *  padding\n   * @param padding\n   */\n  public shrink(padding: Padding): PaddingCal {\n    const [top, right, bottom, left] = padding;\n\n    this.top += top;\n    this.right += right;\n    this.bottom += bottom;\n    this.left += left;\n\n    return this;\n  }\n\n  /**\n   *  padding\n   * @param bbox\n   * @param direction\n   */\n  public inc(bbox: BBox, direction: DIRECTION): PaddingCal {\n    const { width, height } = bbox;\n\n    switch (direction) {\n      case DIRECTION.TOP:\n      case DIRECTION.TOP_LEFT:\n      case DIRECTION.TOP_RIGHT:\n        this.top += height;\n        break;\n\n      case DIRECTION.RIGHT:\n      case DIRECTION.RIGHT_TOP:\n      case DIRECTION.RIGHT_BOTTOM:\n        this.right += width;\n        break;\n\n      case DIRECTION.BOTTOM:\n      case DIRECTION.BOTTOM_LEFT:\n      case DIRECTION.BOTTOM_RIGHT:\n        this.bottom += height;\n        break;\n\n      case DIRECTION.LEFT:\n      case DIRECTION.LEFT_TOP:\n      case DIRECTION.LEFT_BOTTOM:\n        this.left += width;\n        break;\n      default:\n        break;\n    }\n\n    return this;\n  }\n\n  /**\n   *  padding\n   */\n  public getPadding(): Padding {\n    return [this.top, this.right, this.bottom, this.left];\n  }\n\n  /**\n   * clone  padding cal\n   */\n  public clone(): PaddingCal {\n    return new PaddingCal(...this.getPadding());\n  }\n}\n","import { each } from '@antv/util';\nimport { COMPONENT_TYPE } from '../../constant';\nimport { ComponentOption, Padding } from '../../interface';\nimport { BBox } from '../../util/bbox';\nimport { isAutoPadding, parsePadding } from '../../util/padding';\nimport View from '../view';\nimport { PaddingCal } from './padding-cal';\n\n/**\n * @ignore\n *  view  padding \n * @param view\n */\nexport function calculatePadding(view: View): PaddingCal {\n  const padding = view.padding;\n\n  //  auto padding\n  if (!isAutoPadding(padding)) {\n    return new PaddingCal(...parsePadding(padding));\n  }\n\n  //  auto padding padding\n  const { viewBBox } = view;\n\n  const paddingCal = new PaddingCal();\n\n  const axisComponents = [];\n  const paddingComponents = [];\n  const otherComponents = [];\n\n  each(view.getComponents(), (co: ComponentOption) => {\n    const { type } = co;\n    if (type === COMPONENT_TYPE.AXIS) {\n      axisComponents.push(co);\n    } else if ([COMPONENT_TYPE.LEGEND, COMPONENT_TYPE.SLIDER, COMPONENT_TYPE.SCROLLBAR].includes(type)) {\n      paddingComponents.push(co);\n    } else if (type !== COMPONENT_TYPE.GRID && type !== COMPONENT_TYPE.TOOLTIP) {\n      otherComponents.push(co);\n    }\n  });\n\n  //  padding \n  each(axisComponents, (co: ComponentOption) => {\n    const { component } = co;\n    const bboxObject = component.getLayoutBBox();\n    const componentBBox = new BBox(bboxObject.x, bboxObject.y, bboxObject.width, bboxObject.height);\n\n    const exceed = componentBBox.exceed(viewBBox);\n\n    //  axis \n    paddingCal.max(exceed);\n  });\n\n  //  padding \n  each(paddingComponents, (co: ComponentOption) => {\n    const { component, direction } = co;\n    const bboxObject = component.getLayoutBBox();\n    const componentPadding: Padding = component.get('padding');\n    const componentBBox = new BBox(bboxObject.x, bboxObject.y, bboxObject.width, bboxObject.height).expand(\n      componentPadding\n    );\n    //  padding\n    paddingCal.inc(componentBBox, direction);\n  });\n\n  // \n  each(otherComponents, (co: ComponentOption) => {\n    const { component, direction } = co;\n    const bboxObject = component.getLayoutBBox();\n    const componentBBox = new BBox(bboxObject.x, bboxObject.y, bboxObject.width, bboxObject.height);\n    //  padding\n    paddingCal.inc(componentBBox, direction);\n  });\n\n  return paddingCal;\n}\n","import { PaddingCalCtor } from '../layout/padding-cal';\nimport { View } from '../view';\n\n/**\n *  syncViewPadding \n * @param chart\n * @param views\n * @param PC: PaddingCalCtor\n */\nexport function defaultSyncViewPadding(chart: View, views: View[], PC: PaddingCalCtor) {\n  const syncPadding = PC.instance();\n\n  //  view  autoPadding \n  views.forEach((v: View) => {\n    v.autoPadding = syncPadding.max(v.autoPadding.getPadding());\n  });\n}\n","import {\n  clone,\n  deepMix,\n  each,\n  filter,\n  find,\n  flatten,\n  get,\n  isBoolean,\n  isFunction,\n  isNil,\n  isObject,\n  isString,\n  isUndefined,\n  mix,\n  remove,\n  set,\n  size,\n  uniqueId,\n  isEqual,\n  isPlainObject,\n  reduce,\n} from '@antv/util';\nimport { Attribute, Coordinate, Event as GEvent, GroupComponent, ICanvas, IGroup, IShape, Scale } from '../dependents';\nimport {\n  AxisOption,\n  ComponentOption,\n  CoordinateCfg,\n  CoordinateOption,\n  Data,\n  Datum,\n  FacetCfgMap,\n  FilterCondition,\n  GeometryOption,\n  LegendOption,\n  LooseObject,\n  Options,\n  Point,\n  Region,\n  ScaleOption,\n  TooltipOption,\n  ViewCfg,\n  ViewPadding,\n  ViewAppendPadding,\n  EventPayload,\n  Padding,\n} from '../interface';\nimport { GROUP_Z_INDEX, LAYER, PLOT_EVENTS, VIEW_LIFE_CIRCLE } from '../constant';\nimport Base from '../base';\nimport { Facet, getFacet } from '../facet';\nimport Geometry from '../geometry/base';\nimport Element from '../geometry/element';\nimport { createInteraction, Interaction } from '../interaction';\nimport { getTheme } from '../theme';\nimport { BBox } from '../util/bbox';\nimport { getCoordinateClipCfg, isPointInCoordinate } from '../util/coordinate';\nimport { uniq } from '../util/helper';\nimport { findDataByPoint } from '../util/tooltip';\nimport { parsePadding } from '../util/padding';\nimport { getDefaultCategoryScaleRange } from '../util/scale';\nimport { createTheme } from '../theme/util';\nimport Chart from './chart';\nimport { getComponentController, getComponentControllerNames } from './controller';\nimport Annotation from './controller/annotation';\nimport { Controller } from './controller/base';\nimport CoordinateController from './controller/coordinate';\nimport Tooltip from './controller/tooltip';\nimport Slider from './controller/slider';\nimport Scrollbar from './controller/scrollbar';\nimport Axis from './controller/axis';\nimport Gesture from './controller/gesture';\nimport Legend from './controller/legend';\nimport Event from './event';\nimport defaultLayout, { Layout } from './layout';\nimport { ScalePool } from './util/scale-pool';\nimport { PaddingCal } from './layout/padding-cal';\nimport { calculatePadding } from './layout/auto';\nimport { defaultSyncViewPadding } from './util/sync-view-padding';\n\n/**\n * G2  View \n */\nexport class View extends Base {\n  /** view id */\n  public id: string;\n  /**  view */\n  public parent: View;\n  /**  view */\n  public views: View[] = [];\n  /**  geometry  */\n  public geometries: Geometry[] = [];\n  /**  controllers */\n  public controllers: Controller[] = [];\n  /**  Interaction  */\n  public interactions: Record<string, Interaction> = {};\n\n  /** view  */\n  public viewBBox: BBox;\n  /** ViewBBox - padding = coordinateBBox */\n  public coordinateBBox: BBox;\n  /** view  padding  */\n  public padding: ViewPadding;\n  /** padding */\n  public appendPadding: ViewAppendPadding;\n  /** G.Canvas  */\n  public canvas: ICanvas;\n  /**  padding  */\n  public autoPadding: PaddingCal;\n\n  /**  Group  */\n  public backgroundGroup: IGroup;\n  /**  Group  */\n  public middleGroup: IGroup;\n  /**  Group  */\n  public foregroundGroup: IGroup;\n  /**  Geometry  */\n  public limitInPlot: boolean = false;\n\n  /**\n   *  view  0 ~ 1 \n   */\n  protected region: Region;\n  /**  */\n  protected themeObject: LooseObject;\n\n  // \n  protected options: Options = {\n    data: [],\n    animate: true, // \n  }; // \n\n  /**  */\n  protected filteredData: Data;\n\n  /**  */\n  private usedControllers: string[] = getComponentControllerNames();\n\n  /**  scales */\n  private scalePool: ScalePool = new ScalePool();\n\n  /**  */\n  protected layoutFunc: Layout = defaultLayout;\n  /** {@link https://github.com/antvis/coord/blob/master/src/coord/base.ts|Coordinate} */\n  protected coordinateInstance: Coordinate;\n  /** Coordinate  */\n  protected coordinateController: CoordinateController;\n  /**  */\n  protected facetInstance: Facet;\n\n  /**  plot CoordinateBBox */\n  private isPreMouseInPlot: boolean = false;\n  /**  */\n  private isDataChanged: boolean = false;\n  /**  */\n  private isCoordinateChanged: boolean = false;\n  /**  view  scale key */\n  private createdScaleKeys = new Map<string, boolean>();\n  /**  shape */\n  private backgroundStyleRectShape;\n  /**  view  padding */\n  private syncViewPadding;\n\n  constructor(props: ViewCfg) {\n    super({ visible: props.visible });\n\n    const {\n      id = uniqueId('view'),\n      parent,\n      canvas,\n      backgroundGroup,\n      middleGroup,\n      foregroundGroup,\n      region = { start: { x: 0, y: 0 }, end: { x: 1, y: 1 } },\n      padding,\n      appendPadding,\n      theme,\n      options,\n      limitInPlot,\n      syncViewPadding,\n    } = props;\n\n    this.parent = parent;\n    this.canvas = canvas;\n    this.backgroundGroup = backgroundGroup;\n    this.middleGroup = middleGroup;\n    this.foregroundGroup = foregroundGroup;\n    this.region = region;\n    this.padding = padding;\n    this.appendPadding = appendPadding;\n    //  view \n    this.options = { ...this.options, ...options };\n    this.limitInPlot = limitInPlot;\n    this.id = id;\n    this.syncViewPadding = syncViewPadding;\n\n    //  theme\n    this.themeObject = isObject(theme) ? deepMix({}, getTheme('default'), createTheme(theme)) : getTheme(theme);\n    this.init();\n  }\n\n  /**\n   *  layout \n   * @param layout \n   * @returns void\n   */\n  public setLayout(layout: Layout) {\n    this.layoutFunc = layout;\n  }\n\n  /**\n   * \n   * @returns voids\n   */\n  public init() {\n    //  viewBBox\n    this.calculateViewBBox();\n\n    // \n    this.initEvents();\n\n    //  controller\n    this.initComponentController();\n\n    this.initOptions();\n  }\n\n  /**\n   * \n   * render  view  view\n   * @param isUpdate \n   * @param params render \n   */\n  public render(isUpdate: boolean = false, payload?: EventPayload) {\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_RENDER, Event.fromData(this, VIEW_LIFE_CIRCLE.BEFORE_RENDER, payload));\n    // \n    this.paint(isUpdate);\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_RENDER, Event.fromData(this, VIEW_LIFE_CIRCLE.AFTER_RENDER, payload));\n\n    if (this.visible === false) {\n      //  visible: false\n      this.changeVisible(false);\n    }\n  }\n\n  /**\n   * chart \n   * @returns void\n   */\n  public clear() {\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_CLEAR);\n    // 1. \n    this.filteredData = [];\n    this.coordinateInstance = undefined;\n    this.isDataChanged = false; // \n    this.isCoordinateChanged = false; // \n\n    // 2.  geometries\n    const geometries = this.geometries;\n    for (let i = 0; i < geometries.length; i++) {\n      geometries[i].clear();\n      // view  geometry  chart.geometry()  #2799\n      geometries[i].container.remove(true);\n      geometries[i].labelsContainer.remove(true);\n    }\n    this.geometries = [];\n\n    // 3.  controllers\n    const controllers = this.controllers;\n    for (let i = 0; i < controllers.length; i++) {\n      if (controllers[i].name === 'annotation') {\n        // \n        (controllers[i] as Annotation).clear(true);\n      } else {\n        controllers[i].clear();\n      }\n    }\n\n    // 4.  scale \n    this.createdScaleKeys.forEach((v: boolean, k: string) => {\n      this.getRootView().scalePool.deleteScale(k);\n    });\n    this.createdScaleKeys.clear();\n\n    //  view\n    const views = this.views;\n    for (let i = 0; i < views.length; i++) {\n      views[i].clear();\n    }\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_CLEAR);\n  }\n\n  /**\n   * \n   * @returns void\n   */\n  public destroy() {\n    // \n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_DESTROY);\n    const interactions = this.interactions;\n    //  interactions\n    each(interactions, (interaction) => {\n      if (interaction) {\n        //  undefined\n        interaction.destroy();\n      }\n    });\n\n    this.clear();\n\n    //  controller \n    const controllers = this.controllers;\n    for (let i = 0, len = controllers.length; i < len; i++) {\n      const controller = controllers[i];\n      controller.destroy();\n    }\n\n    this.backgroundGroup.remove(true);\n    this.middleGroup.remove(true);\n    this.foregroundGroup.remove(true);\n\n    super.destroy();\n  }\n  /* end  */\n\n  /**\n   *  view\n   * @param visible \n   * @returns View\n   */\n  public changeVisible(visible: boolean): View {\n    super.changeVisible(visible);\n\n    const geometries = this.geometries;\n    for (let i = 0, len = geometries.length; i < len; i++) {\n      const geometry = geometries[i];\n      geometry.changeVisible(visible);\n    }\n\n    const controllers = this.controllers;\n    for (let i = 0, len = controllers.length; i < len; i++) {\n      const controller = controllers[i];\n      controller.changeVisible(visible);\n    }\n\n    this.foregroundGroup.set('visible', visible);\n    this.middleGroup.set('visible', visible);\n    this.backgroundGroup.set('visible', visible);\n\n    // group.set('visible', visible) \n    this.getCanvas().draw();\n\n    return this;\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   * view.data([{ city: '', sale: 100 }, { city: '', sale: 110 } ]);\n   * ```\n   *\n   * @param data json \n   * @returns View\n   */\n  public data(data: Data): View {\n    set(this.options, 'data', data);\n    this.isDataChanged = true;\n    return this;\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Replaced by {@link #data(data)}\n   */\n  public source(data: Data): View {\n    console.warn('This method will be removed at G2 V4.1. Please use chart.data() instead.');\n    return this.data(data);\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   * view.filter('city', (value: any, datum: Datum) => value !== '');\n   *\n   * //  'city' \n   * view.filter('city', null);\n   * ```\n   *\n   * @param field \n   * @param condition \n   * @returns View\n   */\n  public filter(field: string, condition: FilterCondition | null): View {\n    if (isFunction(condition)) {\n      set(this.options, ['filters', field], condition);\n      return this;\n    }\n    // condition \n    if (!condition && get(this.options, ['filters', field])) {\n      delete this.options.filters[field];\n    }\n\n    return this;\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   *  view.axis(false); // \n   * ```\n   * @param field \n   */\n  public axis(field: boolean): View;\n  /**\n   * \n   *\n   * @example\n   * ```ts\n   * view.axis('city', false); //  'city' \n   *\n   * //  'city' \n   * view.axis('city', {\n   *   title: null,\n   * });\n   * ```\n   *\n   * @param field \n   * @param axisOption https://github.com/antvis/component#axis\n   */\n  public axis(field: string, axisOption: AxisOption): View;\n  public axis(field: string | boolean, axisOption?: AxisOption): View {\n    if (isBoolean(field)) {\n      set(this.options, ['axes'], field);\n    } else {\n      set(this.options, ['axes', field], axisOption);\n    }\n\n    return this;\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   * view.legend(false); // \n   *\n   * view.legend({\n   *   position: 'right',\n   * }); // \n   * ```\n   * @param field\n   * @returns View\n   */\n  public legend(field: LegendOption): View;\n  /**\n   * \n   *\n   * @example\n   * ```ts\n   * view.legend('city', false); // \n   *\n   * // \n   * view.legend('city', {\n   *   position: 'right',\n   * });\n   * ```\n   *\n   * @param field \n   * @param legendOption https://github.com/antvis/component#axis\n   * @returns View\n   */\n  public legend(field: string, legendOption: LegendOption): View;\n  public legend(field: string | LegendOption, legendOption?: LegendOption): View {\n    if (isBoolean(field)) {\n      set(this.options, ['legends'], field);\n    } else if (isString(field)) {\n      set(this.options, ['legends', field], legendOption);\n      if (isPlainObject(legendOption) && legendOption?.selected) {\n        set(this.options, ['filters', field], (name: string) => {\n          return legendOption?.selected[name] ?? true;\n        });\n      }\n    } else {\n      //  legend \n      set(this.options, ['legends'], field);\n    }\n\n    return this;\n  }\n\n  /**\n   *  scale \n   *\n   * ```ts\n   * view.scale({\n   *   sale: {\n   *     min: 0,\n   *     max: 100,\n   *   }\n   * });\n   * ```\n   * Scale https://github.com/antvis/scale#api\n   * @returns View\n   */\n  public scale(field: Record<string, ScaleOption>): View;\n  /**\n   *  scale \n   *\n   * ```ts\n   * view.scale('sale', {\n   *   min: 0,\n   *   max: 100,\n   * });\n   * ```\n   *\n   * @returns View\n   */\n  public scale(field: string, scaleOption: ScaleOption): View;\n  public scale(field: string | Record<string, ScaleOption>, scaleOption?: ScaleOption): View {\n    if (isString(field)) {\n      set(this.options, ['scales', field], scaleOption);\n    } else if (isObject(field)) {\n      each(field, (v: ScaleOption, k: string) => {\n        set(this.options, ['scales', k], v);\n      });\n    }\n\n    return this;\n  }\n\n  /**\n   * tooltip \n   *\n   * ```ts\n   * view.tooltip(false); //  tooltip\n   *\n   * view.tooltip({\n   *   shared: true\n   * });\n   * ```\n   *\n   * @param cfg Tooltip https://github.com/antvis/component#tooltip\n   * @returns View\n   */\n  public tooltip(cfg: boolean | TooltipOption): View {\n    set(this.options, 'tooltip', cfg);\n\n    return this;\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   * view.annotation().line({\n   *   start: ['min', 85],\n   *   end: ['max', 85],\n   *   style: {\n   *     stroke: '#595959',\n   *     lineWidth: 1,\n   *     lineDash: [3, 3],\n   *   },\n   * });\n   * ```\n   * https://github.com/antvis/component#annotation\n   * @returns [[Annotation]]\n   */\n  public annotation(): Annotation {\n    return this.getController('annotation');\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Replaced by {@link #guide()}\n   */\n  public guide(): Annotation {\n    console.warn('This method will be removed at G2 V4.1. Please use chart.annotation() instead.');\n    return this.annotation();\n  }\n\n  /**\n   * \n   *\n   * @example\n   * ```ts\n   * view.coordinate({\n   *   type: 'polar',\n   *   cfg: {\n   *     radius: 0.85,\n   *   },\n   *   actions: [\n   *     [ 'transpose' ],\n   *   ],\n   * });\n   * ```\n   *\n   * @param option\n   * @returns\n   */\n  public coordinate(option?: CoordinateOption): CoordinateController;\n  /**\n   * \n   *\n   * ```ts\n   * // \n   * view.coordinate('rect').transpose();\n   *\n   * // \n   * view.coordinate();\n   * ```\n   *\n   * @param type \n   * @param [coordinateCfg] \n   * @returns\n   */\n  public coordinate(type: string, coordinateCfg?: CoordinateCfg): CoordinateController;\n  public coordinate(type: string | CoordinateOption, coordinateCfg?: CoordinateCfg): CoordinateController {\n    // \n    if (isString(type)) {\n      set(this.options, 'coordinate', { type, cfg: coordinateCfg } as CoordinateOption);\n    } else {\n      set(this.options, 'coordinate', type);\n    }\n\n    //  coordinate \n    this.coordinateController.update(this.options.coordinate);\n\n    return this.coordinateController;\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Replaced by {@link #coordinate()}\n   */\n  public coord(type: string | CoordinateOption, coordinateCfg?: CoordinateCfg): CoordinateController {\n    console.warn('This method will be removed at G2 V4.1. Please use chart.coordinate() instead.');\n    // @ts-ignore\n    return this.coordinate(type, coordinateCfg);\n  }\n\n  /**\n   * view \n   *\n   * ```ts\n   * view.facet('rect', {\n   *   rowField: 'province',\n   *   columnField: 'category',\n   *   eachView: (innerView: View, facet?: FacetData) => {\n   *     innerView.line().position('city*sale');\n   *   },\n   * });\n   * ```\n   *\n   * @param type \n   * @param cfg  [[FacetCfgMap]]\n   * @returns View\n   */\n  public facet<T extends keyof FacetCfgMap>(type: T, cfg: FacetCfgMap[T]): View {\n    // \n    if (this.facetInstance) {\n      this.facetInstance.destroy();\n    }\n\n    // \n    const Ctor = getFacet(type);\n\n    if (!Ctor) {\n      throw new Error(`facet '${type}' is not exist!`);\n    }\n\n    this.facetInstance = new Ctor(this, { ...cfg, type });\n\n    return this;\n  }\n\n  /*\n   * \n   *\n   * ```ts\n   * view.animate(false);\n   * ```\n   *\n   * @param status true false \n   * @returns View\n   */\n  public animate(status: boolean): View {\n    set(this.options, 'animate', status);\n    return this;\n  }\n\n  /**\n   * \n   * @param options \n   */\n  public updateOptions(options: Options) {\n    this.clear(); // \n    mix(this.options, options);\n\n    //  view \n    //  view \n    this.views.forEach((view) => view.destroy());\n    this.views = [];\n\n    this.initOptions();\n    //  padding \n    this.coordinateBBox = this.viewBBox;\n    return this;\n  }\n\n  /**\n   *  `view.options` \n   * @param name \n   * @param opt \n   * @returns view\n   */\n  public option(name: string, opt: any): View {\n    //  option\n    // name  API option \n    if (View.prototype[name]) {\n      throw new Error(`Can't use built in variable name \"${name}\", please change another one.`);\n    }\n\n    //  option \n    set(this.options, name, opt);\n    return this;\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   * view.theme('dark'); // 'dark'  `registerTheme()` \n   *\n   * view.theme({ defaultColor: 'red' });\n   * ```\n   *\n   * @param theme \n   * @returns View\n   */\n  public theme(theme: string | LooseObject): View {\n    this.themeObject = isObject(theme) ? deepMix({}, this.themeObject, createTheme(theme)) : getTheme(theme);\n\n    return this;\n  }\n\n  /* end  API */\n\n  /**\n   * Call the interaction based on the interaction name\n   *\n   * ```ts\n   * view.interaction('my-interaction', { extra: 'hello world' });\n   * ```\n   * https://g2.antv.vision/zh/docs/api/general/interaction\n   * @param name interaction name\n   * @param cfg interaction config\n   * @returns\n   */\n  public interaction(name: string, cfg?: LooseObject): View {\n    const existInteraction = this.interactions[name];\n    // \n    if (existInteraction) {\n      existInteraction.destroy();\n    }\n\n    // \n    const interaction = createInteraction(name, this, cfg);\n    if (interaction) {\n      interaction.init();\n      this.interactions[name] = interaction;\n    }\n    return this;\n  }\n\n  /**\n   *  View  interaction\n   * ```ts\n   * view.removeInteraction('my-interaction');\n   * ```\n   * @param name interaction name\n   */\n  public removeInteraction(name: string) {\n    const existInteraction = this.interactions[name];\n    // \n    if (existInteraction) {\n      existInteraction.destroy();\n      this.interactions[name] = undefined;\n    }\n  }\n\n  /**\n   *  view\n   *\n   * ```ts\n   * view.changeData([{ city: '', sale: '200' }]);\n   * ```\n   *\n   * @param data\n   * @returns void\n   */\n  public changeData(data: Data) {\n    this.isDataChanged = true;\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, Event.fromData(this, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null));\n    // 1. \n    this.data(data);\n\n    // 2. \n    this.paint(true);\n\n    // 3.  view  change data\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      // FIXME  view \n      view.changeData(data);\n    }\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, Event.fromData(this, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null));\n  }\n\n  /* View  API */\n\n  /**\n   *  view\n   *\n   * ```ts\n   * const innerView = view.createView({\n   *   start: { x: 0, y: 0 },\n   *   end: { x: 0.5, y: 0.5 },\n   *   padding: 8,\n   * });\n   * ```\n   *\n   * @param cfg\n   * @returns View\n   */\n  public createView(cfg?: Partial<ViewCfg>): View {\n    //  4.1  view chart - view \n    //  API  warning\n    if (this.parent && this.parent.parent) {\n      //  3  \n      console.warn('The view nesting recursive feature will be removed at G2 V4.1. Please avoid to use it.');\n    }\n\n    //  view  options \n    const sharedOptions = {\n      data: this.options.data,\n      scales: clone(this.options.scales),\n      axes: clone(this.options.axes),\n      coordinate: clone(this.coordinateController.getOption()),\n      tooltip: clone(this.options.tooltip),\n      legends: clone(this.options.legends),\n      animate: this.options.animate,\n      visible: this.visible,\n    };\n\n    const v = new View({\n      parent: this,\n      canvas: this.canvas,\n      //  view  group\n      backgroundGroup: this.backgroundGroup.addGroup({ zIndex: GROUP_Z_INDEX.BG }),\n      middleGroup: this.middleGroup.addGroup({ zIndex: GROUP_Z_INDEX.MID }),\n      foregroundGroup: this.foregroundGroup.addGroup({ zIndex: GROUP_Z_INDEX.FORE }),\n      theme: this.themeObject,\n      padding: this.padding,\n      ...cfg,\n      options: {\n        ...sharedOptions,\n        ...get(cfg, 'options', {}),\n      },\n    });\n\n    this.views.push(v);\n\n    return v;\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Replaced by {@link #createView()}\n   */\n  public view(cfg?: Partial<ViewCfg>) {\n    console.warn('This method will be removed at G2 V4.1. Please use chart.createView() instead.');\n    return this.createView(cfg);\n  }\n\n  /**\n   *  view\n   * @param view\n   * @return removedView\n   */\n  public removeView(view: View): View {\n    const removedView = remove(this.views, (v: View) => v === view)[0];\n\n    if (removedView) {\n      removedView.destroy();\n    }\n\n    return removedView;\n  }\n  /* end View  API */\n\n  //  get \n\n  /**\n   * \n   * @returns [[Coordinate]]\n   */\n  public getCoordinate() {\n    return this.coordinateInstance;\n  }\n\n  /**\n   *  view \n   * @returns themeObject\n   */\n  public getTheme(): LooseObject {\n    return this.themeObject;\n  }\n\n  /**\n   *  x  scale \n   * @returns view  Geometry  x scale\n   */\n  public getXScale(): Scale {\n    //  Geometry  X scale\n    //  view  Geometry  x \n    const g = this.geometries[0];\n    return g ? g.getXScale() : null;\n  }\n\n  /**\n   *  y  scales \n   * @returns view  Geometry  y scale \n   */\n  public getYScales(): Scale[] {\n    //  Geometry  Y scale\n    const tmpMap = {};\n    const yScales = [];\n    this.geometries.forEach((g: Geometry) => {\n      const yScale = g.getYScale();\n      const field = yScale.field;\n      if (!tmpMap[field]) {\n        tmpMap[field] = true;\n        yScales.push(yScale);\n      }\n    });\n    return yScales;\n  }\n\n  /**\n   *  x  y  scale \n   * @param dimType x | y\n   * @returns x  y  scale \n   */\n  public getScalesByDim(dimType: 'x' | 'y'): Record<string, Scale> {\n    const geometries = this.geometries;\n    const scales = {};\n\n    for (let i = 0, len = geometries.length; i < len; i++) {\n      const geometry = geometries[i];\n      const scale = dimType === 'x' ? geometry.getXScale() : geometry.getYScale();\n      if (scale && !scales[scale.field]) {\n        scales[scale.field] = scale;\n      }\n    }\n\n    return scales;\n  }\n\n  /**\n   *  scale \n   * @param field \n   * @param key id\n   */\n  public getScale(field: string, key?: string): Scale {\n    const defaultKey = key ? key : this.getScaleKey(field);\n    //  view \n    return this.getRootView().scalePool.getScale(defaultKey);\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Please use `getScale`.\n   */\n  public getScaleByField(field: string, key?: string): Scale {\n    return this.getScale(field, key);\n  }\n\n  /**\n   * \n   * @returns  view API \n   */\n  public getOptions(): Options {\n    return this.options;\n  }\n\n  /**\n   *  view \n   * @returns \n   */\n  public getData() {\n    return this.filteredData;\n  }\n\n  /**\n   * \n   * @returns  G2 \n   */\n  public getOriginalData() {\n    return this.options.data;\n  }\n\n  /**\n   *  padding\n   * @returns\n   */\n  public getPadding(): Padding {\n    return this.autoPadding.getPadding();\n  }\n\n  /**\n   *  view  geometries\n   * @returns\n   */\n  public getGeometries() {\n    return this.geometries;\n  }\n\n  /**\n   *  view  geome\n   */\n  public getElements(): Element[] {\n    return reduce(\n      this.geometries,\n      (elements: Element[], geometry: Geometry) => {\n        return elements.concat(geometry.getElements());\n      },\n      []\n    );\n  }\n\n  /**\n   *  Geometry  Elements\n   *\n   * ```typescript\n   * getElementsBy((element) => {\n   *   const data = element.getData();\n   *\n   *   return data.a === 'a';\n   * });\n   * ```\n   *\n   * @param condition \n   * @returns\n   */\n  public getElementsBy(condition: (element: Element) => boolean): Element[] {\n    return this.getElements().filter((el) => condition(el));\n  }\n\n  /**\n   *  group\n   * @param layer \n   * @returns  Group\n   */\n  public getLayer(layer: LAYER): IGroup {\n    return layer === LAYER.BG\n      ? this.backgroundGroup\n      : layer === LAYER.MID\n      ? this.middleGroup\n      : layer === LAYER.FORE\n      ? this.foregroundGroup\n      : this.foregroundGroup;\n  }\n\n  /**\n   * \n   * @param point \n   */\n  public isPointInPlot(point: Point): boolean {\n    return isPointInCoordinate(this.getCoordinate(), point);\n  }\n\n  /**\n   *  legend  attribute \n   * @returns  Attribute \n   */\n  public getLegendAttributes(): Attribute[] {\n    return flatten(this.geometries.map((g: Geometry) => g.getGroupAttributes())) as unknown as Attribute[];\n  }\n\n  /**\n   *  scale \n   * @returns  scale \n   */\n  public getGroupScales(): Scale[] {\n    //  Geometry   scale\n    const scales = this.geometries.map((g: Geometry) => g.getGroupScales());\n    return uniq(flatten(scales));\n  }\n\n  /**\n   *  G.Canvas \n   * @returns G.Canvas \n   */\n  public getCanvas(): ICanvas {\n    return (this.getRootView() as unknown as Chart).canvas;\n  }\n\n  /**\n   *  view\n   */\n  public getRootView(): View {\n    let v = this as View;\n\n    while (true) {\n      if (v.parent) {\n        v = v.parent;\n        continue;\n      }\n      break;\n    }\n    return v;\n  }\n\n  /**\n   * \n   * @param data \n   * @returns \n   */\n  public getXY(data: Datum): Point {\n    const coordinate = this.getCoordinate();\n    const xScales = this.getScalesByDim('x');\n    const yScales = this.getScalesByDim('y');\n    let x;\n    let y;\n\n    each(data, (value, key) => {\n      if (xScales[key]) {\n        x = xScales[key].scale(value);\n      }\n      if (yScales[key]) {\n        y = yScales[key].scale(value);\n      }\n    });\n\n    if (!isNil(x) && !isNil(y)) {\n      return coordinate.convert({ x, y });\n    }\n  }\n\n  public getController(name: 'tooltip'): Tooltip;\n  public getController(name: 'axis'): Axis;\n  public getController(name: 'legend'): Legend;\n  public getController(name: 'scrollbar'): Scrollbar;\n  public getController(name: 'slider'): Slider;\n  public getController(name: 'annotation'): Annotation;\n  public getController(name: 'gestucre'): Gesture;\n  public getController(name: string): Controller;\n  /**\n   *  name  controller \n   * @param name\n   */\n  public getController(name: string): Controller {\n    return find(this.controllers, (c: Controller) => c.name === name);\n  }\n\n  /**\n   *  point  tooltip\n   * @param point \n   * @returns View\n   */\n  public showTooltip(point: Point): View {\n    const tooltip = this.getController('tooltip');\n    if (tooltip) {\n      tooltip.showTooltip(point);\n    }\n    return this;\n  }\n\n  /**\n   *  tooltip\n   * @returns View\n   */\n  public hideTooltip(): View {\n    const tooltip = this.getController('tooltip');\n    if (tooltip) {\n      tooltip.hideTooltip();\n    }\n    return this;\n  }\n\n  /**\n   *  tooltip \n   * @returns View\n   */\n  public lockTooltip(): View {\n    const tooltip = this.getController('tooltip');\n    if (tooltip) {\n      tooltip.lockTooltip();\n    }\n    return this;\n  }\n\n  /**\n   *  tooltip \n   * @returns View\n   */\n  public unlockTooltip(): View {\n    const tooltip = this.getController('tooltip');\n    if (tooltip) {\n      tooltip.unlockTooltip();\n    }\n    return this;\n  }\n\n  /**\n   *  tooltip\n   * @returns \n   */\n  public isTooltipLocked() {\n    const tooltip = this.getController('tooltip');\n    return tooltip && tooltip.isTooltipLocked();\n  }\n\n  /**\n   *  point  tooltip \n   * @param point \n   * @returns tooltip \n   */\n  public getTooltipItems(point: Point) {\n    const tooltip = this.getController('tooltip');\n\n    return tooltip ? tooltip.getTooltipItems(point) : [];\n  }\n\n  /**\n   * \n   * @param point \n   * @returns  \n   */\n  public getSnapRecords(point: Point) {\n    const geometries = this.geometries;\n    let rst = [];\n    for (let i = 0, len = geometries.length; i < len; i++) {\n      const geom = geometries[i];\n      const dataArray = geom.dataArray;\n      geom.sort(dataArray); //  tooltip \n      let record;\n      for (let j = 0, dataLen = dataArray.length; j < dataLen; j++) {\n        const data = dataArray[j];\n        record = findDataByPoint(point, data, geom);\n        if (record) {\n          rst.push(record);\n        }\n      }\n    }\n\n    //  views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      const snapRecords = view.getSnapRecords(point);\n      rst = rst.concat(snapRecords);\n    }\n\n    return rst;\n  }\n\n  /**\n   *  pure component \n   */\n  public getComponents(): ComponentOption[] {\n    let components = [];\n    const controllers = this.controllers;\n    for (let i = 0, len = controllers.length; i < len; i++) {\n      const controller = controllers[i];\n      components = components.concat(controller.getComponents());\n    }\n\n    return components;\n  }\n\n  /**\n   *  data \n   * @param data\n   * @returns \n   */\n  public filterData(data: Data): Data {\n    const { filters } = this.options;\n    //  filters\n    if (size(filters) === 0) {\n      return data;\n    }\n\n    //   \n    return filter(data, (datum: Datum, idx: number) => {\n      //  filter \n      const fields = Object.keys(filters);\n\n      // \n      return fields.every((field: string) => {\n        const condition = filters[field];\n\n        // condition  true\n        return condition(datum[field], datum, idx);\n      });\n    });\n  }\n\n  /**\n   * \n   * @param field\n   * @param data\n   */\n  public filterFieldData(field: string, data: Data): Data {\n    const { filters } = this.options;\n    const condition = get(filters, field);\n\n    if (isUndefined(condition)) {\n      return data;\n    }\n    return data.filter((datum: Datum, idx: number) => condition(datum[field], datum, idx));\n  }\n\n  /**\n   *  coordinate \n   */\n  public adjustCoordinate() {\n    const { start: curStart, end: curEnd } = this.getCoordinate();\n    const start = this.coordinateBBox.bl;\n    const end = this.coordinateBBox.tr;\n\n    //  defaultLayoutFn  coordinateBBox  adjustCoordinate()\n    if (isEqual(curStart, start) && isEqual(curEnd, end)) {\n      this.isCoordinateChanged = false;\n      // \n      return;\n    }\n    this.isCoordinateChanged = true;\n    this.coordinateInstance = this.coordinateController.adjust(start, end);\n  }\n\n  protected paint(isUpdate: boolean) {\n    this.renderDataRecursive(isUpdate);\n\n    //  sync scale \n    this.syncScale();\n\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_PAINT);\n\n    //  padding\n    this.renderPaddingRecursive(isUpdate);\n    // \n    this.renderLayoutRecursive(isUpdate);\n    //  shape\n    this.renderBackgroundStyleShape();\n    //  render\n    this.renderPaintRecursive(isUpdate);\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_PAINT);\n\n    this.isDataChanged = false; // \n  }\n\n  /**\n   *  shape\n   *  view  view \n   */\n  private renderBackgroundStyleShape() {\n    // \n    if (this.parent) {\n      return;\n    }\n    const background = get(this.themeObject, 'background');\n    // \n    if (background) {\n      // 1. \n      if (!this.backgroundStyleRectShape) {\n        this.backgroundStyleRectShape = this.backgroundGroup.addShape('rect', {\n          attrs: {},\n          zIndex: -1,\n          //  shape \n          capture: false,\n        });\n        this.backgroundStyleRectShape.toBack();\n      }\n\n      // 2.  shape \n      const { x, y, width, height } = this.viewBBox;\n      this.backgroundStyleRectShape.attr({\n        fill: background,\n        x,\n        y,\n        width,\n        height,\n      });\n    } else {\n      // \n      if (this.backgroundStyleRectShape) {\n        this.backgroundStyleRectShape.remove(true);\n        this.backgroundStyleRectShape = undefined;\n      }\n    }\n  }\n\n  /**\n   *  view  padding coordinateBBox  coordinateInstance\n   * @param isUpdate\n   */\n  protected renderPaddingRecursive(isUpdate: boolean) {\n    // 1.  view  coordinateBBoxchangeSize \n    this.calculateViewBBox();\n    // 2.  coordinate\n    this.adjustCoordinate();\n    // 3.  component\n    this.initComponents(isUpdate);\n    // 4.  view  padding \n    // 4.1.  auto padding -> absolute padding appendPadding\n    this.autoPadding = calculatePadding(this).shrink(parsePadding(this.appendPadding));\n    // 4.2.  coordinateBBox Coordinate\n    //  view  viewBBox  parent  coordinateBBox\n    this.coordinateBBox = this.viewBBox.shrink(this.autoPadding.getPadding());\n    this.adjustCoordinate();\n\n    //  views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      view.renderPaddingRecursive(isUpdate);\n    }\n  }\n\n  /**\n   *  view  view  coordinateBBox  coordinateInstance\n   * @param isUpdate\n   */\n  protected renderLayoutRecursive(isUpdate: boolean) {\n    // 1.  view padding\n    //  padding\n    const syncViewPaddingFn =\n      this.syncViewPadding === true\n        ? defaultSyncViewPadding\n        : isFunction(this.syncViewPadding)\n        ? this.syncViewPadding\n        : undefined;\n\n    if (syncViewPaddingFn) {\n      syncViewPaddingFn(this, this.views, PaddingCal);\n      //  padding  coordinate\n      this.views.forEach((v: View) => {\n        v.coordinateBBox = v.viewBBox.shrink(v.autoPadding.getPadding());\n        v.adjustCoordinate();\n      });\n    }\n\n    // 3.  view  view padding \n    this.doLayout();\n\n    //  views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      view.renderLayoutRecursive(isUpdate);\n    }\n  }\n\n  /**\n   * \n   * @param isUpdate\n   */\n  protected renderPaintRecursive(isUpdate: boolean) {\n    const middleGroup = this.middleGroup;\n    if (this.limitInPlot) {\n      const { type, attrs } = getCoordinateClipCfg(this.coordinateInstance);\n      middleGroup.setClip({\n        type,\n        attrs,\n      });\n    } else {\n      //  clip\n      middleGroup.setClip(undefined);\n    }\n\n    // 1. \n    this.paintGeometries(isUpdate);\n    // 2. \n    this.renderComponents(isUpdate);\n\n    //  views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      view.renderPaintRecursive(isUpdate);\n    }\n  }\n\n  // end Get \n\n  /**\n   *  scale view  scale\n   * @param field\n   * @param data\n   * @param scaleDef\n   * @param key\n   */\n  protected createScale(field: string, data: Data, scaleDef: ScaleOption, key: string): Scale {\n    // 1.  field  scaleDef\n    const currentScaleDef = get(this.options.scales, [field]);\n    const mergedScaleDef = { ...currentScaleDef, ...scaleDef };\n\n    // 2.  view\n    if (this.parent) {\n      return this.parent.createScale(field, data, mergedScaleDef, key);\n    }\n\n    // 3.  view  scalePool \n    return this.scalePool.createScale(field, data, mergedScaleDef, key);\n  }\n\n  /**\n   * \n   * @param isUpdate\n   */\n  private renderDataRecursive(isUpdate: boolean) {\n    // 1. \n    this.doFilterData();\n    // 2. \n    this.createCoordinate();\n    // 3.  Geometry\n    this.initGeometries(isUpdate);\n    // 4.  view  geometry\n    this.renderFacet(isUpdate);\n\n    //  views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      view.renderDataRecursive(isUpdate);\n    }\n  }\n\n  /**\n   *  region\n   * @private\n   */\n  private calculateViewBBox() {\n    let x;\n    let y;\n    let width;\n    let height;\n\n    if (this.parent) {\n      const bbox = this.parent.coordinateBBox;\n      //  parent \n      x = bbox.x;\n      y = bbox.y;\n      width = bbox.width;\n      height = bbox.height;\n    } else {\n      //  canvas  \n      x = 0;\n      y = 0;\n      width = this.canvas.get('width');\n      height = this.canvas.get('height');\n    }\n\n    const { start, end } = this.region;\n\n    //  region  view  bbox \n    const viewBBox = new BBox(\n      x + width * start.x,\n      y + height * start.y,\n      width * (end.x - start.x),\n      height * (end.y - start.y)\n    );\n\n    if (!this.viewBBox || !this.viewBBox.isEqual(viewBBox)) {\n      // viewBBox \n      this.viewBBox = new BBox(\n        x + width * start.x,\n        y + height * start.y,\n        width * (end.x - start.x),\n        height * (end.y - start.y)\n      );\n    }\n\n    //  coordinate bbox \n    this.coordinateBBox = this.viewBBox;\n  }\n\n  /**\n   * G 4.0  name:event  name \n   *\n   * G2  view \n   *  view  view  Component  Geometry \n   * @private\n   */\n  private initEvents() {\n    //  group  shape  G \n    this.foregroundGroup.on('*', this.onDelegateEvents);\n    this.middleGroup.on('*', this.onDelegateEvents);\n    this.backgroundGroup.on('*', this.onDelegateEvents);\n\n    this.canvas.on('*', this.onCanvasEvent);\n  }\n\n  private onCanvasEvent = (evt: GEvent): void => {\n    const name = evt.name;\n    if (!name.includes(':')) {\n      // \n      const e = this.createViewEvent(evt);\n      //  plot \n      this.doPlotEvent(e);\n      this.emit(name, e);\n    }\n  };\n\n  /**\n   * \n   */\n  private initComponentController() {\n    const usedControllers = this.usedControllers;\n    for (let i = 0, len = usedControllers.length; i < len; i++) {\n      const controllerName = usedControllers[i];\n      const Ctor = getComponentController(controllerName);\n      if (Ctor) {\n        this.controllers.push(new Ctor(this));\n      }\n    }\n  }\n\n  private createViewEvent(evt: GEvent) {\n    const { shape, name } = evt;\n\n    const data = shape ? shape.get('origin') : null;\n    //  view \n    const e = new Event(this, evt, data);\n    e.type = name;\n    return e;\n  }\n  /**\n   * \n   * @param evt\n   */\n  private onDelegateEvents = (evt: GEvent): void => {\n    // \n    // evt.preventDefault();\n    const { name } = evt;\n    if (!name.includes(':')) {\n      return;\n    }\n    //  view \n    const e = this.createViewEvent(evt);\n\n    // \n    this.emit(name, e);\n    // const currentTarget = evt.currentTarget as IShape;\n    // const inheritNames = currentTarget.get('inheritNames');\n    // if (evt.delegateObject || inheritNames) {\n    //   const events = this.getEvents();\n    //   each(inheritNames, (subName) => {\n    //     const eventName = `${subName}:${type}`;\n    //     if (events[eventName]) {\n    //       this.emit(eventName, e);\n    //     }\n    //   });\n    // }\n  };\n\n  /**\n   *  PLOT_EVENTS\n   * plot event  emit\n   *  mouseentermouseleave \n   * @param e\n   */\n  private doPlotEvent(e: Event) {\n    const { type, x, y } = e;\n\n    const point = { x, y };\n\n    const ALL_EVENTS = [\n      'mousedown',\n      'mouseup',\n      'mousemove',\n      'mouseleave',\n      'mousewheel',\n      'touchstart',\n      'touchmove',\n      'touchend',\n      'touchcancel',\n      'click',\n      'dblclick',\n      'contextmenu',\n    ];\n\n    if (ALL_EVENTS.includes(type)) {\n      const currentInPlot = this.isPointInPlot(point);\n      const newEvent = e.clone();\n\n      if (currentInPlot) {\n        const TYPE = `plot:${type}`; //  plot \n        newEvent.type = TYPE;\n        this.emit(TYPE, newEvent);\n        if (type === 'mouseleave' || type === 'touchend') {\n          // plot \n          this.isPreMouseInPlot = false;\n        }\n      }\n\n      //  mouseenter, mouseleave \n      if (type === 'mousemove' || type === 'touchmove') {\n        if (this.isPreMouseInPlot && !currentInPlot) {\n          if (type === 'mousemove') {\n            newEvent.type = PLOT_EVENTS.MOUSE_LEAVE;\n            this.emit(PLOT_EVENTS.MOUSE_LEAVE, newEvent);\n          }\n          newEvent.type = PLOT_EVENTS.LEAVE;\n          this.emit(PLOT_EVENTS.LEAVE, newEvent);\n        } else if (!this.isPreMouseInPlot && currentInPlot) {\n          if (type === 'mousemove') {\n            newEvent.type = PLOT_EVENTS.MOUSE_ENTER;\n            this.emit(PLOT_EVENTS.MOUSE_ENTER, newEvent);\n          }\n          newEvent.type = PLOT_EVENTS.ENTER;\n          this.emit(PLOT_EVENTS.ENTER, newEvent);\n        }\n        // \n        this.isPreMouseInPlot = currentInPlot;\n      } else if (type === 'mouseleave' || type === 'touchend') {\n        //  currentInPlot \n        if (this.isPreMouseInPlot) {\n          if (type === 'mouseleave') {\n            newEvent.type = PLOT_EVENTS.MOUSE_LEAVE;\n            this.emit(PLOT_EVENTS.MOUSE_LEAVE, newEvent);\n          }\n          newEvent.type = PLOT_EVENTS.LEAVE;\n          this.emit(PLOT_EVENTS.LEAVE, newEvent);\n\n          this.isPreMouseInPlot = false;\n        }\n      }\n    }\n  }\n\n  // view   \n\n  /**\n   * \n   * @private\n   */\n  private doFilterData() {\n    const { data } = this.options;\n    this.filteredData = this.filterData(data);\n  }\n\n  /**\n   *  Geometries\n   * @private\n   */\n  private initGeometries(isUpdate: boolean) {\n    //  /  scales\n    this.createOrUpdateScales();\n    //  Geometry view  scale \n    const coordinate = this.getCoordinate();\n    const scaleDefs = get(this.options, 'scales', {});\n    const geometries = this.geometries;\n    for (let i = 0, len = geometries.length; i < len; i++) {\n      const geometry = geometries[i];\n      //  scales \n      geometry.scales = this.getGeometryScales();\n      const cfg = {\n        coordinate, //  coordinate  coordinate \n        scaleDefs,\n        data: this.filteredData,\n        theme: this.themeObject,\n        isDataChanged: this.isDataChanged,\n        isCoordinateChanged: this.isCoordinateChanged,\n      };\n\n      if (isUpdate) {\n        // \n        geometry.update(cfg);\n      } else {\n        geometry.init(cfg);\n      }\n    }\n\n    // Geometry  scale scale \n    this.adjustScales();\n  }\n\n  /**\n   *  Geometry  scales\n   * \n   */\n  private createOrUpdateScales() {\n    const fields = this.getScaleFields();\n    const groupedFields = this.getGroupedFields();\n\n    const { data, scales = {} } = this.getOptions();\n    const filteredData = this.filteredData;\n\n    for (let i = 0, len = fields.length; i < len; i++) {\n      const field = fields[i];\n      const scaleDef = scales[field];\n\n      // \n      const key = this.getScaleKey(field);\n      this.createScale(\n        field,\n        //  scale \n        groupedFields.includes(field) ? data : filteredData,\n        scaleDef,\n        key\n      );\n\n      //  view  scale key\n      this.createdScaleKeys.set(key, true);\n    }\n  }\n\n  /**\n   *  scale \n   */\n  private syncScale() {\n    //  root view \n    this.getRootView().scalePool.sync(this.getCoordinate(), this.theme);\n  }\n\n  /**\n   *  Geometry  scale \n   */\n  private getGeometryScales(): Record<string, Scale> {\n    const fields = this.getScaleFields();\n\n    const scales = {};\n    for (let i = 0; i < fields.length; i++) {\n      const field = fields[i];\n      scales[field] = this.getScaleByField(field);\n    }\n\n    return scales;\n  }\n\n  private getScaleFields() {\n    const fields = [];\n    const tmpMap = new Map();\n    const geometries = this.geometries;\n    for (let i = 0; i < geometries.length; i++) {\n      const geometry = geometries[i];\n      const geometryScales = geometry.getScaleFields();\n      uniq(geometryScales, fields, tmpMap);\n    }\n    return fields;\n  }\n\n  private getGroupedFields() {\n    const fields = [];\n    const tmpMap = new Map();\n    const geometries = this.geometries;\n    for (let i = 0; i < geometries.length; i++) {\n      const geometry = geometries[i];\n      const groupFields = geometry.getGroupFields();\n      uniq(groupFields, fields, tmpMap);\n    }\n    return fields;\n  }\n\n  /**\n   *  scale \n   * @private\n   */\n  private adjustScales() {\n    // \n    //  scale range \n    this.adjustCategoryScaleRange();\n  }\n\n  /**\n   *  scale  range\n   * @private\n   */\n  private adjustCategoryScaleRange() {\n    const xyScales = [this.getXScale(), ...this.getYScales()].filter((e) => !!e);\n    const coordinate = this.getCoordinate();\n    const scaleOptions = this.options.scales;\n\n    each(xyScales, (scale: Scale) => {\n      const { field, values, isCategory, isIdentity } = scale;\n\n      //  identity  scale \n      if (isCategory || isIdentity) {\n        //  value  range \n        if (values && !get(scaleOptions, [field, 'range'])) {\n          //  range\n          scale.range = getDefaultCategoryScaleRange(scale, coordinate, this.theme);\n        }\n      }\n    });\n  }\n\n  /**\n   *  options Geometry  components\n   * @param isUpdate \n   * @private\n   */\n  private initComponents(isUpdate: boolean) {\n    //  render\n    const controllers = this.controllers;\n    for (let i = 0; i < controllers.length; i++) {\n      const controller = controllers[i];\n      // \n      if (isUpdate) {\n        controller.update();\n      } else {\n        controller.clear();\n        controller.render();\n      }\n    }\n  }\n\n  private doLayout() {\n    this.layoutFunc(this);\n  }\n\n  /**\n   * \n   * @private\n   */\n  private createCoordinate() {\n    const start = this.coordinateBBox.bl;\n    const end = this.coordinateBBox.tr;\n    this.coordinateInstance = this.coordinateController.create(start, end);\n  }\n\n  /**\n   *  options  geometry\n   * @private\n   */\n  private paintGeometries(isUpdate: boolean) {\n    const doAnimation = this.options.animate;\n    // geometry  paint \n    const coordinate = this.getCoordinate();\n    const canvasRegion = {\n      x: this.viewBBox.x,\n      y: this.viewBBox.y,\n      minX: this.viewBBox.minX,\n      minY: this.viewBBox.minY,\n      maxX: this.viewBBox.maxX,\n      maxY: this.viewBBox.maxY,\n      width: this.viewBBox.width,\n      height: this.viewBBox.height,\n    };\n    const geometries = this.geometries;\n    for (let i = 0; i < geometries.length; i++) {\n      const geometry = geometries[i];\n      geometry.coordinate = coordinate;\n      geometry.canvasRegion = canvasRegion;\n      if (!doAnimation) {\n        //  view  view  geometry \n        geometry.animate(false);\n      }\n      geometry.paint(isUpdate);\n    }\n  }\n\n  /**\n   * \n   * @param isUpdate\n   */\n  private renderComponents(isUpdate: boolean) {\n    //  render\n    for (let i = 0; i < this.getComponents().length; i++) {\n      const co = this.getComponents()[i];\n      (co.component as GroupComponent).render();\n    }\n  }\n\n  /**\n   *  view \n   * @param isUpdate\n   */\n  private renderFacet(isUpdate: boolean) {\n    if (this.facetInstance) {\n      if (isUpdate) {\n        this.facetInstance.update();\n      } else {\n        this.facetInstance.clear();\n        // \n        this.facetInstance.init();\n        //  views\n        this.facetInstance.render();\n      }\n    }\n  }\n\n  private initOptions() {\n    const {\n      geometries = [],\n      interactions = [],\n      views = [],\n      annotations = [],\n      coordinate,\n      events,\n      facets,\n    } = this.options;\n\n    // \n    if (this.coordinateController) {\n      //  coordinate controller\n      coordinate && this.coordinateController.update(coordinate);\n    } else {\n      //  coordinate controller\n      this.coordinateController = new CoordinateController(coordinate);\n    }\n\n    //  geometry \n    for (let i = 0; i < geometries.length; i++) {\n      const geometryOption = geometries[i];\n      this.createGeometry(geometryOption);\n    }\n\n    //  interactions \n    for (let j = 0; j < interactions.length; j++) {\n      const interactionOption = interactions[j];\n      const { type, cfg } = interactionOption;\n      this.interaction(type, cfg);\n    }\n\n    //  view \n    for (let k = 0; k < views.length; k++) {\n      const viewOption = views[k];\n      this.createView(viewOption);\n    }\n\n    //  annotation\n    const annotationComponent = this.getController('annotation');\n    for (let l = 0; l < annotations.length; l++) {\n      const annotationOption = annotations[l];\n      annotationComponent.annotation(annotationOption);\n    }\n\n    //  events\n    if (events) {\n      each(events, (eventCallback, eventName) => {\n        this.on(eventName, eventCallback);\n      });\n    }\n\n    if (facets) {\n      each(facets, (facet) => {\n        const { type, ...rest } = facet;\n\n        this.facet(type, rest);\n      });\n    }\n  }\n\n  private createGeometry(geometryOption: GeometryOption) {\n    const { type, cfg = {} } = geometryOption;\n    if (this[type]) {\n      const geometry = this[type](cfg);\n      each(geometryOption, (v, k) => {\n        if (isFunction(geometry[k])) {\n          geometry[k](v);\n        }\n      });\n    }\n  }\n\n  /**\n   * scale key \n   * @param field\n   */\n  private getScaleKey(field: string): string {\n    return `${this.id}-${field}`;\n  }\n}\n\n/**\n *  geometry \n * @param name\n * @param Ctor\n * @returns Geometry\n */\nexport function registerGeometry(name: string, Ctor: any) {\n  //  view API \n  View.prototype[name.toLowerCase()] = function (cfg: any = {}) {\n    const props = {\n      /**  */\n      container: this.middleGroup.addGroup(),\n      labelsContainer: this.foregroundGroup.addGroup(),\n      ...cfg,\n    };\n\n    const geometry = new Ctor(props);\n    this.geometries.push(geometry);\n\n    return geometry;\n  };\n}\n\nexport default View;\n","import { debounce, each, isString } from '@antv/util';\nimport { ChartCfg } from '../interface';\nimport { GROUP_Z_INDEX, VIEW_LIFE_CIRCLE } from '../constant';\nimport { getEngine } from '../engine';\nimport { createDom, getChartSize, removeDom, modifyCSS } from '../util/dom';\nimport View from './view';\nimport { AriaOption } from '../interface';\n\n/**\n * Chart  G2 \n */\nexport default class Chart extends View {\n  /** Chart  DOM  */\n  public ele: HTMLElement;\n\n  /**  */\n  public width: number;\n  /**  */\n  public height: number;\n  /**  */\n  public localRefresh: boolean;\n  /**  DOM  false */\n  public autoFit: boolean;\n  /**  */\n  public renderer: 'canvas' | 'svg';\n\n  private wrapperElement: HTMLElement;\n\n  // @ts-ignore\n  constructor(props: ChartCfg) {\n    const {\n      container,\n      width,\n      height,\n      autoFit = false,\n      padding,\n      appendPadding,\n      renderer = 'canvas',\n      pixelRatio,\n      localRefresh = true,\n      visible = true,\n      supportCSSTransform = false,\n      defaultInteractions = ['tooltip', 'legend-filter', 'legend-active', 'continuous-filter', 'ellipsis-text'],\n      options,\n      limitInPlot,\n      theme,\n      syncViewPadding,\n    } = props;\n\n    const ele: HTMLElement = isString(container) ? document.getElementById(container) : container;\n\n    //  div \n    const wrapperElement = createDom('<div style=\"position:relative;\"></div>');\n    ele.appendChild(wrapperElement);\n\n    // if autoFit, use the container size, to avoid the graph render twice.\n    const size = getChartSize(ele, autoFit, width, height);\n\n    const G = getEngine(renderer);\n\n    const canvas = new G.Canvas({\n      container: wrapperElement,\n      pixelRatio,\n      localRefresh,\n      supportCSSTransform,\n      ...size,\n    });\n\n    //  view \n    super({\n      parent: null,\n      canvas,\n      // create 3 group layers for views.\n      backgroundGroup: canvas.addGroup({ zIndex: GROUP_Z_INDEX.BG }),\n      middleGroup: canvas.addGroup({ zIndex: GROUP_Z_INDEX.MID }),\n      foregroundGroup: canvas.addGroup({ zIndex: GROUP_Z_INDEX.FORE }),\n      padding,\n      appendPadding,\n      visible,\n      options,\n      limitInPlot,\n      theme,\n      syncViewPadding,\n    });\n\n    this.ele = ele;\n    this.canvas = canvas;\n    this.width = size.width;\n    this.height = size.height;\n    this.autoFit = autoFit;\n    this.localRefresh = localRefresh;\n    this.renderer = renderer;\n    this.wrapperElement = wrapperElement;\n\n    // \n    this.updateCanvasStyle();\n    this.bindAutoFit();\n    this.initDefaultInteractions(defaultInteractions);\n  }\n\n  private initDefaultInteractions(interactions) {\n    each(interactions, (interaction) => {\n      this.interaction(interaction);\n    });\n  }\n\n  /**\n   *  WAI-ARIA  arial \n   * @param ariaOption\n   */\n  public aria(ariaOption: AriaOption) {\n    const ATTR = 'aria-label';\n    if (ariaOption === false) {\n      this.ele.removeAttribute(ATTR);\n    } else {\n      this.ele.setAttribute(ATTR, ariaOption.label);\n    }\n  }\n\n  /**\n   * \n   * @param width \n   * @param height \n   * @returns\n   */\n  public changeSize(width: number, height: number) {\n    //  changeSize \n    if (this.width === width && this.height === height) {\n      return this;\n    }\n\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE);\n\n    this.width = width;\n    this.height = height;\n    this.canvas.changeSize(width, height);\n\n    // \n    this.render(true);\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_CHANGE_SIZE);\n\n    return this;\n  }\n\n  /**\n   *  aria \n   */\n  public clear() {\n    super.clear();\n\n    this.aria(false);\n  }\n\n  /**\n   *  G.Canvas \n   * @returns void\n   */\n  public destroy() {\n    super.destroy();\n\n    this.unbindAutoFit();\n    this.canvas.destroy();\n\n    removeDom(this.wrapperElement);\n    this.wrapperElement = null;\n  }\n\n  /**\n   * \n   * @param visible true false \n   * @returns\n   */\n  public changeVisible(visible: boolean) {\n    super.changeVisible(visible); //  visible \n    this.wrapperElement.style.display = visible ? '' : 'none';\n\n    return this;\n  }\n\n  /**\n   *  resize \n   */\n  public forceFit() {\n    // skip if already destroyed\n    if (!this.destroyed) {\n      //  true autoFit = falseforceFit() \n      const { width, height } = getChartSize(this.ele, true, this.width, this.height);\n      this.changeSize(width, height);\n    }\n  }\n\n  private updateCanvasStyle() {\n    modifyCSS(this.canvas.get('el'), {\n      display: 'inline-block',\n      verticalAlign: 'middle',\n    });\n  }\n\n  private bindAutoFit() {\n    if (this.autoFit) {\n      window.addEventListener('resize', this.onResize);\n    }\n  }\n\n  private unbindAutoFit() {\n    if (this.autoFit) {\n      window.removeEventListener('resize', this.onResize);\n    }\n  }\n\n  /**\n   * when container size changed, change chart size props, and re-render.\n   */\n  private onResize = debounce(() => {\n    this.forceFit();\n  }, 300);\n}\n","import { each } from '@antv/util';\nimport { ComponentOption } from '../../interface';\nimport View from '../view';\n\n/** Component controller class type define */\nexport type ControllerCtor<O = any> = new (view: View) => Controller<O>;\n\n/**\n * Component Controller \n * 1.  option \n * 2.  API\n * 3. \n */\nexport abstract class Controller<O = unknown> {\n  /**  */\n  public visible: boolean = true;\n  protected view: View;\n  /** option  */\n  protected option: O;\n  /**  component */\n  protected components: ComponentOption[] = [];\n\n  constructor(view: View) {\n    this.view = view;\n  }\n\n  public abstract get name(): string;\n\n  /**\n   * init the component\n   */\n  public abstract init();\n\n  /**\n   * render the components\n   */\n  public abstract render();\n\n  /**\n   * update the components\n   */\n  // public abstract update();\n\n  /**\n   * do layout\n   */\n  public abstract layout();\n\n  /**\n   * \n   *  -  id option \n   *  -  id  diff\n   *  - \n   *  - \n   *  - \n   */\n  public abstract update();\n\n  /**\n   * clear\n   * @param includeOption  option used in annotation\n   */\n  public clear(includeOption?: boolean) {\n    // destroy all components\n    each(this.components, (co: ComponentOption) => {\n      co.component.destroy();\n    });\n\n    // clear all component instance\n    this.components = [];\n  }\n\n  /**\n   * destroy the component\n   */\n  public destroy() {\n    this.clear();\n  }\n\n  /**\n   * get all components\n   * @returns components array\n   */\n  public getComponents(): ComponentOption[] {\n    return this.components;\n  }\n\n  /**\n   * change visibility of component\n   * @param visible\n   */\n  public changeVisible(visible: boolean) {\n    if (this.visible === visible) {\n      return;\n    }\n    this.components.forEach((co: ComponentOption) => {\n      if (visible) {\n        co.component.show();\n      } else {\n        co.component.hide();\n      }\n    });\n    this.visible = visible;\n  }\n}\n","import { deepMix, find, get, isEqual, isFunction, mix, isString, isBoolean, flatten, isArray } from '@antv/util';\nimport { Crosshair, HtmlTooltip, IGroup } from '../../dependents';\nimport { Point, TooltipItem, TooltipOption } from '../../interface';\nimport { getAngleByPoint, getDistanceToCenter, isPointInCoordinate, getCoordinateClipCfg } from '../../util/coordinate';\nimport { polarToCartesian } from '../../util/graphics';\nimport { findItemsFromView } from '../../util/tooltip';\nimport { BBox } from '../../util/bbox';\nimport { Controller } from './base';\nimport Event from '../event';\nimport View from '../view';\n\n// Filter duplicates, use `name`, `color`, `value` and `title` property values as condition\nfunction uniq(items) {\n  const uniqItems = [];\n  for (let index = 0; index < items.length; index++) {\n    const item = items[index];\n    const result = find(uniqItems, (subItem) => {\n      return (\n        subItem.color === item.color &&\n        subItem.name === item.name &&\n        subItem.value === item.value &&\n        subItem.title === item.title\n      );\n    });\n    if (!result) {\n      uniqItems.push(item);\n    }\n  }\n  return uniqItems;\n}\n\n/** @ignore */\nexport default class Tooltip extends Controller<TooltipOption> {\n  private tooltip;\n  private tooltipMarkersGroup: IGroup;\n  private tooltipCrosshairsGroup: IGroup;\n  private xCrosshair;\n  private yCrosshair;\n  private guideGroup: IGroup;\n\n  private isLocked: boolean = false;\n  private items;\n  private title: string;\n  private point: Point;\n\n  public get name(): string {\n    return 'tooltip';\n  }\n\n  public init() { }\n\n  private isVisible() {\n    const option = this.view.getOptions().tooltip;\n    return option !== false;\n  }\n\n  public render() { }\n\n  /**\n   * Shows tooltip\n   * @param point\n   */\n  public showTooltip(point: Point) {\n    this.point = point;\n    if (!this.isVisible()) {\n      //  tooltip(false) \n      return;\n    }\n    const view = this.view;\n    const items = this.getTooltipItems(point);\n    if (!items.length) {\n      //  tooltip \n      this.hideTooltip();\n      return;\n    }\n    const title = this.getTitle(items);\n    const dataPoint = {\n      x: items[0].x,\n      y: items[0].y,\n    }; // \n\n    view.emit(\n      'tooltip:show',\n      Event.fromData(view, 'tooltip:show', {\n        items,\n        title,\n        ...point,\n      })\n    );\n\n    const cfg = this.getTooltipCfg();\n    const { follow, showMarkers, showCrosshairs, showContent, marker } = cfg;\n    const lastItems = this.items;\n    const lastTitle = this.title;\n    if (!isEqual(lastTitle, title) || !isEqual(lastItems, items)) {\n      //  tooltip\n      view.emit(\n        'tooltip:change',\n        Event.fromData(view, 'tooltip:change', {\n          items,\n          title,\n          ...point,\n        })\n      );\n\n      if (isFunction(showContent) ? showContent(items) : showContent) {\n        //  tooltip  tooltip\n        if (!this.tooltip) {\n          // \n          this.renderTooltip();\n        }\n        this.tooltip.update(\n          mix(\n            {},\n            cfg,\n            {\n              items: this.getItemsAfterProcess(items),\n              title,\n            },\n            follow ? point : {}\n          )\n        );\n        this.tooltip.show();\n      }\n\n      if (showMarkers) {\n        //  tooltipMarkerstooltipMarkers \n        this.renderTooltipMarkers(items, marker);\n      }\n    } else {\n      // \n      if (this.tooltip && follow) {\n        this.tooltip.update(point);\n        this.tooltip.show(); // tooltip \n      }\n\n      if (this.tooltipMarkersGroup) {\n        this.tooltipMarkersGroup.show();\n      }\n    }\n\n    this.items = items;\n    this.title = title;\n\n    if (showCrosshairs) {\n      //  tooltip \n      const isCrosshairsFollowCursor = get(cfg, ['crosshairs', 'follow'], false); // \n      this.renderCrosshairs(isCrosshairsFollowCursor ? point : dataPoint, cfg);\n    }\n  }\n\n  public hideTooltip() {\n    const { follow } = this.getTooltipCfg();\n    if (!follow) {\n      this.point = null;\n      return;\n    }\n    // hide the tooltipMarkers\n    const tooltipMarkersGroup = this.tooltipMarkersGroup;\n    if (tooltipMarkersGroup) {\n      tooltipMarkersGroup.hide();\n    }\n\n    // hide crosshairs\n    const xCrosshair = this.xCrosshair;\n    const yCrosshair = this.yCrosshair;\n    if (xCrosshair) {\n      xCrosshair.hide();\n    }\n    if (yCrosshair) {\n      yCrosshair.hide();\n    }\n\n    const tooltip = this.tooltip;\n    if (tooltip) {\n      tooltip.hide();\n    }\n\n    this.view.emit('tooltip:hide', Event.fromData(this.view, 'tooltip:hide', {}));\n\n    this.point = null;\n  }\n\n  /**\n   * lockTooltip\n   */\n  public lockTooltip() {\n    this.isLocked = true;\n    if (this.tooltip) {\n      // tooltip contianer \n      this.tooltip.setCapture(true);\n    }\n  }\n\n  /**\n   * unlockTooltip\n   */\n  public unlockTooltip() {\n    this.isLocked = false;\n    const cfg = this.getTooltipCfg();\n    if (this.tooltip) {\n      //  capture \n      this.tooltip.setCapture(cfg.capture);\n    }\n  }\n\n  /**\n   * isTooltipLocked\n   */\n  public isTooltipLocked() {\n    return this.isLocked;\n  }\n\n  public clear() {\n    const { tooltip, xCrosshair, yCrosshair, tooltipMarkersGroup } = this;\n    if (tooltip) {\n      tooltip.hide();\n      tooltip.clear();\n    }\n\n    if (xCrosshair) {\n      xCrosshair.clear();\n    }\n\n    if (yCrosshair) {\n      yCrosshair.clear();\n    }\n\n    if (tooltipMarkersGroup) {\n      tooltipMarkersGroup.clear();\n    }\n\n    //  customContent  tooltip\n    if (tooltip?.get('customContent')) {\n      this.tooltip.destroy();\n      this.tooltip = null;\n    }\n\n    // title  items ,  tooltip \n    //  !isEqual(lastTitle, title) || !isEqual(lastItems, items)  tooltip \n    this.title = null;\n    this.items = null;\n  }\n\n  public destroy() {\n    if (this.tooltip) {\n      this.tooltip.destroy();\n    }\n    if (this.xCrosshair) {\n      this.xCrosshair.destroy();\n    }\n    if (this.yCrosshair) {\n      this.yCrosshair.destroy();\n    }\n\n    if (this.guideGroup) {\n      this.guideGroup.remove(true);\n    }\n\n    this.reset();\n  }\n\n  public reset() {\n    this.items = null;\n    this.title = null;\n    this.tooltipMarkersGroup = null;\n    this.tooltipCrosshairsGroup = null;\n    this.xCrosshair = null;\n    this.yCrosshair = null;\n    this.tooltip = null;\n    this.guideGroup = null;\n    this.isLocked = false;\n    this.point = null;\n  }\n\n  public changeVisible(visible: boolean) {\n    if (this.visible === visible) {\n      return;\n    }\n    const { tooltip, tooltipMarkersGroup, xCrosshair, yCrosshair } = this;\n    if (visible) {\n      if (tooltip) {\n        tooltip.show();\n      }\n      if (tooltipMarkersGroup) {\n        tooltipMarkersGroup.show();\n      }\n      if (xCrosshair) {\n        xCrosshair.show();\n      }\n      if (yCrosshair) {\n        yCrosshair.show();\n      }\n    } else {\n      if (tooltip) {\n        tooltip.hide();\n      }\n      if (tooltipMarkersGroup) {\n        tooltipMarkersGroup.hide();\n      }\n      if (xCrosshair) {\n        xCrosshair.hide();\n      }\n      if (yCrosshair) {\n        yCrosshair.hide();\n      }\n    }\n    this.visible = visible;\n  }\n\n  public getTooltipItems(point: Point) {\n    let items = this.findItemsFromView(this.view, point);\n    if (items.length) {\n      // \n      items = flatten(items);\n      for (const itemArr of items) {\n        for (const item of itemArr) {\n          const { x, y } = item.mappingData;\n          item.x = isArray(x) ? x[x.length - 1] : x;\n          item.y = isArray(y) ? y[y.length - 1] : y;\n        }\n      }\n\n      const { shared } = this.getTooltipCfg();\n      // shared: false  shape  view  Geometry shape\n      if (shared === false && items.length > 1) {\n        let snapItem = items[0];\n        let min = Math.abs(point.y - snapItem[0].y);\n        for (const aItem of items) {\n          const yDistance = Math.abs(point.y - aItem[0].y);\n          if (yDistance <= min) {\n            snapItem = aItem;\n            min = yDistance;\n          }\n        }\n        items = [snapItem];\n      }\n\n      return uniq(flatten(items));\n    }\n\n    return [];\n  }\n\n  public layout() { }\n\n  public update() {\n    if (this.point) {\n      this.showTooltip(this.point);\n    }\n\n    if (this.tooltip) {\n      // #2279 resizetooltip\n      // tooltip\n      const canvas = this.view.getCanvas();\n      // TODO  tooltip  canvas \n      //  region\n      this.tooltip.set('region', {\n        start: { x: 0, y: 0 },\n        end: { x: canvas.get('width'), y: canvas.get('height') },\n      });\n    }\n  }\n\n  /**\n   *  enter tooltip \n   * @param point\n   */\n  public isCursorEntered(point: Point) {\n    //  tooltip dom \n    if (this.tooltip) {\n      const el: HTMLElement = this.tooltip.getContainer();\n      const capture = this.tooltip.get('capture');\n\n      if (el && capture) {\n        const { x, y, width, height } = el.getBoundingClientRect();\n        return new BBox(x, y, width, height).isPointIn(point);\n      }\n    }\n\n    return false;\n  }\n\n  //  tooltip  view.tooltip()  tooltip\n  public getTooltipCfg() {\n    const view = this.view;\n    const option = view.getOptions().tooltip;\n    const processOption = this.processCustomContent(option);\n    const theme = view.getTheme();\n    const defaultCfg = get(theme, ['components', 'tooltip'], {});\n    const enterable = get(processOption, 'enterable', defaultCfg.enterable);\n    return deepMix({}, defaultCfg, processOption, {\n      capture: enterable || this.isLocked ? true : false,\n    });\n  }\n\n  // process customContent\n  protected processCustomContent(option: TooltipOption) {\n    if (isBoolean(option) || !get(option, 'customContent')) {\n      return option;\n    }\n    const currentCustomContent = option.customContent;\n    const customContent = (title: string, items: any[]) => {\n      const content = currentCustomContent(title, items) || '';\n      return isString(content) ? '<div class=\"g2-tooltip\">' + content + '</div>' : content;\n    };\n    return {\n      ...option,\n      customContent,\n    };\n  }\n\n  private getTitle(items) {\n    const title = items[0].title || items[0].name;\n    this.title = title;\n\n    return title;\n  }\n\n  private renderTooltip() {\n    const canvas = this.view.getCanvas();\n    const region = {\n      start: { x: 0, y: 0 },\n      end: { x: canvas.get('width'), y: canvas.get('height') },\n    };\n\n    const cfg = this.getTooltipCfg();\n    const tooltip = new HtmlTooltip({\n      parent: canvas.get('el').parentNode,\n      region,\n      ...cfg,\n      visible: false,\n      crosshairs: null,\n    });\n\n    tooltip.init();\n    this.tooltip = tooltip;\n  }\n\n  private renderTooltipMarkers(items, marker) {\n    const tooltipMarkersGroup = this.getTooltipMarkersGroup();\n    const rootView = this.view.getRootView();\n    const { limitInPlot } = rootView;\n    for (const item of items) {\n      const { x, y } = item;\n\n      // \n      if (limitInPlot || tooltipMarkersGroup?.getClip()) {\n        const { type, attrs } = getCoordinateClipCfg(rootView.getCoordinate());\n        tooltipMarkersGroup?.setClip({\n          type,\n          attrs,\n        });\n      } else {\n        //  clip\n        tooltipMarkersGroup?.setClip(undefined);\n      }\n\n      const attrs = {\n        fill: item.color,\n        symbol: 'circle',\n        shadowColor: item.color,\n        ...marker,\n        x,\n        y,\n      };\n\n      tooltipMarkersGroup.addShape('marker', {\n        attrs,\n      });\n    }\n  }\n\n  private renderCrosshairs(point: Point, cfg) {\n    const crosshairsType = get(cfg, ['crosshairs', 'type'], 'x'); //  x \n    if (crosshairsType === 'x') {\n      if (this.yCrosshair) {\n        this.yCrosshair.hide();\n      }\n      this.renderXCrosshairs(point, cfg);\n    } else if (crosshairsType === 'y') {\n      if (this.xCrosshair) {\n        this.xCrosshair.hide();\n      }\n      this.renderYCrosshairs(point, cfg);\n    } else if (crosshairsType === 'xy') {\n      this.renderXCrosshairs(point, cfg);\n      this.renderYCrosshairs(point, cfg);\n    }\n  }\n\n  //  x  tooltip \n  private renderXCrosshairs(point: Point, tooltipCfg) {\n    const coordinate = this.getViewWithGeometry(this.view).getCoordinate();\n    if (!isPointInCoordinate(coordinate, point)) {\n      return;\n    }\n    let start;\n    let end;\n    if (coordinate.isRect) {\n      if (coordinate.isTransposed) {\n        start = {\n          x: coordinate.start.x,\n          y: point.y,\n        };\n        end = {\n          x: coordinate.end.x,\n          y: point.y,\n        };\n      } else {\n        start = {\n          x: point.x,\n          y: coordinate.end.y,\n        };\n        end = {\n          x: point.x,\n          y: coordinate.start.y,\n        };\n      }\n    } else {\n      //  x  crosshairs \n      const angle = getAngleByPoint(coordinate, point);\n      const center = coordinate.getCenter();\n      const radius = coordinate.getRadius();\n      end = polarToCartesian(center.x, center.y, radius, angle);\n      start = center;\n    }\n\n    const cfg = deepMix(\n      {\n        start,\n        end,\n        container: this.getTooltipCrosshairsGroup(),\n      },\n      get(tooltipCfg, 'crosshairs', {}),\n      this.getCrosshairsText('x', point, tooltipCfg)\n    );\n    delete cfg.type; //  Crosshairs  type \n\n    let xCrosshair = this.xCrosshair;\n    if (xCrosshair) {\n      xCrosshair.update(cfg);\n    } else {\n      xCrosshair = new Crosshair.Line(cfg);\n      xCrosshair.init();\n    }\n    xCrosshair.render();\n    xCrosshair.show();\n    this.xCrosshair = xCrosshair;\n  }\n\n  //  y \n  private renderYCrosshairs(point: Point, tooltipCfg) {\n    const coordinate = this.getViewWithGeometry(this.view).getCoordinate();\n    if (!isPointInCoordinate(coordinate, point)) {\n      return;\n    }\n    let cfg;\n    let type;\n    if (coordinate.isRect) {\n      let start;\n      let end;\n      if (coordinate.isTransposed) {\n        start = {\n          x: point.x,\n          y: coordinate.end.y,\n        };\n        end = {\n          x: point.x,\n          y: coordinate.start.y,\n        };\n      } else {\n        start = {\n          x: coordinate.start.x,\n          y: point.y,\n        };\n        end = {\n          x: coordinate.end.x,\n          y: point.y,\n        };\n      }\n      cfg = {\n        start,\n        end,\n      };\n      type = 'Line';\n    } else {\n      //  y  crosshairs \n      cfg = {\n        center: coordinate.getCenter(),\n        // @ts-ignore\n        radius: getDistanceToCenter(coordinate, point),\n        startAngle: coordinate.startAngle,\n        endAngle: coordinate.endAngle,\n      };\n      type = 'Circle';\n    }\n\n    cfg = deepMix(\n      {\n        container: this.getTooltipCrosshairsGroup(),\n      },\n      cfg,\n      get(tooltipCfg, 'crosshairs', {}),\n      this.getCrosshairsText('y', point, tooltipCfg)\n    );\n    delete cfg.type; //  Crosshairs  type \n\n    let yCrosshair = this.yCrosshair;\n    if (yCrosshair) {\n      // \n      if (\n        (coordinate.isRect && yCrosshair.get('type') === 'circle') ||\n        (!coordinate.isRect && yCrosshair.get('type') === 'line')\n      ) {\n        yCrosshair = new Crosshair[type](cfg);\n        yCrosshair.init();\n      } else {\n        yCrosshair.update(cfg);\n      }\n    } else {\n      yCrosshair = new Crosshair[type](cfg);\n      yCrosshair.init();\n    }\n    yCrosshair.render();\n    yCrosshair.show();\n    this.yCrosshair = yCrosshair;\n  }\n\n  private getCrosshairsText(type, point: Point, tooltipCfg) {\n    let textCfg = get(tooltipCfg, ['crosshairs', 'text']);\n    const follow = get(tooltipCfg, ['crosshairs', 'follow']);\n    const items = this.items;\n\n    if (textCfg) {\n      const view = this.getViewWithGeometry(this.view);\n      // \n      const firstItem = items[0];\n      const xScale = view.getXScale();\n      const yScale = view.getYScales()[0];\n      let xValue;\n      let yValue;\n      if (follow) {\n        // \n        const invertPoint = this.view.getCoordinate().invert(point);\n        xValue = xScale.invert(invertPoint.x); // \n        yValue = yScale.invert(invertPoint.y); // \n      } else {\n        xValue = firstItem.data[xScale.field];\n        yValue = firstItem.data[yScale.field];\n      }\n\n      const content = type === 'x' ? xValue : yValue;\n      if (isFunction(textCfg)) {\n        textCfg = textCfg(type, content, items, point);\n      } else {\n        textCfg.content = content;\n      }\n\n      return {\n        text: textCfg,\n      };\n    }\n  }\n\n  //  tooltipMarkers  crosshairs \n  private getGuideGroup() {\n    if (!this.guideGroup) {\n      const foregroundGroup = this.view.foregroundGroup;\n      this.guideGroup = foregroundGroup.addGroup({\n        name: 'tooltipGuide',\n        capture: false,\n      });\n    }\n\n    return this.guideGroup;\n  }\n\n  //  tooltipMarkers \n  private getTooltipMarkersGroup() {\n    let tooltipMarkersGroup = this.tooltipMarkersGroup;\n    if (tooltipMarkersGroup && !tooltipMarkersGroup.destroyed) {\n      tooltipMarkersGroup.clear();\n      tooltipMarkersGroup.show();\n    } else {\n      tooltipMarkersGroup = this.getGuideGroup().addGroup({\n        name: 'tooltipMarkersGroup',\n      });\n      tooltipMarkersGroup.toFront();\n      this.tooltipMarkersGroup = tooltipMarkersGroup;\n    }\n    return tooltipMarkersGroup;\n  }\n\n  //  tooltip crosshairs \n  private getTooltipCrosshairsGroup() {\n    let tooltipCrosshairsGroup = this.tooltipCrosshairsGroup;\n    if (!tooltipCrosshairsGroup) {\n      tooltipCrosshairsGroup = this.getGuideGroup().addGroup({\n        name: 'tooltipCrosshairsGroup',\n        capture: false,\n      });\n      tooltipCrosshairsGroup.toBack();\n      this.tooltipCrosshairsGroup = tooltipCrosshairsGroup;\n    }\n    return tooltipCrosshairsGroup;\n  }\n\n  private findItemsFromView(view: View, point: Point) {\n    if (view.getOptions().tooltip === false) {\n      //  view  tooltip\n      return [];\n    }\n\n    const tooltipCfg = this.getTooltipCfg();\n    let result = findItemsFromView(view, point, tooltipCfg);\n    // \n    for (const childView of view.views) {\n      result = result.concat(this.findItemsFromView(childView, point));\n    }\n\n    return result;\n  }\n\n  // FIXME: hack \n  //  tooltip  Chart chart  Geometry  View \n  private getViewWithGeometry(view) {\n    if (view.geometries.length) {\n      return view;\n    }\n\n    return find(view.views, (childView) => this.getViewWithGeometry(childView));\n  }\n\n  /**\n   *  items  items\n   * \n   */\n  private getItemsAfterProcess(originalItems: TooltipItem[]): TooltipItem[] {\n    const { customItems } = this.getTooltipCfg();\n    const fn = customItems ? customItems : (v) => v;\n\n    return fn(originalItems);\n  }\n}\n","import { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/** @ignore */\ninterface AnimationMap {\n  [key: string]: Animation;\n}\n\ntype Animation = (element: IGroup | IShape, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) => void;\n\nconst ANIMATIONS_MAP: AnimationMap = {};\n\n/**\n * \n * @param type \n */\nexport function getAnimation(type: string) {\n  return ANIMATIONS_MAP[type.toLowerCase()];\n}\n\n/**\n * \n * @param type \n * @param animation \n */\nexport function registerAnimation(type: string, animation: Animation) {\n  ANIMATIONS_MAP[type.toLowerCase()] = animation;\n}\n","import { deepMix, get, isFunction } from '@antv/util';\nimport { FIELD_ORIGIN } from '../constant';\nimport { Coordinate, IGroup, IShape } from '../dependents';\nimport { AnimateCfg, Data, Datum, GAnimateCfg, Point } from '../interface';\nimport { AnimateExtraCfg } from './interface';\n\nimport { getAnimation } from './animation';\n\n// \nexport const DEFAULT_ANIMATE_CFG = {\n  appear: {\n    duration: 450,\n    easing: 'easeQuadOut',\n  }, // \n  update: {\n    duration: 400,\n    easing: 'easeQuadInOut',\n  }, // \n  enter: {\n    duration: 400,\n    easing: 'easeQuadInOut',\n  }, // \n  leave: {\n    duration: 350,\n    easing: 'easeQuadIn',\n  }, // \n};\n\n//  Geometry \nconst GEOMETRY_ANIMATE_CFG = {\n  interval: (coordinate: Coordinate) => {\n    return {\n      enter: {\n        animation: coordinate.isRect ? (coordinate.isTransposed ? 'scale-in-x' : 'scale-in-y') : 'fade-in',\n      },\n      update: {\n        animation: coordinate.isPolar && coordinate.isTransposed ? 'sector-path-update' : null,\n      },\n      leave: {\n        animation: 'fade-out',\n      },\n    };\n  },\n  line: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  path: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  point: {\n    appear: {\n      animation: 'zoom-in',\n    },\n    enter: {\n      animation: 'zoom-in',\n    },\n    leave: {\n      animation: 'zoom-out',\n    },\n  },\n  area: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  polygon: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  schema: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  edge: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  label: {\n    appear: {\n      animation: 'fade-in',\n      delay: 450,\n    },\n    enter: {\n      animation: 'fade-in',\n    },\n    update: {\n      animation: 'position-update',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n};\n\n//  Geometry \nconst GEOMETRY_GROUP_APPEAR_ANIMATION = {\n  line: () => {\n    return {\n      animation: 'wave-in',\n    };\n  },\n  area: () => {\n    return {\n      animation: 'wave-in',\n    };\n  },\n  path: () => {\n    return {\n      animation: 'fade-in',\n    };\n  },\n  interval(coordinate: Coordinate) {\n    let animation;\n\n    if (coordinate.isRect) {\n      animation = coordinate.isTransposed ? 'grow-in-x' : 'grow-in-y';\n    } else {\n      animation = 'grow-in-xy';\n      if (coordinate.isPolar && coordinate.isTransposed) {\n        // pie chart\n        animation = 'wave-in';\n      }\n    }\n    return {\n      animation,\n    };\n  },\n  schema: (coordinate) => {\n    let animation;\n    if (coordinate.isRect) {\n      animation = coordinate.isTransposed ? 'grow-in-x' : 'grow-in-y';\n    } else {\n      animation = 'grow-in-xy';\n    }\n    return {\n      animation,\n    };\n  },\n  polygon: () => {\n    return {\n      animation: 'fade-in',\n      duration: 500,\n    };\n  },\n  edge: () => {\n    return {\n      animation: 'fade-in',\n    };\n  },\n};\n\n// \nfunction parseAnimateConfig(animateCfg: AnimateCfg, data: Data | Datum): GAnimateCfg {\n  return {\n    delay: isFunction(animateCfg.delay) ? animateCfg.delay(data) : animateCfg.delay,\n    easing: isFunction(animateCfg.easing) ? animateCfg.easing(data) : animateCfg.easing,\n    duration: isFunction(animateCfg.duration) ? animateCfg.duration(data) : animateCfg.duration,\n    callback: animateCfg.callback,\n    repeat: animateCfg.repeat,\n  };\n}\n\n/**\n * @ignore\n *  elementName  `animateType` `animateType` \n * @param elementName \n * @param coordinate \n * @param animateType \n */\nexport function getDefaultAnimateCfg(elementName: string, coordinate: Coordinate, animateType?: string) {\n  let animateCfg = GEOMETRY_ANIMATE_CFG[elementName];\n\n  if (animateCfg) {\n    if (isFunction(animateCfg)) {\n      animateCfg = animateCfg(coordinate);\n    }\n    animateCfg = deepMix({}, DEFAULT_ANIMATE_CFG, animateCfg);\n\n    if (animateType) {\n      return animateCfg[animateType];\n    }\n  }\n  return animateCfg;\n}\n\n/**\n * @ignore\n * \n *  shape \n * @param shape \n * @param animateCfg \n * @param cfg \n */\nexport function doAnimate(shape: IGroup | IShape, animateCfg: AnimateCfg, cfg: AnimateExtraCfg) {\n  const data = get(shape.get('origin'), 'data', FIELD_ORIGIN);\n  const animation = animateCfg.animation; // \n  const parsedAnimateCfg = parseAnimateConfig(animateCfg, data);\n  if (animation) {\n    // \n    const animateFunction = getAnimation(animation);\n    if (animateFunction) {\n      animateFunction(shape, parsedAnimateCfg, cfg);\n    }\n  } else {\n    //  toAttrs \n    shape.animate(cfg.toAttrs, parsedAnimateCfg);\n  }\n}\n\n/**\n * @ignore\n *  Geometry \n * @param container \n * @param animateCfg \n * @param geometryType geometry \n * @param coordinate \n * @param minYPoint y \n */\nexport function doGroupAppearAnimate(\n  container: IGroup,\n  animateCfg: AnimateCfg,\n  geometryType: string,\n  coordinate: Coordinate,\n  minYPoint: Point\n) {\n  if (GEOMETRY_GROUP_APPEAR_ANIMATION[geometryType]) {\n    const defaultCfg = GEOMETRY_GROUP_APPEAR_ANIMATION[geometryType](coordinate);\n    const animation = getAnimation(get(defaultCfg, 'animation', ''));\n    if (animation) {\n      const cfg = {\n        ...DEFAULT_ANIMATE_CFG.appear,\n        ...defaultCfg,\n        ...animateCfg,\n      };\n      container.stopAnimate(); //  container \n      animation(container, cfg, {\n        coordinate,\n        minYPoint,\n        toAttrs: null,\n      });\n    }\n  }\n}\n","/**\n * Name of Background Shape\n */\nexport const BACKGROUND_SHAPE = 'element-background';\n","import { deepMix, each, get, isArray, isEmpty, isEqual, isFunction, isString } from '@antv/util';\n// \n// @ts-ignore\nimport { propagationDelegate } from '@antv/component';\nimport { doAnimate } from '../../animate';\nimport Base from '../../base';\nimport { BBox, IGroup, IShape } from '../../dependents';\nimport { AnimateOption, Datum, ShapeFactory, ShapeInfo, StateCfg } from '../../interface';\nimport { getReplaceAttrs } from '../../util/graphics';\nimport Geometry from '../base';\nimport { GEOMETRY_LIFE_CIRCLE } from '../../constant';\nimport { BACKGROUND_SHAPE } from '../shape/constant';\n\n/** Element  */\ninterface ElementCfg {\n  /**  shape  */\n  shapeFactory: ShapeFactory;\n  /** shape  */\n  container: IGroup;\n  /** element  */\n  elementIndex?: number;\n  /**  group */\n  offscreenGroup?: IGroup;\n  /**  */\n  visible?: boolean;\n}\n\n/**\n * Element \n *  G2 Element / Shape  Shape\n */\nexport default class Element extends Base {\n  /**  shape  */\n  public shapeFactory: ShapeFactory;\n  /** shape  */\n  public container: IGroup;\n  /** element  */\n  public elementIndex: number;\n  /**  */\n  public shape: IShape | IGroup;\n  /** shape  */\n  public animate: AnimateOption | boolean;\n\n  // \n  /** element  Geometry  */\n  public geometry: Geometry;\n  /**  shape  label */\n  public labelShape: IGroup[];\n\n  /**  shape  */\n  private shapeType: string;\n\n  /** shape  */\n  private model: ShapeInfo;\n  /**  */\n  private data: Datum;\n  // \n  private states: string[] = [];\n  private statesStyle;\n  //  Group\n  private offscreenGroup: IGroup;\n\n  constructor(cfg: ElementCfg) {\n    super(cfg);\n\n    const { shapeFactory, container, offscreenGroup, elementIndex, visible = true } = cfg;\n    this.shapeFactory = shapeFactory;\n    this.container = container;\n    this.offscreenGroup = offscreenGroup;\n    this.visible = visible;\n    this.elementIndex = elementIndex;\n  }\n\n  /**\n   * \n   * @param model \n   * @param isUpdate \n   */\n  public draw(model: ShapeInfo, isUpdate: boolean = false) {\n    this.model = model;\n    this.data = model.data; // \n    this.shapeType = this.getShapeType(model);\n\n    // \n    this.drawShape(model, isUpdate);\n\n    if (this.visible === false) {\n      //  visible: false\n      this.changeVisible(false);\n    }\n  }\n\n  /**\n   * \n   * @param model \n   */\n  public update(model: ShapeInfo) {\n    const { shapeFactory, shape } = this;\n    if (!shape) {\n      return;\n    }\n\n    // \n    this.model = model;\n    this.data = model.data;\n    this.shapeType = this.getShapeType(model);\n\n    // step 1:  shape \n    this.setShapeInfo(shape, model);\n\n    // step 2:  Group  shape shape\n    const offscreenGroup = this.getOffscreenGroup();\n    const newShape = shapeFactory.drawShape(this.shapeType, model, offscreenGroup);\n    // @ts-ignore\n    newShape.cfg.data = this.data;\n    // @ts-ignore\n    newShape.cfg.origin = model;\n    // label \n    newShape.cfg.element = this;\n\n    // step 3:  shape \n    this.syncShapeStyle(shape, newShape, this.getStates(), this.getAnimateCfg('update'));\n  }\n\n  /**\n   *  element \n   */\n  public destroy() {\n    const { shapeFactory, shape } = this;\n\n    if (shape) {\n      const animateCfg = this.getAnimateCfg('leave');\n      if (animateCfg) {\n        // \n        doAnimate(shape, animateCfg, {\n          coordinate: shapeFactory.coordinate,\n          toAttrs: {\n            ...shape.attr(),\n          },\n        });\n      } else {\n        // \n        shape.remove(true);\n      }\n    }\n\n    // reset\n    this.states = [];\n    this.shapeFactory = undefined;\n    this.container = undefined;\n    this.shape = undefined;\n    this.animate = undefined;\n    this.geometry = undefined;\n    this.labelShape = undefined;\n    this.model = undefined;\n    this.data = undefined;\n    this.offscreenGroup = undefined;\n    this.statesStyle = undefined;\n\n    super.destroy();\n  }\n\n  /**\n   *  element\n   * @param visible \n   */\n  public changeVisible(visible: boolean) {\n    super.changeVisible(visible);\n\n    if (visible) {\n      if (this.shape) {\n        this.shape.show();\n      }\n      if (this.labelShape) {\n        this.labelShape.forEach((label: IGroup) => {\n          label.show();\n        });\n      }\n    } else {\n      if (this.shape) {\n        this.shape.hide();\n      }\n      if (this.labelShape) {\n        this.labelShape.forEach((label: IGroup) => {\n          label.hide();\n        });\n      }\n    }\n  }\n\n  /**\n   *  Element \n   *\n   *  Element \n   * 1. active\n   * 2. selected\n   * 3. inactive\n   *\n   * \n   *\n   *  [[Theme]]  `geometry.state()` \n   *\n   * ```ts\n   * //  active \n   * setState('active', true);\n   * ```\n   *\n   * @param stateName \n   * @param stateStatus \n   */\n  public setState(stateName: string, stateStatus: boolean) {\n    const { states, shapeFactory, model, shape, shapeType } = this;\n\n    const index = states.indexOf(stateName);\n    if (stateStatus) {\n      // \n      if (index > -1) {\n        // \n        return;\n      }\n      states.push(stateName);\n      if (stateName === 'active' || stateName === 'selected') {\n        shape?.toFront();\n      }\n    } else {\n      if (index === -1) {\n        // \n        return;\n      }\n      states.splice(index, 1);\n      if (stateName === 'active' || stateName === 'selected') {\n        const { sortZIndex, zIndexReversed } = this.geometry;\n        const idx = zIndexReversed ? this.geometry.elements.length - this.elementIndex : this.elementIndex;\n        sortZIndex ? shape.setZIndex(idx) : shape.set('zIndex', idx);\n      }\n    }\n\n    //  group  shape shape  shape\n    const offscreenShape = shapeFactory.drawShape(shapeType, model, this.getOffscreenGroup());\n    if (states.length) {\n      // \n      this.syncShapeStyle(shape, offscreenShape, states, null);\n    } else {\n      // \n      this.syncShapeStyle(shape, offscreenShape, ['reset'], null);\n    }\n\n    offscreenShape.remove(true); // \n\n    const eventObject = {\n      state: stateName,\n      stateStatus,\n      element: this,\n      target: this.container,\n    };\n    this.container.emit('statechange', eventObject);\n    // @ts-ignore\n    propagationDelegate(this.shape, 'statechange', eventObject);\n  }\n\n  /**\n   * \n   */\n  public clearStates() {\n    const states = this.states;\n\n    each(states, (state) => {\n      this.setState(state, false);\n    });\n\n    this.states = [];\n  }\n\n  /**\n   *  Element  `stateName` \n   * @param stateName \n   * @returns true false \n   */\n  public hasState(stateName: string): boolean {\n    return this.states.includes(stateName);\n  }\n\n  /**\n   *  Element \n   * @returns  Element \n   */\n  public getStates(): string[] {\n    return this.states;\n  }\n\n  /**\n   *  Element \n   * @returns \n   */\n  public getData(): Datum {\n    return this.data;\n  }\n\n  /**\n   *  Element \n   * @returns \n   */\n  public getModel(): ShapeInfo {\n    return this.model;\n  }\n\n  /**\n   *  Element  bbox\n   * @returns \n   */\n  public getBBox(): BBox {\n    const { shape, labelShape } = this;\n    let bbox = {\n      x: 0,\n      y: 0,\n      minX: 0,\n      minY: 0,\n      maxX: 0,\n      maxY: 0,\n      width: 0,\n      height: 0,\n    };\n    if (shape) {\n      bbox = shape.getCanvasBBox();\n    }\n    if (labelShape) {\n      labelShape.forEach((label: IGroup) => {\n        const labelBBox = label.getCanvasBBox();\n        bbox.x = Math.min(labelBBox.x, bbox.x);\n        bbox.y = Math.min(labelBBox.y, bbox.y);\n        bbox.minX = Math.min(labelBBox.minX, bbox.minX);\n        bbox.minY = Math.min(labelBBox.minY, bbox.minY);\n        bbox.maxX = Math.max(labelBBox.maxX, bbox.maxX);\n        bbox.maxY = Math.max(labelBBox.maxY, bbox.maxY);\n      });\n    }\n\n    bbox.width = bbox.maxX - bbox.minX;\n    bbox.height = bbox.maxY - bbox.minY;\n\n    return bbox;\n  }\n\n  private getStatesStyle() {\n    if (!this.statesStyle) {\n      const { shapeType, geometry, shapeFactory } = this;\n      const stateOption = geometry.stateOption;\n      const defaultShapeType = shapeFactory.defaultShapeType;\n      const stateTheme = shapeFactory.theme[shapeType] || shapeFactory.theme[defaultShapeType];\n      this.statesStyle = deepMix({}, stateTheme, stateOption);\n    }\n\n    return this.statesStyle;\n  }\n\n  // \n  private getStateStyle(stateName: string, shapeKey?: string): StateCfg {\n    const statesStyle = this.getStatesStyle();\n    const stateCfg = get(statesStyle, [stateName, 'style'], {});\n    const shapeStyle = stateCfg[shapeKey] || stateCfg;\n    if (isFunction(shapeStyle)) {\n      return shapeStyle(this);\n    }\n\n    return shapeStyle;\n  }\n\n  // \n  private getAnimateCfg(animateType: string) {\n    const animate = this.animate;\n    if (animate) {\n      const cfg = animate[animateType];\n\n      if (cfg) {\n        //  geometry  animate \n        return {\n          ...cfg,\n          callback: () => {\n            isFunction(cfg.callback) && cfg.callback();\n            this.geometry?.emit(GEOMETRY_LIFE_CIRCLE.AFTER_DRAW_ANIMATE);\n          },\n        };\n      }\n      return cfg;\n    }\n\n    return null;\n  }\n\n  // \n  private drawShape(model: ShapeInfo, isUpdate: boolean = false) {\n    const { shapeFactory, container, shapeType } = this;\n\n    //  shape  shape\n    this.shape = shapeFactory.drawShape(shapeType, model, container);\n\n    if (this.shape) {\n      this.setShapeInfo(this.shape, model); // \n      // @ts-ignore\n      const name = this.shape.cfg.name;\n      //  element  name, name \n      if (!name) {\n        //  name,  name  name\n        // @ts-ignore\n        this.shape.cfg.name = ['element', this.shapeFactory.geometryType];\n      } else if (isString(name)) {\n        // @ts-ignore\n        this.shape.cfg.name = ['element', name];\n      }\n      // \n      const animateType = isUpdate ? 'enter' : 'appear';\n      const animateCfg = this.getAnimateCfg(animateType);\n      if (animateCfg) {\n        // \n        this.geometry?.emit(GEOMETRY_LIFE_CIRCLE.BEFORE_DRAW_ANIMATE);\n\n        doAnimate(this.shape, animateCfg, {\n          coordinate: shapeFactory.coordinate,\n          toAttrs: {\n            ...this.shape.attr(),\n          },\n        });\n      }\n    }\n  }\n\n  //  Group\n  private getOffscreenGroup() {\n    if (!this.offscreenGroup) {\n      const GroupCtor = this.container.getGroupBase(); // \n      this.offscreenGroup = new GroupCtor({});\n    }\n\n    return this.offscreenGroup;\n  }\n\n  //  shape \n  private setShapeInfo(shape: IShape | IGroup, data: ShapeInfo) {\n    // @ts-ignore\n    shape.cfg.origin = data;\n    // @ts-ignore\n    shape.cfg.element = this;\n    if (shape.isGroup()) {\n      const children = shape.get('children');\n      children.forEach((child) => {\n        this.setShapeInfo(child, data);\n      });\n    }\n  }\n\n  //  shape \n  private syncShapeStyle(\n    sourceShape: IGroup | IShape,\n    targetShape: IGroup | IShape,\n    states: string[] = [],\n    animateCfg,\n    index: number = 0\n  ) {\n    if (!sourceShape || !targetShape) {\n      return;\n    }\n    //  shape  clip\n    const clip = sourceShape.get('clipShape');\n    const newClip = targetShape.get('clipShape');\n\n    this.syncShapeStyle(clip, newClip, states, animateCfg);\n\n    if (sourceShape.isGroup()) {\n      const children = sourceShape.get('children');\n      const newChildren = targetShape.get('children');\n      for (let i = 0; i < children.length; i++) {\n        this.syncShapeStyle(children[i], newChildren[i], states, animateCfg, index + i);\n      }\n    } else {\n      if (!isEmpty(states) && !isEqual(states, ['reset'])) {\n        let name = sourceShape.get('name');\n        if (isArray(name)) {\n          //  element  name\n          name = name[1];\n        }\n\n        each(states, (state) => {\n          // background shape \n          if (targetShape.get('name') !== BACKGROUND_SHAPE) {\n            const style = this.getStateStyle(state, name || index); //  name\n            targetShape.attr(style);\n          }\n        });\n      }\n      const newAttrs = getReplaceAttrs(sourceShape as IShape, targetShape as IShape);\n\n      if (this.animate) {\n        if (animateCfg) {\n          this.geometry?.emit(GEOMETRY_LIFE_CIRCLE.BEFORE_DRAW_ANIMATE);\n          // \n          doAnimate(sourceShape, animateCfg, {\n            coordinate: this.shapeFactory.coordinate,\n            toAttrs: newAttrs,\n            shapeModel: this.model,\n          });\n        } else if (!isEmpty(states)) {\n          sourceShape.stopAnimate();\n          sourceShape.animate(newAttrs, {\n            duration: 300,\n          });\n        } else {\n          sourceShape.attr(newAttrs);\n        }\n      } else {\n        sourceShape.attr(newAttrs);\n      }\n    }\n  }\n\n  private getShapeType(model: ShapeInfo) {\n    const shape = get(model, 'shape');\n    return isArray(shape) ? shape[0] : shape;\n  }\n}\n","import { BBox, IGroup, IShape } from '../../dependents';\nimport { LooseObject } from '../../interface';\nimport { GeometryLabelConstructor } from './base';\nimport { LabelItem } from './interface';\n\n/**\n * label \n * @param items  label \n * @param labels  labels \n * @param shapes  label \n * @param region \n * @param cfg \n */\ntype GeometryLabelsLayoutFn = (\n  items: LabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox,\n  cfg?: LooseObject\n) => void;\n\nconst GEOMETRY_LABELS_MAP: Record<string, GeometryLabelConstructor> = {};\nconst GEOMETRY_LABELS_LAYOUT_MAP: Record<string, GeometryLabelsLayoutFn> = {};\n\n/**\n *  `type`  [[GeometryLabel]] \n * @param type\n * @returns\n */\nexport function getGeometryLabel(type: string): GeometryLabelConstructor {\n  return GEOMETRY_LABELS_MAP[type.toLowerCase()];\n}\n\n/**\n *  GeometryLabel \n * @param type GeometryLabel \n * @param ctor GeometryLabel \n */\nexport function registerGeometryLabel(type: string, ctor: GeometryLabelConstructor) {\n  GEOMETRY_LABELS_MAP[type.toLowerCase()] = ctor;\n}\n\n/**\n *  `type`  [[GeometryLabelsLayoutFn]] label \n * @param type \n * @returns\n */\nexport function getGeometryLabelLayout(type: string): GeometryLabelsLayoutFn {\n  return GEOMETRY_LABELS_LAYOUT_MAP[type.toLowerCase()];\n}\n\n/**\n *  label \n * @param type label \n * @param layoutFn label \n */\nexport function registerGeometryLabelLayout(type: string, layoutFn: GeometryLabelsLayoutFn) {\n  GEOMETRY_LABELS_LAYOUT_MAP[type.toLowerCase()] = layoutFn;\n}\n","import { LooseObject } from '@antv/g-svg';\nimport { parsePathString } from '@antv/path-util';\nimport { deepMix, get, upperFirst } from '@antv/util';\nimport { IGroup, IShape, PathCommand } from '../../dependents';\nimport {\n  Point,\n  RegisterShape,\n  RegisterShapeFactory,\n  Shape,\n  ShapeFactory,\n  ShapeInfo,\n  ShapeMarkerAttrs,\n  ShapeMarkerCfg,\n  ShapePoint,\n} from '../../interface';\n\nimport { convertNormalPath, convertPolarPath } from './util/path';\n\n/** ShapeFactory  */\nconst ShapeFactoryBase = {\n  /**  */\n  coordinate: null,\n  /**  Shape  */\n  defaultShapeType: null,\n  /**  */\n  theme: null,\n  /**\n   *  shape \n   * @param shapeType shape \n   * @param shapePoint  size \n   * @returns \n   */\n  getShapePoints(shapeType: string, shapePoint: ShapePoint) {\n    const shape = this.getShape(shapeType);\n    if (shape.getPoints) {\n      return shape.getPoints(shapePoint);\n    }\n\n    return this.getDefaultPoints(shapePoint);\n  },\n  /**\n   *  shape  shape \n   * @param shapeType string shape \n   * @returns\n   */\n  getShape(shapeType: string): Shape {\n    const shape = this[shapeType] || this[this.defaultShapeType];\n    shape.coordinate = this.coordinate;\n\n    return shape;\n  },\n  /**\n   *  shape \n   * @override\n   */\n  getDefaultPoints() {\n    return [];\n  },\n  /**\n   *  shape  ( shapeFactory )\n   */\n  getDefaultStyle(geometryTheme: LooseObject): LooseObject {\n    return get(geometryTheme, [this.defaultShapeType, 'default', 'style'], {});\n  },\n  /**\n   *  shape \n   * @param shapeType shape \n   * @param color \n   * @param isInPolar \n   * @returns  marker \n   */\n  getMarker(shapeType: string, markerCfg: ShapeMarkerCfg): ShapeMarkerAttrs {\n    let shape = this.getShape(shapeType);\n\n    if (!shape.getMarker) {\n      const defaultShapeType = this.defaultShapeType;\n      shape = this.getShape(defaultShapeType);\n    }\n\n    const theme = this.theme;\n    const shapeStyle = get(theme, [shapeType, 'default'], {});\n    const markerStyle = shape.getMarker(markerCfg);\n\n    return deepMix({}, shapeStyle, markerStyle);\n  },\n  /**\n   *  shape\n   * @override\n   * @param shapeType  shape \n   * @param cfg  shape \n   * @param element Element \n   * @returns\n   */\n  drawShape(shapeType: string, cfg: ShapeInfo, container: IGroup): IShape | IGroup {\n    const shape = this.getShape(shapeType);\n    return shape.draw(cfg, container);\n  },\n};\n\n/** Shape  */\nconst ShapeBase = {\n  /**  */\n  coordinate: null,\n  /**\n   *  path  path\n   * @param path \n   * @returns\n   */\n  parsePath(path: string): PathCommand[] {\n    const coordinate = this.coordinate;\n    let parsedPath = parsePathString(path);\n    if (coordinate.isPolar) {\n      parsedPath = convertPolarPath(coordinate, parsedPath);\n    } else {\n      parsedPath = convertNormalPath(coordinate, parsedPath);\n    }\n    return parsedPath;\n  },\n  /**\n   * \n   * @param point \n   * @returns\n   */\n  parsePoint(point: Point): Point {\n    const coordinate = this.coordinate;\n    return coordinate.convert(point);\n  },\n  /**\n   * 01 points   points\n   * @param points \n   * @returns\n   */\n  parsePoints(points: Point[]): Point[] {\n    const coordinate = this.coordinate;\n    return points.map((point) => {\n      return coordinate.convert(point);\n    });\n  },\n  /**\n   *  shape\n   * @override\n   */\n  draw(cfg: ShapeInfo, container: IGroup) {},\n};\n\nconst ShapeFactoryMap = {};\n\n/**\n *  ShapeFactory\n * @param factoryName  ShapeFactory  Geometry \n * @param cfg  ShapeFactory \n * @returns  ShapeFactory \n */\nexport function registerShapeFactory(factoryName: string, cfg: RegisterShapeFactory): ShapeFactory {\n  const className = upperFirst(factoryName);\n  const geomObj = {\n    ...ShapeFactoryBase,\n    ...cfg,\n    geometryType: factoryName,\n  };\n  ShapeFactoryMap[className] = geomObj;\n  return geomObj;\n}\n\n/**\n *  Shape\n * @param factoryName  ShapeFactory \n * @param shapeType  shape \n * @param cfg  Shape \n * @returns shape  shape \n */\nexport function registerShape(factoryName: string, shapeType: string, cfg: RegisterShape): Shape {\n  const className = upperFirst(factoryName);\n  const factory = ShapeFactoryMap[className];\n  const shapeObj = {\n    ...ShapeBase,\n    ...cfg,\n  };\n  factory[shapeType] = shapeObj;\n  return shapeObj;\n}\n\n/**\n *  factoryName  shapeFactory\n * @param factoryName\n * @returns shape factory\n */\nexport function getShapeFactory(factoryName: string): ShapeFactory {\n  const className = upperFirst(factoryName);\n  return ShapeFactoryMap[className];\n}\n","import { isEqual, some } from '@antv/util';\nimport { ShapeInfo } from '../../interface';\n\n/**\n * @ignore\n * Determines whether model is change\n * @param currentModel\n * @param preModel\n * @returns\n */\nexport function isModelChange(currentModel: ShapeInfo, preModel: ShapeInfo) {\n  return some(\n    ['color', 'shape', 'size', 'x', 'y', 'isInCircle', 'data', 'style', 'defaultStyle', 'points', 'mappingData'],\n    (key: string) => {\n      return !isEqual(currentModel[key], preModel[key]);\n    }\n  );\n}\n","import { isArray } from '@antv/util';\n\n/** @ignore */\nexport function parseFields(field: string | string[]): string[] {\n  if (isArray(field)) {\n    return field;\n  }\n\n  return field.split('*');\n}\n","/**\n *  added, updated, removed\n * @param keyItem  key-item  object \n * @param keys  array \n * @returns  added, updated, removed array  object\n */\nexport function diff(keyItem: Record<string, any>, keys: string[]) {\n  const added = [];\n  const updated = [];\n  const removed = [];\n  const keyIncluded = new Map<string, boolean>();\n\n  for (let i = 0; i < keys.length; i++) {\n    const key = keys[i];\n    if (keyItem[key]) updated.push(key);\n    else added.push(key);\n    keyIncluded.set(key, true);\n  }\n\n  Object.keys(keyItem).forEach((key) => {\n    if (!keyIncluded.has(key)) removed.push(key);\n  });\n\n  return {\n    added,\n    updated,\n    removed,\n  };\n}\n","import { Adjust, getAdjust as getAdjustClass } from '@antv/adjust';\nimport { Attribute, getAttribute as getAttributeClass } from '@antv/attr';\nimport {\n  clone,\n  deepMix,\n  each,\n  flatten,\n  get,\n  isArray,\n  isEmpty,\n  isEqual,\n  isFunction,\n  isNil,\n  isNumber,\n  isObject,\n  isPlainObject,\n  isString,\n  set,\n} from '@antv/util';\nimport { doGroupAppearAnimate, getDefaultAnimateCfg } from '../animate';\nimport Base from '../base';\nimport { FIELD_ORIGIN, GROUP_ATTRS } from '../constant';\nimport { BBox, Coordinate, IGroup, IShape, Scale } from '../dependents';\nimport {\n  AdjustOption,\n  AdjustType,\n  AnimateOption,\n  AttributeOption,\n  ColorAttrCallback,\n  Data,\n  Datum,\n  GeometryLabelCfg,\n  GeometryTooltipOption,\n  LabelCallback,\n  LabelOption,\n  LooseObject,\n  MappingDatum,\n  ScaleOption,\n  ShapeAttrCallback,\n  ShapeFactory,\n  ShapeInfo,\n  ShapeMarkerCfg,\n  ShapeMarkerAttrs,\n  ShapePoint,\n  SizeAttrCallback,\n  StateOption,\n  StyleCallback,\n  StyleOption,\n  TooltipCallback,\n  CustomOption,\n} from '../interface';\nimport { uniq } from '../util/helper';\nimport Element from './element';\nimport { getGeometryLabel } from './label';\nimport GeometryLabel from './label/base';\nimport { getShapeFactory } from './shape/base';\nimport { group } from './util/group-data';\nimport { isModelChange } from './util/is-model-change';\nimport { parseFields } from './util/parse-fields';\nimport { diff } from './util/diff';\nimport { inferScaleType } from '../util/scale';\nimport { getXDimensionLength } from '../util/coordinate';\n\n/** @ignore */\ninterface AttributeInstanceCfg {\n  fields?: string[];\n  callback?: (...args) => any;\n  values?: string[] | number[];\n  scales?: Scale[];\n}\ninterface DimValuesMapType {\n  [dim: string]: number[];\n}\n/** @ignore */\ninterface AdjustInstanceCfg {\n  type: AdjustType;\n  adjustNames?: string[];\n  xField?: string;\n  yField?: string;\n\n  dodgeBy?: string;\n  marginRatio?: number;\n  dodgeRatio?: number;\n\n  size?: number;\n  height?: number;\n  reverseOrder?: boolean;\n\n  /** offset */\n  intervalPadding?: number;\n  dodgePadding?: number;\n  /** xpadding */\n  xDimensionLength?: number;\n  /** offset */\n  groupNum?: number;\n  /**  size */\n  defaultSize?: number;\n  /**  */\n  maxColumnWidth?: number;\n  minColumnWidth?: number;\n  /**  */\n  columnWidthRatio?: number;\n  /** dimValuesMap */\n  dimValuesMap?: DimValuesMapType;\n}\n\n/** geometry.init()  */\nexport interface InitCfg {\n  /**  */\n  coordinate?: Coordinate;\n  /**  */\n  data?: Data;\n  /**  */\n  theme?: LooseObject;\n  /**  */\n  scaleDefs?: Record<string, ScaleOption>;\n  /**  */\n  isDataChanged?: boolean;\n  isCoordinateChanged?: boolean;\n}\n\n/** Geometry  */\nexport interface GeometryCfg {\n  /** Geometry shape  */\n  container: IGroup;\n  /**  */\n  coordinate?: Coordinate;\n  /**  */\n  data?: Data;\n  /**  scales */\n  scales?: Record<string, Scale>;\n  /**  */\n  scaleDefs?: Record<string, ScaleOption>;\n  /** Geometry labels  */\n  labelsContainer?: IGroup;\n  /**  */\n  sortable?: boolean;\n  /** elements  zIndex  zIndexReversed  */\n  zIndexReversed?: boolean;\n  /**  zIndex  sort */\n  sortZIndex?: boolean;\n  /**  */\n  visible?: boolean;\n  /**  */\n  theme?: LooseObject;\n\n  /**  */\n  intervalPadding?: number;\n  /**  */\n  dodgePadding?: number;\n  /**  */\n  maxColumnWidth?: number;\n  /**  */\n  minColumnWidth?: number;\n  /** intervalschema */\n  columnWidthRatio?: number;\n  /**  */\n  roseWidthRatio?: number;\n  /** / */\n  multiplePieWidthRatio?: number;\n}\n\n//  elementId  label element  labels labels \n//  ./label/base.ts#L263\nfunction filterLabelsById(id: string, labelsMap: Record<string, IGroup>) {\n  const labels = [];\n  each(labelsMap, (label: IGroup, labelId: string) => {\n    const elementId = labelId.split(' ')[0];\n    if (elementId === id) {\n      labels.push(label);\n    }\n  });\n\n  return labels;\n}\n\n/**\n * Geometry \n */\nexport default class Geometry<S extends ShapePoint = ShapePoint> extends Base {\n  /** Geometry  */\n  public readonly type: string = 'base';\n  /** ShapeFactory  */\n  public readonly shapeType: string;\n\n  //  Geometry \n  /** Coordinate  */\n  public coordinate: Coordinate;\n  /**  */\n  public data: Data;\n  /**  */\n  public readonly container: IGroup;\n  /** label  */\n  public readonly labelsContainer: IGroup;\n  /**  false  */\n  public sortable: boolean;\n  /**  Geometry   */\n  public theme: LooseObject;\n  /**  geometry  scales */\n  public scales: Record<string, Scale>;\n  /** scale  */\n  public scaleDefs: Record<string, ScaleOption>;\n  /**  label  */\n  public canvasRegion: BBox;\n\n  // \n  /** Attribute map  */\n  public attributes: Record<string, Attribute> = {};\n  /** Element map */\n  public elements: Element[] = [];\n  /**\n   * \n   * + init()  updateData() ,  Data[]\n   * + paint()  MappingDatum[][]\n   */\n  public dataArray: MappingDatum[][];\n  /**  tooltip  */\n  public tooltipOption: GeometryTooltipOption | boolean;\n  /**  label  */\n  public labelOption: LabelOption | false;\n  /**  */\n  public stateOption: StateOption;\n  /**  key-value  Elementkey  Element  ID */\n  public elementsMap: Record<string, Element> = {};\n  /** animate  */\n  public animateOption: AnimateOption | boolean = true;\n  /**  */\n  protected attributeOption: Record<string, AttributeOption> = {};\n  /** adjust  */\n  protected adjustOption: AdjustOption[];\n  /** style  */\n  protected styleOption: StyleOption;\n  /** custom  */\n  protected customOption: CustomOption;\n  /**  Geometry  Shape  Shape */\n  protected shapeFactory: ShapeFactory;\n  /**  element  */\n  protected lastElementsMap: Record<string, Element> = {};\n  /**  */\n  protected generatePoints: boolean = false;\n  /**  */\n  protected beforeMappingData: Data[] = null;\n  /**  shape  size IntervalSchema  */\n  protected defaultSize: number;\n\n  //  geometry \n  private userTheme: LooseObject;\n  private adjusts: Record<string, Adjust> = {};\n  private lastAttributeOption;\n  private idFields: string[] = [];\n  private geometryLabel: GeometryLabel;\n\n  // \n  /**  */\n  protected intervalPadding: number;\n  /**  */\n  protected dodgePadding: number;\n  /**  */\n  protected maxColumnWidth: number;\n  /**  */\n  protected minColumnWidth: number;\n  /**  */\n  protected columnWidthRatio: number;\n  /**  */\n  protected roseWidthRatio: number;\n  /** / */\n  protected multiplePieWidthRatio: number;\n  /** elements  zIndex  zIndexReversed  */\n  public zIndexReversed?: boolean;\n  /**  zIndex  sort */\n  public sortZIndex?: boolean;\n\n  /**  Group */\n  private offscreenGroup: IGroup;\n  private groupScales: Scale[];\n  private hasSorted: boolean = false;\n  protected isCoordinateChanged: boolean = false;\n\n  /**\n   *  Geometry \n   * @param cfg\n   */\n  constructor(cfg: GeometryCfg) {\n    super(cfg);\n\n    const {\n      container,\n      labelsContainer,\n      coordinate,\n      data,\n      sortable = false,\n      visible = true,\n      theme,\n      scales = {},\n      scaleDefs = {},\n      // \n      intervalPadding,\n      dodgePadding,\n      maxColumnWidth,\n      minColumnWidth,\n      columnWidthRatio,\n      roseWidthRatio,\n      multiplePieWidthRatio,\n      zIndexReversed,\n      sortZIndex,\n    } = cfg;\n\n    this.container = container;\n    this.labelsContainer = labelsContainer;\n    this.coordinate = coordinate;\n    this.data = data;\n    this.sortable = sortable;\n    this.visible = visible;\n    this.userTheme = theme;\n    this.scales = scales;\n    this.scaleDefs = scaleDefs;\n    // \n    this.intervalPadding = intervalPadding;\n    this.dodgePadding = dodgePadding;\n    this.maxColumnWidth = maxColumnWidth;\n    this.minColumnWidth = minColumnWidth;\n    this.columnWidthRatio = columnWidthRatio;\n    this.roseWidthRatio = roseWidthRatio;\n    this.multiplePieWidthRatio = multiplePieWidthRatio;\n    this.zIndexReversed = zIndexReversed;\n    this.sortZIndex = sortZIndex;\n  }\n\n  /**\n   *  position \n   *\n   * @example\n   * ```typescript\n   * // : [{ x: 'A', y: 10, color: 'red' }]\n   * geometry.position('x*y');\n   * geometry.position([ 'x', 'y' ]);\n   * geometry.position({\n   *   fields: [ 'x', 'y' ],\n   * });\n   * ```\n   *\n   * @param cfg \n   * @returns\n   */\n  public position(cfg: string | string[] | AttributeOption): Geometry {\n    let positionCfg = cfg;\n    if (!isPlainObject(cfg)) {\n      // \n      positionCfg = {\n        fields: parseFields(cfg),\n      };\n    }\n\n    const fields = get(positionCfg, 'fields');\n    if (fields.length === 1) {\n      //  1*xx\n      fields.unshift('1');\n      set(positionCfg, 'fields', fields);\n    }\n    set(this.attributeOption, 'position', positionCfg);\n\n    return this;\n  }\n\n  /**\n   *  color \n   *\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   * geometry.color({\n   *   fields: [ 'x' ],\n   *   values: [ '#1890ff', '#5AD8A6' ],\n   * });\n   * ```\n   *\n   * @param field \n   * @returns\n   */\n  public color(field: AttributeOption): Geometry;\n  /**\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   *\n   * //  '#1890ff' \n   * geometry.color('#1890ff');\n   *\n   * //  x  G2 \n   * geometry.color('x');\n   *\n   * //  'x'  colors\n   * geometry.color('x', [ '#1890ff', '#5AD8A6' ]);\n   *\n   * // *\n   * geometry.color('x', (xVal) => {\n   *   if (xVal === 'a') {\n   *     return 'red';\n   *   }\n   *   return 'blue';\n   * });\n   *\n   * // \n   * geometry.color('x', '#BAE7FF-#1890FF-#0050B3');\n   * ```\n   *\n   * @param field  '*' \n   * @param cfg Optional, color \n   * @returns\n   */\n  public color(field: string, cfg?: string | string[] | ColorAttrCallback): Geometry;\n  public color(field: AttributeOption | string, cfg?: string | string[] | ColorAttrCallback): Geometry {\n    this.createAttrOption('color', field, cfg);\n\n    return this;\n  }\n\n  /**\n   *  shape \n   *\n   * @example\n   *\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   * geometry.shape({\n   *   fields: [ 'x' ],\n   * });\n   * ```\n   *\n   * @param field \n   * @returns\n   */\n  public shape(field: AttributeOption): Geometry;\n  /**\n   *\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   *\n   * //  shape\n   * geometry.shape('circle');\n   *\n   * //  shapes \n   * geometry.shape('x');\n   *\n   * //  shapes \n   * geometry.shape('x', [ 'circle', 'diamond', 'square' ]);\n   *\n   * //  shape shape \n   * geometry.shape('x', (xVal) => {\n   *   if (xVal === 'a') {\n   *     return 'circle';\n   *   }\n   *   return 'diamond';\n   * });\n   * ```\n   *\n   * @param field  shape  '*' \n   * @param cfg Optional, shape \n   * @returns\n   */\n  public shape(field: string, cfg?: string[] | ShapeAttrCallback): Geometry;\n  public shape(field: AttributeOption | string, cfg?: string[] | ShapeAttrCallback): Geometry {\n    this.createAttrOption('shape', field, cfg);\n\n    return this;\n  }\n\n  /**\n   *  size \n   *\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   * geometry.size({\n   *   values: [ 10 ],\n   * })\n   * ```\n   *\n   * @param field \n   * @returns\n   */\n  public size(field: AttributeOption): Geometry;\n  /**\n   *\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   *\n   * // \n   * geometry.size(10);\n   *\n   * //  size  [1, 10]\n   * geometry.size('x');\n   *\n   * //  size  size \n   * geometry.size('x', [ 5, 30 ]);\n   *\n   * //  size size \n   * geometry.size('x', (xVal) => {\n   *   if (xVal === 'a') {\n   *     return 10;\n   *   }\n   *   return 5;\n   * });\n   * ```\n   *\n   * @param field  size  '*' \n   * @param cfg Optional, size \n   * @returns\n   */\n  public size(field: number | string, cfg?: [number, number] | SizeAttrCallback): Geometry;\n  public size(field: AttributeOption | number | string, cfg?: [number, number] | SizeAttrCallback): Geometry {\n    this.createAttrOption('size', field, cfg);\n\n    return this;\n  }\n\n  /**\n   * G2 \n   * 1. dodge\n   * 2. stack\n   * 3. symmetric\n   * 4. jitter\n   *\n   *\n   * **Tip**\n   * +  'dodge' :\n   * ```typescript\n   * geometry.adjust('dodge', {\n   *   marginRatio: 0, //  0  1 \n   *   dodgeBy: 'x', //  'dodge' \n   * });\n   * ```\n   *\n   * +  'stack' :\n   * ```typescript\n   * geometry.adjust('stack', {\n   *   reverseOrder: false, // \n   * });\n   * ```\n   *\n   * @example\n   * ```typescript\n   * geometry.adjust('stack');\n   *\n   * geometry.adjust({\n   *   type: 'stack',\n   *   reverseOrder: false,\n   * });\n   *\n   * //  adjust\n   * geometry.adjust([ 'stack', 'dodge' ]);\n   *\n   * geometry.adjust([\n   *   { type: 'stack' },\n   *   { type: 'dodge', dodgeBy: 'x' },\n   * ]);\n   * ```\n   *\n   * @param adjustCfg \n   * @returns\n   */\n  public adjust(adjustCfg: string | string[] | AdjustOption | AdjustOption[]): Geometry {\n    let adjusts: any = adjustCfg;\n    if (isString(adjustCfg) || isPlainObject(adjustCfg)) {\n      adjusts = [adjustCfg];\n    }\n    each(adjusts, (adjust, index) => {\n      if (!isObject(adjust)) {\n        adjusts[index] = { type: adjust };\n      }\n    });\n\n    this.adjustOption = adjusts;\n    return this;\n  }\n\n  /**\n   * \n   *\n   * @example\n   * ```typescript\n   * // \n   * style({\n   *   lineWidth: 2,\n   *   stroke: '#1890ff',\n   * });\n   *\n   * // \n   * style({\n   *   fields: [ 'x', 'y' ], // \n   *   callback: (xVal, yVal) => {\n   *     const style = { lineWidth: 2, stroke: '#1890ff' };\n   *     if (xVal === 'a') {\n   *       style.lineDash = [ 2, 2 ];\n   *     }\n   *     return style;\n   *   },\n   * });\n   * ```\n   *\n   * @param field \n   * @returns\n   */\n  public style(field: StyleOption | LooseObject): Geometry;\n  /**\n   * @example\n   * ```typescript\n   * style('x*y', (xVal, yVal) => {\n   *   const style = { lineWidth: 2, stroke: '#1890ff' };\n   *   if (xVal === 'a') {\n   *     style.lineDash = [ 2, 2 ];\n   *   }\n   *   return style;\n   * });\n   * ```\n   *\n   * @param field \n   * @param styleFunc Optional, \n   * @returns\n   */\n  public style(field: string, styleFunc: StyleCallback): Geometry;\n  public style(field: StyleOption | LooseObject | string, styleFunc?: StyleCallback): Geometry {\n    if (isString(field)) {\n      const fields = parseFields(field);\n      this.styleOption = {\n        fields,\n        callback: styleFunc,\n      };\n    } else {\n      const { fields, callback, cfg } = field as StyleOption;\n      if (fields || callback || cfg) {\n        this.styleOption = field;\n      } else {\n        this.styleOption = {\n          cfg: field,\n        };\n      }\n    }\n\n    return this;\n  }\n\n  /**\n   *  Geometry  tooltip \n   *\n   * `tooltip(false)`  tooltip\n   * `tooltip(true)`  tooltip\n   *\n   * Geometry  tooltip  tooltip \n   *\n   * @example\n   * ```typescript\n   * // data: [{x: 'a', y: 10}]\n   * tooltip({\n   *   fields: [ 'x' ],\n   * });\n   * ```\n   * ![](https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*268uQ50if60AAAAAAAAAAABkARQnAQ)\n   *\n   * ```typescript\n   * tooltip({\n   *   fields: [ 'x', 'y' ],\n   * });\n   * ```\n   * ![](https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*A_ujSa8QhtcAAAAAAAAAAABkARQnAQ)\n   *\n   * tooltip() \n   *\n   * @example\n   * ```typescript\n   * chart.tooltip({\n   *   itemTpl: '<li>{x}: {y}</li>',\n   * });\n   *\n   * chart.line()\n   *   .position('x*y')\n   *   .tooltip({\n   *     fields: [ 'x', 'y' ],\n   *     callback: (x, y) => {\n   *       return {\n   *         x,\n   *         y,\n   *       };\n   *     },\n   *   });\n   * ```\n   *\n   *  chart.tooltip()  itemTpl  itemTpl \n   *\n   * @param field tooltip \n   * @returns\n   */\n  public tooltip(field: GeometryTooltipOption | boolean): Geometry;\n  /**\n   * @example\n   * ```typescript\n   * // data: [{x: 'a', y: 10}]\n   *\n   * //  tooltip({ fields: [ 'x' ] })\n   * tooltip('x');\n   *\n   * //  tooltip({ fields: [ 'x', 'y' ] })\n   * tooltip('x*y');\n   *\n   * //  tooltip({ fields: [ 'x', 'y' ], callback: (x, y) => { x, y } })\n   * tooltip('x*y', (x, y) => {\n   *   return {\n   *     x,\n   *     y,\n   *   };\n   * });\n   * ```\n   *\n   * @param field \n   * @param cfg Optional, \n   * @returns\n   */\n  public tooltip(field: string, cfg?: TooltipCallback): Geometry;\n  public tooltip(field: GeometryTooltipOption | boolean | string, cfg?: TooltipCallback): Geometry {\n    if (isString(field)) {\n      const fields = parseFields(field);\n      this.tooltipOption = {\n        fields,\n        callback: cfg,\n      };\n    } else {\n      this.tooltipOption = field;\n    }\n\n    return this;\n  }\n\n  /**\n   * Geometry \n   *\n   * + `animate(false)` \n   * + `animate(true)` \n   *\n   * \n   * 1. appear: \n   * 2. enter: \n   * 3. update: \n   * 4. leave: \n   *\n   * @example\n   * ```typescript\n   * animate({\n   *   enter: {\n   *     duration: 1000, // enter \n   *   },\n   *   leave: false, //  leave \n   * });\n   * ```\n   *\n   * @param cfg \n   * @returns\n   */\n  public animate(cfg: AnimateOption | boolean): Geometry {\n    this.animateOption = cfg;\n    return this;\n  }\n\n  /**\n   * Geometry label \n   *\n   * @example\n   * ```ts\n   * // data: [ {x: 1, y: 2, z: 'a'}, {x: 2, y: 2, z: 'b'} ]\n   * //  z \n   * label({\n   *   fields: [ 'z' ]\n   * });\n   *\n   * label(false); //  label\n   *\n   * //  x \n   * label('x', {\n   *   style: {\n   *     fill: 'red',\n   *   },\n   * })\n   *\n   * //  type  label  x \n   * label('x', (xValue) => {\n   *   return {\n   *     content: xValue + '%',\n   *   };\n   * }, {\n   *   type: 'base' //  label \n   * })\n   * ```\n   *\n   * @param field\n   * @returns label\n   */\n  public label(field: LabelOption | false | string): Geometry;\n  public label(field: string, secondParam: GeometryLabelCfg | LabelCallback): Geometry;\n  public label(field: string, secondParam: LabelCallback, thirdParam: GeometryLabelCfg): Geometry;\n  public label(\n    field: string | LabelOption | false,\n    secondParam?: GeometryLabelCfg | LabelCallback,\n    thirdParam?: GeometryLabelCfg\n  ): Geometry {\n    if (isString(field)) {\n      const labelOption: LabelOption = {};\n      const fields = parseFields(field);\n      labelOption.fields = fields;\n      if (isFunction(secondParam)) {\n        labelOption.callback = secondParam;\n      } else if (isPlainObject(secondParam)) {\n        labelOption.cfg = secondParam;\n      }\n\n      if (thirdParam) {\n        labelOption.cfg = thirdParam;\n      }\n      this.labelOption = labelOption;\n    } else {\n      this.labelOption = field;\n    }\n\n    return this;\n  }\n\n  /**\n   * \n   *\n   * @example\n   * ```ts\n   * chart.interval().state({\n   *   selected: {\n   *     animate: { duration: 100, easing: 'easeLinear' },\n   *     style: {\n   *       lineWidth: 2,\n   *       stroke: '#000',\n   *     },\n   *   },\n   * });\n   * ```\n   *\n   *  shape  shape  G.Group  group  shape\n   *  group  shape  'name' (shape.set('name', 'xx')) 'name'  key shape   key\n   *\n   * ```ts\n   * chart.interval().shape('groupShape').state({\n   *   selected: {\n   *     style: {\n   *       0: { lineWidth: 2 },\n   *       1: { fillOpacity: 1 },\n   *     }\n   *   }\n   * });\n   * ```\n   *\n   * @param cfg \n   */\n  public state(cfg: StateOption) {\n    this.stateOption = cfg;\n    return this;\n  }\n\n  /**\n   *  shape  shape  shape  shape \n   *\n   * @example\n   * ```ts\n   * chart.interval().customInfo({ yourData: 'hello, g2!' });\n   * ```\n   *\n   *  shape \n   *\n   * ```ts\n   * registerShape('interval', 'your-shape', {\n   *   draw(shapeInfo, container) {\n   *     const { customInfo } = shapeInfo;\n   *     console.log(customInfo); // will log { yourData: 'hello, g2!' }.\n   *   }\n   * });\n   * ```\n   *\n   * @param cfg\n   */\n  public customInfo(cfg: any) {\n    this.customOption = cfg;\n    return this;\n  }\n\n  /**\n   *  Geomtry \n   *  [[Attribute]] and [[Scale]] \n   */\n  public init(cfg: InitCfg = {}) {\n    this.setCfg(cfg);\n    this.initAttributes(); // \n\n    //  ->  -> adjust\n    this.processData(this.data);\n\n    //  scale\n    this.adjustScale();\n  }\n\n  /**\n   * Geometry \n   * @param [cfg] \n   */\n  public update(cfg: InitCfg = {}) {\n    const { data, isDataChanged, isCoordinateChanged } = cfg;\n    const { attributeOption, lastAttributeOption } = this;\n\n    if (!isEqual(attributeOption, lastAttributeOption)) {\n      // \n      this.init(cfg);\n    } else if (data && (isDataChanged || !isEqual(data, this.data))) {\n      // \n      this.setCfg(cfg);\n      this.initAttributes(); // \n      this.processData(data); //  ->  -> adjust\n    } else {\n      //  coordinate \n      this.setCfg(cfg);\n    }\n\n    //  scale\n    this.adjustScale();\n    this.isCoordinateChanged = isCoordinateChanged;\n  }\n\n  /**\n   * \n   */\n  public paint(isUpdate: boolean = false) {\n    if (this.animateOption) {\n      this.animateOption = deepMix({}, getDefaultAnimateCfg(this.type, this.coordinate), this.animateOption);\n    }\n\n    this.defaultSize = undefined;\n    this.elementsMap = {};\n    this.elements = [];\n    const offscreenGroup = this.getOffscreenGroup();\n    offscreenGroup.clear();\n\n    const beforeMappingData = this.beforeMappingData;\n    const dataArray = this.beforeMapping(beforeMappingData);\n\n    this.dataArray = new Array(dataArray.length);\n    for (let i = 0; i < dataArray.length; i++) {\n      const data = dataArray[i];\n      this.dataArray[i] = this.mapping(data);\n    }\n    this.updateElements(this.dataArray, isUpdate);\n    this.lastElementsMap = this.elementsMap;\n\n    if (this.canDoGroupAnimation(isUpdate)) {\n      //  appear.animation\n      const container = this.container;\n      const type = this.type;\n      const coordinate = this.coordinate;\n      const animateCfg = get(this.animateOption, 'appear');\n      const yScale = this.getYScale();\n      const yMinPoint = coordinate.convert({\n        x: 0,\n        y: yScale.scale(this.getYMinValue()),\n      });\n      doGroupAppearAnimate(container, animateCfg, type, coordinate, yMinPoint);\n    }\n\n    //  label\n    if (this.labelOption) {\n      this.renderLabels(flatten(this.dataArray) as unknown as MappingDatum[], isUpdate);\n    }\n\n    // \n    this.lastAttributeOption = {\n      ...this.attributeOption,\n    };\n\n    if (this.visible === false) {\n      //  visible: false\n      this.changeVisible(false);\n    }\n  }\n\n  /**\n   *  Geometry\n   * @override\n   */\n  public clear() {\n    const { container, geometryLabel, offscreenGroup } = this;\n    if (container) {\n      container.clear();\n    }\n\n    if (geometryLabel) {\n      geometryLabel.clear();\n    }\n\n    if (offscreenGroup) {\n      offscreenGroup.clear();\n    }\n\n    // \n    this.scaleDefs = undefined;\n    this.attributes = {};\n    this.scales = {};\n    this.elementsMap = {};\n    this.lastElementsMap = {};\n    this.elements = [];\n    this.adjusts = {};\n    this.dataArray = null;\n    this.beforeMappingData = null;\n    this.lastAttributeOption = undefined;\n    this.defaultSize = undefined;\n    this.idFields = [];\n    this.groupScales = undefined;\n    this.hasSorted = false;\n    this.isCoordinateChanged = false;\n  }\n\n  /**\n   *  Geometry \n   */\n  public destroy() {\n    this.clear();\n    const container = this.container;\n    container.remove(true);\n\n    if (this.offscreenGroup) {\n      this.offscreenGroup.remove(true);\n      this.offscreenGroup = null;\n    }\n\n    if (this.geometryLabel) {\n      this.geometryLabel.destroy();\n      this.geometryLabel = null;\n    }\n    this.theme = undefined;\n    this.shapeFactory = undefined;\n\n    super.destroy();\n  }\n\n  /**\n   *  scale \n   * @returns\n   */\n  public getGroupScales(): Scale[] {\n    return this.groupScales;\n  }\n\n  /**\n   * \n   */\n  public getAttribute(name: string): Attribute {\n    return this.attributes[name];\n  }\n\n  /**  x  scale  */\n  public getXScale(): Scale {\n    return this.getAttribute('position').scales[0];\n  }\n\n  /**  y  scale  */\n  public getYScale(): Scale {\n    return this.getAttribute('position').scales[1];\n  }\n\n  /**\n   * \n   */\n  public getGroupAttributes(): Attribute[] {\n    const rst = [];\n    each(this.attributes, (attr: Attribute) => {\n      if (GROUP_ATTRS.includes(attr.type)) {\n        rst.push(attr);\n      }\n    });\n    return rst;\n  }\n\n  /**  */\n  public getDefaultValue(attrName: string) {\n    let value: any;\n    const attr = this.getAttribute(attrName);\n    if (attr && isEmpty(attr.scales)) {\n      // \n      value = attr.values[0];\n    }\n    return value;\n  }\n\n  /**\n   *  Attribute \n   * @param attr Attribute \n   * @param obj \n   * @returns\n   */\n  public getAttributeValues(attr: Attribute, obj: Datum) {\n    const params = [];\n    const scales = attr.scales;\n    for (let index = 0, length = scales.length; index < length; index++) {\n      const scale = scales[index];\n      const field = scale.field;\n      if (scale.isIdentity) {\n        params.push(scale.values);\n      } else {\n        params.push(obj[field]);\n      }\n    }\n\n    return attr.mapping(...params);\n  }\n\n  /**\n   *  adjust \n   * @param adjustType\n   * @returns\n   */\n  public getAdjust(adjustType: string) {\n    return this.adjusts[adjustType];\n  }\n\n  /**\n   *  coordinate \n   * @returns\n   */\n  public getCoordinate() {\n    return this.coordinate;\n  }\n\n  public getData() {\n    return this.data;\n  }\n\n  /**\n   *  shape  marker \n   * @param shapeName shape \n   * @param cfg marker \n   * @returns\n   */\n  public getShapeMarker(shapeName: string, cfg: ShapeMarkerCfg): ShapeMarkerAttrs {\n    const shapeFactory = this.getShapeFactory();\n    return shapeFactory.getMarker(shapeName, cfg);\n  }\n\n  /**\n   *  Geometry  Elements\n   *\n   * ```typescript\n   * getElementsBy((element) => {\n   *   const data = element.getData();\n   *\n   *   return data.a === 'a';\n   * });\n   * ```\n   *\n   * @param condition \n   * @returns\n   */\n  public getElementsBy(condition: (element: Element) => boolean): Element[] {\n    return this.elements.filter((element) => condition(element));\n  }\n\n  /**\n   *  Geometry  Elements\n   *\n   * ```typescript\n   * getElements();\n   * ```\n   */\n  public getElements() {\n    return this.elements;\n  }\n\n  /**\n   *  id\n   * @param data Element \n   * @returns\n   */\n  public getElementId(data: MappingDatum | MappingDatum[]) {\n    data = isArray(data) ? data[0] : data;\n    const originData = data[FIELD_ORIGIN];\n\n    //  id \n    if (this.idFields.length) {\n      let elementId = originData[this.idFields[0]];\n      for (let index = 1; index < this.idFields.length; index++) {\n        elementId += '-' + originData[this.idFields[index]];\n      }\n\n      return elementId;\n    }\n\n    const type = this.type;\n    const xScale = this.getXScale();\n    const yScale = this.getYScale();\n    const xField = xScale.field || 'x';\n    const yField = yScale.field || 'y';\n    const yVal = originData[yField];\n    let xVal;\n    if (xScale.type === 'identity') {\n      xVal = xScale.values[0];\n    } else {\n      xVal = originData[xField];\n    }\n\n    let id: string;\n    if (type === 'interval' || type === 'schema') {\n      id = `${xVal}`;\n    } else if (type === 'line' || type === 'area' || type === 'path') {\n      id = type;\n    } else {\n      id = `${xVal}-${yVal}`;\n    }\n\n    const groupScales = this.groupScales;\n\n    for (let index = 0, length = groupScales.length; index < length; index++) {\n      const groupScale = groupScales[index];\n      const field = groupScale.field;\n      id = `${id}-${originData[field]}`;\n    }\n\n    //  dodge  adjust  dodgeBy \n    const dodgeAdjust = this.getAdjust('dodge');\n    if (dodgeAdjust) {\n      const dodgeBy = dodgeAdjust.dodgeBy;\n      if (dodgeBy) {\n        id = `${id}-${originData[dodgeBy]}`;\n      }\n    }\n\n    if (this.getAdjust('jitter')) {\n      id = `${id}-${data.x}-${data.y}`;\n    }\n\n    return id;\n  }\n\n  /**\n   *  scale \n   */\n  public getScaleFields(): string[] {\n    const fields = [];\n    const tmpMap = new Map();\n    const { attributeOption, labelOption, tooltipOption } = this;\n    //  fields\n    for (const attributeType in attributeOption) {\n      if (attributeOption.hasOwnProperty(attributeType)) {\n        const eachOpt = attributeOption[attributeType];\n        if (eachOpt.fields) {\n          uniq(eachOpt.fields, fields, tmpMap);\n        } else if (eachOpt.values) {\n          //  size(10), shape('circle') \n          uniq(eachOpt.values, fields, tmpMap);\n        }\n      }\n    }\n    //  label \n    if (labelOption && labelOption.fields) {\n      uniq(labelOption.fields, fields, tmpMap);\n    }\n\n    //  tooltip \n    if (isObject(tooltipOption) && tooltipOption.fields) {\n      uniq(tooltipOption.fields, fields, tmpMap);\n    }\n\n    return fields;\n  }\n\n  /**\n   *  geometry\n   * @param visible\n   */\n  public changeVisible(visible: boolean) {\n    super.changeVisible(visible);\n    const elements = this.elements;\n    for (let index = 0, length = elements.length; index < length; index++) {\n      const element = elements[index];\n      element.changeVisible(visible);\n    }\n    if (visible) {\n      if (this.container) {\n        this.container.show();\n      }\n      if (this.labelsContainer) {\n        this.labelsContainer.show();\n      }\n    } else {\n      if (this.container) {\n        this.container.hide();\n      }\n      if (this.labelsContainer) {\n        this.labelsContainer.hide();\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public getFields() {\n    const uniqMap = new Map<string, boolean>();\n    const fields = [];\n\n    Object.values(this.attributeOption).forEach((cfg) => {\n      const fs = cfg?.fields || [];\n      fs.forEach((f) => {\n        if (!uniqMap.has(f)) {\n          fields.push(f);\n        }\n        uniqMap.set(f, true);\n      });\n    }, []);\n\n    return fields;\n  }\n\n  /**\n   *  & \n   * @return fields string[]\n   */\n  public getGroupFields(): string[] {\n    const groupFields = [];\n    const tmpMap = new Map(); // \n    for (let index = 0, length = GROUP_ATTRS.length; index < length; index++) {\n      const attributeName = GROUP_ATTRS[index];\n      const cfg = this.attributeOption[attributeName];\n      if (cfg && cfg.fields) {\n        uniq(cfg.fields, groupFields, tmpMap);\n      }\n    }\n\n    return groupFields;\n  }\n\n  /**\n   *  x y \n   */\n  public getXYFields() {\n    const [x, y] = this.attributeOption.position.fields;\n    return [x, y];\n  }\n\n  /**\n   * x \n   * @returns\n   */\n  public getXField(): string {\n    return get(this.getXYFields(), [0]);\n  }\n\n  /**\n   * y \n   * @returns\n   */\n  public getYField(): string {\n    return get(this.getXYFields(), [1]);\n  }\n\n  /**\n   *  Geometry  shapes\n   * @returns shapes\n   */\n  public getShapes(): (IShape | IGroup)[] {\n    return this.elements.map((element: Element) => element.shape);\n  }\n\n  /**\n   *  Group\n   * @returns\n   */\n  public getOffscreenGroup() {\n    if (!this.offscreenGroup) {\n      const GroupCtor = this.container.getGroupBase(); // \n      this.offscreenGroup = new GroupCtor({});\n    }\n    return this.offscreenGroup;\n  }\n\n  // \n  public sort(mappingArray: Data[]) {\n    if (!this.hasSorted) {\n      // \n      const xScale = this.getXScale();\n      const xField = xScale.field;\n      for (let index = 0; index < mappingArray.length; index++) {\n        const itemArr = mappingArray[index];\n        itemArr.sort((obj1: Datum, obj2: Datum) => {\n          return xScale.translate(obj1[FIELD_ORIGIN][xField]) - xScale.translate(obj2[FIELD_ORIGIN][xField]);\n        });\n      }\n    }\n\n    this.hasSorted = true;\n  }\n\n  /**\n   *  Geometry Interval  Y  0 \n   */\n  protected adjustScale() {\n    const yScale = this.getYScale();\n    //  stack adjust yScale \n    if (yScale && this.getAdjust('stack')) {\n      this.updateStackRange(yScale, this.beforeMappingData);\n    }\n  }\n\n  /**\n   *  Geometry  Shape \n   */\n  protected getShapeFactory() {\n    const shapeType = this.shapeType;\n    if (!getShapeFactory(shapeType)) {\n      return;\n    }\n    if (!this.shapeFactory) {\n      this.shapeFactory = clone(getShapeFactory(shapeType)); //  view  shapeFactory  coordinate \n    }\n    //  shapeFactory coordinate shapeFactory \n    this.shapeFactory.coordinate = this.coordinate;\n    // theme \n    this.shapeFactory.theme = this.theme.geometries[shapeType] || {};\n\n    return this.shapeFactory;\n  }\n\n  /**\n   *  Shape \n   * @param obj  ->  -> adjust \n   * @returns\n   */\n  protected createShapePointsCfg(obj: Datum): S {\n    const xScale = this.getXScale();\n    const yScale = this.getYScale();\n    const x = this.normalizeValues(obj[xScale.field], xScale);\n    let y; //  y \n\n    if (yScale) {\n      y = this.normalizeValues(obj[yScale.field], yScale);\n    } else {\n      y = obj.y ? obj.y : 0.1;\n    }\n\n    return {\n      x,\n      y,\n      y0: yScale ? yScale.scale(this.getYMinValue()) : undefined,\n    } as S;\n  }\n\n  /**\n   *  Element \n   * @param mappingDatum Element \n   * @param [isUpdate] \n   * @returns element  Element \n   */\n  protected createElement(mappingDatum: MappingDatum, index: number, isUpdate: boolean = false): Element {\n    const { container } = this;\n\n    const shapeCfg = this.getDrawCfg(mappingDatum); // \n    const shapeFactory = this.getShapeFactory();\n\n    const element = new Element({\n      shapeFactory,\n      container,\n      offscreenGroup: this.getOffscreenGroup(),\n      elementIndex: index,\n    });\n    element.animate = this.animateOption;\n    element.geometry = this;\n    element.draw(shapeCfg, isUpdate); // \n\n    return element;\n  }\n\n  /**\n   * \n   * @param mappingDatum \n   * @returns draw cfg\n   */\n  protected getDrawCfg(mappingDatum: MappingDatum): ShapeInfo {\n    const originData = mappingDatum[FIELD_ORIGIN]; // \n    const cfg: ShapeInfo = {\n      mappingData: mappingDatum, // \n      data: originData, // \n      x: mappingDatum.x,\n      y: mappingDatum.y,\n      color: mappingDatum.color,\n      size: mappingDatum.size,\n      isInCircle: this.coordinate.isPolar,\n      customInfo: this.customOption,\n    };\n\n    let shapeName = mappingDatum.shape;\n    if (!shapeName && this.getShapeFactory()) {\n      shapeName = this.getShapeFactory().defaultShapeType;\n    }\n    cfg.shape = shapeName;\n    // \n    const theme = this.theme.geometries[this.shapeType];\n    cfg.defaultStyle = get(theme, [shapeName, 'default'], {}).style;\n    if (!cfg.defaultStyle && this.getShapeFactory()) {\n      cfg.defaultStyle = this.getShapeFactory().getDefaultStyle(theme);\n    }\n\n    const styleOption = this.styleOption;\n    if (styleOption) {\n      cfg.style = this.getStyleCfg(styleOption, originData);\n    }\n    if (this.generatePoints) {\n      cfg.points = mappingDatum.points;\n      cfg.nextPoints = mappingDatum.nextPoints;\n    }\n\n    return cfg;\n  }\n\n  protected updateElements(mappingDataArray: MappingDatum[][], isUpdate: boolean = false): void {\n    const keyDatum = new Map<string, MappingDatum>();\n    const keys: string[] = [];\n\n    //  diff  added, updated \n    const keyIndex = new Map<string, number>();\n    let index = 0;\n\n    //  keys\n    //  key \n    for (let i = 0; i < mappingDataArray.length; i++) {\n      const mappingData = mappingDataArray[i];\n      for (let j = 0; j < mappingData.length; j++) {\n        const mappingDatum = mappingData[j];\n        const key = this.getElementId(mappingDatum);\n        const finalKey = keyDatum.has(key) ? `${key}-${i}-${j}` : key;\n        keys.push(finalKey);\n        keyDatum.set(finalKey, mappingDatum);\n        keyIndex.set(finalKey, index);\n        index++;\n      }\n    }\n\n    this.elements = new Array(index);\n\n    const { added, updated, removed } = diff(this.lastElementsMap, keys);\n\n    //  element\n    for (const key of added) {\n      const mappingDatum = keyDatum.get(key);\n      const i = keyIndex.get(key);\n      const element = this.createElement(mappingDatum, i, isUpdate);\n      this.elements[i] = element;\n      this.elementsMap[key] = element;\n      if (element.shape) {\n        element.shape.set('zIndex', this.zIndexReversed ? this.elements.length - i : i);\n      }\n    }\n\n    //  element\n    for (const key of updated) {\n      const element = this.lastElementsMap[key];\n      const mappingDatum = keyDatum.get(key);\n      const currentShapeCfg = this.getDrawCfg(mappingDatum);\n      const preShapeCfg = element.getModel();\n      const i = keyIndex.get(key);\n      if (this.isCoordinateChanged || isModelChange(currentShapeCfg, preShapeCfg)) {\n        element.animate = this.animateOption;\n        // \n        element.update(currentShapeCfg); //  element\n      }\n      this.elements[i] = element;\n      this.elementsMap[key] = element;\n      if (element.shape) {\n        element.shape.set('zIndex', this.zIndexReversed ? this.elements.length - i : i);\n      }\n    }\n\n    //  setZIndex  sort\n    if (this.container) {\n      this.container.sort();\n    }\n\n    //  elements\n    for (const key of removed) {\n      const element = this.lastElementsMap[key];\n      // \n      element.animate = this.animateOption;\n      element.destroy();\n    }\n  }\n\n  /**\n   *  label \n   */\n  protected getLabelType(): string {\n    const { labelOption, coordinate, type } = this;\n    const { type: coordinateType, isTransposed } = coordinate;\n    let labelType = get(labelOption, ['cfg', 'type']);\n    if (!labelType) {\n      // \n      if (coordinateType === 'polar') {\n        // \n        labelType = isTransposed ? 'pie' : 'polar';\n      } else if (coordinateType === 'theta') {\n        // theta \n        labelType = 'pie';\n      } else if (type === 'interval' || type === 'polygon') {\n        labelType = 'interval';\n      } else {\n        labelType = 'base';\n      }\n    }\n\n    return labelType;\n  }\n\n  /**\n   *  Y \n   */\n  protected getYMinValue(): number {\n    const yScale = this.getYScale();\n    const { min, max } = yScale;\n    let value: number;\n\n    if (min >= 0) {\n      value = min;\n    } else if (max <= 0) {\n      //  ymin  0\n      value = max;\n    } else {\n      value = 0;\n    }\n    return value;\n  }\n\n  // \n  protected createAttrOption(attrName: string, field: AttributeOption | string | number, cfg?) {\n    if (isNil(field) || isObject(field)) {\n      if (isObject(field) && isEqual(Object.keys(field), ['values'])) {\n        // shape({ values: [ 'funnel' ] })\n        set(this.attributeOption, attrName, {\n          fields: field.values,\n        });\n      } else {\n        set(this.attributeOption, attrName, field);\n      }\n    } else {\n      const attrCfg: AttributeOption = {};\n      if (isNumber(field)) {\n        // size(3)\n        attrCfg.values = [field];\n      } else {\n        attrCfg.fields = parseFields(field);\n      }\n\n      if (cfg) {\n        if (isFunction(cfg)) {\n          attrCfg.callback = cfg;\n        } else {\n          attrCfg.values = cfg;\n        }\n      }\n\n      set(this.attributeOption, attrName, attrCfg);\n    }\n  }\n\n  protected initAttributes() {\n    const { attributes, attributeOption, theme, shapeType } = this;\n    this.groupScales = [];\n    const tmpMap = {};\n\n    //  attrOption Attribute \n    for (const attrType in attributeOption) {\n      if (attributeOption.hasOwnProperty(attrType)) {\n        const option: AttributeOption = attributeOption[attrType];\n        if (!option) {\n          return;\n        }\n        const attrCfg: AttributeInstanceCfg = {\n          ...option,\n        };\n        const { callback, values, fields = [] } = attrCfg;\n\n        //  scale\n        const scales = fields.map((field) => {\n          const scale = this.scales[field];\n          if (!tmpMap[field] && GROUP_ATTRS.includes(attrType)) {\n            const inferedScaleType = inferScaleType(scale, get(this.scaleDefs, field), attrType, this.type);\n            if (inferedScaleType === 'cat') {\n              this.groupScales.push(scale);\n              tmpMap[field] = true;\n            }\n          }\n          return scale;\n        });\n\n        attrCfg.scales = scales;\n\n        if (attrType !== 'position' && scales.length === 1 && scales[0].type === 'identity') {\n          //  color('red'), size(5)\n          attrCfg.values = scales[0].values;\n        } else if (!callback && !values) {\n          // \n          if (attrType === 'size') {\n            attrCfg.values = theme.sizes;\n          } else if (attrType === 'shape') {\n            attrCfg.values = theme.shapes[shapeType] || [];\n          } else if (attrType === 'color') {\n            if (scales.length) {\n              // \n              attrCfg.values = scales[0].values.length <= 10 ? theme.colors10 : theme.colors20;\n            } else {\n              attrCfg.values = theme.colors10;\n            }\n          }\n        }\n        const AttributeCtor = getAttributeClass(attrType);\n        attributes[attrType] = new AttributeCtor(attrCfg);\n      }\n    }\n  }\n\n  //  ->  -> adjust \n  private processData(data: Data) {\n    this.hasSorted = false;\n    const { scales } = this.getAttribute('position');\n    const categoryScales = scales.filter((scale: Scale) => scale.isCategory);\n\n    const groupedArray = this.groupData(data); // \n    const beforeAdjust = [];\n    for (let i = 0, len = groupedArray.length; i < len; i++) {\n      const subData = groupedArray[i];\n      const arr = [];\n      for (let j = 0, subLen = subData.length; j < subLen; j++) {\n        const originData = subData[j];\n        const item = {};\n        // tslint:disable-next-line: forin\n        for (const k in originData) {\n          item[k] = originData[k];\n        }\n        item[FIELD_ORIGIN] = originData;\n\n        // , \n        for (const scale of categoryScales) {\n          const field = scale.field;\n          item[field] = scale.translate(item[field]);\n        }\n        arr.push(item);\n      }\n      beforeAdjust.push(arr);\n    }\n\n    const dataArray = this.adjustData(beforeAdjust); //  adjust \n    this.beforeMappingData = dataArray;\n\n    return dataArray;\n  }\n\n  // \n  private adjustData(dataArray: Data[]): Data[] {\n    const adjustOption = this.adjustOption;\n    const { intervalPadding, dodgePadding, theme } = this;\n    // theme\n    const maxColumnWidth = this.maxColumnWidth || theme.maxColumnWidth;\n    const minColumnWidth = this.minColumnWidth || theme.minColumnWidth;\n    const columnWidthRatio = this.columnWidthRatio || theme.columnWidthRatio;\n    let result = dataArray;\n\n    if (adjustOption) {\n      const xScale = this.getXScale();\n      const yScale = this.getYScale();\n      const xField = xScale.field;\n      const yField = yScale ? yScale.field : null;\n      const xDimensionLength = getXDimensionLength(this.coordinate);\n      const groupNum = xScale.values.length;\n      // size\n      const sizeAttr = this.getAttribute('size');\n      let defaultSize;\n      if (sizeAttr) {\n        defaultSize = sizeAttr.values[0];\n      }\n      for (let i = 0, len = adjustOption.length; i < len; i++) {\n        const adjust = adjustOption[i];\n        const adjustCfg: AdjustInstanceCfg = {\n          xField,\n          yField,\n          intervalPadding,\n          dodgePadding,\n          xDimensionLength,\n          groupNum,\n          defaultSize,\n          maxColumnWidth,\n          minColumnWidth,\n          columnWidthRatio,\n          ...adjust,\n        };\n        const type = adjust.type;\n        if (type === 'dodge') {\n          const adjustNames = [];\n          if (xScale.isCategory || xScale.type === 'identity') {\n            adjustNames.push('x');\n          } else if (!yScale) {\n            adjustNames.push('y');\n          } else {\n            throw new Error('dodge is not support linear attribute, please use category attribute!');\n          }\n          adjustCfg.adjustNames = adjustNames;\n          //  columnWidthRatio \n          // theme\n          adjustCfg.dodgeRatio = columnWidthRatio;\n        } else if (type === 'stack') {\n          const coordinate = this.coordinate;\n          if (!yScale) {\n            // size\n            adjustCfg.height = coordinate.getHeight();\n            const size = this.getDefaultValue('size') || 3;\n            adjustCfg.size = size;\n          }\n          //  transpose \n          if (!coordinate.isTransposed && isNil(adjustCfg.reverseOrder)) {\n            adjustCfg.reverseOrder = true;\n          }\n        }\n        const adjustCtor = getAdjustClass(type);\n        adjustCfg.dimValuesMap = {};\n        //dimValuesMap\n        if (xScale && xScale.values) {\n          adjustCfg.dimValuesMap[xScale.field] = xScale.values.map((v) => xScale.translate(v));\n        }\n        const adjustInstance = new adjustCtor(adjustCfg);\n\n        result = adjustInstance.process(result);\n\n        this.adjusts[type] = adjustInstance;\n      }\n    }\n\n    return result;\n  }\n\n  // \n  private groupData(data: Data): Data[] {\n    const groupScales = this.getGroupScales();\n    const scaleDefs = this.scaleDefs;\n    const appendConditions = {};\n    const groupFields = [];\n    for (let index = 0; index < groupScales.length; index++) {\n      const scale = groupScales[index];\n      const field = scale.field;\n      groupFields.push(field);\n      if (get(scaleDefs, [field, 'values'])) {\n        //  view.scale()  values \n        appendConditions[field] = scaleDefs[field].values;\n      }\n    }\n\n    return group(data, groupFields, appendConditions);\n  }\n\n  // \n  private updateStackRange(scale: Scale, dataArray: Data[]) {\n    const mergeArray = flatten(dataArray);\n    const field = scale.field;\n    let min = scale.min;\n    let max = scale.max;\n    for (let index = 0; index < mergeArray.length; index++) {\n      const obj = mergeArray[index];\n      const tmpMin = Math.min.apply(null, obj[field]);\n      const tmpMax = Math.max.apply(null, obj[field]);\n      if (tmpMin < min) {\n        min = tmpMin;\n      }\n      if (tmpMax > max) {\n        max = tmpMax;\n      }\n    }\n    const scaleDefs = this.scaleDefs;\n    const cfg: LooseObject = {};\n    if (min < scale.min && !get(scaleDefs, [field, 'min'])) {\n      //  min\n      cfg.min = min;\n    }\n    if (max > scale.max && !get(scaleDefs, [field, 'max'])) {\n      //  max\n      cfg.max = max;\n    }\n\n    scale.change(cfg);\n  }\n\n  // \n  private beforeMapping(beforeMappingData: Data[]) {\n    //  clone  points  clone\n    // const source = clone(beforeMappingData);\n    const source = beforeMappingData;\n    if (this.sortable) {\n      this.sort(source);\n    }\n    if (this.generatePoints) {\n      // \n      for (let index = 0, length = source.length; index < length; index++) {\n        const currentData = source[index];\n        this.generateShapePoints(currentData);\n        const nextData = source[index + 1];\n        if (nextData) {\n          this.generateShapePoints(nextData);\n          currentData[0].nextPoints = nextData[0].points;\n        }\n      }\n    }\n\n    return source;\n  }\n\n  //  shape \n  private generateShapePoints(data: Data) {\n    const shapeFactory = this.getShapeFactory();\n    const shapeAttr = this.getAttribute('shape');\n    for (let index = 0; index < data.length; index++) {\n      const obj = data[index];\n      const cfg = this.createShapePointsCfg(obj);\n      const shape = shapeAttr ? this.getAttributeValues(shapeAttr, obj) : null;\n      const points = shapeFactory.getShapePoints(shape, cfg);\n      obj.points = points;\n    }\n  }\n\n  // \n  private normalizeValues(values, scale) {\n    let rst = [];\n    if (isArray(values)) {\n      for (let index = 0; index < values.length; index++) {\n        const value = values[index];\n        rst.push(scale.scale(value));\n      }\n    } else {\n      rst = scale.scale(values);\n    }\n    return rst;\n  }\n\n  // \n  private mapping(data: Data): MappingDatum[] {\n    const attributes = this.attributes;\n    const mappingData = [];\n    for (let index = 0; index < data.length; index++) {\n      const record = data[index];\n      const newRecord: MappingDatum = {\n        _origin: record[FIELD_ORIGIN],\n        points: record.points,\n        nextPoints: record.nextPoints,\n      };\n      for (const k in attributes) {\n        if (attributes.hasOwnProperty(k)) {\n          const attr = attributes[k];\n          const names = attr.names;\n          const values = this.getAttributeValues(attr, record);\n          if (names.length > 1) {\n            // position \n            for (let j = 0; j < values.length; j += 1) {\n              const val = values[j];\n              const name = names[j];\n              newRecord[name] = isArray(val) && val.length === 1 ? val[0] : val; // \n            }\n          } else {\n            // values.length === 1 \n            // shape('a', ['dot', 'dash']), color('a', ['red', 'yellow'])\n            newRecord[names[0]] = values.length === 1 ? values[0] : values;\n          }\n        }\n      }\n\n      this.convertPoint(newRecord); //  xy \n      mappingData.push(newRecord);\n    }\n\n    return mappingData;\n  }\n\n  // \n  private convertPoint(mappingRecord: MappingDatum) {\n    const { x, y } = mappingRecord;\n\n    let rstX;\n    let rstY;\n    let obj;\n    const coordinate = this.coordinate;\n    if (isArray(x) && isArray(y)) {\n      rstX = [];\n      rstY = [];\n      for (let i = 0, j = 0, xLen = x.length, yLen = y.length; i < xLen && j < yLen; i += 1, j += 1) {\n        obj = coordinate.convert({\n          x: x[i],\n          y: y[j],\n        });\n        rstX.push(obj.x);\n        rstY.push(obj.y);\n      }\n    } else if (isArray(y)) {\n      rstY = [];\n      for (let index = 0; index < y.length; index++) {\n        const yVal = y[index];\n        obj = coordinate.convert({\n          x: x as number,\n          y: yVal,\n        });\n        if (rstX && rstX !== obj.x) {\n          if (!isArray(rstX)) {\n            rstX = [rstX];\n          }\n          rstX.push(obj.x);\n        } else {\n          rstX = obj.x;\n        }\n        rstY.push(obj.y);\n      }\n    } else if (isArray(x)) {\n      rstX = [];\n      for (let index = 0; index < x.length; index++) {\n        const xVal = x[index];\n        obj = coordinate.convert({\n          x: xVal,\n          y,\n        });\n        if (rstY && rstY !== obj.y) {\n          if (!isArray(rstY)) {\n            rstY = [rstY];\n          }\n          rstY.push(obj.y);\n        } else {\n          rstY = obj.y;\n        }\n        rstX.push(obj.x);\n      }\n    } else {\n      const point = coordinate.convert({\n        x,\n        y,\n      });\n      rstX = point.x;\n      rstY = point.y;\n    }\n    mappingRecord.x = rstX;\n    mappingRecord.y = rstY;\n  }\n\n  //  style \n  private getStyleCfg(styleOption: StyleOption, originData: Datum) {\n    const { fields = [], callback, cfg } = styleOption;\n    if (cfg) {\n      // \n      return cfg;\n    }\n\n    const params = fields.map((field) => {\n      return originData[field];\n    });\n\n    return callback(...params);\n  }\n\n  private setCfg(cfg: InitCfg) {\n    const { coordinate, data, theme, scaleDefs } = cfg;\n    if (coordinate) {\n      this.coordinate = coordinate;\n    }\n    if (data) {\n      this.data = data;\n    }\n    if (scaleDefs) {\n      this.scaleDefs = scaleDefs;\n      this.idFields = [];\n      each(scaleDefs, (scaleDef, field) => {\n        if (scaleDef && scaleDef.key) {\n          this.idFields.push(field);\n        }\n      });\n    }\n    if (theme) {\n      this.theme = this.userTheme ? deepMix({}, theme, this.userTheme) : theme; //  geometry \n    }\n  }\n\n  private renderLabels(mappingArray: MappingDatum[], isUpdate: boolean = false) {\n    let geometryLabel = this.geometryLabel;\n\n    if (!geometryLabel) {\n      // \n      const labelType = this.getLabelType();\n      const GeometryLabelsCtor = getGeometryLabel(labelType);\n      geometryLabel = new GeometryLabelsCtor(this);\n      this.geometryLabel = geometryLabel;\n    }\n    geometryLabel.render(mappingArray, isUpdate);\n\n    //  label  element \n    const labelsMap = geometryLabel.labelsRenderer.shapesMap;\n    each(this.elementsMap, (element: Element, id) => {\n      const labels = filterLabelsById(id, labelsMap); // element  label \n      if (labels.length) {\n        element.labelShape = labels;\n        for (let i = 0; i < labels.length; i++) {\n          const label = labels[i];\n          const labelChildren = label.getChildren();\n          for (let j = 0; j < labelChildren.length; j++) {\n            const child = labelChildren[j];\n            child.cfg.name = ['element', 'label'];\n            child.cfg.element = element;\n          }\n        }\n      }\n    });\n  }\n  /**\n   * \n   * \n   * 1. \n   * 2.  geometry \n   * 3.  appear \n   * 4.  appear.animation\n   */\n  private canDoGroupAnimation(isUpdate: boolean) {\n    return (\n      !isUpdate &&\n      this.animateOption &&\n      (get(this.animateOption, 'appear') === undefined ||\n        (get(this.animateOption, 'appear') && get(this.animateOption, ['appear', 'animation']) === undefined))\n    );\n  }\n}\n","import { groupToMap } from '@antv/util';\nimport { Data } from '../../interface';\n\n/** @ignore */\nexport function group(data: Data, fields: string[], appendConditions: Record<string, any[]> = {}) {\n  if (!fields) {\n    return [data];\n  }\n  const groups = groupToMap(data, fields);\n  const array = [];\n  if (fields.length === 1 && appendConditions[fields[0]]) {\n    const values = appendConditions[fields[0]];\n    for (const value of values) {\n      const arr = groups[`_${value}`];\n      if (arr) {\n        //  values  arr  null\n        array.push(arr);\n      }\n    }\n  } else {\n    for (const k in groups) {\n      if (groups.hasOwnProperty(k)) {\n        const eachGroup = groups[k];\n        array.push(eachGroup);\n      }\n    }\n  }\n\n  return array;\n}\n","import { ext } from '@antv/matrix-util';\nimport { IElement, IGroup, IShape } from '../dependents';\n\nconst transform: (m: number[], actions: any[][]) => number[] = ext.transform;\n\nexport { transform };\n\n/**\n * \n * @param element \n * @param x x \n * @param y y \n */\nexport function translate(element: IGroup | IShape, x: number, y: number) {\n  const matrix = transform(element.getMatrix(), [['t', x, y]]);\n  element.setMatrix(matrix);\n}\n\n/**\n *  ()\n * @param element \n * @param rotateRadian \n */\nexport function getRotateMatrix(element: IElement, rotateRadian: number) {\n  const { x, y } = element.attr();\n  const matrix = transform(element.getMatrix(), [\n    ['t', -x, -y],\n    ['r', rotateRadian],\n    ['t', x, y],\n  ]);\n  return matrix;\n}\n\n/**\n * \n * @param element \n * @param rotateRadian \n */\nexport function rotate(element: IGroup | IShape, rotateRadian: number) {\n  const matrix = getRotateMatrix(element, rotateRadian);\n  element.setMatrix(matrix);\n}\n\n/**\n * \n * @returns identity matrix\n */\nexport function getIdentityMatrix(): number[] {\n  return [1, 0, 0, 0, 1, 0, 0, 0, 1];\n}\n\n/**\n * \n * @param element \n * @param ratio \n */\nexport function zoom(element: IGroup | IShape, ratio: number) {\n  const bbox = element.getBBox();\n  const x = (bbox.minX + bbox.maxX) / 2;\n  const y = (bbox.minY + bbox.maxY) / 2;\n  element.applyToMatrix([x, y, 1]);\n\n  const matrix = transform(element.getMatrix(), [\n    ['t', -x, -y],\n    ['s', ratio, ratio],\n    ['t', x, y],\n  ]);\n  element.setMatrix(matrix);\n}\n","/**\n * @file utils of label\n */\n\nimport { isNil, isNumber, some } from '@antv/util';\nimport { IElement, IGroup, BBox } from '../../../dependents';\nimport { rotate } from '../../../util/transform';\nimport { LabelItem } from '../interface';\n\n/**\n *  Label Group  shape \n * @param label\n */\nexport function findLabelTextShape(label: IGroup): IElement {\n  return label.find((el) => el.get('type') === 'text');\n}\n\n/**\n * : box () + rotation ()\n */\nexport function getlLabelBackgroundInfo(\n  labelGroup: IGroup,\n  labelItem: LabelItem,\n  padding: number | number[] = [0, 0, 0, 0]\n): { x: number; y: number; width: number; height: number; rotation: number } {\n  const content = labelGroup.getChildren()[0];\n  if (content) {\n    const labelShape = content.clone();\n\n    // revert rotate\n    if (labelItem?.rotate) {\n      rotate(labelShape as IGroup, -labelItem.rotate);\n    }\n\n    // use `getCanvasBBox`, because if Shape is been translated, `getBBox` is not the actual box position\n    const { x, y, width, height } = labelShape.getCanvasBBox();\n\n    labelShape.destroy();\n\n    let boxPadding = padding;\n    if (isNil(boxPadding)) {\n      boxPadding = [2, 2, 2, 2];\n    } else if (isNumber(boxPadding)) {\n      boxPadding = new Array(4).fill(boxPadding);\n    }\n\n    return {\n      x: x - boxPadding[3],\n      y: y - boxPadding[0],\n      width: width + boxPadding[1] + boxPadding[3],\n      height: height + boxPadding[0] + boxPadding[2],\n      rotation: labelItem?.rotate || 0,\n    };\n  }\n}\n\n/**\n * \n */\nexport function getOverlapArea(a: BBox, b: BBox, margin = 0) {\n  const xOverlap = Math.max(\n    0,\n    Math.min(a.x + a.width + margin, b.x + b.width + margin) - Math.max(a.x - margin, b.x - margin)\n  );\n  const yOverlap = Math.max(\n    0,\n    Math.min(a.y + a.height + margin, b.y + b.height + margin) - Math.max(a.y - margin, b.y - margin)\n  );\n\n  return xOverlap * yOverlap;\n}\n\n/**  */\nexport function checkShapeOverlap(cur: IElement, dones: IElement[]) {\n  const box = cur.getBBox();\n  return some(dones, (done) => {\n    const target = done.getBBox();\n    return getOverlapArea(box, target, 2) > 0;\n  });\n}\n","import { deepMix, each, get, isArray, isNull } from '@antv/util';\nimport { BBox, Coordinate, IGroup, IShape } from '../dependents';\nimport { LabelItem } from '../geometry/label/interface';\nimport { AnimateOption, GeometryLabelLayoutCfg } from '../interface';\nimport { doAnimate } from '../animate';\nimport { getGeometryLabelLayout } from '../geometry/label';\nimport { getlLabelBackgroundInfo } from '../geometry/label/util';\nimport { polarToCartesian } from '../util/graphics';\nimport { rotate, translate } from '../util/transform';\nimport { FIELD_ORIGIN } from '../constant';\nimport { updateLabel } from './update-label';\n\n/**\n * Labels \n */\nexport interface LabelsGroupCfg {\n  /** label  */\n  container: IGroup;\n  /** label  */\n  layout?: GeometryLabelLayoutCfg | GeometryLabelLayoutCfg[];\n}\n\n/**\n * Geometry labels \n */\nexport default class Labels {\n  /**  labels  */\n  public layout: GeometryLabelLayoutCfg | GeometryLabelLayoutCfg[];\n  /**  */\n  public container: IGroup;\n  /**  */\n  public animate: AnimateOption | false;\n  /** label  */\n  public region: BBox;\n\n  /**  shape  shape id */\n  public shapesMap: Record<string, IGroup> = {};\n  private lastShapesMap: Record<string, IGroup> = {};\n\n  constructor(cfg: LabelsGroupCfg) {\n    const { layout, container } = cfg;\n\n    this.layout = layout;\n    this.container = container;\n  }\n\n  /**\n   * \n   */\n  public render(items: LabelItem[], shapes: Record<string, IShape | IGroup>, isUpdate: boolean = false) {\n    this.shapesMap = {};\n    const container = this.container;\n    const offscreenGroup = this.createOffscreenGroup(); // \n    if (items.length) {\n      //  items \n      // step 1:  group  shapes\n      for (const item of items) {\n        if (item) {\n          this.renderLabel(item, offscreenGroup);\n        }\n      }\n      // step 2:  labels\n      this.doLayout(items, shapes);\n      // step 3.1:  labelLine\n      this.renderLabelLine(items);\n      // step 3.2:  labelBackground\n      this.renderLabelBackground(items);\n      // step 4:  label\n      this.adjustLabel(items);\n    }\n\n    // \n    const lastShapesMap = this.lastShapesMap;\n    const shapesMap = this.shapesMap;\n    each(shapesMap, (shape, id) => {\n      if (shape.destroyed) {\n        // label doLayout\n        delete shapesMap[id];\n      } else {\n        if (lastShapesMap[id]) {\n          // \n          const data = shape.get('data');\n          const origin = shape.get('origin');\n          const coordinate = shape.get('coordinate');\n          const currentAnimateCfg = shape.get('animateCfg');\n\n          const currentShape = lastShapesMap[id]; //  shape\n          updateLabel(currentShape, shapesMap[id], {\n            data,\n            origin,\n            animateCfg: currentAnimateCfg,\n            coordinate,\n          });\n\n          this.shapesMap[id] = currentShape; // \n        } else {\n          //  shape\n          container.add(shape);\n\n          const animateCfg = get(shape.get('animateCfg'), isUpdate ? 'enter' : 'appear');\n          if (animateCfg) {\n            doAnimate(shape, animateCfg, {\n              toAttrs: {\n                ...shape.attr(),\n              },\n              coordinate: shape.get('coordinate'),\n            });\n          }\n        }\n        delete lastShapesMap[id];\n      }\n    });\n\n    // \n    each(lastShapesMap, (deleteShape) => {\n      const animateCfg = get(deleteShape.get('animateCfg'), 'leave');\n      if (animateCfg) {\n        doAnimate(deleteShape, animateCfg, {\n          toAttrs: null,\n          coordinate: deleteShape.get('coordinate'),\n        });\n      } else {\n        deleteShape.remove(true); // \n      }\n    });\n\n    this.lastShapesMap = shapesMap;\n    offscreenGroup.destroy();\n  }\n\n  /**  labels */\n  public clear() {\n    this.container.clear();\n    this.shapesMap = {};\n    this.lastShapesMap = {};\n  }\n\n  /**  */\n  public destroy() {\n    this.container.destroy();\n    this.shapesMap = null;\n    this.lastShapesMap = null;\n  }\n\n  private renderLabel(cfg: LabelItem, container: IGroup) {\n    const { id, elementId, data, mappingData, coordinate, animate, content } = cfg;\n    const shapeAppendCfg = {\n      id,\n      elementId,\n      data,\n      origin: {\n        ...mappingData,\n        data: mappingData[FIELD_ORIGIN],\n      },\n      coordinate,\n    };\n    const labelGroup = container.addGroup({\n      name: 'label',\n      //  this.animate === false  cfg.animate === false/null \n      animateCfg:\n        this.animate === false || animate === null || animate === false ? false : deepMix({}, this.animate, animate),\n      ...shapeAppendCfg,\n    });\n    let labelShape;\n    if ((content.isGroup && content.isGroup()) || (content.isShape && content.isShape())) {\n      //  content  Group  Shape textAlign  labelGroup\n      const { width, height } = content.getCanvasBBox();\n      const textAlign = get(cfg, 'textAlign', 'left');\n\n      let x = cfg.x;\n      const y = cfg.y - height / 2;\n\n      if (textAlign === 'center') {\n        x = x - width / 2;\n      } else if (textAlign === 'right' || textAlign === 'end') {\n        x = x - width;\n      }\n\n      translate(content, x, y); //  label  x, y \n      labelShape = content;\n      labelGroup.add(content);\n    } else {\n      const fill = get(cfg, ['style', 'fill']);\n      labelShape = labelGroup.addShape('text', {\n        attrs: {\n          x: cfg.x,\n          y: cfg.y,\n          textAlign: cfg.textAlign,\n          textBaseline: get(cfg, 'textBaseline', 'middle'),\n          text: cfg.content,\n          ...cfg.style,\n          fill: isNull(fill) ? cfg.color : fill,\n        },\n        ...shapeAppendCfg,\n      });\n    }\n\n    if (cfg.rotate) {\n      rotate(labelShape, cfg.rotate);\n    }\n    this.shapesMap[id] = labelGroup;\n  }\n\n  // typelabel\n  private doLayout(items: LabelItem[], shapes: Record<string, IShape | IGroup>) {\n    if (this.layout) {\n      const layouts = isArray(this.layout) ? this.layout : [this.layout];\n      each(layouts, (layout: GeometryLabelLayoutCfg) => {\n        const layoutFn = getGeometryLabelLayout(get(layout, 'type', ''));\n        if (layoutFn) {\n          const labelShapes = [];\n          const geometryShapes = [];\n          each(this.shapesMap, (labelShape, id) => {\n            labelShapes.push(labelShape);\n            geometryShapes.push(shapes[labelShape.get('elementId')]);\n          });\n\n          layoutFn(items, labelShapes, geometryShapes, this.region, layout.cfg);\n        }\n      });\n    }\n  }\n\n  private renderLabelLine(labelItems: LabelItem[]) {\n    each(labelItems, (labelItem) => {\n      const coordinate: Coordinate = get(labelItem, 'coordinate');\n      if (!labelItem || !coordinate) {\n        return;\n      }\n      const center = coordinate.getCenter();\n      const radius = coordinate.getRadius();\n      if (!labelItem.labelLine) {\n        // labelLine: null | false label  labelLine\n        return;\n      }\n      const labelLineCfg = get(labelItem, 'labelLine', {});\n      const id = labelItem.id;\n      let path = labelLineCfg.path;\n      if (!path) {\n        const start = polarToCartesian(center.x, center.y, radius, labelItem.angle);\n        path = [\n          ['M', start.x, start.y],\n          ['L', labelItem.x, labelItem.y],\n        ];\n      }\n      const labelGroup = this.shapesMap[id];\n      if (!labelGroup.destroyed) {\n        labelGroup.addShape('path', {\n          capture: false, // labelLine \n          attrs: {\n            path,\n            stroke: labelItem.color ? labelItem.color : get(labelItem, ['style', 'fill'], '#000'),\n            fill: null,\n            ...labelLineCfg.style,\n          },\n          id,\n          origin: labelItem.mappingData,\n          data: labelItem.data,\n          coordinate: labelItem.coordinate,\n        });\n      }\n    });\n  }\n\n  /**\n   * \n   * @param labelItems\n   */\n  private renderLabelBackground(labelItems: LabelItem[]) {\n    each(labelItems, (labelItem) => {\n      const coordinate: Coordinate = get(labelItem, 'coordinate');\n      const background: LabelItem['background'] = get(labelItem, 'background');\n      if (!background || !coordinate) {\n        return;\n      }\n\n      const id = labelItem.id;\n      const labelGroup = this.shapesMap[id];\n      if (!labelGroup.destroyed) {\n        const labelContentShape = labelGroup.getChildren()[0];\n        if (labelContentShape) {\n          const { rotation, ...box } = getlLabelBackgroundInfo(labelGroup, labelItem, background.padding);\n          const backgroundShape = labelGroup.addShape('rect', {\n            attrs: {\n              ...box,\n              ...(background.style || {}),\n            },\n            id,\n            origin: labelItem.mappingData,\n            data: labelItem.data,\n            coordinate: labelItem.coordinate,\n          });\n          backgroundShape.setZIndex(-1);\n\n          if (rotation) {\n            const matrix = labelContentShape.getMatrix();\n            backgroundShape.setMatrix(matrix);\n          }\n        }\n      }\n    });\n  }\n\n  private createOffscreenGroup() {\n    const container = this.container;\n    const GroupClass = container.getGroupBase(); // \n    const newGroup = new GroupClass({});\n    return newGroup;\n  }\n\n  private adjustLabel(items: LabelItem[]) {\n    each(items, (item) => {\n      if (item) {\n        const id = item.id;\n        const labelGroup = this.shapesMap[id];\n        if (!labelGroup.destroyed) {\n          // fix:  label content  group  content group   spider label  2  textShape  gorup\n          const labelShapes = labelGroup.findAll((ele) => ele.get('type') !== 'path');\n          each(labelShapes, (labelShape) => {\n            if (labelShape) {\n              if (item.offsetX) {\n                labelShape.attr('x', labelShape.attr('x') + item.offsetX);\n              }\n              if (item.offsetY) {\n                labelShape.attr('y', labelShape.attr('y') + item.offsetY);\n              }\n            }\n          });\n        }\n      }\n    });\n  }\n}\n","import { Coordinate } from '@antv/coord';\nimport { IGroup, IShape } from '@antv/g-base';\nimport { each, get } from '@antv/util';\nimport { doAnimate } from '../animate';\nimport { getReplaceAttrs } from '../util/graphics';\n\n/** label  */\ntype Cfg = {\n  data: any;\n  origin: any;\n  animateCfg: any;\n  coordinate: Coordinate;\n};\n\n/**\n * @desc  label ( id  idx )\n * @done shape \n * @done shape delete\n * @done shape append\n *\n * @param fromShape old labelShape\n * @param toShape new labelShape\n * @param cfg\n */\nexport function updateLabel(fromShape: IGroup, toShape: IGroup, cfg: Cfg): void {\n  const { data, origin, animateCfg, coordinate } = cfg;\n  const updateAnimateCfg = get(animateCfg, 'update');\n\n  fromShape.set('data', data);\n  fromShape.set('origin', origin);\n  fromShape.set('animateCfg', animateCfg);\n  fromShape.set('coordinate', coordinate);\n  fromShape.set('visible', toShape.get('visible'));\n\n  fromShape.getChildren().forEach((fromChild, idx) => {\n    const toChild = toShape.getChildByIndex(idx) as IShape;\n    if (!toChild) {\n      fromShape.removeChild(fromChild);\n      fromChild.remove(true);\n    } else {\n      fromChild.set('data', data);\n      fromChild.set('origin', origin);\n      fromChild.set('animateCfg', animateCfg);\n      fromChild.set('coordinate', coordinate);\n\n      const newAttrs = getReplaceAttrs(fromChild as IShape, toChild);\n      if (updateAnimateCfg) {\n        doAnimate(fromChild as IShape, updateAnimateCfg, {\n          toAttrs: newAttrs,\n          coordinate,\n        });\n      } else {\n        fromChild.attr(newAttrs);\n      }\n      if (toChild.isGroup()) {\n        updateLabel(fromChild as any, toChild as any, cfg);\n      }\n    }\n  });\n\n  // append\n  each(toShape.getChildren(), (child, idx) => {\n    if (idx >= fromShape.getCount()) {\n      if (!child.destroyed) {\n        fromShape.add(child);\n      }\n    }\n  });\n}\n","import { deepMix, each, get, isArray, isFunction, isNil, isNumber, isString, isUndefined } from '@antv/util';\n\nimport { FIELD_ORIGIN } from '../../constant';\nimport { Scale } from '../../dependents';\nimport { Datum, LabelOption, MappingDatum, Point } from '../../interface';\nimport { LabelCfg, LabelItem, LabelPointCfg, TextAlign } from './interface';\n\nimport { getDefaultAnimateCfg } from '../../animate';\nimport { getPolygonCentroid } from '../../util/graphics';\n\nimport Labels from '../../component/labels';\nimport Geometry from '../base';\nimport Element from '../element';\n\nexport type GeometryLabelConstructor = new (cfg: any) => GeometryLabel;\n\nfunction avg(arr: number[]) {\n  let sum = 0;\n  each(arr, (value: number) => {\n    sum += value;\n  });\n  return sum / arr.length;\n}\n\n/**\n * Geometry Label  Geometry  label \n */\nexport default class GeometryLabel {\n  /** geometry  */\n  public readonly geometry: Geometry;\n  public labelsRenderer: Labels;\n  /**  */\n  public defaultLayout: string;\n\n  constructor(geometry: Geometry) {\n    this.geometry = geometry;\n  }\n\n  public getLabelItems(mapppingArray: MappingDatum[]): LabelItem[] {\n    const items = [];\n    const labelCfgs = this.getLabelCfgs(mapppingArray);\n    //  label  xy  x, y\n    each(mapppingArray, (mappingData: MappingDatum, index: number) => {\n      const labelCfg = labelCfgs[index];\n      if (!labelCfg || isNil(mappingData.x) || isNil(mappingData.y)) {\n        items.push(null);\n        return;\n      }\n\n      const labelContent = !isArray(labelCfg.content) ? [labelCfg.content] : labelCfg.content;\n      labelCfg.content = labelContent;\n      const total = labelContent.length;\n      each(labelContent, (content, subIndex) => {\n        if (isNil(content) || content === '') {\n          items.push(null);\n          return;\n        }\n\n        const item = {\n          ...labelCfg,\n          ...this.getLabelPoint(labelCfg, mappingData, subIndex),\n        };\n        if (!item.textAlign) {\n          item.textAlign = this.getLabelAlign(item, subIndex, total);\n        }\n\n        if (item.offset <= 0) {\n          item.labelLine = null;\n        }\n\n        items.push(item);\n      });\n    });\n    return items;\n  }\n\n  public render(mapppingArray: MappingDatum[], isUpdate: boolean = false) {\n    const labelItems = this.getLabelItems(mapppingArray);\n    const labelsRenderer = this.getLabelsRenderer();\n    const shapes = this.getGeometryShapes();\n    // \n    labelsRenderer.render(labelItems, shapes, isUpdate);\n  }\n\n  public clear() {\n    const labelsRenderer = this.labelsRenderer;\n    if (labelsRenderer) {\n      labelsRenderer.clear();\n    }\n  }\n\n  public destroy() {\n    const labelsRenderer = this.labelsRenderer;\n    if (labelsRenderer) {\n      labelsRenderer.destroy();\n    }\n    this.labelsRenderer = null;\n  }\n\n  // geometry  Coordinate  Coordinate\n  public getCoordinate() {\n    return this.geometry.coordinate;\n  }\n\n  /**\n   *  label \n   */\n  protected getDefaultLabelCfg(offset?: number, position?: string) {\n    const geometry = this.geometry;\n    const { type, theme } = geometry;\n\n    if (\n      type === 'polygon' ||\n      (type === 'interval' && position === 'middle') ||\n      (offset < 0 && !['line', 'point', 'path'].includes(type))\n    ) {\n      // polygon  (interval  middle)  offset  0  \n      return get(theme, 'innerLabels', {});\n    }\n\n    return get(theme, 'labels', {});\n  }\n\n  /**\n   *  label \n   * @param labelCfg\n   */\n  protected getThemedLabelCfg(labelCfg: LabelCfg) {\n    const geometry = this.geometry;\n    const defaultLabelCfg = this.getDefaultLabelCfg();\n    const { type, theme } = geometry;\n    let themedLabelCfg;\n\n    if (type === 'polygon' || (labelCfg.offset < 0 && !['line', 'point', 'path'].includes(type))) {\n      // polygon  offset  0  \n      themedLabelCfg = deepMix({}, defaultLabelCfg, theme.innerLabels, labelCfg);\n    } else {\n      themedLabelCfg = deepMix({}, defaultLabelCfg, theme.labels, labelCfg);\n    }\n\n    return themedLabelCfg;\n  }\n\n  /**\n   *  label \n   * @param labelPointCfg\n   * @param mappingData\n   * @param index\n   * @param position\n   */\n  protected setLabelPosition(\n    labelPointCfg: LabelPointCfg,\n    mappingData: MappingDatum,\n    index: number,\n    position: string\n  ) {}\n\n  /**\n   * @desc  label offset\n   */\n  protected getLabelOffset(offset: number | string): number {\n    const coordinate = this.getCoordinate();\n    const vector = this.getOffsetVector(offset);\n    return coordinate.isTransposed ? vector[0] : vector[1];\n  }\n\n  /**\n   *  label  ()\n   * @param labelCfg\n   * @param index\n   * @param total\n   * @return {Point} offsetPoint\n   */\n  protected getLabelOffsetPoint(labelCfg: LabelCfg, index: number, total: number): Point {\n    const offset = labelCfg.offset;\n    const coordinate = this.getCoordinate();\n    const transposed = coordinate.isTransposed;\n    const dim = transposed ? 'x' : 'y';\n    const factor = transposed ? 1 : -1; // y transposed\n    const offsetPoint = {\n      x: 0,\n      y: 0,\n    };\n    if (index > 0 || total === 1) {\n      // 0\n      offsetPoint[dim] = offset * factor;\n    } else {\n      offsetPoint[dim] = offset * factor * -1;\n    }\n    return offsetPoint;\n  }\n\n  /**\n   *  label \n   * @param labelCfg\n   * @param mappingData\n   * @param index\n   * @returns label point\n   */\n  protected getLabelPoint(labelCfg: LabelCfg, mappingData: MappingDatum, index: number): LabelPointCfg {\n    const coordinate = this.getCoordinate();\n    const total = labelCfg.content.length;\n\n    function getDimValue(value: number | number[], idx: number, isAvg = false) {\n      let v = value;\n      if (isArray(v)) {\n        if (labelCfg.content.length === 1) {\n          if (isAvg) {\n            v = avg(v);\n          } else {\n            //  label y,  y\n            if (v.length <= 2) {\n              v = v[(value as number[]).length - 1];\n            } else {\n              v = avg(v);\n            }\n          }\n        } else {\n          v = v[idx];\n        }\n      }\n      return v;\n    }\n\n    const label = {\n      content: labelCfg.content[index],\n      x: 0,\n      y: 0,\n      start: { x: 0, y: 0 },\n      color: '#fff',\n    };\n    const shape = isArray(mappingData.shape) ? mappingData.shape[0] : mappingData.shape;\n    const isFunnel = shape === 'funnel' || shape === 'pyramid';\n\n    // \n    if (this.geometry.type === 'polygon') {\n      const centroid = getPolygonCentroid(mappingData.x, mappingData.y);\n      label.x = centroid[0];\n      label.y = centroid[1];\n    } else if (this.geometry.type === 'interval' && !isFunnel) {\n      // label X \n      label.x = getDimValue(mappingData.x, index, true);\n      label.y = getDimValue(mappingData.y, index);\n    } else {\n      label.x = getDimValue(mappingData.x, index);\n      label.y = getDimValue(mappingData.y, index);\n    }\n\n    // \n    if (isFunnel) {\n      const nextPoints = get(mappingData, 'nextPoints');\n      const points = get(mappingData, 'points');\n      if (nextPoints) {\n        // \n        const point1 = coordinate.convert(points[1] as Point);\n        const point2 = coordinate.convert(nextPoints[1] as Point);\n        label.x = (point1.x + point2.x) / 2;\n        label.y = (point1.y + point2.y) / 2;\n      } else if (shape === 'pyramid') {\n        const point1 = coordinate.convert(points[1] as Point);\n        const point2 = coordinate.convert(points[2] as Point);\n        label.x = (point1.x + point2.x) / 2;\n        label.y = (point1.y + point2.y) / 2;\n      }\n    }\n\n    if (labelCfg.position) {\n      //  label  position \n      this.setLabelPosition(label, mappingData, index, labelCfg.position);\n    }\n    const offsetPoint = this.getLabelOffsetPoint(labelCfg, index, total);\n    label.start = { x: label.x, y: label.y };\n    label.x += offsetPoint.x;\n    label.y += offsetPoint.y;\n    label.color = mappingData.color;\n    return label;\n  }\n\n  /**\n   * \n   * @param item\n   * @param index\n   * @param total\n   * @returns\n   */\n  protected getLabelAlign(item: LabelItem, index: number, total: number): TextAlign {\n    let align: TextAlign = 'center';\n    const coordinate = this.getCoordinate();\n    if (coordinate.isTransposed) {\n      const offset = item.offset;\n      if (offset < 0) {\n        align = 'right';\n      } else if (offset === 0) {\n        align = 'center';\n      } else {\n        align = 'left';\n      }\n      if (total > 1 && index === 0) {\n        if (align === 'right') {\n          align = 'left';\n        } else if (align === 'left') {\n          align = 'right';\n        }\n      }\n    }\n    return align;\n  }\n\n  /**\n   *  label  id\n   * @param mappingData label \n   */\n  protected getLabelId(mappingData: MappingDatum) {\n    const geometry = this.geometry;\n    const type = geometry.type;\n    const xScale = geometry.getXScale();\n    const yScale = geometry.getYScale();\n    const origin = mappingData[FIELD_ORIGIN]; // \n\n    let labelId = geometry.getElementId(mappingData);\n    if (type === 'line' || type === 'area') {\n      //  labels labels line id  x \n      labelId += ` ${origin[xScale.field]}`;\n    } else if (type === 'path') {\n      // path  x  y  x y  id\n      labelId += ` ${origin[xScale.field]}-${origin[yScale.field]}`;\n    }\n\n    return labelId;\n  }\n\n  //  labels \n  private getLabelsRenderer() {\n    const { labelsContainer, labelOption, canvasRegion, animateOption } = this.geometry;\n    const coordinate = this.geometry.coordinate;\n\n    let labelsRenderer = this.labelsRenderer;\n    if (!labelsRenderer) {\n      labelsRenderer = new Labels({\n        container: labelsContainer,\n        layout: get(labelOption, ['cfg', 'layout'], {\n          type: this.defaultLayout,\n        }),\n      });\n      this.labelsRenderer = labelsRenderer;\n    }\n    labelsRenderer.region = canvasRegion;\n    //  geometry  label \n    labelsRenderer.animate = animateOption ? getDefaultAnimateCfg('label', coordinate) : false;\n\n    return labelsRenderer;\n  }\n\n  private getLabelCfgs(mapppingArray: MappingDatum[]): LabelCfg[] {\n    const geometry = this.geometry;\n    const { labelOption, scales, coordinate } = geometry;\n    const { fields, callback, cfg } = labelOption as LabelOption;\n    const labelScales = fields.map((field: string) => {\n      return scales[field];\n    });\n\n    const labelCfgs: LabelCfg[] = [];\n    each(mapppingArray, (mappingData: MappingDatum, index: number) => {\n      const origin = mappingData[FIELD_ORIGIN]; // \n      const originText = this.getLabelText(origin, labelScales);\n      let callbackCfg;\n      if (callback) {\n        //  callback  cfg  callback \n        const originValues = fields.map((field: string) => origin[field]);\n        callbackCfg = callback(...originValues);\n        if (isNil(callbackCfg)) {\n          labelCfgs.push(null);\n          return;\n        }\n      }\n\n      let labelCfg = {\n        id: this.getLabelId(mappingData), //  ID \n        elementId: this.geometry.getElementId(mappingData), // label  Element  ID\n        data: origin, // \n        mappingData, // ,\n        coordinate, // \n        ...cfg,\n        ...callbackCfg,\n      };\n\n      if (isFunction(labelCfg.position)) {\n        labelCfg.position = labelCfg.position(origin, mappingData, index);\n      }\n\n      const offset = this.getLabelOffset(labelCfg.offset || 0);\n      // defaultCfg  innerLabels & labels\n      const defaultLabelCfg = this.getDefaultLabelCfg(offset, labelCfg.position);\n      // labelCfg priority: defaultCfg < cfg < callbackCfg\n      labelCfg = deepMix({}, defaultLabelCfg, labelCfg);\n      //  offset\n      labelCfg.offset = this.getLabelOffset(labelCfg.offset || 0);\n\n      const content = labelCfg.content;\n      if (isFunction(content)) {\n        labelCfg.content = content(origin, mappingData, index);\n      } else if (isUndefined(content)) {\n        //  content\n        labelCfg.content = originText[0];\n      }\n\n      labelCfgs.push(labelCfg);\n    });\n\n    return labelCfgs;\n  }\n\n  private getLabelText(origin: Datum, scales: Scale[]) {\n    const labelTexts = [];\n    each(scales, (scale: Scale) => {\n      let value = origin[scale.field];\n      if (isArray(value)) {\n        value = value.map((subVal) => {\n          return scale.getText(subVal);\n        });\n      } else {\n        value = scale.getText(value);\n      }\n\n      if (isNil(value) || value === '') {\n        labelTexts.push(null);\n      } else {\n        labelTexts.push(value);\n      }\n    });\n    return labelTexts;\n  }\n\n  private getOffsetVector(offset: number | string = 0) {\n    const coordinate = this.getCoordinate();\n    let actualOffset = 0;\n    if (isNumber(offset)) {\n      actualOffset = offset;\n    }\n    //  x,y  x y\n    return coordinate.isTransposed ? coordinate.applyMatrix(actualOffset, 0) : coordinate.applyMatrix(0, actualOffset);\n  }\n\n  private getGeometryShapes() {\n    const geometry = this.geometry;\n    const shapes = {};\n    each(geometry.elementsMap, (element: Element, id: string) => {\n      shapes[id] = element.shape;\n    });\n    //  shape  shape.getBBox()  offscreenGroup \n    each(geometry.getOffscreenGroup().getChildren(), (child) => {\n      const id = geometry.getElementId(child.get('origin').mappingData);\n      shapes[id] = child;\n    });\n\n    return shapes;\n  }\n}\n","import { Attribute } from '../dependents';\n\n/**\n * @ignore\n * get the mapping value by attribute, if mapping value is nil, return def\n * @param attr\n * @param value\n * @param def\n * @returns get mapping value\n */\nexport function getMappingValue(attr: Attribute, value: any, def: string): string {\n  if (!attr) {\n    return def;\n  }\n\n  let r;\n  // \n  if (attr.callback && attr.callback.length > 1) {\n    const restArgs = Array(attr.callback.length - 1).fill('');\n    r = attr.mapping(value, ...restArgs).join('');\n  } else {\n    r = attr.mapping(value).join('');\n  }\n\n  return r || def;\n}\n","/** @ignore */\nexport const MarkerSymbols = {\n  hexagon: (x: number, y: number, r: number) => {\n    const diffX = (r / 2) * Math.sqrt(3);\n    return [\n      ['M', x, y - r],\n      ['L', x + diffX, y - r / 2],\n      ['L', x + diffX, y + r / 2],\n      ['L', x, y + r],\n      ['L', x - diffX, y + r / 2],\n      ['L', x - diffX, y - r / 2],\n      ['Z'],\n    ];\n  },\n  bowtie: (x: number, y: number, r: number) => {\n    const diffY = r - 1.5;\n    return [['M', x - r, y - diffY], ['L', x + r, y + diffY], ['L', x + r, y - diffY], ['L', x - r, y + diffY], ['Z']];\n  },\n  cross: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y - r],\n      ['L', x + r, y + r],\n      ['M', x + r, y - r],\n      ['L', x - r, y + r],\n    ];\n  },\n  tick: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r / 2, y - r],\n      ['L', x + r / 2, y - r],\n      ['M', x, y - r],\n      ['L', x, y + r],\n      ['M', x - r / 2, y + r],\n      ['L', x + r / 2, y + r],\n    ];\n  },\n  plus: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n      ['M', x, y - r],\n      ['L', x, y + r],\n    ];\n  },\n  hyphen: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n    ];\n  },\n  line: (x: number, y: number, r: number) => {\n    return [\n      ['M', x, y - r],\n      ['L', x, y + r],\n    ];\n  },\n};\n","import { LegendMarkerCfg } from '@antv/component';\nimport { deepMix, isString, each, get, isFunction } from '@antv/util';\nimport View from '../chart/view';\nimport { DIRECTION } from '../constant';\nimport { Attribute, ShapeAttrs, Tick } from '../dependents';\nimport Geometry from '../geometry/base';\nimport { LegendCfg, LegendItem, MarkerCfg } from '../interface';\nimport { getMappingValue } from './attr';\nimport { omit } from './helper';\nimport { MarkerSymbols } from './marker';\n\n/**  marker symbol */\nconst STROKES_SYMBOLS = ['line', 'cross', 'tick', 'plus', 'hyphen'];\n\n/**\n *  marker style\n * @param markerStyle\n * @param userMarker.style\n * @returns {ShapeAttrs} newStyle\n */\nfunction handleUserMarkerStyle(markerStyle: ShapeAttrs, style: MarkerCfg['style']): ShapeAttrs {\n  if (isFunction(style)) {\n    return style(markerStyle);\n  }\n  return deepMix({}, markerStyle, style);\n}\n\n/**\n *  marker  symbol, \n * @param symbol\n * @param style\n * @param color\n */\nfunction adpatorMarkerStyle(marker: LegendMarkerCfg, color: string): void {\n  const symbol = marker.symbol;\n  if (isString(symbol) && STROKES_SYMBOLS.indexOf(symbol) !== -1) {\n    const markerStyle = get(marker, 'style', {});\n    const lineWidth = get(markerStyle, 'lineWidth', 1);\n    const stroke = markerStyle.stroke || markerStyle.fill || color;\n    marker.style = deepMix({}, marker.style, { lineWidth, stroke, fill: null });\n  }\n}\n\n/**\n *  marker  symbol  symbol \n * @param marker\n */\nfunction setMarkerSymbol(marker: LegendMarkerCfg): void {\n  const symbol = marker.symbol;\n  if (isString(symbol) && MarkerSymbols[symbol]) {\n    marker.symbol = MarkerSymbols[symbol];\n  }\n}\n\n/**\n * @ignore\n * get the legend layout from direction\n * @param direction\n * @returns layout 'horizontal' | 'vertical'\n */\nexport function getLegendLayout(direction: DIRECTION): 'vertical' | 'horizontal' {\n  return direction.startsWith(DIRECTION.LEFT) || direction.startsWith(DIRECTION.RIGHT) ? 'vertical' : 'horizontal';\n}\n\n/** item of @antv/component legend  */\ntype ComponentLegendItem = Omit<LegendItem, 'marker'> & {\n  marker: any;\n};\n\n/**\n * @ignore\n * get the legend items\n * @param view\n * @param geometry\n * @param attr\n * @param themeMarker\n * @param markerCfg\n * @returns legend items\n */\nexport function getLegendItems(\n  view: View,\n  geometry: Geometry,\n  attr: Attribute,\n  themeMarker: object,\n  userMarker: LegendCfg['marker']\n): ComponentLegendItem[] {\n  const scale = attr.getScale(attr.type);\n  if (scale.isCategory) {\n    const field = scale.field;\n    const colorAttr = geometry.getAttribute('color');\n    const shapeAttr = geometry.getAttribute('shape');\n    const defaultColor = view.getTheme().defaultColor;\n    const isInPolar = geometry.coordinate.isPolar;\n\n    return scale.getTicks().map((tick: Tick, index: number) => {\n      const { text, value: scaleValue } = tick;\n      const name = text;\n      const value = scale.invert(scaleValue);\n\n      //  unchecked\n      let unchecked = view.filterFieldData(field, [{ [field]: value }]).length === 0;\n      each(view.views, (subView) => {\n        if (!subView.filterFieldData(field, [{ [field]: value }]).length) {\n          unchecked = true;\n        }\n      });\n\n      // @ts-ignore\n      const color = getMappingValue(colorAttr, value, defaultColor);\n      const shape = getMappingValue(shapeAttr, value, 'point');\n      let marker = geometry.getShapeMarker(shape, {\n        color,\n        isInPolar,\n      });\n\n      let markerCfg = userMarker;\n      if (isFunction(markerCfg)) {\n        markerCfg = markerCfg(name, index, { name, value, ...deepMix({}, themeMarker, marker) });\n      }\n\n      // the marker configure order should be ensure\n      marker = deepMix({}, themeMarker, marker, omit({ ...markerCfg }, ['style']));\n      adpatorMarkerStyle(marker, color);\n      if (markerCfg && markerCfg.style) {\n        // handle user's style settings\n        marker.style = handleUserMarkerStyle(marker.style, markerCfg.style);\n      }\n      setMarkerSymbol(marker);\n\n      return { id: value, name, value, marker, unchecked };\n    });\n  }\n  return [];\n}\n\n/**\n *\n * @ignore\n * custom legend  items \n * @param themeMarker\n * @param userMarker\n * @param customItems\n */\nexport function getCustomLegendItems(themeMarker: object, userMarker: object, customItems: LegendItem[]) {\n  //  item marker \n  return customItems.map((item: LegendItem, index: number) => {\n    let markerCfg = userMarker;\n    if (isFunction(markerCfg)) {\n      markerCfg = markerCfg(item.name, index, deepMix({}, themeMarker, item));\n    }\n\n    const itemMarker = isFunction(item.marker)\n      ? item.marker(item.name, index, deepMix({}, themeMarker, item))\n      : item.marker;\n\n    const marker = deepMix({}, themeMarker, markerCfg, itemMarker);\n    setMarkerSymbol(marker);\n\n    item.marker = marker;\n    return item;\n  });\n}\n\n/**\n * get the legend cfg from theme, will mix the common cfg of legend theme\n *\n * @param theme view theme object\n * @param direction legend direction\n * @returns legend theme cfg\n */\nexport function getLegendThemeCfg(theme: object, direction: string): object {\n  const legendTheme = get(theme, ['components', 'legend'], {});\n  return deepMix({}, get(legendTheme, ['common'], {}), deepMix({}, get(legendTheme, [direction], {})));\n}\n","import { isArray } from '@antv/util';\nimport { PathCommand } from '../../../dependents';\nimport { Point, RangePoint, ShapeVertices } from '../../../interface';\nimport { getSplinePath } from './path';\n\nfunction isValueEmpty(value) {\n  if (value) {\n    return false;\n  }\n  return value === null || value === undefined || isNaN(value);\n}\n\nfunction isYNil(point: Point[] | RangePoint) {\n  if (isArray(point)) {\n    //  area  [{x: 0, y: 1}, {x: 0, y: 2}]\n    return isValueEmpty(point[1].y);\n  }\n  const value = point.y;\n  return isArray(value) ? isValueEmpty(value[0]) : isValueEmpty(value);\n}\n\n/**\n * @ignore\n * y  null/undefined/NaN \n * \n *\n * ```typescript\n * // return [[{x: 1, y: 2}, {x: 3, y: 3}]]\n * getPathPoints([{x: 1, y: 2}, {x: 2, y: null}, {x: 3, y: 3}], true);\n * // return [[{x: 1, y: 2}], [{x: 3, y: 3}]]\n * getPathPoints([{x: 1, y: 2}, {x: 2, y: null}, {x: 3, y: 3}], false);\n * // return [[[{ x: 1, y: 10 }, { x: 2, y: 2 }], [{ x: 9, y: 34 }, { x: 1, y: 1 }]]]\n * getPathPoints([\n *   [{ x: 1, y: 10 }, { x: 2, y: 2 }],\n *   [{ x: 4, y: 2 }, { x: 8, y: NaN }],\n *   [{ x: 9, y: 34 }, { x: 1, y: 1 }],\n * ], true);\n * ```\n *\n * @param points \n * @param connectNulls \n * @param showSinglePoint \n * @returns \n */\nexport function getPathPoints(points: ShapeVertices, connectNulls: boolean = false, showSinglePoint: boolean = true) {\n  if (!points.length || (points.length === 1 && !showSinglePoint)) {\n    // \n    return [];\n  }\n\n  if (connectNulls) {\n    //  y \n    const filtered = [];\n    for (let i = 0, len = points.length; i < len; i++) {\n      const point = points[i];\n      if (!isYNil(point)) {\n        filtered.push(point);\n      }\n    }\n    return [filtered];\n  }\n\n  const result = [];\n  let tmp = [];\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (isYNil(point)) {\n      if (tmp.length) {\n        if (!(tmp.length === 1 && !showSinglePoint)) {\n          // \n          result.push(tmp);\n        }\n        tmp = [];\n      }\n    } else {\n      tmp.push(point);\n    }\n  }\n\n  if (tmp.length) {\n    result.push(tmp);\n  }\n  return result;\n}\n\n/**\n *  path\n * @param points\n * @returns\n */\nexport function getViolinPath(points: ShapeVertices): PathCommand[] {\n  const path = [];\n  for (let i = 0; i < points.length; i++) {\n    const point = points[i] as Point;\n    if (point) {\n      const action = i === 0 ? 'M' : 'L';\n      path.push([action, point.x, point.y]);\n    }\n  }\n  const first = points[0] as Point;\n  if (first) {\n    path.push(['L', first.x, first.y]);\n    path.push(['z']);\n  }\n  return path;\n}\n\n/**\n *   path\n * @param points\n * @returns\n */\nexport function getSmoothViolinPath(points: ShapeVertices): PathCommand[] {\n  const half = points.length / 2;\n  const leftPoints = [];\n  const rightPoints = [];\n  for (let i = 0; i < points.length; i++) {\n    if (i < half) {\n      leftPoints.push(points[i]);\n    } else {\n      rightPoints.push(points[i]);\n    }\n  }\n  const leftPath = getSplinePath(leftPoints, false);\n  const rightPath = getSplinePath(rightPoints, false);\n  if (rightPoints.length) {\n    leftPath.push(['L', rightPoints[0].x, rightPoints[0].y]);\n  }\n  rightPath.shift();\n  const path = leftPath.concat(rightPath);\n  if (leftPoints.length) {\n    path.push(['L', leftPoints[0].x, leftPoints[0].y]);\n  }\n  path.push(['z']);\n  return path;\n}\n","import { deepMix, isNil, get } from '@antv/util';\nimport { ShapeInfo } from '../../../interface';\n\n/**\n * @ignore\n *  Shape \n * @param cfg\n * @param isStroke \n * @param isFill \n * @param [sizeName] lineWidth  r\n * @returns\n */\nexport function getStyle(cfg: ShapeInfo, isStroke: boolean, isFill: boolean, sizeName: string = '') {\n  const { style = {}, defaultStyle, color, size } = cfg;\n  const attrs = {\n    ...defaultStyle,\n    ...style,\n  };\n  if (color) {\n    if (isStroke) {\n      if (!style.stroke) {\n        //  style()  stroke\n        attrs.stroke = color;\n      }\n    }\n\n    if (isFill) {\n      if (!style.fill) {\n        //  style()  fill\n        attrs.fill = color;\n      }\n    }\n  }\n  if (sizeName && isNil(style[sizeName]) && !isNil(size)) {\n    //  style()  lineWidth  r \n    attrs[sizeName] = size;\n  }\n\n  return attrs;\n}\n\n/**\n *   \n * @param cfg\n */\nexport function getBackgroundRectStyle(cfg?: ShapeInfo) {\n  return deepMix(\n    {},\n    {\n      // copy from active-region\n      fill: '#CCD6EC',\n      fillOpacity: 0.3,\n    },\n    get(cfg, ['background', 'style'])\n  );\n}\n","import { isArray } from '@antv/util';\nimport { Point, RangePoint } from '../../../interface';\n\n/**\n * @ignore\n * \n * @example\n * // result: [{x: 20, y: 20}, {x: 20, y: 30}]\n * splitPoints({x: 20,y: [20, 30]});\n * @example\n * // result: [{x: 20, y: 20}, {x: 30, y: 30}]\n * splitPoints({x: [20, 30],y: [20, 30]});\n * @param obj\n */\nexport function splitPoints(obj: RangePoint): Point[] {\n  // y  y  [19, 30] x \n  const x = obj.x;\n  const y = isArray(obj.y) ? obj.y : [obj.y];\n\n  return y.map((eachY, index) => {\n    return {\n      x: isArray(x) ? x[index] : x,\n      y: eachY,\n    };\n  });\n}\n","import { ShapeMarkerCfg } from '../../../interface';\n\nconst LineSymbols = {\n  line: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n    ];\n  },\n  dot: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n    ];\n  },\n  dash: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n    ];\n  },\n  smooth: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['A', r / 2, r / 2, 0, 1, 1, x, y],\n      ['A', r / 2, r / 2, 0, 1, 0, x + r, y],\n    ];\n  },\n  hv: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r - 1, y - 2.5],\n      ['L', x, y - 2.5],\n      ['L', x, y + 2.5],\n      ['L', x + r + 1, y + 2.5],\n    ];\n  },\n  vh: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r - 1, y + 2.5],\n      ['L', x, y + 2.5],\n      ['L', x, y - 2.5],\n      ['L', x + r + 1, y - 2.5],\n    ];\n  },\n  hvh: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - (r + 1), y + 2.5],\n      ['L', x - r / 2, y + 2.5],\n      ['L', x - r / 2, y - 2.5],\n      ['L', x + r / 2, y - 2.5],\n      ['L', x + r / 2, y + 2.5],\n      ['L', x + r + 1, y + 2.5],\n    ];\n  },\n  vhv: (x: number, y: number) => {\n    //  13px 8px\n    return [\n      ['M', x - 5, y + 2.5],\n      ['L', x - 5, y],\n      ['L', x, y],\n      ['L', x, y - 3],\n      ['L', x, y + 3],\n      ['L', x + 6.5, y + 3],\n    ];\n  },\n};\n\n/**\n * Gets line marker\n * @ignore\n * @param markerCfg\n * @param shapeType\n * @returns  Line  marker \n */\nexport function getLineMarker(markerCfg: ShapeMarkerCfg, shapeType: string) {\n  const { color } = markerCfg;\n  return {\n    symbol: LineSymbols[shapeType],\n    style: {\n      lineWidth: 2,\n      r: 6,\n      stroke: color,\n    },\n  };\n}\n","import { each, isArray } from '@antv/util';\nimport { IGroup, ShapeAttrs } from '../../../dependents';\nimport { Point, Position, RangePoint, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getPathPoints } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\nimport { getLinePath, getSplinePath } from '../util/path';\nimport { splitPoints } from '../util/split-points';\nimport { getLineMarker } from './util';\n\nfunction getShapeAttrs(cfg: ShapeInfo, smooth?: boolean, constraint?: Position[]) {\n  const { isStack, connectNulls, isInCircle, showSinglePoint } = cfg;\n  const shapeAttrs = getStyle(cfg, true, false, 'lineWidth');\n\n  const points = getPathPoints(cfg.points, connectNulls, showSinglePoint); //  connectNulls  points\n  let path = [];\n  for (let i = 0, len = points.length; i < len; i++) {\n    const eachLinePoints = points[i];\n    path = path.concat(getPath(eachLinePoints, isInCircle, isStack, smooth, constraint, shapeAttrs));\n  }\n  shapeAttrs.path = path;\n\n  return shapeAttrs;\n}\n\n//  path\nfunction getSinglePath(\n  points: Point[],\n  isInCircle: boolean,\n  smooth?: boolean,\n  constraint?: Position[],\n  style?: ShapeAttrs\n) {\n  if (points.length === 1) {\n    // \n    return [\n      ['M', points[0].x, points[0].y - style.lineWidth / 2],\n      ['L', points[0].x, points[0].y],\n      ['L', points[0].x, points[0].y + style.lineWidth / 2],\n    ];\n  }\n\n  let path;\n  if (!smooth) {\n    path = getLinePath(points, false);\n    if (isInCircle) {\n      path.push(['Z']);\n    }\n  } else {\n    // \n    if (isInCircle && points.length) {\n      points.push({ x: points[0].x, y: points[0].y });\n    }\n    path = getSplinePath(points, false, constraint);\n  }\n\n  return path;\n}\n\nfunction getRangePath(\n  points: RangePoint[],\n  isInCircle: boolean,\n  isStack?: boolean,\n  smooth?: boolean,\n  constraint?: Position[],\n  style?: ShapeAttrs\n) {\n  const topPoints = [];\n  const bottomPoints = [];\n  each(points, (point: RangePoint) => {\n    const result = splitPoints(point);\n    topPoints.push(result[1]); // \n    bottomPoints.push(result[0]); // \n  });\n\n  const topPath = getSinglePath(topPoints, isInCircle, smooth, constraint, style);\n  const bottomPath = getSinglePath(bottomPoints, isInCircle, smooth, constraint, style);\n  if (isStack) {\n    return topPath;\n  }\n  return topPath.concat(bottomPath);\n}\n\n/**\n *  path\n */\nexport function getPath(\n  points: Point[] | RangePoint[],\n  isInCircle: boolean,\n  isStack?: boolean,\n  smooth?: boolean,\n  constraint?: Position[],\n  style?: ShapeAttrs\n) {\n  if (points.length) {\n    const first = points[0];\n\n    return isArray(first.y)\n      ? getRangePath(points as RangePoint[], isInCircle, isStack, smooth, constraint, style)\n      : getSinglePath(points as Point[], isInCircle, smooth, constraint, style);\n  }\n  return [];\n}\n\nconst LineShapeFactory = registerShapeFactory('line', {\n  defaultShapeType: 'line',\n});\n\n// \n// 'line' 'dot'  'dash'  - - -\neach(['line', 'dot', 'dash', 'smooth'], (shapeType) => {\n  registerShape('line', shapeType, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      const smooth = shapeType === 'smooth';\n      let constraint;\n      if (smooth) {\n        const { start, end } = this.coordinate;\n        constraint = [\n          [start.x, end.y],\n          [end.x, start.y],\n        ];\n      }\n\n      const attrs = getShapeAttrs(cfg, smooth, constraint);\n      const shape = container.addShape({\n        type: 'path',\n        attrs,\n        name: 'line',\n        capture: !smooth,\n      });\n\n      return shape;\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      return getLineMarker(markerCfg, shapeType);\n    },\n  });\n});\n\nexport default LineShapeFactory;\n","/* G2  Geometry */\n\nexport const VERSION = '4.1.47';\n\n// \nexport { Chart, View, Event } from './chart'; // Chart, View \nexport { Controller as ComponentController } from './chart/controller/base'; // G2 \nexport { default as TooltipController } from './chart/controller/tooltip'; // G2 tooltip \nexport { default as Geometry } from './geometry/base'; // Geometry \nexport { default as Element } from './geometry/element'; // Element \nexport { default as GeometryLabel } from './geometry/label/base'; // Geometry Label \nexport { Interaction, Action } from './interaction'; // Interaction, Action \nexport { Facet } from './facet'; // Facet \nexport { default as InteractionAction } from './interaction/action/base'; // Interaction Action \n\n//  ComponentController\nexport { registerComponentController } from './chart';\n\n//  Geometry\nexport { registerGeometry } from './chart';\n\n//  Geometry Shape\nexport { registerShape, registerShapeFactory, getShapeFactory } from './geometry/shape/base';\n\n//  Geometry label  Geometry Label \nexport {\n  registerGeometryLabel,\n  registerGeometryLabelLayout,\n  getGeometryLabel,\n  getGeometryLabelLayout,\n} from './geometry/label';\n\n//  interaction\nexport { getInteraction, registerInteraction, registerAction, getActionClass } from './interaction';\n\n//  facet\nexport { getFacet, registerFacet } from './facet';\n\n// \nexport { getTheme, registerTheme } from './theme';\n\n// G engine \nexport { registerEngine, getEngine } from './engine';\n\n// \nexport { registerAnimation, getAnimation } from './animate/animation';\n\nexport { LAYER, DIRECTION } from './constant';\n\n//  typescript  export * as \nimport * as Types from './interface';\nexport type { Types };\n\nexport { IGroup, ShapeAttrs, Coordinate, Scale, ScaleConfig } from './dependents';\n\n// \nimport { getMappingValue } from './util/attr';\nimport { getLegendItems } from './util/legend';\nimport { getAngle, getSectorPath, polarToCartesian } from './util/graphics';\nimport { rotate, transform, translate, zoom } from './util/transform';\nimport { getTooltipItems } from './util/tooltip';\nimport { getDelegationObject } from './interaction/action/util';\nimport { getPathPoints } from './geometry/shape/util/get-path-points';\nimport { getPath } from './geometry/shape/line';\n\nexport const Util = {\n  getLegendItems,\n  translate,\n  rotate,\n  zoom,\n  transform,\n  getAngle,\n  getSectorPath,\n  polarToCartesian,\n  getDelegationObject,\n  getTooltipItems,\n  getMappingValue,\n  // shape \n  getPath,\n  getPathPoints,\n};\n","import { StyleSheetCfg } from '../../interface';\n\nconst WHITE_COLORS = {\n  100: '#000',\n  95: '#0D0D0D',\n  85: '#262626',\n  65: '#595959',\n  45: '#8C8C8C',\n  25: '#BFBFBF',\n  15: '#D9D9D9',\n  6: '#F0F0F0',\n};\n\nconst BLACK_COLORS = {\n  100: '#FFFFFF',\n  95: '#F2F2F2',\n  85: '#D9D9D9',\n  65: '#A6A6A6',\n  45: '#737373',\n  25: '#404040',\n  15: '#262626',\n  6: '#0F0F0F',\n};\n\nconst QUALITATIVE_10 = [\n  '#5B8FF9',\n  '#5AD8A6',\n  '#5D7092',\n  '#F6BD16',\n  '#E86452',\n  '#6DC8EC',\n  '#945FB9',\n  '#FF9845',\n  '#1E9493',\n  '#FF99C3',\n];\n\nconst QUALITATIVE_20 = [\n  '#5B8FF9',\n  '#CDDDFD',\n  '#5AD8A6',\n  '#CDF3E4',\n  '#5D7092',\n  '#CED4DE',\n  '#F6BD16',\n  '#FCEBB9',\n  '#E86452',\n  '#F8D0CB',\n  '#6DC8EC',\n  '#D3EEF9',\n  '#945FB9',\n  '#DECFEA',\n  '#FF9845',\n  '#FFE0C7',\n  '#1E9493',\n  '#BBDEDE',\n  '#FF99C3',\n  '#FFE0ED',\n];\n\n/**  */\nconst SINGLE_SEQUENCE = [\n  '#B8E1FF',\n  '#9AC5FF',\n  '#7DAAFF',\n  '#5B8FF9',\n  '#3D76DD',\n  '#085EC0',\n  '#0047A5',\n  '#00318A',\n  '#001D70',\n];\n\nexport const createDarkStyleSheet = (cfg: StyleSheetCfg = {}) => {\n  const {\n    backgroundColor = '#141414',\n    subColor = 'rgba(255,255,255,0.05)',\n    paletteQualitative10 = QUALITATIVE_10,\n    paletteQualitative20 = QUALITATIVE_20,\n    paletteSemanticRed = '#F4664A',\n    paletteSemanticGreen = '#30BF78',\n    paletteSemanticYellow = '#FAAD14',\n    paletteSequence = SINGLE_SEQUENCE,\n    fontFamily = `\"Segoe UI\", Roboto, \"Helvetica Neue\", Arial,\n    \"Noto Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\",\n    \"Noto Color Emoji\"`,\n  } = cfg;\n  const { brandColor = paletteQualitative10[0] } = cfg;\n\n  return {\n    /**  */\n    backgroundColor,\n    /**  */\n    brandColor,\n    /**  */\n    subColor,\n    /**  1 10  */\n    paletteQualitative10,\n    /**  2 10  */\n    paletteQualitative20,\n    /**  */\n    paletteSemanticRed,\n    /**  */\n    paletteSemanticGreen,\n    /**  */\n    paletteSemanticYellow,\n    /** () */\n    paletteSequence,\n    /**  */\n    fontFamily,\n\n    // --------------------  --------------------\n    /**  */\n    axisLineBorderColor: BLACK_COLORS[25],\n    /**  */\n    axisLineBorder: 1,\n    /**  lineDash  */\n    axisLineDash: null,\n\n    /**  */\n    axisTitleTextFillColor: BLACK_COLORS[65],\n    /**  */\n    axisTitleTextFontSize: 12,\n    /**  */\n    axisTitleTextLineHeight: 12,\n    /**  */\n    axisTitleTextFontWeight: 'normal',\n    /**  */\n    axisTitleSpacing: 12,\n\n    /**  */\n    axisTickLineBorderColor: BLACK_COLORS[25],\n    /**  */\n    axisTickLineLength: 4,\n    /**  */\n    axisTickLineBorder: 1,\n\n    /**  */\n    axisSubTickLineBorderColor: BLACK_COLORS[15],\n    /**  */\n    axisSubTickLineLength: 2,\n    /**  */\n    axisSubTickLineBorder: 1,\n\n    /**  */\n    axisLabelFillColor: BLACK_COLORS[45],\n    /**  */\n    axisLabelFontSize: 12,\n    /**  */\n    axisLabelLineHeight: 12,\n    /**  */\n    axisLabelFontWeight: 'normal',\n    /**  */\n    axisLabelOffset: 8,\n\n    /**  */\n    axisGridBorderColor: BLACK_COLORS[15],\n    /**  */\n    axisGridBorder: 1,\n    /**  */\n    axisGridLineDash: null,\n\n    // --------------------  --------------------\n    /**  */\n    legendTitleTextFillColor: BLACK_COLORS[45],\n    /**  */\n    legendTitleTextFontSize: 12,\n    /**  */\n    legendTitleTextLineHeight: 21,\n    /**  */\n    legendTitleTextFontWeight: 'normal',\n\n    /**  marker  */\n    legendMarkerColor: QUALITATIVE_10[0],\n    /**  marker  */\n    legendMarkerSpacing: 8,\n    /**  marker  */\n    legendMarkerSize: 4,\n    /**  'circle' marker  */\n    legendCircleMarkerSize: 4,\n    /**  'square' marker  */\n    legendSquareMarkerSize: 4,\n    /**  'line' marker  */\n    legendLineMarkerSize: 5,\n\n    /**  */\n    legendItemNameFillColor: BLACK_COLORS[65],\n    /**  */\n    legendItemNameFontSize: 12,\n    /**  */\n    legendItemNameLineHeight: 12,\n    /**  */\n    legendItemNameFontWeight: 'normal',\n    /**  */\n    legendItemSpacing: 24,\n    /**  */\n    legendItemMarginBottom: 12,\n    /**   */\n    legendSpacing: 16,\n    /**   */\n    legendPadding: [8, 8, 8, 8],\n    /**  */\n    legendHorizontalPadding: [8, 0, 8, 0],\n    /**  */\n    legendVerticalPadding: [0, 8, 0, 8],\n\n    // \n    /**  marker  */\n    legendPageNavigatorMarkerSize: 12,\n    /**  marker  */\n    legendPageNavigatorMarkerInactiveFillColor: BLACK_COLORS[45],\n    /**  marker  */\n    legendPageNavigatorMarkerInactiveFillOpacity: 0.45,\n    /**  marker  */\n    legendPageNavigatorMarkerFillColor: BLACK_COLORS[45],\n    /**  marker  */\n    legendPageNavigatorMarkerFillOpacity: 1,\n    /**  */\n    legendPageNavigatorTextFillColor: BLACK_COLORS[65],\n    /**  */\n    legendPageNavigatorTextFontSize: 12,\n\n    /**  */\n    sliderRailFillColor: BLACK_COLORS[15],\n    /**  */\n    sliderRailBorder: 0,\n    /**  */\n    sliderRailBorderColor: null,\n    /**  */\n    sliderRailWidth: 100,\n    /**  */\n    sliderRailHeight: 12,\n\n    /**  */\n    sliderLabelTextFillColor: BLACK_COLORS[45],\n    /**  */\n    sliderLabelTextFontSize: 12,\n    /**  */\n    sliderLabelTextLineHeight: 12,\n    /**  */\n    sliderLabelTextFontWeight: 'normal',\n\n    /**  */\n    sliderHandlerFillColor: WHITE_COLORS[6],\n    /**  */\n    sliderHandlerWidth: 10,\n    /**  */\n    sliderHandlerHeight: 14,\n    /**  */\n    sliderHandlerBorder: 1,\n    /**  */\n    sliderHandlerBorderColor: WHITE_COLORS[25],\n\n    // -------------------- Annotation --------------------\n    /** arc  */\n    annotationArcBorderColor: BLACK_COLORS[15],\n    /** arc  */\n    annotationArcBorder: 1,\n\n    /** line  */\n    annotationLineBorderColor: BLACK_COLORS[25],\n    /** line  */\n    annotationLineBorder: 1,\n    /** lube  */\n    annotationLineDash: null,\n\n    /** text  */\n    annotationTextFillColor: BLACK_COLORS[65],\n    /** text  */\n    annotationTextFontSize: 12,\n    /** text  */\n    annotationTextLineHeight: 12,\n    /** text  */\n    annotationTextFontWeight: 'normal',\n    /** text  */\n    annotationTextBorderColor: null,\n    /** text  */\n    annotationTextBorder: 0,\n\n    /** region  */\n    annotationRegionFillColor: BLACK_COLORS[100],\n    /** region  */\n    annotationRegionFillOpacity: 0.06,\n    /** region  */\n    annotationRegionBorder: 0,\n    /** region  */\n    annotationRegionBorderColor: null,\n\n    /** dataMarker  */\n    annotationDataMarkerLineLength: 16,\n\n    // -------------------- Tooltip --------------------\n    /** tooltip crosshairs  */\n    tooltipCrosshairsBorderColor: BLACK_COLORS[25],\n    /** tooltip crosshairs  */\n    tooltipCrosshairsBorder: 1,\n    /** tooltip crosshairs  */\n    tooltipCrosshairsLineDash: null,\n\n    /** tooltip  */\n    tooltipContainerFillColor: '#1f1f1f',\n    tooltipContainerFillOpacity: 0.95,\n    /** tooltip  */\n    tooltipContainerShadow: '0px 2px 4px rgba(0,0,0,.5)',\n    /** tooltip  */\n    tooltipContainerBorderRadius: 3,\n\n    /** tooltip  */\n    tooltipTextFillColor: BLACK_COLORS[65],\n    /** tooltip  */\n    tooltipTextFontSize: 12,\n    /** tooltip  */\n    tooltipTextLineHeight: 12,\n    /** tooltip  */\n    tooltipTextFontWeight: 'bold',\n\n    // -------------------- Geometry labels --------------------\n    /** Geometry label  */\n    labelFillColor: BLACK_COLORS[65],\n    labelFillColorDark: '#2c3542',\n    labelFillColorLight: '#ffffff',\n    /** Geometry label  */\n    labelFontSize: 12,\n    /** Geometry label  */\n    labelLineHeight: 12,\n    /** Geometry label  */\n    labelFontWeight: 'normal',\n    /** Geometry label  */\n    labelBorderColor: null,\n    /** Geometry label  */\n    labelBorder: 0,\n\n    /** Geometry innerLabel  */\n    innerLabelFillColor: WHITE_COLORS[100],\n    /** Geometry innerLabel  */\n    innerLabelFontSize: 12,\n    /** Geometry innerLabel  */\n    innerLabelLineHeight: 12,\n    /** Geometry innerLabel  */\n    innerLabelFontWeight: 'normal',\n    /** Geometry innerLabel  */\n    innerLabelBorderColor: null,\n    /** Geometry innerLabel  */\n    innerLabelBorder: 0,\n\n    /** Geometry label  */\n    overflowLabelFillColor: BLACK_COLORS[65],\n    overflowLabelFillColorDark: '#2c3542',\n    overflowLabelFillColorLight: '#ffffff',\n    /** Geometry label  */\n    overflowLabelFontSize: 12,\n    /** Geometry label  */\n    overflowLabelLineHeight: 12,\n    /** Geometry label  */\n    overflowLabelFontWeight: 'normal',\n    /** Geometry label  */\n    overflowLabelBorderColor: WHITE_COLORS[100],\n    /** Geometry label  */\n    overflowLabelBorder: 1,\n\n    /** Geometry label  */\n    labelLineBorder: 1,\n    /** Geometry label  */\n    labelLineBorderColor: BLACK_COLORS[25],\n\n    // -------------------- Slider --------------------\n    /** slider  */\n    cSliderRailHieght: 16,\n    /** slider  */\n    cSliderBackgroundFillColor: '#416180',\n    /** slider  */\n    cSliderBackgroundFillOpacity: 0.05,\n    /** slider  */\n    cSliderForegroundFillColor: '#5B8FF9',\n    /** slider  */\n    cSliderForegroundFillOpacity: 0.15,\n    // slider handlerStyle \n    /** slider  */\n    cSliderHandlerHeight: 24,\n    /** Slider  */\n    cSliderHandlerWidth: 10,\n    /** Slider  */\n    cSliderHandlerFillColor: '#F7F7F7',\n    /** Slider  */\n    cSliderHandlerFillOpacity: 1,\n    /** Slider  */\n    cSliderHandlerHighlightFillColor: '#FFF',\n    /** Slider  */\n    cSliderHandlerBorderColor: '#BFBFBF',\n    /** Slider  */\n    cSliderHandlerBorder: 1,\n    /** Slider  */\n    cSliderHandlerBorderRadius: 2,\n    // slider textStyle \n    /** Slider  */\n    cSliderTextFillColor: '#fff',\n    /** Slider  */\n    cSliderTextFillOpacity: 0.45,\n    /** Slider  */\n    cSliderTextFontSize: 12,\n    /** Slider  */\n    cSliderTextLineHeight: 12,\n    /** Slider  */\n    cSliderTextFontWeight: 'normal',\n    /** Slider  */\n    cSliderTextBorderColor: null,\n    /** Slider  */\n    cSliderTextBorder: 0,\n\n    // -------------------- Scrollbar --------------------\n    /**   */\n    scrollbarTrackFillColor: 'rgba(255,255,255,0.65)',\n    /**   */\n    scrollbarThumbFillColor: 'rgba(0,0,0,0.35)',\n    /**   */\n    scrollbarThumbHighlightFillColor: 'rgba(0,0,0,0.45)',\n\n    // -------------------- Geometry --------------------\n    /**  */\n    pointFillColor: QUALITATIVE_10[0],\n    /**  */\n    pointFillOpacity: 0.95,\n    /**  */\n    pointSize: 4,\n    /**  */\n    pointBorder: 1,\n    /**  */\n    pointBorderColor: WHITE_COLORS[100],\n    /**  */\n    pointBorderOpacity: 1,\n\n    /**  active  */\n    pointActiveBorderColor: BLACK_COLORS[100],\n\n    /**  selected  */\n    pointSelectedBorder: 2,\n    /**  selected  */\n    pointSelectedBorderColor: BLACK_COLORS[100],\n\n    /**  inactive  */\n    pointInactiveFillOpacity: 0.3,\n    /**  inactive  */\n    pointInactiveBorderOpacity: 0.3,\n\n    /**  */\n    hollowPointSize: 4,\n    /**  */\n    hollowPointBorder: 1,\n    /**  */\n    hollowPointBorderColor: QUALITATIVE_10[0],\n    /**  */\n    hollowPointBorderOpacity: 0.95,\n    hollowPointFillColor: WHITE_COLORS[100],\n\n    /**  active  */\n    hollowPointActiveBorder: 1,\n    /**  active  */\n    hollowPointActiveBorderColor: BLACK_COLORS[100],\n    /**  active  */\n    hollowPointActiveBorderOpacity: 1,\n\n    /**  selected  */\n    hollowPointSelectedBorder: 2,\n    /**  selected  */\n    hollowPointSelectedBorderColor: BLACK_COLORS[100],\n    /**  selected  */\n    hollowPointSelectedBorderOpacity: 1,\n\n    /**  inactive  */\n    hollowPointInactiveBorderOpacity: 0.3,\n\n    /**  */\n    lineBorder: 2,\n    /**  */\n    lineBorderColor: QUALITATIVE_10[0],\n    /**  */\n    lineBorderOpacity: 1,\n\n    /**  Active  */\n    lineActiveBorder: 3,\n\n    /**  selected  */\n    lineSelectedBorder: 3,\n\n    /**  inactive  */\n    lineInactiveBorderOpacity: 0.3,\n\n    /** area  */\n    areaFillColor: QUALITATIVE_10[0],\n    /** area  */\n    areaFillOpacity: 0.25,\n\n    /** area  active  */\n    areaActiveFillColor: QUALITATIVE_10[0],\n    areaActiveFillOpacity: 0.5,\n\n    /** area  selected  */\n    areaSelectedFillColor: QUALITATIVE_10[0],\n    areaSelectedFillOpacity: 0.5,\n\n    /** area inactive  */\n    areaInactiveFillOpacity: 0.3,\n\n    /** hollowArea  */\n    hollowAreaBorderColor: QUALITATIVE_10[0],\n    /** hollowArea  */\n    hollowAreaBorder: 2,\n    /** hollowArea  */\n    hollowAreaBorderOpacity: 1,\n\n    /** hollowArea active  */\n    hollowAreaActiveBorder: 3,\n    hollowAreaActiveBorderColor: BLACK_COLORS[100],\n\n    /** hollowArea selected  */\n    hollowAreaSelectedBorder: 3,\n    hollowAreaSelectedBorderColor: BLACK_COLORS[100],\n\n    /** hollowArea inactive  */\n    hollowAreaInactiveBorderOpacity: 0.3,\n\n    /** interval  */\n    intervalFillColor: QUALITATIVE_10[0],\n    /** interval  */\n    intervalFillOpacity: 0.95,\n\n    /** interval active  */\n    intervalActiveBorder: 1,\n    /** interval active  */\n    intervalActiveBorderColor: BLACK_COLORS[100],\n    intervalActiveBorderOpacity: 1,\n\n    /** interval selected  */\n    intervalSelectedBorder: 2,\n    /** interval selected  */\n    intervalSelectedBorderColor: BLACK_COLORS[100],\n    /** interval selected  */\n    intervalSelectedBorderOpacity: 1,\n\n    /** interval inactive  */\n    intervalInactiveBorderOpacity: 0.3,\n    /** interval inactive  */\n    intervalInactiveFillOpacity: 0.3,\n\n    /** interval  */\n    hollowIntervalBorder: 2,\n    /** hollowInterval  */\n    hollowIntervalBorderColor: QUALITATIVE_10[0],\n    /** hollowInterval  */\n    hollowIntervalBorderOpacity: 1,\n    hollowIntervalFillColor: WHITE_COLORS[100],\n\n    /** hollowInterval active  */\n    hollowIntervalActiveBorder: 2,\n    /** hollowInterval active  */\n    hollowIntervalActiveBorderColor: BLACK_COLORS[100],\n\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorder: 3,\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorderColor: BLACK_COLORS[100],\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorderOpacity: 1,\n\n    /** hollowInterval inactive  */\n    hollowIntervalInactiveBorderOpacity: 0.3,\n  };\n};\n\nexport const antvDark = createDarkStyleSheet();\n","import { FIELD_ORIGIN } from '../constant';\nimport { MappingDatum, ShapeInfo } from '../interface';\nimport Geometry, { GeometryCfg } from './base';\nimport Element from './element';\n/**  ShapeFactory */\nimport './shape/line';\nimport { isModelChange } from './util/is-model-change';\nimport { diff } from './util/diff';\n\n/** Path  */\nexport interface PathCfg extends GeometryCfg {\n  /**  */\n  connectNulls?: boolean;\n  /**  */\n  showSinglePoint?: boolean;\n}\n\n/**\n * Path \n * \n */\nexport default class Path extends Geometry {\n  public readonly type: string = 'path';\n  public readonly shapeType: string = 'line';\n  /**  */\n  public connectNulls: boolean;\n  /**  */\n  public showSinglePoint: boolean;\n\n  constructor(cfg: PathCfg) {\n    super(cfg);\n\n    const { connectNulls = false, showSinglePoint = true } = cfg;\n    this.connectNulls = connectNulls;\n    this.showSinglePoint = showSinglePoint;\n  }\n\n  /**\n   *  Element  PathLineArea Element\n   * @param mappingData\n   * @param [isUpdate]\n   * @returns elements\n   */\n  protected updateElements(mappingDataArray: MappingDatum[][], isUpdate: boolean = false) {\n    // Path  element \n    const keyData = new Map<string, MappingDatum[]>();\n    const keyIndex = new Map<string, number>();\n    const keys: string[] = [];\n\n    let index = 0;\n    for (let i = 0; i < mappingDataArray.length; i++) {\n      const mappingData = mappingDataArray[i];\n      const key = this.getElementId(mappingData);\n      keys.push(key);\n      keyData.set(key, mappingData);\n      keyIndex.set(key, index);\n      index++;\n    }\n\n    this.elements = new Array(index);\n\n    const { added, updated, removed } = diff(this.lastElementsMap, keys);\n\n    for (const key of added) {\n      const mappingData = keyData.get(key);\n      const shapeFactory = this.getShapeFactory();\n      const shapeCfg = this.getShapeInfo(mappingData);\n      const i = keyIndex.get(key);\n      const element = new Element({\n        shapeFactory,\n        container: this.container,\n        offscreenGroup: this.getOffscreenGroup(),\n        elementIndex: i,\n      });\n      element.geometry = this;\n      element.animate = this.animateOption;\n      element.draw(shapeCfg, isUpdate); //  shape\n      this.elementsMap[key] = element;\n      this.elements[i] = element;\n    }\n\n    for (const key of updated) {\n      const mappingData = keyData.get(key);\n      const element = this.lastElementsMap[key];\n      const i = keyIndex.get(key);\n      const shapeCfg = this.getShapeInfo(mappingData);\n      const preShapeCfg = element.getModel();\n      if (this.isCoordinateChanged || isModelChange(preShapeCfg, shapeCfg)) {\n        element.animate = this.animateOption;\n        // \n        element.update(shapeCfg); //  element\n      }\n      this.elementsMap[key] = element;\n      this.elements[i] = element;\n    }\n\n    for (const key of removed) {\n      const element = this.lastElementsMap[key];\n      // \n      element.animate = this.animateOption;\n      element.destroy();\n    }\n  }\n\n  /**\n   * \n   * @param mappingData \n   */\n  protected getPointsAndData(mappingData: MappingDatum[]) {\n    const points = [];\n    const data = [];\n\n    for (let i = 0, len = mappingData.length; i < len; i++) {\n      const obj = mappingData[i];\n      points.push({\n        x: obj.x,\n        y: obj.y,\n      });\n      data.push(obj[FIELD_ORIGIN]);\n    }\n\n    return {\n      points,\n      data,\n    };\n  }\n\n  private getShapeInfo(mappingData: MappingDatum[]): ShapeInfo {\n    const shapeCfg = this.getDrawCfg(mappingData[0]);\n    const { points, data } = this.getPointsAndData(mappingData);\n    shapeCfg.mappingData = mappingData;\n    shapeCfg.data = data;\n    shapeCfg.isStack = !!this.getAdjust('stack');\n    shapeCfg.points = points;\n    shapeCfg.connectNulls = this.connectNulls;\n    shapeCfg.showSinglePoint = this.showSinglePoint;\n\n    return shapeCfg;\n  }\n}\n","import { each } from '@antv/util';\nimport { Coordinate, PathCommand } from '../../../dependents';\nimport { Point, Position, Shape, ShapeInfo } from '../../../interface';\n\nimport { getPathPoints } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\nimport { getLinePath, getSplinePath } from '../util/path';\n\nfunction getPath(\n  points: Point[],\n  isInCircle: boolean,\n  smooth: boolean,\n  registeredShape: Shape,\n  constraint?: Position[]\n): PathCommand[] {\n  let path = [];\n\n  if (points.length) {\n    const topLinePoints = []; // area \n    let bottomLinePoints = []; // area \n    for (let i = 0, len = points.length; i < len; i++) {\n      const point = points[i];\n      topLinePoints.push(point[1]);\n      bottomLinePoints.push(point[0]);\n    }\n    bottomLinePoints = bottomLinePoints.reverse();\n\n    each([topLinePoints, bottomLinePoints], (pointsData, index) => {\n      let subPath = [];\n      const parsedPoints = registeredShape.parsePoints(pointsData);\n      const p1 = parsedPoints[0];\n\n      if (topLinePoints.length === 1 && bottomLinePoints.length === 1) {\n        // \n        subPath =\n          index === 0\n            ? [\n                ['M', p1.x - 0.5, p1.y],\n                ['L', p1.x + 0.5, p1.y],\n              ]\n            : [\n                ['L', p1.x + 0.5, p1.y],\n                ['L', p1.x - 0.5, p1.y],\n              ];\n      } else {\n        if (isInCircle) {\n          parsedPoints.push({ x: p1.x, y: p1.y });\n        }\n        if (smooth) {\n          subPath = getSplinePath(parsedPoints, false, constraint);\n        } else {\n          subPath = getLinePath(parsedPoints, false);\n        }\n        if (index > 0) {\n          subPath[0][0] = 'L';\n        }\n      }\n\n      path = path.concat(subPath);\n    });\n\n    path.push(['Z']);\n  }\n\n  return path;\n}\n\n/**\n * @ignore\n * Gets shape attrs\n * @param cfg\n * @param isStroke\n * @param smooth\n * @param registeredShape\n * @param [constraint]\n * @returns\n */\nexport function getShapeAttrs(\n  cfg: ShapeInfo,\n  isStroke: boolean,\n  smooth: boolean,\n  registeredShape: Shape,\n  constraint?: Position[]\n) {\n  const attrs = getStyle(cfg, isStroke, !isStroke, 'lineWidth');\n  const { connectNulls, isInCircle, points, showSinglePoint } = cfg;\n  const pathPoints = getPathPoints(points, connectNulls, showSinglePoint); //  connectNulls \n\n  let path = [];\n  for (let i = 0, len = pathPoints.length; i < len; i++) {\n    const eachPoints = pathPoints[i];\n    path = path.concat(getPath(eachPoints, isInCircle, smooth, registeredShape, constraint));\n  }\n  attrs.path = path;\n\n  return attrs;\n}\n\n/**\n * @ignore\n * Gets constraint\n * @param coordinate\n * @returns constraint\n */\nexport function getConstraint(coordinate: Coordinate): Position[] {\n  const { start, end } = coordinate;\n  return [\n    [start.x, end.y],\n    [end.x, start.y],\n  ];\n}\n","import { isArray } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getShapeAttrs } from './util';\n\nconst AreaShapeFactory = registerShapeFactory('area', {\n  defaultShapeType: 'area',\n  getDefaultPoints(pointInfo: ShapePoint): Point[] {\n    // area \n    const { x, y0 } = pointInfo;\n    const y = isArray(pointInfo.y) ? pointInfo.y : [y0, pointInfo.y];\n\n    return y.map((yItem: number) => {\n      return {\n        x: x as number,\n        y: yItem,\n      };\n    });\n  },\n});\n\n// Area  shape\nregisterShape('area', 'area', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getShapeAttrs(cfg, false, false, this);\n    const shape = container.addShape({\n      type: 'path',\n      attrs,\n      name: 'area',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number = 5.5) => {\n        return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n      },\n      style: {\n        r: 5,\n        fill: color,\n      },\n    };\n  },\n});\n\nexport default AreaShapeFactory;\n","import { FIELD_ORIGIN } from '../constant';\nimport { MappingDatum } from '../interface';\nimport Path, { PathCfg } from './path';\nimport './shape/area';\n\n/** Area  */\nexport interface AreaCfg extends PathCfg {\n  /**\n   *  0 \n   * 1.  `true`\n   * ![image](https://gw.alipayobjects.com/zos/rmsportal/ZQqwUCczalrKqGgagOVp.png)\n   * 2.  `false` \n   * ![image](https://gw.alipayobjects.com/zos/rmsportal/yPswkaXvUpCYOdhocGwB.png)\n   */\n  startOnZero?: boolean;\n}\n\n/**\n * Area \n * \n */\nexport default class Area extends Path {\n  public readonly type: string = 'area';\n  public readonly shapeType: string = 'area';\n  /**  */\n  public readonly generatePoints: boolean = true;\n  /**\n   *  0 \n   * 1.  `true`\n   * ![image](https://gw.alipayobjects.com/zos/rmsportal/ZQqwUCczalrKqGgagOVp.png)\n   * 2.  `false` \n   * ![image](https://gw.alipayobjects.com/zos/rmsportal/yPswkaXvUpCYOdhocGwB.png)\n   */\n  public readonly startOnZero: boolean = true;\n\n  constructor(cfg: AreaCfg) {\n    super(cfg);\n\n    const { startOnZero = true, sortable = false, showSinglePoint = false } = cfg;\n    this.startOnZero = startOnZero; //  true\n    this.sortable = sortable; //  X \n    this.showSinglePoint = showSinglePoint;\n  }\n\n  /**\n   * \n   * @param mappingData \n   */\n  protected getPointsAndData(mappingData: MappingDatum[]) {\n    const points = [];\n    const data = [];\n\n    for (let i = 0, len = mappingData.length; i < len; i++) {\n      const obj = mappingData[i];\n      points.push(obj.points);\n      data.push(obj[FIELD_ORIGIN]);\n    }\n\n    return {\n      points,\n      data,\n    };\n  }\n\n  /**\n   *  Y \n   * @returns y \n   */\n  protected getYMinValue(): number {\n    if (this.startOnZero) {\n      return super.getYMinValue();\n    }\n    const yScale = this.getYScale();\n    return yScale.min;\n  }\n}\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getLinePath } from '../util/path';\nimport { splitPoints } from '../util/split-points';\n\nconst EdgeShapeFactory = registerShapeFactory('edge', {\n  defaultShapeType: 'line',\n  getDefaultPoints(pointInfo: ShapePoint): Point[] {\n    return splitPoints(pointInfo);\n  },\n});\n\nregisterShape('edge', 'line', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n    const path = getLinePath(this.parsePoints(cfg.points), this.coordinate.isPolar);\n    return container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: markerCfg.color,\n      },\n    };\n  },\n});\n\nexport default EdgeShapeFactory;\n","import Geometry from './base';\nimport './shape/edge';\n\n/**\n * Edge ****\n * 1. \n * 2. \n * 3. \n * 4. \n * 5. \n */\nexport default class Edge extends Geometry {\n  public readonly type: string = 'edge';\n  public readonly shapeType: string = 'edge';\n  protected generatePoints: boolean = true;\n}\n","import ColorUtil from '@antv/color-util';\nimport { get, isNumber } from '@antv/util';\nimport { FIELD_ORIGIN } from '../constant';\nimport { Color, IShape } from '../dependents';\nimport { Data, Datum, MappingDatum, ShapeInfo, AttributeOption, ColorAttrCallback } from '../interface';\nimport Geometry from './base';\n\n/**\n * \n */\nexport default class Heatmap extends Geometry {\n  public readonly type: string = 'heatmap';\n\n  private paletteCache: Record<number, number> = {};\n  private grayScaleBlurredCanvas: HTMLCanvasElement;\n  private shadowCanvas: HTMLCanvasElement;\n  private imageShape: IShape;\n\n  protected updateElements(mappingDataArray: MappingDatum[][], isUpdate: boolean = false) {\n    for (let i = 0; i < mappingDataArray.length; i++) {\n      const mappingData = mappingDataArray[i];\n      const range = this.prepareRange(mappingData);\n      const radius = this.prepareSize();\n\n      let blur = get(this.styleOption, ['cfg', 'shadowBlur']);\n      if (!isNumber(blur)) {\n        blur = radius / 2;\n      }\n\n      this.prepareGreyScaleBlurredCircle(radius, blur);\n      this.drawWithRange(mappingData, range, radius, blur);\n    }\n  }\n\n  /**  callback  */\n  public color(field: AttributeOption | string, cfg?: string | string[] | ColorAttrCallback): Geometry {\n    this.createAttrOption('color', field, typeof cfg !== 'function' ? cfg : '');\n\n    return this;\n  }\n\n  /**\n   * clear\n   */\n  public clear() {\n    super.clear();\n    this.clearShadowCanvasCtx();\n    this.paletteCache = {};\n  }\n\n  private prepareRange(data: MappingDatum[]) {\n    const colorAttr = this.getAttribute('color');\n    const colorField = colorAttr.getFields()[0];\n\n    let min = Infinity;\n    let max = -Infinity;\n    data.forEach((row) => {\n      const value = row[FIELD_ORIGIN][colorField];\n      if (value > max) {\n        max = value;\n      }\n      if (value < min) {\n        min = value;\n      }\n    });\n\n    if (min === max) {\n      min = max - 1;\n    }\n\n    return [min, max];\n  }\n\n  private prepareSize() {\n    let radius = this.getDefaultValue('size');\n    if (!isNumber(radius)) {\n      radius = this.getDefaultSize();\n    }\n\n    return radius;\n  }\n\n  private prepareGreyScaleBlurredCircle(radius: number, blur: number) {\n    const grayScaleBlurredCanvas = this.getGrayScaleBlurredCanvas();\n    const r2 = radius + blur;\n    const ctx = grayScaleBlurredCanvas.getContext('2d');\n    grayScaleBlurredCanvas.width = grayScaleBlurredCanvas.height = r2 * 2;\n    ctx.clearRect(0, 0, grayScaleBlurredCanvas.width, grayScaleBlurredCanvas.height);\n    ctx.shadowOffsetX = ctx.shadowOffsetY = r2 * 2;\n    ctx.shadowBlur = blur;\n    ctx.shadowColor = 'black';\n\n    ctx.beginPath();\n    ctx.arc(-r2, -r2, radius, 0, Math.PI * 2, true);\n    ctx.closePath();\n    ctx.fill();\n  }\n\n  private drawWithRange(data: MappingDatum[], range: number[], radius: number, blur: number) {\n    // canvas size\n    const { start, end } = this.coordinate;\n    const width = this.coordinate.getWidth();\n    const height = this.coordinate.getHeight();\n\n    // value, range, etc\n    const colorAttr = this.getAttribute('color');\n    const valueField = colorAttr.getFields()[0];\n\n    // prepare shadow canvas context\n    this.clearShadowCanvasCtx();\n    const ctx = this.getShadowCanvasCtx();\n    // filter data\n    if (range) {\n      data = data.filter((row) => {\n        return row[FIELD_ORIGIN][valueField] <= range[1] && row[FIELD_ORIGIN][valueField] >= range[0];\n      });\n    }\n\n    // step1. draw points with shadow\n    const scale = this.scales[valueField];\n    for (const obj of data) {\n      const { x, y } = this.getDrawCfg(obj);\n      const alpha = scale.scale(obj[FIELD_ORIGIN][valueField]);\n      this.drawGrayScaleBlurredCircle((x as number) - start.x, (y as number) - end.y, radius + blur, alpha, ctx);\n    }\n\n    // step2. convert pixels\n    const colored = ctx.getImageData(0, 0, width, height);\n    this.clearShadowCanvasCtx();\n    this.colorize(colored);\n    ctx.putImageData(colored, 0, 0);\n    const imageShape = this.getImageShape();\n    imageShape.attr('x', start.x);\n    imageShape.attr('y', end.y);\n    imageShape.attr('width', width);\n    imageShape.attr('height', height);\n    imageShape.attr('img', ctx.canvas);\n    imageShape.set('origin', this.getShapeInfo(data)); // \n  }\n\n  private getDefaultSize() {\n    const position = this.getAttribute('position');\n    const coordinate = this.coordinate;\n    return Math.min(\n      coordinate.getWidth() / (position.scales[0].ticks.length * 4),\n      coordinate.getHeight() / (position.scales[1].ticks.length * 4)\n    );\n  }\n\n  private clearShadowCanvasCtx() {\n    const ctx = this.getShadowCanvasCtx();\n    ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n  }\n\n  private getShadowCanvasCtx() {\n    let canvas = this.shadowCanvas;\n    if (!canvas) {\n      canvas = document.createElement('canvas');\n      this.shadowCanvas = canvas;\n    }\n    canvas.width = this.coordinate.getWidth();\n    canvas.height = this.coordinate.getHeight();\n    return canvas.getContext('2d');\n  }\n\n  private getGrayScaleBlurredCanvas() {\n    if (!this.grayScaleBlurredCanvas) {\n      this.grayScaleBlurredCanvas = document.createElement('canvas');\n    }\n\n    return this.grayScaleBlurredCanvas;\n  }\n\n  private drawGrayScaleBlurredCircle(x: number, y: number, r: number, alpha: number, ctx: CanvasRenderingContext2D) {\n    const grayScaleBlurredCanvas = this.getGrayScaleBlurredCanvas();\n    ctx.globalAlpha = alpha;\n    ctx.drawImage(grayScaleBlurredCanvas, x - r, y - r);\n  }\n\n  private colorize(img: ImageData) {\n    const colorAttr = this.getAttribute('color') as Color;\n    const pixels = img.data;\n    const paletteCache = this.paletteCache;\n    for (let i = 3; i < pixels.length; i += 4) {\n      const alpha = pixels[i]; // get gradient color from opacity value\n      if (isNumber(alpha)) {\n        const palette = paletteCache[alpha] ? paletteCache[alpha] : ColorUtil.rgb2arr(colorAttr.gradient(alpha / 256));\n        pixels[i - 3] = palette[0];\n        pixels[i - 2] = palette[1];\n        pixels[i - 1] = palette[2];\n        pixels[i] = alpha;\n      }\n    }\n  }\n\n  private getImageShape() {\n    let imageShape = this.imageShape;\n    if (imageShape) {\n      return imageShape;\n    }\n    const container = this.container;\n    imageShape = container.addShape({\n      type: 'image',\n      attrs: {},\n    });\n    this.imageShape = imageShape;\n    return imageShape;\n  }\n\n  private getShapeInfo(mappingData: MappingDatum[]): ShapeInfo {\n    const shapeCfg = this.getDrawCfg(mappingData[0]);\n\n    const data = mappingData.map((obj: Datum) => {\n      return obj[FIELD_ORIGIN];\n    });\n\n    return {\n      ...shapeCfg,\n      mappingData,\n      data,\n    };\n  }\n}\n","import { Coordinate } from '@antv/coord';\nimport { isArray, isNil, get } from '@antv/util';\nimport { getAngle, getSectorPath } from '../../../util/graphics';\nimport { PathCommand } from '../../../dependents';\nimport { Point, ShapeInfo, ShapePoint } from '../../../interface';\n\n/**\n * @ignore\n * \n * @param pointInfo \n * @param [isPyramid] \n * @returns rect points \n */\nexport function getRectPoints(pointInfo: ShapePoint): Point[] {\n  const { x, y, y0, size } = pointInfo;\n  //  4 \n  // 1. x, y \n  // 2. yx\n  // 3. xy\n  // 4. x, y \n  let yMin;\n  let yMax;\n  if (isArray(y)) {\n    [yMin, yMax] = y;\n  } else {\n    yMin = y0;\n    yMax = y;\n  }\n\n  let xMin;\n  let xMax;\n  if (isArray(x)) {\n    [xMin, xMax] = x;\n  } else {\n    xMin = x - size / 2;\n    xMax = x + size / 2;\n  }\n\n  const points = [\n    { x: xMin, y: yMin },\n    { x: xMin, y: yMax },\n  ];\n\n  // \n  // 1 ---- 2\n  // |      |\n  // 0 ---- 3\n  points.push({ x: xMax, y: yMax }, { x: xMax, y: yMin });\n\n  return points;\n}\n\n/**\n * @ignore\n *  path\n * @param points \n * @param isClosed path \n * @returns  path\n */\nexport function getRectPath(points: Point[], isClosed: boolean = true): PathCommand[] {\n  const path = [];\n  const firstPoint = points[0];\n  path.push(['M', firstPoint.x, firstPoint.y]);\n  for (let i = 1, len = points.length; i < len; i++) {\n    path.push(['L', points[i].x, points[i].y]);\n  }\n  //  shape=\"line\" path  lineCap \n  if (isClosed) {\n    path.push(['L', firstPoint.x, firstPoint.y]); // \n    path.push(['z']);\n  }\n  return path;\n}\n\n/**\n *  rect path  radius\n * @returns  path  arc \n */\nexport function parseRadius(radius: number | number[], minLength: number): number[] {\n  let r1 = 0;\n  let r2 = 0;\n  let r3 = 0;\n  let r4 = 0;\n  if (isArray(radius)) {\n    if (radius.length === 1) {\n      r1 = r2 = r3 = r4 = radius[0];\n    } else if (radius.length === 2) {\n      r1 = r3 = radius[0];\n      r2 = r4 = radius[1];\n    } else if (radius.length === 3) {\n      r1 = radius[0];\n      r2 = r4 = radius[1];\n      r3 = radius[2];\n    } else {\n      r1 = radius[0];\n      r2 = radius[1];\n      r3 = radius[2];\n      r4 = radius[3];\n    }\n  } else {\n    r1 = r2 = r3 = r4 = radius;\n  }\n\n  //  \n  if (r1 + r2 > minLength) {\n    r1 = r1 ? minLength / (1 + r2 / r1) : 0;\n    r2 = minLength - r1;\n  }\n\n  if (r3 + r4 > minLength) {\n    r3 = r3 ? minLength / (1 + r4 / r3) : 0;\n    r4 = minLength - r3;\n  }\n\n  return [r1 || 0, r2 || 0, r3 || 0, r4 || 0];\n}\n\n/**\n *  interval  path\n * @param cfg \n * @param points  4 \n * @param coordinate \n * @returns  path\n */\nexport function getBackgroundRectPath(cfg: ShapeInfo, points: Point[], coordinate: Coordinate): PathCommand[] {\n  let path = [];\n  if (coordinate.isRect) {\n    const p0 = coordinate.isTransposed\n      ? { x: coordinate.start.x, y: points[0].y }\n      : { x: points[0].x, y: coordinate.start.y };\n    const p1 = coordinate.isTransposed\n      ? { x: coordinate.end.x, y: points[2].y }\n      : { x: points[3].x, y: coordinate.end.y };\n\n    // corner radius of background shape works only in \n    const radius = get(cfg, ['background', 'style', 'radius']);\n    if (radius) {\n      const width = coordinate.isTransposed ? Math.abs(points[0].y - points[2].y) : points[2].x - points[1].x;\n      const height = coordinate.isTransposed ? coordinate.getWidth() : coordinate.getHeight();\n      const [r1, r2, r3, r4] = parseRadius(radius, Math.min(width, height));\n\n      path.push(['M', p0.x, p1.y + r1]);\n      r1 !== 0 && path.push(['A', r1, r1, 0, 0, 1, p0.x + r1, p1.y]);\n      path.push(['L', p1.x - r2, p1.y]);\n      r2 !== 0 && path.push(['A', r2, r2, 0, 0, 1, p1.x, p1.y + r2]);\n      path.push(['L', p1.x, p0.y - r3]);\n      r3 !== 0 && path.push(['A', r3, r3, 0, 0, 1, p1.x - r3, p0.y]);\n      path.push(['L', p0.x + r4, p0.y]);\n      r4 !== 0 && path.push(['A', r4, r4, 0, 0, 1, p0.x, p0.y - r4]);\n    } else {\n      path.push(['M', p0.x, p0.y]);\n      path.push(['L', p1.x, p0.y]);\n      path.push(['L', p1.x, p1.y]);\n      path.push(['L', p0.x, p1.y]);\n      path.push(['L', p0.x, p0.y]);\n    }\n\n    path.push(['z']);\n  }\n\n  if (coordinate.isPolar) {\n    const center = coordinate.getCenter();\n    const { startAngle, endAngle } = getAngle(cfg, coordinate);\n    if (coordinate.type !== 'theta' && !coordinate.isTransposed) {\n      //  path\n      path = getSectorPath(center.x, center.y, coordinate.getRadius(), startAngle, endAngle);\n    } else {\n      const pow = (v) => Math.pow(v, 2);\n      const r1 = Math.sqrt(pow(center.x - points[0].x) + pow(center.y - points[0].y));\n      const r2 = Math.sqrt(pow(center.x - points[2].x) + pow(center.y - points[2].y));\n      //  path coordinate \n      path = getSectorPath(center.x, center.y, r1, coordinate.startAngle, coordinate.endAngle, r2);\n    }\n  }\n  return path;\n}\n\n/**\n * @ignore\n *  path\n * @param points \n * @param lineCap 'round'\n * @param coor \n * @returns  path\n */\nexport function getIntervalRectPath(points: Point[], lineCap: CanvasLineCap, coor: Coordinate): PathCommand[] {\n  const width = coor.getWidth();\n  const height = coor.getHeight();\n  const isRect = coor.type === 'rect';\n  let path = [];\n  const r = (points[2].x - points[1].x) / 2;\n  const ry = coor.isTransposed ? (r * height) / width : (r * width) / height;\n  if (lineCap === 'round') {\n    if (isRect) {\n      path.push(['M', points[0].x, points[0].y + ry]);\n      path.push(['L', points[1].x, points[1].y - ry]);\n      path.push(['A', r, r, 0, 0, 1, points[2].x, points[2].y - ry]);\n      path.push(['L', points[3].x, points[3].y + ry]);\n      path.push(['A', r, r, 0, 0, 1, points[0].x, points[0].y + ry]);\n    } else {\n      path.push(['M', points[0].x, points[0].y]);\n      path.push(['L', points[1].x, points[1].y]);\n      path.push(['A', r, r, 0, 0, 1, points[2].x, points[2].y]);\n      path.push(['L', points[3].x, points[3].y]);\n      path.push(['A', r, r, 0, 0, 1, points[0].x, points[0].y]);\n    }\n    path.push(['z']);\n  } else {\n    path = getRectPath(points);\n  }\n  return path;\n}\n\n/**\n * @ignore\n *  funnel  path\n * @param points \n * @param nextPoints \n * @param isPyramid \n * @returns  path\n */\nexport function getFunnelPath(points: Point[], nextPoints: Point[], isPyramid: boolean) {\n  const path = [];\n  if (!isNil(nextPoints)) {\n    path.push(\n      ['M', points[0].x, points[0].y],\n      ['L', points[1].x, points[1].y],\n      ['L', nextPoints[1].x, nextPoints[1].y],\n      ['L', nextPoints[0].x, nextPoints[0].y],\n      ['Z']\n    );\n  } else if (isPyramid) {\n    // \n    path.push(\n      ['M', points[0].x, points[0].y],\n      ['L', points[1].x, points[1].y],\n      ['L', (points[2].x + points[3].x) / 2, (points[2].y + points[3].y) / 2],\n      ['Z']\n    );\n  } else {\n    // \n    path.push(\n      ['M', points[0].x, points[0].y],\n      ['L', points[1].x, points[1].y],\n      ['L', points[2].x, points[2].y],\n      ['L', points[3].x, points[3].y],\n      ['Z']\n    );\n  }\n\n  return path;\n}\n\n/**\n * \n */\nfunction swap<T>(p0: T, p1: T) {\n  return [p1, p0];\n}\n\n/**\n *   \n * - \n */\nexport function getRectWithCornerRadius(points: Point[], coordinate: Coordinate, radius?: number | number[]) {\n  //  \n  let [p0, p1, p2, p3] = [...points];\n  let [r1, r2, r3, r4] = typeof radius === 'number' ? Array(4).fill(radius) : radius;\n\n  if (coordinate.isTransposed) {\n    [p1, p3] = swap(p1, p3);\n    [r1, r2, r3, r4] = [r4, r1, r2, r3]\n  }\n\n  /**\n   * \n   */\n  if (coordinate.isReflect('y')) {\n    [p0, p1] = swap(p0, p1);\n    [p2, p3] = swap(p2, p3);\n  }\n  if (coordinate.isReflect('x')) {\n    [p0, p3] = swap(p0, p3);\n    [p1, p2] = swap(p1, p2);\n  }\n\n  const path = [];\n\n\n  /**\n   *  p1  p2\n   *      \n   *  p0  p3\n   *\n   *  \n   *\n   *  p0  p3               p2  p1\n   *                           \n   *  p1  p2  --> ()  p3  p0\n   */\n  const abs = v => Math.abs(v);\n  [r1, r2, r3, r4] = parseRadius([r1, r2, r3, r4], Math.min(abs(p3.x - p0.x), abs(p1.y - p0.y))).map(d => abs(d));\n\n  if (p0.y < p1.y /**  */) {\n    path.push(['M', p3.x, p3.y + r3]);\n    r3 !== 0 && path.push(['A', r3, r3, 0, 0, 0, p3.x - r3, p3.y]);\n    path.push(['L', p0.x + r4, p0.y]);\n    r4 !== 0 && path.push(['A', r4, r4, 0, 0, 0, p0.x, p0.y + r4]);\n    path.push(['L', p1.x, p1.y - r1]);\n    r1 !== 0 && path.push(['A', r1, r1, 0, 0, 0/**  */, p1.x + r1, p1.y]);\n    path.push(['L', p2.x - r2, p2.y]);\n    r2 !== 0 && path.push(['A', r2, r2, 0, 0, 0, p2.x, p2.y - r2]);\n    path.push(['L', p3.x, p3.y + r3]);\n    path.push(['z']);\n  } else if (p3.x < p0.x) {\n    path.push(['M', p2.x + r2, p2.y]);\n    r2 !== 0 && path.push(['A', r2, r2, 0, 0, 0, p2.x, p2.y + r2]);\n    path.push(['L', p3.x, p3.y - r3]);\n    r3 !== 0 && path.push(['A', r3, r3, 0, 0, 0, p3.x + r3, p3.y]);\n    path.push(['L', p0.x - r4, p0.y]);\n    r4 !== 0 && path.push(['A', r4, r4, 0, 0, 0, p0.x, p0.y - r4]);\n    path.push(['L', p1.x, p1.y + r1]);\n    r1 !== 0 && path.push(['A', r1, r1, 0, 0, 0, p1.x - r1, p1.y]);\n    path.push(['L', p2.x + r2, p2.y]);\n    path.push(['z']);\n  } else {\n    path.push(['M', p1.x, p1.y + r1]);\n    r1 !== 0 && path.push(['A', r1, r1, 0, 0, 1, p1.x + r1, p1.y]);\n    path.push(['L', p2.x - r2, p2.y]);\n    r2 !== 0 && path.push(['A', r2, r2, 0, 0, 1, p2.x, p2.y + r2]);\n    path.push(['L', p3.x, p3.y - r3]);\n    r3 !== 0 && path.push(['A', r3, r3, 0, 0, 1, p3.x - r3, p3.y]);\n    path.push(['L', p0.x + r4, p0.y]);\n    r4 !== 0 && path.push(['A', r4, r4, 0, 0, 1, p0.x, p0.y - r4]);\n    path.push(['L', p1.x, p1.y + r1]);\n    path.push(['z']);\n  }\n\n  return path;\n}\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape, registerShapeFactory } from '../base';\nimport { BACKGROUND_SHAPE } from '../constant';\nimport { getBackgroundRectStyle, getStyle } from '../util/get-style';\nimport { getBackgroundRectPath, getIntervalRectPath, getRectPoints, getRectWithCornerRadius } from './util';\n\n/** Interval  shape  */\nconst IntervalShapeFactory = registerShapeFactory('interval', {\n  defaultShapeType: 'rect',\n  getDefaultPoints(pointInfo: ShapePoint): Point[] {\n    return getRectPoints(pointInfo);\n  },\n});\n\n/** Inerval  shape */\nregisterShape('interval', 'rect', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, false, true);\n    let group = container;\n\n    const backgroundCfg = cfg?.background;\n    if (backgroundCfg) {\n      group = container.addGroup();\n      const backgroundStyle = getBackgroundRectStyle(cfg);\n      const backgroundPath = getBackgroundRectPath(cfg, this.parsePoints(cfg.points) as Point[], this.coordinate);\n      group.addShape('path', {\n        attrs: {\n          ...backgroundStyle,\n          path: backgroundPath,\n        },\n        zIndex: -1,\n        name: BACKGROUND_SHAPE,\n      });\n    }\n\n    let path;\n    if (style.radius && this.coordinate.isRect) {\n      path = getRectWithCornerRadius(this.parsePoints(cfg.points), this.coordinate, style.radius);\n    } else {\n      path = this.parsePath(getIntervalRectPath(cfg.points as Point[], style.lineCap, this.coordinate));\n    }\n\n    const shape = group.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return backgroundCfg ? group : shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color, isInPolar } = markerCfg;\n    if (isInPolar) {\n      return {\n        symbol: 'circle',\n        style: {\n          r: 4.5,\n          fill: color,\n        },\n      };\n    }\n\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n\nexport default IntervalShapeFactory;\n","import { flatten, isString, valuesOfKey, isNil } from '@antv/util';\nimport { getXDimensionLength } from '../../util/coordinate';\n\n// \nfunction findMinDistance(arr, scale) {\n  const count = arr.length;\n  let sourceArr = arr;\n  if (isString(sourceArr[0])) {\n    //  values \n    sourceArr = arr.map((v: string) => {\n      return scale.translate(v);\n    });\n  }\n  let distance = sourceArr[1] - sourceArr[0];\n  for (let i = 2; i < count; i++) {\n    const tmp = sourceArr[i] - sourceArr[i - 1];\n    if (distance > tmp) {\n      distance = tmp;\n    }\n  }\n  return distance;\n}\n\nfunction getDodgeCount(dataArray, dodgeBy) {\n  if (dodgeBy) {\n    const mergeData = flatten(dataArray);\n    const values = valuesOfKey(mergeData, dodgeBy);\n    return values.length;\n  }\n\n  return dataArray.length;\n}\n\n/** @ignore */\nexport function getDefaultSize(geometry): number {\n  const theme = geometry.theme;\n  const coordinate = geometry.coordinate;\n  const xScale = geometry.getXScale();\n  const xValues = xScale.values;\n  const dataArray = geometry.beforeMappingData;\n  let count: number = xValues.length;\n  const xDimensionLength = getXDimensionLength(geometry.coordinate);\n  // \n  const { intervalPadding, dodgePadding } = geometry;\n  // theme\n  const maxColumnWidth = geometry.maxColumnWidth || theme.maxColumnWidth;\n  const minColumnWidth = geometry.minColumnWidth || theme.minColumnWidth;\n  const columnWidthRatio = geometry.columnWidthRatio || theme.columnWidthRatio;\n  const multiplePieWidthRatio = geometry.multiplePieWidthRatio || theme.multiplePieWidthRatio;\n  const roseWidthRatio = geometry.roseWidthRatio || theme.roseWidthRatio;\n\n  // count\n  if (xScale.isLinear && xValues.length > 1) {\n    // Linear  min, max  count\n    xValues.sort();\n    const interval = findMinDistance(xValues, xScale);\n    count = (xScale.max - xScale.min) / interval;\n    if (xValues.length > count) {\n      count = xValues.length;\n    }\n  }\n\n  const range = xScale.range;\n  let normalizedSize = 1 / count;\n  let wr = 1;\n  if (coordinate.isPolar) {\n    // \n    if (coordinate.isTransposed && count > 1) {\n      // \n      wr = multiplePieWidthRatio;\n    } else {\n      wr = roseWidthRatio;\n    }\n  } else {\n    // \n    if (xScale.isLinear) {\n      normalizedSize *= range[1] - range[0];\n    }\n    wr = columnWidthRatio;\n  }\n\n  // \n  if (!isNil(intervalPadding) && intervalPadding >= 0) {\n    // \n    const normalizedIntervalPadding = intervalPadding / xDimensionLength;\n    normalizedSize = (1 - (count - 1) * normalizedIntervalPadding) / count;\n  } else {\n    // \n    normalizedSize *= wr;\n  }\n  // \n  if (geometry.getAdjust('dodge')) {\n    const dodgeAdjust = geometry.getAdjust('dodge');\n    const dodgeBy = dodgeAdjust.dodgeBy;\n    const dodgeCount = getDodgeCount(dataArray, dodgeBy);\n    if (!isNil(dodgePadding) && dodgePadding >= 0) {\n      // \n      const normalizedDodgePadding = dodgePadding / xDimensionLength;\n      normalizedSize = (normalizedSize - normalizedDodgePadding * (dodgeCount - 1)) / dodgeCount;\n    } else if (!isNil(intervalPadding) && intervalPadding >= 0) {\n      // wr\n      normalizedSize *= wr;\n      normalizedSize = normalizedSize / dodgeCount;\n    } else {\n      // \n      normalizedSize = normalizedSize / dodgeCount;\n    }\n    normalizedSize = normalizedSize >= 0 ? normalizedSize : 0;\n  }\n\n  // \n  if (!isNil(maxColumnWidth) && maxColumnWidth >= 0) {\n    const normalizedMaxColumnWidth = maxColumnWidth / xDimensionLength;\n    if (normalizedSize > normalizedMaxColumnWidth) {\n      normalizedSize = normalizedMaxColumnWidth;\n    }\n  }\n\n  // \bminColumnWidth0\n  if (!isNil(minColumnWidth) && minColumnWidth >= 0) {\n    const normalizedMinColumnWidth = minColumnWidth / xDimensionLength;\n    if (normalizedSize < normalizedMinColumnWidth) {\n      normalizedSize = normalizedMinColumnWidth;\n    }\n  }\n\n  return normalizedSize;\n}\n","import { get } from '@antv/util';\nimport { Datum, MappingDatum, ShapeInfo, LooseObject } from '../interface';\nimport { ShapeAttrs } from '../dependents';\nimport { getXDimensionLength } from '../util/coordinate';\nimport Geometry, { GeometryCfg } from './base';\n/**  ShapeFactory */\nimport './shape/interval';\nimport { getDefaultSize } from './util/shape-size';\nimport { getMaxScale } from '../util/scale';\n\n/** Path  */\nexport interface IntervalCfg extends GeometryCfg {\n  /** shape  Interval Geometry  interval-rect shape  */\n  background?: { style?: ShapeAttrs };\n}\n\n/**\n * Interval \n * \n */\nexport default class Interval extends Geometry {\n  public readonly type: string = 'interval';\n  public readonly shapeType: string = 'interval';\n  /** shape  interval-rect shape  */\n  protected background?: { style?: ShapeAttrs };\n  protected generatePoints: boolean = true;\n\n  constructor(cfg: IntervalCfg) {\n    super(cfg);\n\n    const { background } = cfg;\n    this.background = background;\n  }\n\n  /**\n   *  Shape \n   * @param obj  ->  -> adjust \n   * @returns\n   */\n  protected createShapePointsCfg(obj: Datum) {\n    const cfg = super.createShapePointsCfg(obj);\n\n    //  shape  size\n    let size;\n    const sizeAttr = this.getAttribute('size');\n    if (sizeAttr) {\n      size = this.getAttributeValues(sizeAttr, obj)[0];\n      // \n      const coordinate = this.coordinate;\n      const coordinateWidth = getXDimensionLength(coordinate);\n      size = size / coordinateWidth;\n    } else {\n      if (!this.defaultSize) {\n        this.defaultSize = getDefaultSize(this);\n      }\n      size = this.defaultSize;\n    }\n    cfg.size = size;\n\n    return cfg;\n  }\n\n  /**\n   *  y  scale \n   *  Y  0  \n   */\n  protected adjustScale() {\n    super.adjustScale();\n    const yScale = this.getYScale();\n    // \n    if (this.coordinate.type === 'theta') {\n      yScale.change({\n        nice: false,\n        min: 0,\n        //  stack yScale  max this.updateStackRange()\n        max: getMaxScale(yScale),\n      });\n    } else {\n      //  0 \n      const scaleDefs = this.scaleDefs;\n      const { field, min, max, type } = yScale;\n      if (type !== 'time') {\n        // time \n        //  Y  0 \n        if (min > 0 && !get(scaleDefs, [field, 'min'])) {\n          yScale.change({\n            min: 0,\n          });\n        }\n        //  0 \n        if (max <= 0 && !get(scaleDefs, [field, 'max'])) {\n          yScale.change({\n            max: 0,\n          });\n        }\n      }\n    }\n  }\n\n  /**\n   * @override\n   */\n  protected getDrawCfg(mappingData: MappingDatum): ShapeInfo {\n    const shapeCfg = super.getDrawCfg(mappingData);\n    shapeCfg.background = this.background;\n\n    return shapeCfg;\n  }\n}\n","import Path, { PathCfg } from './path';\n/**  Path  ShapeFactory */\nimport './shape/line';\n\n/**\n * Line \n * \n */\nexport default class Line extends Path {\n  public type: string = 'line';\n\n  constructor(cfg: PathCfg) {\n    super(cfg);\n\n    const { sortable = false } = cfg; //  X \n    this.sortable = sortable;\n  }\n}\n","import { IGroup, IShape } from '../../../dependents';\nimport { ShapeInfo } from '../../../interface';\nimport { MarkerSymbols } from '../../../util/marker';\nimport { getStyle } from '../util/get-style';\n\nexport const SHAPES = ['circle', 'square', 'bowtie', 'diamond', 'hexagon', 'triangle', 'triangle-down'];\nexport const HOLLOW_SHAPES = ['cross', 'tick', 'plus', 'hyphen', 'line'];\n\n/**\n * @ignore\n * Draws points\n * @param shape\n * @param cfg\n * @param container\n * @param shapeName\n * @param isStroke\n * @returns points\n */\nexport function drawPoints(\n  shape,\n  cfg: ShapeInfo,\n  container: IGroup,\n  shapeName: string,\n  isStroke: boolean\n): IShape | IGroup {\n  const style = getStyle(cfg, isStroke, !isStroke, 'r');\n  const points = shape.parsePoints(cfg.points);\n  let pointPosition = points[0];\n  if (cfg.isStack) {\n    pointPosition = points[1];\n  } else if (points.length > 1) {\n    const group = container.addGroup();\n    for (const point of points) {\n      group.addShape({\n        type: 'marker',\n        attrs: {\n          ...style,\n          symbol: MarkerSymbols[shapeName] || shapeName,\n          ...point,\n        },\n      });\n    }\n    return group;\n  }\n\n  return container.addShape({\n    type: 'marker',\n    attrs: {\n      ...style,\n      symbol: MarkerSymbols[shapeName] || shapeName,\n      ...pointPosition,\n    },\n  });\n}\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { MarkerSymbols } from '../../../util/marker';\nimport { registerShape, registerShapeFactory } from '../base';\nimport { splitPoints } from '../util/split-points';\nimport { drawPoints, SHAPES } from './util';\n\nconst PointShapeFactory = registerShapeFactory('point', {\n  defaultShapeType: 'hollow-circle',\n  getDefaultPoints(pointInfo: ShapePoint): Point[] {\n    return splitPoints(pointInfo);\n  },\n});\n\neach(SHAPES, (shapeName: string) => {\n  //  shape  hollow-shape\n  registerShape('point', `hollow-${shapeName}`, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      return drawPoints(this, cfg, container, shapeName, true);\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      const { color } = markerCfg;\n      return {\n        symbol: MarkerSymbols[shapeName] || shapeName,\n        style: {\n          r: 4.5,\n          stroke: color,\n          fill: null,\n        },\n      };\n    },\n  });\n});\n\nexport default PointShapeFactory;\n","import { MappingDatum, ShapeInfo } from '../interface';\nimport Geometry from './base';\n/**  Point  ShapeFactory */\nimport './shape/point';\n\n/**\n * Point \n * \n */\nexport default class Point extends Geometry {\n  public readonly type: string = 'point';\n  public readonly shapeType: string = 'point';\n  protected generatePoints: boolean = true;\n\n  /**\n   * \n   * @param mappingDatum\n   * @returns draw cfg\n   */\n  protected getDrawCfg(mappingDatum: MappingDatum): ShapeInfo {\n    const shapeCfg = super.getDrawCfg(mappingDatum);\n\n    return {\n      ...shapeCfg,\n      isStack: !!this.getAdjust('stack'), // \n    };\n  }\n}\n","import { each, isEmpty, isEqual, last } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getStyle } from '../util/get-style';\n\nfunction getPath(points: any[]) {\n  let flag: any = points[0];\n  let i = 1;\n\n  const path = [['M', flag.x, flag.y]];\n\n  while (i < points.length) {\n    const c: any = points[i];\n    if (c.x !== points[i - 1].x || c.y !== points[i - 1].y) {\n      path.push(['L', c.x, c.y]);\n      if (c.x === flag.x && c.y === flag.y && i < points.length - 1) {\n        flag = points[i + 1];\n        path.push(['Z']);\n        path.push(['M', flag.x, flag.y]);\n        i++;\n      }\n    }\n    i++;\n  }\n\n  if (!isEqual(last(path), flag)) {\n    path.push(['L', flag.x, flag.y]);\n  }\n\n  path.push(['Z']);\n\n  return path;\n}\n\nconst PolygonShapeFactory = registerShapeFactory('polygon', {\n  defaultShapeType: 'polygon',\n  getDefaultPoints(pointInfo: ShapePoint) {\n    const points = [];\n    each(pointInfo.x as number[], (subX, index) => {\n      const subY = pointInfo.y[index];\n      points.push({\n        x: subX,\n        y: subY,\n      });\n    });\n    return points;\n  },\n});\n\nregisterShape('polygon', 'polygon', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    if (!isEmpty(cfg.points)) {\n      const shapeAttrs = getStyle(cfg, true, true);\n      const path = this.parsePath(getPath(cfg.points));\n      return container.addShape('path', {\n        attrs: {\n          ...shapeAttrs,\n          path,\n        },\n        name: 'polygon',\n      });\n    }\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n\nexport default PolygonShapeFactory;\n","import { isArray } from '@antv/util';\nimport { Datum } from '../interface';\nimport Geometry from './base';\n/**  Path  ShapeFactory */\nimport './shape/polygon';\n\n/**\n * Polygon \n * \n */\nexport default class Polygon extends Geometry {\n  public readonly type: string = 'polygon';\n  public readonly shapeType: string = 'polygon';\n  protected generatePoints: boolean = true;\n\n  /**\n   *  Shape \n   * @param obj\n   * @returns\n   */\n  protected createShapePointsCfg(obj: Datum) {\n    const cfg: any = super.createShapePointsCfg(obj);\n    let x = cfg.x;\n    let y = cfg.y;\n    let temp;\n    // x y \n    if (!(isArray(x) && isArray(y))) {\n      const xScale = this.getXScale();\n      const yScale = this.getYScale();\n      const xCount = xScale.values.length;\n      const yCount = yScale.values.length;\n      const xOffset = (0.5 * 1) / xCount;\n      const yOffset = (0.5 * 1) / yCount;\n\n      if (xScale.isCategory && yScale.isCategory) {\n        // x,y\n        x = [x - xOffset, x - xOffset, x + xOffset, x + xOffset];\n        y = [y - yOffset, y + yOffset, y + yOffset, y - yOffset];\n      } else if (isArray(x)) {\n        // x \n        temp = x;\n        x = [temp[0], temp[0], temp[1], temp[1]];\n        y = [y - yOffset / 2, y + yOffset / 2, y + yOffset / 2, y - yOffset / 2];\n      } else if (isArray(y)) {\n        // y \n        temp = y;\n        y = [temp[0], temp[1], temp[1], temp[0]];\n        x = [x - xOffset / 2, x - xOffset / 2, x + xOffset / 2, x + xOffset / 2];\n      }\n      cfg.x = x;\n      cfg.y = y;\n    }\n    return cfg;\n  }\n}\n","import { registerShapeFactory } from '../base';\n\nconst SchemaShapeFactory = registerShapeFactory('schema', {\n  defaultShapeType: '', // 'schema' is for some custom shapes, so will not specify defaultShapeType\n});\n\nexport default SchemaShapeFactory;\n","import { LooseObject } from '../interface';\nimport { getXDimensionLength } from '../util/coordinate';\nimport Geometry from './base';\n/**  ShapeFactory */\nimport './shape/schema';\nimport { getDefaultSize } from './util/shape-size';\n\n/**\n * Schema \n */\nexport default class Schema extends Geometry {\n  public readonly type: string = 'schema';\n  public readonly shapeType: string = 'schema';\n  protected generatePoints: boolean = true;\n\n  /**\n   *  Shape \n   * @param record\n   * @returns\n   */\n  protected createShapePointsCfg(record: LooseObject) {\n    const cfg = super.createShapePointsCfg(record);\n\n    //  shape  size\n    let size;\n    const sizeAttr = this.getAttribute('size');\n    if (sizeAttr) {\n      size = this.getAttributeValues(sizeAttr, record)[0];\n      // \n      const coordinate = this.coordinate;\n      const coordinateWidth = getXDimensionLength(coordinate);\n      size = size / coordinateWidth;\n    } else {\n      if (!this.defaultSize) {\n        this.defaultSize = getDefaultSize(this);\n      }\n      size = this.defaultSize;\n    }\n    cfg.size = size;\n\n    return cfg;\n  }\n}\n","import { each, max, map, isArray } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg, ViolinShapePoint } from '../../../interface';\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getViolinPath } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\n\nfunction normalizeSize(arr: number[]) {\n  if (!isArray(arr)) {\n    return [];\n  }\n  const maxValue = max(arr);\n  return map(arr, (num) => num / maxValue);\n}\n\nconst ViolinShapeFactory = registerShapeFactory('violin', {\n  defaultShapeType: 'violin',\n  getDefaultPoints(pointInfo: ViolinShapePoint) {\n    const radius = pointInfo.size / 2;\n    const points = [];\n    const sizeArr = normalizeSize(pointInfo._size);\n\n    each(pointInfo.y as number[], (y, index) => {\n      const offset = sizeArr[index] * radius;\n      const isMin = index === 0;\n      const isMax = index === (pointInfo.y as number[]).length - 1;\n      points.push({\n        isMin,\n        isMax,\n        x: (pointInfo.x as number) - offset,\n        y,\n      });\n      points.unshift({\n        isMin,\n        isMax,\n        x: (pointInfo.x as number) + offset,\n        y,\n      });\n    });\n    return points;\n  },\n});\n\nregisterShape('violin', 'violin', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const shapeAttrs = getStyle(cfg, true, true);\n    const path = this.parsePath(getViolinPath(cfg.points));\n    return container.addShape('path', {\n      attrs: {\n        ...shapeAttrs,\n        path,\n      },\n      name: 'violin',\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n\nexport default ViolinShapeFactory;\n","import { get } from '@antv/util';\nimport { FIELD_ORIGIN } from '../constant';\nimport { Datum, ViolinShapePoint } from '../interface';\nimport { getXDimensionLength } from '../util/coordinate';\nimport { getDefaultSize } from './util/shape-size';\nimport Geometry from './base';\n/**  Path  ShapeFactory */\nimport './shape/violin';\n\n/**\n * Violin \n * \n */\nexport default class Violin extends Geometry<ViolinShapePoint> {\n  public readonly type: string = 'violin';\n  public readonly shapeType: string = 'violin';\n  protected generatePoints: boolean = true;\n  /** size  */\n  private _sizeField: string;\n\n  /**\n   *  Shape \n   * @param record\n   * @returns\n   */\n  protected createShapePointsCfg(record: Datum) {\n    const cfg = super.createShapePointsCfg(record);\n\n    //  shape  size\n    let size;\n    const sizeAttr = this.getAttribute('size');\n    if (sizeAttr) {\n      size = this.getAttributeValues(sizeAttr, record)[0];\n      // \n      const coordinate = this.coordinate;\n      const coordinateWidth = getXDimensionLength(coordinate);\n      size = size / coordinateWidth;\n    } else {\n      if (!this.defaultSize) {\n        this.defaultSize = getDefaultSize(this);\n      }\n      size = this.defaultSize;\n    }\n    cfg.size = size;\n    cfg._size = get(record[FIELD_ORIGIN], [this._sizeField]);\n    return cfg;\n  }\n\n  /**\n   * @override\n   */\n  protected initAttributes() {\n    const { attributeOption } = this;\n    const sizeField = attributeOption.size\n      ? attributeOption.size.fields[0]\n      : this._sizeField\n      ? this._sizeField\n      : 'size';\n    this._sizeField = sizeField;\n    // fixme \n    delete attributeOption.size;\n    super.initAttributes();\n  }\n}\n","import { each } from '@antv/util';\nimport { Point } from '../../../interface';\n\n/**\n * @ignore\n * Gets cpath\n * @param from\n * @param to\n * @returns\n */\nexport function getCPath(from: Point, to: Point) {\n  return ['C', (from.x * 1) / 2 + (to.x * 1) / 2, from.y, (from.x * 1) / 2 + (to.x * 1) / 2, to.y, to.x, to.y];\n}\n\n/**\n * @ignore\n * Gets qpath\n * @param to\n * @param center\n * @returns\n */\nexport function getQPath(to: Point, center: Point) {\n  const points = [];\n  points.push({\n    x: center.x,\n    y: center.y,\n  });\n  points.push(to);\n\n  const sub = ['Q'];\n  each(points, (point) => {\n    sub.push(point.x, point.y);\n  });\n\n  return sub;\n}\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\nimport { registerShape } from '../base';\nimport { getShapeAttrs } from './util';\n\n/**\n * \n */\nregisterShape('area', 'line', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getShapeAttrs(cfg, true, false, this);\n    const shape = container.addShape({\n      type: 'path',\n      attrs,\n      name: 'area',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number = 5.5) => {\n        return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n      },\n      style: {\n        r: 5,\n        stroke: color,\n        fill: null,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getConstraint, getShapeAttrs } from './util';\n\n/**\n * \n */\nregisterShape('area', 'smooth', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const coordinate = this.coordinate;\n    const attrs = getShapeAttrs(cfg, false, true, this, getConstraint(coordinate));\n    const shape = container.addShape({\n      type: 'path',\n      attrs,\n      name: 'area',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number = 5.5) => {\n        return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n      },\n      style: {\n        r: 5,\n        fill: color,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getConstraint, getShapeAttrs } from './util';\n\n/**  */\nregisterShape('area', 'smooth-line', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const coordinate = this.coordinate;\n    const attrs = getShapeAttrs(cfg, true, true, this, getConstraint(coordinate));\n    const shape = container.addShape({\n      type: 'path',\n      attrs,\n      name: 'area',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number = 5.5) => {\n        return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n      },\n      style: {\n        r: 5,\n        stroke: color,\n        fill: null,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { getArcPath } from '../../../util/graphics';\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getCPath, getQPath } from './util';\n\nfunction getArcShapePath(from: Point, to: Point, center: Point) {\n  const sub = getQPath(to, center);\n  const path = [['M', from.x, from.y]];\n  path.push(sub);\n  return path;\n}\n\nfunction getArcShapeWeightPath(points: Point[], center: Point) {\n  const arc1 = getQPath(points[1], center);\n  const arc2 = getQPath(points[3], center);\n  const path = [['M', points[0].x, points[0].y]];\n  path.push(arc2);\n  path.push(['L', points[3].x, points[3].y]);\n  path.push(['L', points[2].x, points[2].y]);\n  path.push(arc1);\n  path.push(['L', points[1].x, points[1].y]);\n  path.push(['L', points[0].x, points[0].y]);\n  path.push(['Z']);\n  return path;\n}\n\n// \nregisterShape('edge', 'arc', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n\n    let points = cfg.points as Point[];\n    const type = points.length > 2 ? 'weight' : 'normal';\n    let path;\n    if (cfg.isInCircle) {\n      const center = { x: 0, y: 1 };\n      if (type === 'normal') {\n        path = getArcShapePath(points[0], points[1], center);\n      } else {\n        style.fill = style.stroke;\n        path = getArcShapeWeightPath(points, center);\n      }\n      path = this.parsePath(path);\n\n      return container.addShape('path', {\n        attrs: {\n          ...style,\n          path,\n        },\n      });\n    } else {\n      if (type === 'normal') {\n        points = this.parsePoints(points);\n        path = getArcPath(\n          (points[1].x + points[0].x) / 2,\n          points[0].y,\n          Math.abs(points[1].x - points[0].x) / 2,\n          Math.PI,\n          Math.PI * 2\n        );\n        return container.addShape('path', {\n          attrs: {\n            ...style,\n            path,\n          },\n        });\n      } else {\n        const c1 = getCPath(points[1], points[3]);\n        const c2 = getCPath(points[2], points[0]);\n\n        path = [\n          ['M', points[0].x, points[0].y],\n          ['L', points[1].x, points[1].y],\n          c1,\n          ['L', points[3].x, points[3].y],\n          ['L', points[2].x, points[2].y],\n          c2,\n          ['Z'],\n        ];\n        path = this.parsePath(path);\n        style.fill = style.stroke;\n\n        return container.addShape('path', {\n          attrs: {\n            ...style,\n            path,\n          },\n        });\n      }\n    }\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: markerCfg.color,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getCPath } from './util';\n\nfunction getSmoothPath(from: Point, to: Point) {\n  const sub = getCPath(from, to);\n  const path = [['M', from.x, from.y]];\n\n  path.push(sub);\n  return path;\n}\n\nregisterShape('edge', 'smooth', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n    const points = cfg.points;\n    const path = this.parsePath(getSmoothPath(points[0] as Point, points[1] as Point));\n    return container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: markerCfg.color,\n      },\n    };\n  },\n});\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nconst CORNER_PERCENT = 1 / 3;\n\nfunction getVHVPath(from: Point, to: Point) {\n  const points = [];\n  points.push({\n    x: from.x,\n    y: from.y * (1 - CORNER_PERCENT) + to.y * CORNER_PERCENT,\n  });\n  points.push({\n    x: to.x,\n    y: from.y * (1 - CORNER_PERCENT) + to.y * CORNER_PERCENT,\n  });\n  points.push(to);\n\n  const path = [['M', from.x, from.y]];\n  each(points, (point) => {\n    path.push(['L', point.x, point.y]);\n  });\n\n  return path;\n}\n\nregisterShape('edge', 'vhv', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n    const points = cfg.points;\n    const path = this.parsePath(getVHVPath(points[0] as Point, points[1] as Point));\n    return container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: markerCfg.color,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getFunnelPath, getRectPoints } from './util';\n\n/**  */\nregisterShape('interval', 'funnel', {\n  getPoints(shapePoint: ShapePoint) {\n    shapePoint.size = shapePoint.size * 2; //  size \n    return getRectPoints(shapePoint);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, false, true);\n    const path = this.parsePath(getFunnelPath(cfg.points as Point[], cfg.nextPoints as Point[], false));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { BACKGROUND_SHAPE } from '../constant';\nimport { getBackgroundRectStyle, getStyle } from '../util/get-style';\nimport { getBackgroundRectPath, getRectPath } from './util';\n\n/**  */\nregisterShape('interval', 'hollow-rect', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false);\n    let group = container;\n    const backgroundCfg = cfg?.background;\n    if (backgroundCfg) {\n      group = container.addGroup();\n      const backgroundStyle = getBackgroundRectStyle(cfg);\n      const backgroundPath = getBackgroundRectPath(cfg, this.parsePoints(cfg.points) as Point[], this.coordinate);\n      group.addShape('path', {\n        attrs: {\n          ...backgroundStyle,\n          path: backgroundPath,\n        },\n        zIndex: -1,\n        name: BACKGROUND_SHAPE,\n      });\n    }\n\n    const path = this.parsePath(getRectPath(cfg.points as Point[]));\n    const shape = group.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return backgroundCfg ? group : shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color, isInPolar } = markerCfg;\n    if (isInPolar) {\n      return {\n        symbol: 'circle',\n        style: {\n          r: 4.5,\n          stroke: color,\n          fill: null,\n        },\n      };\n    }\n\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        stroke: color,\n        fill: null,\n      },\n    };\n  },\n});\n","import { isArray } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getRectPath } from './util';\nimport { omit } from '../../../util/helper';\n\n//  Line \nfunction getLinePoints(pointInfo: ShapePoint): Point[] {\n  const { x, y, y0 } = pointInfo;\n\n  if (isArray(y)) {\n    return y.map((yItem, idx) => {\n      return {\n        x: isArray(x) ? x[idx] : x,\n        y: yItem,\n      };\n    });\n  }\n\n  //  y0 \n  return [\n    { x: x as number, y: y0 },\n    { x: x as number, y },\n  ];\n}\n\nregisterShape('interval', 'line', {\n  getPoints(shapePoint: ShapePoint) {\n    return getLinePoints(shapePoint);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n    const newStyle = omit({ ...style }, ['fill']);\n    const path = this.parsePath(getRectPath(cfg.points as Point[], false));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...newStyle,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number) => {\n        return [\n          ['M', x, y - r],\n          ['L', x, y + r],\n        ];\n      },\n      style: {\n        r: 5,\n        stroke: color,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getFunnelPath, getRectPoints } from './util';\n\n/**  */\nregisterShape('interval', 'pyramid', {\n  getPoints(shapePoint: ShapePoint) {\n    shapePoint.size = shapePoint.size * 2; //  size \n    return getRectPoints(shapePoint);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, false, true);\n    const path = this.parsePath(getFunnelPath(cfg.points as Point[], cfg.nextPoints as Point[], true));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n","import { isArray } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\n//  tick shape  6 \nfunction getTickPoints(pointInfo: ShapePoint): Point[] {\n  const { x, y, y0, size } = pointInfo;\n  let yMin;\n  let yMax;\n  if (isArray(y)) {\n    [yMin, yMax] = y;\n  } else {\n    yMin = y0;\n    yMax = y;\n  }\n\n  const xMax = (x as number) + size / 2;\n  const xMin = (x as number) - size / 2;\n\n  // tick \n  // 4 - 1 - 5\n  //     |\n  // 2 - 0 - 3\n  return [\n    { x: x as number, y: yMin },\n    { x: x as number, y: yMax },\n    { x: xMin, y: yMin },\n    { x: xMax, y: yMin },\n    { x: xMin, y: yMax },\n    { x: xMax, y: yMax },\n  ];\n}\n\n//  tick  path\nfunction getTickPath(points: Point[]) {\n  return [\n    ['M', points[0].x, points[0].y],\n    ['L', points[1].x, points[1].y],\n    ['M', points[2].x, points[2].y],\n    ['L', points[3].x, points[3].y],\n    ['M', points[4].x, points[4].y],\n    ['L', points[5].x, points[5].y],\n  ];\n}\n\n/** I  error bar chart */\nregisterShape('interval', 'tick', {\n  getPoints(shapePoint: ShapePoint) {\n    return getTickPoints(shapePoint);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false);\n    const path = this.parsePath(getTickPath(cfg.points as Point[]));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number) => {\n        return [\n          ['M', x - r / 2, y - r],\n          ['L', x + r / 2, y - r],\n          ['M', x, y - r],\n          ['L', x, y + r],\n          ['M', x - r / 2, y + r],\n          ['L', x + r / 2, y + r],\n        ];\n      },\n      style: {\n        r: 5,\n        stroke: color,\n      },\n    };\n  },\n});\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getPathPoints } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\nimport { getLineMarker } from './util';\n\nconst interpolateCallback = (point: Point, nextPoint: Point, shapeType: string) => {\n  const x = point.x as number;\n  const y = point.y as number;\n  const nextX = nextPoint.x as number;\n  const nextY = nextPoint.y as number;\n  let result;\n\n  switch (shapeType) {\n    case 'hv':\n      result = [{ x: nextX, y }];\n      break;\n    case 'vh':\n      result = [{ x, y: nextY }];\n      break;\n    case 'hvh':\n      const middleX = (nextX + x) / 2;\n      result = [\n        { x: middleX, y },\n        { x: middleX, y: nextY },\n      ];\n      break;\n    case 'vhv':\n      const middleY = (y + nextY) / 2;\n      result = [\n        { x, y: middleY },\n        { x: nextX, y: middleY },\n      ];\n      break;\n    default:\n      break;\n  }\n\n  return result;\n};\n\nfunction getInterpolatePoints(points: Point[], shapeType: string) {\n  let result = [];\n  each(points, (point: Point, index) => {\n    const nextPoint = points[index + 1];\n    result.push(point);\n    if (nextPoint) {\n      const interpolatePoint = interpolateCallback(point, nextPoint, shapeType);\n      result = result.concat(interpolatePoint);\n    }\n  });\n  return result;\n}\n\n// pathnull\nfunction getInterpolatePath(points: Point[]) {\n  return points.map((point, index) => {\n    return index === 0 ? ['M', point.x, point.y] : ['L', point.x, point.y];\n  });\n}\n\n// \nfunction getInterpolateShapeAttrs(cfg: ShapeInfo, shapeType: string) {\n  const points = getPathPoints(cfg.points, cfg.connectNulls, cfg.showSinglePoint); //  connectNulls  points\n  let path = [];\n  each(points, (eachLinePoints) => {\n    const interpolatePoints = getInterpolatePoints(eachLinePoints, shapeType);\n    path = path.concat(getInterpolatePath(interpolatePoints));\n  });\n\n  return {\n    ...getStyle(cfg, true, false, 'lineWidth'),\n    path,\n  };\n}\n\n// step line\neach(['hv', 'vh', 'hvh', 'vhv'], (shapeType) => {\n  registerShape('line', shapeType, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      const attrs = getInterpolateShapeAttrs(cfg, shapeType);\n      const shape = container.addShape({\n        type: 'path',\n        attrs,\n        name: 'line',\n      });\n\n      return shape;\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      return getLineMarker(markerCfg, shapeType);\n    },\n  });\n});\n","import { isArray, isNil } from '@antv/util';\nimport { IGroup, PathCommand } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nfunction parseValue(value: number[]) {\n  const array = !isArray(value) ? [value] : value;\n\n  const min = array[0]; // \n  const max = array[array.length - 1]; // \n  const min1 = array.length > 1 ? array[1] : min;\n  const max1 = array.length > 3 ? array[3] : max;\n  const median = array.length > 2 ? array[2] : min1;\n\n  return {\n    min, // \n    max, // \n    min1,\n    max1,\n    median,\n  };\n}\n\nfunction getBoxPoints(x: number | number[], y: number | number[], size: number): Point[] {\n  const halfSize = size / 2;\n  let pointsArray;\n  if (isArray(y)) {\n    // 2\n    const { min, max, median, min1, max1 } = parseValue(y);\n    const minX = (x as number) - halfSize;\n    const maxX = (x as number) + halfSize;\n    pointsArray = [\n      [minX, max],\n      [maxX, max],\n      [x as number, max],\n      [x as number, max1],\n      [minX, min1],\n      [minX, max1],\n      [maxX, max1],\n      [maxX, min1],\n      [x as number, min1],\n      [x as number, min],\n      [minX, min],\n      [maxX, min],\n      [minX, median],\n      [maxX, median],\n    ];\n  } else {\n    // \n    y = isNil(y) ? 0.5 : y;\n    const { min, max, median, min1, max1 } = parseValue(x as number[]);\n    const minY = y - halfSize;\n    const maxY = y + halfSize;\n    pointsArray = [\n      [min, minY],\n      [min, maxY],\n      [min, y],\n      [min1, y],\n      [min1, minY],\n      [min1, maxY],\n      [max1, maxY],\n      [max1, minY],\n      [max1, y],\n      [max, y],\n      [max, minY],\n      [max, maxY],\n      [median, minY],\n      [median, maxY],\n    ];\n  }\n\n  return pointsArray.map((arr) => {\n    return {\n      x: arr[0],\n      y: arr[1],\n    };\n  });\n}\n\nfunction getBoxPath(points): PathCommand[] {\n  return [\n    ['M', points[0].x, points[0].y],\n    ['L', points[1].x, points[1].y],\n    ['M', points[2].x, points[2].y],\n    ['L', points[3].x, points[3].y],\n    ['M', points[4].x, points[4].y],\n    ['L', points[5].x, points[5].y],\n    ['L', points[6].x, points[6].y],\n    ['L', points[7].x, points[7].y],\n    ['L', points[4].x, points[4].y], //  z\n    ['Z'],\n    ['M', points[8].x, points[8].y],\n    ['L', points[9].x, points[9].y],\n    ['M', points[10].x, points[10].y],\n    ['L', points[11].x, points[11].y],\n    ['M', points[12].x, points[12].y],\n    ['L', points[13].x, points[13].y],\n  ];\n}\n\n// box shape\nregisterShape('schema', 'box', {\n  getPoints(shapePoint: ShapePoint) {\n    const { x, y, size } = shapePoint;\n    return getBoxPoints(x as number, y as number[], size);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false);\n    const path = this.parsePath(getBoxPath(cfg.points));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n        name: 'schema',\n      },\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol(x: number, y: number, r: number) {\n        const yValues = [y - 6, y - 3, y, y + 3, y + 6];\n        const points = getBoxPoints(x, yValues, r);\n        return [\n          ['M', points[0].x + 1, points[0].y],\n          ['L', points[1].x - 1, points[1].y],\n          ['M', points[2].x, points[2].y],\n          ['L', points[3].x, points[3].y],\n          ['M', points[4].x, points[4].y],\n          ['L', points[5].x, points[5].y],\n          ['L', points[6].x, points[6].y],\n          ['L', points[7].x, points[7].y],\n          ['L', points[4].x, points[4].y],\n          ['Z'],\n          ['M', points[8].x, points[8].y],\n          ['L', points[9].x, points[9].y],\n          ['M', points[10].x + 1, points[10].y],\n          ['L', points[11].x - 1, points[11].y],\n          ['M', points[12].x, points[12].y],\n          ['L', points[13].x, points[13].y],\n        ];\n      },\n      style: {\n        r: 6,\n        lineWidth: 1,\n        stroke: color,\n      },\n    };\n  },\n});\n","import { isArray } from '@antv/util';\nimport { IGroup, PathCommand } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { padEnd } from '../../../util/helper';\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nfunction getCandleYValues(value: number | number[]) {\n  const array = !isArray(value) ? [value] : value;\n  // \n  const sorted = array.sort((a, b) => b - a);\n  return padEnd(sorted, 4, sorted[sorted.length - 1]);\n}\n\n// get candle shape's key points\nfunction getCandlePoints(x: number, y: number[], size: number): Point[] {\n  const yValues = getCandleYValues(y);\n  return [\n    { x, y: yValues[0] },\n    { x, y: yValues[1] },\n    { x: x - size / 2, y: yValues[2] },\n    { x: x - size / 2, y: yValues[1] },\n    { x: x + size / 2, y: yValues[1] },\n    { x: x + size / 2, y: yValues[2] },\n    { x, y: yValues[2] },\n    { x, y: yValues[3] },\n  ];\n}\n\nfunction getCandlePath(points): PathCommand[] {\n  return [\n    ['M', points[0].x, points[0].y],\n    ['L', points[1].x, points[1].y],\n    ['M', points[2].x, points[2].y],\n    ['L', points[3].x, points[3].y],\n    ['L', points[4].x, points[4].y],\n    ['L', points[5].x, points[5].y],\n    ['Z'],\n    ['M', points[6].x, points[6].y],\n    ['L', points[7].x, points[7].y],\n  ];\n}\n\n// k line shape\nregisterShape('schema', 'candle', {\n  getPoints(shapePoint: ShapePoint) {\n    const { x, y, size } = shapePoint;\n    return getCandlePoints(x as number, y as number[], size);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, true);\n    const path = this.parsePath(getCandlePath(cfg.points));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n        name: 'schema',\n      },\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol(x: number, y: number, r: number) {\n        const yValues = [y + 7.5, y + 3, y - 3, y - 7.5];\n        const points = getCandlePoints(x, yValues, r);\n        return [\n          ['M', points[0].x, points[0].y],\n          ['L', points[1].x, points[1].y],\n          ['M', points[2].x, points[2].y],\n          ['L', points[3].x, points[3].y],\n          ['L', points[4].x, points[4].y],\n          ['L', points[5].x, points[5].y],\n          ['Z'],\n          ['M', points[6].x, points[6].y],\n          ['L', points[7].x, points[7].y],\n        ];\n      },\n      style: {\n        lineWidth: 1,\n        stroke: color,\n        fill: color,\n        r: 6,\n      },\n    };\n  },\n});\n","import { isEmpty, clamp } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nfunction getRectAttrs(points: any[], size: number) {\n  const width = Math.abs(points[0].x - points[2].x);\n  const height = Math.abs(points[0].y - points[2].y);\n\n  let len = Math.min(width, height);\n  if (size) {\n    len = clamp(size, 0, Math.min(width, height));\n  }\n  len = len / 2;\n  const centerX = (points[0].x + points[2].x) / 2;\n  const centerY = (points[0].y + points[2].y) / 2;\n\n  return {\n    x: centerX - len,\n    y: centerY - len,\n    width: len * 2,\n    height: len * 2,\n  };\n}\n\nregisterShape('polygon', 'square', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    if (!isEmpty(cfg.points)) {\n      const shapeAttrs = getStyle(cfg, true, true);\n      const points = this.parsePoints(cfg.points); // \n      return container.addShape('rect', {\n        attrs: {\n          ...shapeAttrs,\n          ...getRectAttrs(points, cfg.size), //  rect \n        },\n        name: 'polygon',\n      });\n    }\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { MarkerSymbols } from '../../../util/marker';\nimport { registerShape } from '../base';\nimport { drawPoints, HOLLOW_SHAPES } from './util';\n\n//  hollowShape\neach(HOLLOW_SHAPES, (shapeName: string) => {\n  registerShape('point', shapeName, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      return drawPoints(this, cfg, container, shapeName, true);\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      const { color } = markerCfg;\n      return {\n        symbol: MarkerSymbols[shapeName],\n        style: {\n          r: 4.5,\n          stroke: color,\n          fill: null,\n        },\n      };\n    },\n  });\n});\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nregisterShape('point', 'image', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const { r: size } = getStyle(cfg, false, false, 'r');\n    const points = this.parsePoints(cfg.points);\n    let pointPosition = points[0];\n    if (cfg.isStack) {\n      pointPosition = points[1];\n    } else if (points.length > 1) {\n      const group = container.addGroup();\n      for (const point of points) {\n        group.addShape('image', {\n          attrs: {\n            x: (point.x as number) - size / 2,\n            y: (point.y as number) - size,\n            width: size,\n            height: size,\n            img: cfg.shape[1],\n          },\n        });\n      }\n\n      return group;\n    }\n\n    return container.addShape('image', {\n      attrs: {\n        x: (pointPosition.x as number) - size / 2,\n        y: (pointPosition.y as number) - size,\n        width: size,\n        height: size,\n        img: cfg.shape[1],\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: color,\n      },\n    };\n  },\n});\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { MarkerSymbols } from '../../../util/marker';\nimport { registerShape } from '../base';\nimport { drawPoints, SHAPES } from './util';\n\n//  SHAPES \neach(SHAPES, (shapeName: string) => {\n  registerShape('point', shapeName, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      return drawPoints(this, cfg, container, shapeName, false);\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      const { color } = markerCfg;\n      return {\n        symbol: MarkerSymbols[shapeName] || shapeName,\n        style: {\n          r: 4.5,\n          fill: color,\n        },\n      };\n    },\n  });\n});\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\nimport { registerShape } from '../base';\nimport { getSmoothViolinPath } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\n\n/**\n * \n */\nregisterShape('violin', 'smooth', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getStyle(cfg, true, true);\n    const path = this.parsePath(getSmoothViolinPath(cfg.points));\n    return container.addShape('path', {\n      attrs: {\n        ...attrs,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        stroke: null,\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n","import { IGroup, Point } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\nimport { registerShape } from '../base';\nimport { getSmoothViolinPath, getViolinPath } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\n\n/**\n * \n */\nregisterShape('violin', 'hollow', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getStyle(cfg, true, false);\n    const path = this.parsePath(getViolinPath(cfg.points));\n    return container.addShape('path', {\n      attrs: {\n        ...attrs,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4,\n        fill: null,\n        stroke: color,\n      },\n    };\n  },\n});\n\n/**\n * \n */\nregisterShape('violin', 'hollow-smooth', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getStyle(cfg, true, false);\n    const path = this.parsePath(getSmoothViolinPath(cfg.points));\n    return container.addShape('path', {\n      attrs: {\n        ...attrs,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4,\n        fill: null,\n        stroke: color,\n      },\n    };\n  },\n});\n","import { get, deepMix, isArray } from '@antv/util';\nimport { Writeable } from '../../util/types';\nimport { MappingDatum, Point } from '../../interface';\nimport GeometryLabel from './base';\nimport { LabelCfg, LabelItem, LabelPointCfg, TextAlign } from './interface';\n\n/**\n *  label\n */\nexport default class IntervalLabel extends GeometryLabel {\n  /**\n   *  interval label  value \n   * @param labelCfg\n   */\n  private getLabelValueDir(mappingData: MappingDatum) {\n    // points  x/y  transpose \n    const dim = 'y';\n    const { points } = mappingData;\n\n    return points[0][dim] <= points[2][dim] ? 1 : -1;\n  }\n\n  /**\n   *  interval  label \n   * @param labelCfg\n   * @param index\n   * @param total\n   */\n  protected getLabelOffsetPoint(labelCfg: LabelCfg, index: number, total: number, position?: string) {\n    let point = super.getLabelOffsetPoint(labelCfg, index, total);\n    const coordinate = this.getCoordinate();\n    const transposed = coordinate.isTransposed;\n    const dim = transposed ? 'x' : 'y';\n    const dir = this.getLabelValueDir(labelCfg.mappingData);\n    point = { ...point, [dim]: point[dim] * dir };\n\n    if (coordinate.isReflect('x')) {\n      point = {\n        ...point,\n        x: point.x * -1,\n      };\n    }\n    if (coordinate.isReflect('y')) {\n      point = {\n        ...point,\n        y: point.y * -1,\n      };\n    }\n\n    return point;\n  }\n\n  /**\n   *  interval label \n   * @param labelCfg\n   */\n  protected getThemedLabelCfg(labelCfg: LabelCfg) {\n    const geometry = this.geometry;\n    const defaultLabelCfg = this.getDefaultLabelCfg();\n    const { theme } = geometry;\n\n    //  interval label position  middle offset  0\n    return deepMix({}, defaultLabelCfg, theme.labels, labelCfg.position === 'middle' ? { offset: 0 } : {}, labelCfg);\n  }\n\n  protected setLabelPosition(\n    labelPointCfg: Writeable<LabelPointCfg>,\n    mappingData: MappingDatum,\n    index: number,\n    position: string\n  ) {\n    const coordinate = this.getCoordinate();\n    const transposed = coordinate.isTransposed;\n    const shapePoints = mappingData.points as Point[];\n    const point0 = coordinate.convert(shapePoints[0]);\n    const point2 = coordinate.convert(shapePoints[2]);\n    const dir = this.getLabelValueDir(mappingData);\n\n    let top;\n    let right;\n    let bottom;\n    let left;\n\n    const shape = isArray(mappingData.shape) ? mappingData.shape[0] : mappingData.shape;\n    if (shape === 'funnel' || shape === 'pyramid') {\n      // \n      const nextPoints = get(mappingData, 'nextPoints');\n      const points = get(mappingData, 'points');\n      if (nextPoints) {\n        // \n        const p0 = coordinate.convert(points[0] as Point);\n        const p1 = coordinate.convert(points[1] as Point);\n        const nextP0 = coordinate.convert(nextPoints[0] as Point);\n        const nextP1 = coordinate.convert(nextPoints[1] as Point);\n\n        // TODO: \n        if (transposed) {\n          top = Math.min(nextP0.y, p0.y);\n          bottom = Math.max(nextP0.y, p0.y);\n          right = (p1.x + nextP1.x) / 2;\n          left = (p0.x + nextP0.x) / 2;\n        } else {\n          top = Math.min((p1.y + nextP1.y) / 2, (p0.y + nextP0.y) / 2);\n          bottom = Math.max((p1.y + nextP1.y) / 2, (p0.y + nextP0.y) / 2);\n          right = nextP1.x;\n          left = p0.x;\n        }\n      } else {\n        top = Math.min(point2.y, point0.y);\n        bottom = Math.max(point2.y, point0.y);\n        right = point2.x;\n        left = point0.x;\n      }\n    } else {\n      top = Math.min(point2.y, point0.y);\n      bottom = Math.max(point2.y, point0.y);\n      right = point2.x;\n      left = point0.x;\n    }\n\n    switch (position) {\n      case 'right':\n        labelPointCfg.x = right;\n        labelPointCfg.y = (top + bottom) / 2;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', dir > 0 ? 'left' : 'right');\n        break;\n      case 'left':\n        labelPointCfg.x = left;\n        labelPointCfg.y = (top + bottom) / 2;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', dir > 0 ? 'left' : 'right');\n        break;\n      case 'bottom':\n        if (transposed) {\n          labelPointCfg.x = (right + left) / 2;\n        }\n        labelPointCfg.y = bottom;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', 'center');\n        labelPointCfg.textBaseline = get(labelPointCfg, 'textBaseline', dir > 0 ? 'bottom' : 'top');\n        break;\n      case 'middle':\n        if (transposed) {\n          labelPointCfg.x = (right + left) / 2;\n        }\n        labelPointCfg.y = (top + bottom) / 2;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', 'center');\n        labelPointCfg.textBaseline = get(labelPointCfg, 'textBaseline', 'middle');\n        break;\n      case 'top':\n        if (transposed) {\n          labelPointCfg.x = (right + left) / 2;\n        }\n        labelPointCfg.y = top;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', 'center');\n        labelPointCfg.textBaseline = get(labelPointCfg, 'textBaseline', dir > 0 ? 'bottom' : 'top');\n        break;\n      default:\n        break;\n    }\n  }\n}\n","import { each, get, isArray, map, isNumber, isString } from '@antv/util';\nimport { MappingDatum, Point } from '../../interface';\nimport { getDistanceToCenter } from '../../util/coordinate';\nimport { getAngleByPoint } from '../../util/coordinate';\nimport GeometryLabel from './base';\nimport { LabelCfg, LabelItem, PolarLabelItem, LabelPointCfg, Writeable } from './interface';\n\nconst HALF_PI = Math.PI / 2;\n\n/**\n *  label\n */\nexport default class PolarLabel extends GeometryLabel {\n  /**\n   * @override\n   * @desc  label offset\n   * polar & theta coordinate supportstringtype, should transform to number\n   */\n  protected getLabelOffset(offset: number | string): number {\n    const coordinate = this.getCoordinate();\n    let actualOffset = 0;\n    if (isNumber(offset)) {\n      actualOffset = offset;\n    } else if (isString(offset) && offset.indexOf('%') !== -1) {\n      let r = coordinate.getRadius();\n      if (coordinate.innerRadius > 0) {\n        r = r * (1 - coordinate.innerRadius);\n      }\n      actualOffset = parseFloat(offset) * 0.01 * r;\n    }\n\n    return actualOffset;\n  }\n\n  /**\n   * @override\n   *  labelItems,  percent\n   * @param mapppingArray\n   */\n  public getLabelItems(mapppingArray: MappingDatum[]): PolarLabelItem[] {\n    const items = super.getLabelItems(mapppingArray);\n    const yScale = this.geometry.getYScale();\n\n    return map(items, (item) => {\n      if (item && yScale) {\n        const percent = yScale.scale(get(item.data, yScale.field));\n        return { ...item, percent };\n      }\n      return item;\n    });\n  }\n  /**\n   * @override\n   * \n   * @param point\n   */\n  protected getLabelAlign(point: LabelItem) {\n    const coordinate = this.getCoordinate();\n    let align;\n    if (point.labelEmit) {\n      align = point.angle <= Math.PI / 2 && point.angle >= -Math.PI / 2 ? 'left' : 'right';\n    } else if (!coordinate.isTransposed) {\n      align = 'center';\n    } else {\n      const center = coordinate.getCenter();\n      const offset = point.offset;\n      if (Math.abs(point.x - center.x) < 1) {\n        align = 'center';\n      } else if (point.angle > Math.PI || point.angle <= 0) {\n        align = offset > 0 ? 'left' : 'right';\n      } else {\n        align = offset > 0 ? 'right' : 'left';\n      }\n    }\n    return align;\n  }\n\n  /**\n   * @override\n   *  label \n   * @param labelCfg\n   * @param mappingData\n   * @param index\n   */\n  protected getLabelPoint(labelCfg: LabelCfg, mappingData: MappingDatum, index: number): LabelPointCfg {\n    let factor = 1;\n    let arcPoint;\n    const content = labelCfg.content[index];\n    if (this.isToMiddle(mappingData)) {\n      arcPoint = this.getMiddlePoint(mappingData.points as Point[]);\n    } else {\n      if (labelCfg.content.length === 1 && index === 0) {\n        index = 1;\n      } else if (index === 0) {\n        factor = -1;\n      }\n      arcPoint = this.getArcPoint(mappingData, index);\n    }\n\n    const offset = labelCfg.offset * factor;\n    const middleAngle = this.getPointAngle(arcPoint);\n    const isLabelEmit = labelCfg.labelEmit;\n    const labelPositionCfg: Writeable<LabelPointCfg> = this.getCirclePoint(middleAngle, offset, arcPoint, isLabelEmit);\n    if (labelPositionCfg.r === 0) {\n      // \n      labelPositionCfg.content = '';\n    } else {\n      labelPositionCfg.content = content;\n      labelPositionCfg.angle = middleAngle;\n      labelPositionCfg.color = mappingData.color;\n    }\n\n    labelPositionCfg.rotate = labelCfg.autoRotate\n      ? this.getLabelRotate(middleAngle, offset, isLabelEmit)\n      : labelCfg.rotate;\n    labelPositionCfg.start = {\n      x: arcPoint.x,\n      y: arcPoint.y,\n    };\n    return labelPositionCfg;\n  }\n\n  /**\n   * \n   */\n  protected getArcPoint(mappingData: MappingDatum, index: number = 0): Point {\n    if (!isArray(mappingData.x) && !isArray(mappingData.y)) {\n      return {\n        x: mappingData.x,\n        y: mappingData.y,\n      };\n    }\n\n    return {\n      x: isArray(mappingData.x) ? mappingData.x[index] : mappingData.x,\n      y: isArray(mappingData.y) ? mappingData.y[index] : mappingData.y,\n    };\n  }\n\n  /**\n   * \n   * @param point\n   */\n  protected getPointAngle(point: Point): number {\n    return getAngleByPoint(this.getCoordinate(), point);\n  }\n\n  /**\n   * \n   * @param angle\n   * @param offset\n   * @param point\n   * @param isLabelEmit\n   */\n  protected getCirclePoint(angle: number, offset: number, point: Point, isLabelEmit: boolean) {\n    const coordinate = this.getCoordinate();\n    const center = coordinate.getCenter();\n    let r = getDistanceToCenter(coordinate, point);\n    if (r === 0) {\n      return {\n        ...center,\n        r,\n      };\n    }\n\n    let labelAngle = angle;\n    if (coordinate.isTransposed && r > offset && !isLabelEmit) {\n      const appendAngle = Math.asin(offset / (2 * r));\n      labelAngle = angle + appendAngle * 2;\n    } else {\n      r = r + offset;\n    }\n\n    return {\n      x: center.x + r * Math.cos(labelAngle),\n      y: center.y + r * Math.sin(labelAngle),\n      r,\n    };\n  }\n\n  /**\n   *  label \n   * @param angle\n   * @param offset\n   * @param isLabelEmit\n   */\n  protected getLabelRotate(angle: number, offset: number, isLabelEmit: boolean) {\n    let rotate = angle + HALF_PI;\n    if (isLabelEmit) {\n      rotate -= HALF_PI;\n    }\n    if (rotate) {\n      if (rotate > HALF_PI) {\n        rotate = rotate - Math.PI;\n      } else if (rotate < -HALF_PI) {\n        rotate = rotate + Math.PI;\n      }\n    }\n    return rotate;\n  }\n\n  // \n  private getMiddlePoint(points: Point[]) {\n    const coordinate = this.getCoordinate();\n    const count = points.length;\n    let middlePoint = {\n      x: 0,\n      y: 0,\n    };\n    each(points, (point: Point) => {\n      middlePoint.x += point.x;\n      middlePoint.y += point.y;\n    });\n    middlePoint.x /= count;\n    middlePoint.y /= count;\n\n    middlePoint = coordinate.convert(middlePoint);\n    return middlePoint;\n  }\n\n  // \n  private isToMiddle(mappingData: MappingDatum) {\n    return (mappingData.x as number[]).length > 2;\n  }\n}\n","import { deepMix, get, isArray } from '@antv/util';\nimport { getAngleByPoint } from '../../util/coordinate';\nimport { polarToCartesian } from '../../util/graphics';\nimport { LabelItem } from './interface';\nimport PolarLabel from './polar';\n\n/**\n *  label\n */\nexport default class PieLabel extends PolarLabel {\n  public defaultLayout = 'distribute';\n\n  protected getDefaultLabelCfg(offset?: number, position?: string) {\n    const cfg = super.getDefaultLabelCfg(offset, position);\n    return deepMix({}, cfg, get(this.geometry.theme, 'pieLabels', {}));\n  }\n\n  /** @override */\n  protected getLabelOffset(offset: string | number): number {\n    return super.getLabelOffset(offset) || 0;\n  }\n\n  protected getLabelRotate(angle: number, offset: number, isLabelLimit: boolean) {\n    let rotate;\n    if (offset < 0) {\n      rotate = angle;\n      if (rotate > Math.PI / 2) {\n        rotate = rotate - Math.PI;\n      }\n      if (rotate < -Math.PI / 2) {\n        rotate = rotate + Math.PI;\n      }\n    }\n    return rotate;\n  }\n\n  protected getLabelAlign(point: LabelItem) {\n    const coordinate = this.getCoordinate();\n    const center = coordinate.getCenter();\n\n    let align;\n    if (point.angle <= Math.PI / 2 && point.x >= center.x) {\n      align = 'left';\n    } else {\n      align = 'right';\n    }\n    if (point.offset <= 0) {\n      if (align === 'right') {\n        align = 'left';\n      } else {\n        align = 'right';\n      }\n    }\n    return align;\n  }\n\n  protected getArcPoint(point) {\n    return point;\n  }\n\n  protected getPointAngle(point) {\n    const coordinate = this.getCoordinate();\n    const startPoint = {\n      x: isArray(point.x) ? point.x[0] : point.x,\n      y: point.y[0],\n    };\n    const endPoint = {\n      x: isArray(point.x) ? point.x[1] : point.x,\n      y: point.y[1],\n    };\n    let angle;\n    const startAngle = getAngleByPoint(coordinate, startPoint);\n    if (point.points && point.points[0].y === point.points[1].y) {\n      angle = startAngle;\n    } else {\n      let endAngle = getAngleByPoint(coordinate, endPoint);\n      if (startAngle >= endAngle) {\n        // 100% pie slice\n        endAngle = endAngle + Math.PI * 2;\n      }\n      angle = startAngle + (endAngle - startAngle) / 2;\n    }\n    return angle;\n  }\n\n  /** @override */\n  protected getCirclePoint(angle: number, offset: number) {\n    const coordinate = this.getCoordinate();\n    const center = coordinate.getCenter();\n    const r = coordinate.getRadius() + offset;\n    return {\n      ...polarToCartesian(center.x, center.y, r, angle),\n      angle,\n      r,\n    };\n  }\n}\n","import { PolarLabelItem } from '../../interface';\n\n/**\n * \n */\nexport function antiCollision(\n  items: PolarLabelItem[],\n  labelHeight: number,\n  plotRange: { minY: number; maxY: number; minX: number; maxX: number }\n) {\n  const labels = items.filter((item) => !item.invisible);\n\n  // sorted by y, mutable\n  labels.sort((a, b) => a.y - b.y);\n  // adjust y position of labels to avoid overlapping\n  let overlapping = true;\n  const startY = plotRange.minY;\n  const endY = plotRange.maxY;\n  let totalHeight = Math.abs(startY - endY);\n  let i;\n\n  let maxY = 0;\n  let minY = Number.MIN_VALUE;\n  const boxes = labels.map((label) => {\n    if (label.y > maxY) {\n      maxY = label.y;\n    }\n    if (label.y < minY) {\n      minY = label.y;\n    }\n    return {\n      content: label.content,\n      size: labelHeight,\n      targets: [label.y - startY],\n      pos: null,\n    };\n  });\n\n  minY -= startY;\n  if (maxY - startY > totalHeight) {\n    totalHeight = maxY - startY;\n  }\n\n  while (overlapping) {\n    /* eslint no-loop-func: 0 */\n    boxes.forEach((box) => {\n      const target = (Math.min.apply(minY, box.targets) + Math.max.apply(minY, box.targets)) / 2;\n      box.pos = Math.min(Math.max(minY, target - box.size / 2), totalHeight - box.size);\n      box.pos = Math.max(0, box.pos);\n    });\n\n    // detect overlapping and join boxes\n    overlapping = false;\n    i = boxes.length;\n    while (i--) {\n      if (i > 0) {\n        const previousBox = boxes[i - 1];\n        const box = boxes[i];\n        if (previousBox.pos + previousBox.size > box.pos) {\n          // overlapping\n          previousBox.size += box.size;\n          previousBox.targets = previousBox.targets.concat(box.targets);\n\n          // overflow, shift up\n          if (previousBox.pos + previousBox.size > totalHeight) {\n            previousBox.pos = totalHeight - previousBox.size;\n          }\n          boxes.splice(i, 1); // removing box\n          overlapping = true;\n        }\n      }\n    }\n  }\n\n  i = 0;\n  // step 4: normalize y and adjust x\n  boxes.forEach((b) => {\n    let posInCompositeBox = startY + labelHeight / 2; // middle of the label\n    b.targets.forEach(() => {\n      labels[i].y = b.pos + posInCompositeBox;\n      posInCompositeBox += labelHeight;\n      i++;\n    });\n  });\n}\n","import { each } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { LabelItem } from '../interface';\n\nconst MAX_TIMES = 100;\n\n/** @ignore */\ninterface Bitmap {\n  [key: number]: {\n    [key: number]: boolean;\n  };\n}\n\n/** @ignore */\ninterface GreedyCfg {\n  readonly xGap?: number;\n  readonly yGap?: number;\n}\n\n/**\n * @ignore\n * Greedy \n */\nclass Greedy {\n  public readonly xGap: number;\n  /** optimizing for text overlapping detection: use a min text height as gap */\n  public readonly yGap: number;\n\n  private bitmap: Bitmap = {};\n\n  constructor(cfg: GreedyCfg = {}) {\n    const { xGap = 1, yGap = 8 } = cfg;\n    this.xGap = xGap;\n    this.yGap = yGap;\n  }\n\n  public hasGap(bbox: BBox): boolean {\n    let hasGap = true;\n    const bitmap = this.bitmap;\n    const minX = Math.round(bbox.minX);\n    const maxX = Math.round(bbox.maxX);\n    const minY = Math.round(bbox.minY);\n    const maxY = Math.round(bbox.maxY);\n    for (let i = minX; i <= maxX; i += 1) {\n      if (!bitmap[i]) {\n        bitmap[i] = {};\n        continue;\n      }\n      if (i === minX || i === maxX) {\n        for (let j = minY; j <= maxY; j++) {\n          if (bitmap[i][j]) {\n            hasGap = false;\n            break;\n          }\n        }\n      } else {\n        if (bitmap[i][minY] || bitmap[i][maxY]) {\n          hasGap = false;\n          break;\n        }\n      }\n    }\n    return hasGap;\n  }\n\n  public fillGap(bbox: BBox): void {\n    const bitmap = this.bitmap;\n    const minX = Math.round(bbox.minX);\n    const maxX = Math.round(bbox.maxX);\n    const minY = Math.round(bbox.minY);\n    const maxY = Math.round(bbox.maxY);\n    // filling grid\n    for (let i = minX; i <= maxX; i += 1) {\n      if (!bitmap[i]) {\n        bitmap[i] = {};\n      }\n    }\n    for (let i = minX; i <= maxX; i += this.xGap) {\n      for (let j = minY; j <= maxY; j += this.yGap) {\n        bitmap[i][j] = true;\n      }\n      bitmap[i][maxY] = true;\n    }\n\n    // filling y edges\n    if (this.yGap !== 1) {\n      for (let i = minY; i <= maxY; i += 1) {\n        bitmap[minX][i] = true;\n        bitmap[maxX][i] = true;\n      }\n    }\n\n    // filling x edges\n    if (this.xGap !== 1) {\n      for (let i = minX; i <= maxX; i += 1) {\n        bitmap[i][minY] = true;\n        bitmap[i][maxY] = true;\n      }\n    }\n  }\n\n  public destroy(): void {\n    this.bitmap = {};\n  }\n}\n\nfunction spiralFill(label: IShape, greedy: Greedy, maxTimes: number = MAX_TIMES) {\n  const dt = -1;\n  const { x, y } = label.attr();\n  const bbox = label.getCanvasBBox();\n  const maxDelta = Math.sqrt(bbox.width * bbox.width + bbox.height * bbox.height);\n  let dxdy;\n  let t = -dt;\n  let dx = 0;\n  let dy = 0;\n  const f = (param: number) => {\n    const nt = param * 0.1;\n    return [nt * Math.cos(nt), nt * Math.sin(nt)];\n  };\n\n  if (greedy.hasGap(bbox)) {\n    greedy.fillGap(bbox);\n    return true;\n  }\n  let canFill = false;\n  let times = 0;\n  const accessedCache = {};\n  while (Math.min(Math.abs(dx), Math.abs(dy)) < maxDelta && times < maxTimes) {\n    dxdy = f((t += dt));\n    dx = ~~dxdy[0];\n    dy = ~~dxdy[1];\n    if ((!dx && !dy) || accessedCache[`${dx}-${dy}`]) {\n      continue;\n    }\n    label.attr({ x: x + dx, y: y + dy });\n    if (dx + dy < 0) {\n      label.attr('textAlign', 'right');\n    }\n    times++;\n    if (greedy.hasGap(label.getCanvasBBox())) {\n      greedy.fillGap(label.getCanvasBBox());\n      canFill = true;\n      accessedCache[`${dx}-${dy}`] = true;\n      break;\n    }\n  }\n  return canFill;\n}\n\n/*\n *  label\n *                5\n *        ------------------\n *        |    1   |   0   |\n *    8   4   7\n *        |    2   |   3   |\n *        \n *                 6\n */\nfunction adjustLabelPosition(label: IShape, x: number, y: number, index: number) {\n  const { width, height } = label.getCanvasBBox();\n  const attrs = {\n    x,\n    y,\n    textAlign: 'center',\n  };\n  switch (index) {\n    case 0:\n      attrs.y -= height + 1;\n      attrs.x += 1;\n      attrs.textAlign = 'left';\n      break;\n    case 1:\n      attrs.y -= height + 1;\n      attrs.x -= 1;\n      attrs.textAlign = 'right';\n      break;\n    case 2:\n      attrs.y += height + 1;\n      attrs.x -= 1;\n      attrs.textAlign = 'right';\n      break;\n    case 3:\n      attrs.y += height + 1;\n      attrs.x += 1;\n      attrs.textAlign = 'left';\n      break;\n    case 5:\n      attrs.y -= height * 2 + 2;\n      break;\n    case 6:\n      attrs.y += height * 2 + 2;\n      break;\n    case 7:\n      attrs.x += width + 1;\n      attrs.textAlign = 'left';\n      break;\n    case 8:\n      attrs.x -= width + 1;\n      attrs.textAlign = 'right';\n      break;\n    default:\n      break;\n  }\n  label.attr(attrs);\n  return label.getCanvasBBox();\n}\n\n/**\n * @ignore\n * label  label  label \n *  'overlap'  label \n * @param labels  label \n */\nexport function fixedOverlap(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  const greedy = new Greedy();\n  each(labels, (label: IGroup) => {\n    const labelShape = label.find((shape) => shape.get('type') === 'text') as IShape;\n    if (!spiralFill(labelShape, greedy)) {\n      label.remove(true);\n    }\n  });\n  greedy.destroy();\n}\n\n/**\n * @ignore\n * label  label   label  label **** label\n * @param labels  label \n */\nexport function overlap(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  const greedy = new Greedy();\n  each(labels, (label: IGroup) => {\n    const labelShape = label.find((shape) => shape.get('type') === 'text') as IShape;\n    const { x, y } = labelShape.attr();\n    let canFill = false;\n    for (let i = 0; i <= 8; i++) {\n      const bbox = adjustLabelPosition(labelShape, x, y, i);\n      if (greedy.hasGap(bbox)) {\n        greedy.fillGap(bbox);\n        canFill = true;\n        break;\n      }\n    }\n    if (!canFill) {\n      label.remove(true);\n    }\n  });\n\n  greedy.destroy();\n}\n","import { isNumber } from '@antv/util';\nimport { vec2 } from '@antv/matrix-util';\nimport { BBox, Point } from '../dependents';\n\nconst { dot } = vec2;\ntype Vec2 = [number, number];\n\ntype Box = Pick<BBox, 'x' | 'y' | 'width' | 'height'> & { rotation?: number };\n\n/**\n * \n */\ntype Projection = { min: number; max: number };\n\n/**\n * @private\n * 1. \n */\nfunction getAxes(points: Point[] /**  */): Vec2[] {\n  //   , \n  if (points.length > 4) {\n    return [];\n  }\n  // \n  const vector = (start: Point, end: Point): Vec2 => {\n    return [end.x - start.x, end.y - start.y];\n  };\n\n  //   2 : A -> B, B -> C\n  const AB = vector(points[0], points[1]);\n  const BC = vector(points[1], points[2]);\n\n  return [AB, BC];\n}\n\n/**\n * @private\n * \n * \n */\nfunction rotateAtPoint(point: Point, deg = 0, origin = { x: 0, y: 0 }): Point {\n  const { x, y } = point;\n  return {\n    x: (x - origin.x) * Math.cos(-deg) + (y - origin.y) * Math.sin(-deg) + origin.x,\n    y: (origin.x - x) * Math.sin(-deg) + (y - origin.y) * Math.cos(-deg) + origin.y,\n  };\n}\n\n/**\n * @private\n * \n *\n * @param {Object} box\n */\nfunction getRectPoints(box: Box): Point[] {\n  const points = [\n    { x: box.x, y: box.y },\n    { x: box.x + box.width, y: box.y },\n    { x: box.x + box.width, y: box.y + box.height },\n    { x: box.x, y: box.y + box.height },\n  ];\n\n  const rotation = box.rotation;\n  if (rotation) {\n    return [\n      rotateAtPoint(points[0], rotation, points[0]),\n      rotateAtPoint(points[1], rotation, points[0]),\n      rotateAtPoint(points[2], rotation, points[0]),\n      rotateAtPoint(points[3], rotation, points[0]),\n    ];\n  }\n\n  return points;\n}\n\n/**\n * @private\n * 2. \n *\n * \n * 1 x1 * x2 + y1 * y2\n */\nfunction getProjection(points: Point[] /**  */, axis: Vec2): Projection {\n  // \n  if (points.length > 4) {\n    return { min: 0, max: 0 };\n  }\n\n  const scalars = [];\n  points.forEach((point) => {\n    scalars.push(dot([point.x, point.y], axis));\n  });\n\n  return { min: Math.min(...scalars), max: Math.max(...scalars) };\n}\n\nfunction isProjectionOverlap(projection1: Projection, projection2: Projection): boolean {\n  return projection1.max > projection2.min && projection1.min < projection2.max;\n}\n\nfunction isValidNumber(d: number) {\n  return isNumber(d) && !Number.isNaN(d) && d !== Infinity && d !== -Infinity;\n}\n\nfunction isValidBox(box: Box) {\n  return Object.values(box).every(isValidNumber);\n}\n\n/**\n * \n */\nexport function isIntersectRect(box1: Box, box2: Box, margin: number = 0): boolean {\n  return !(\n    box2.x > box1.x + box1.width + margin ||\n    box2.x + box2.width < box1.x - margin ||\n    box2.y > box1.y + box1.height + margin ||\n    box2.y + box2.height < box1.y - margin\n  );\n}\n\n/**\n * detect whether two shape is intersected, useful when shape is been rotated\n * , \n *\n * - : \n */\nexport function isIntersect(box1: Box, box2: Box) {\n  //  box  box\n  if (!isValidBox(box1) || !isValidBox(box2)) return false;\n\n  // \n  if (!box1.rotation && !box2.rotation) {\n    return isIntersectRect(box1, box2);\n  }\n\n  //  4 \n  const rect1Points = getRectPoints(box1);\n  const rect2Points = getRectPoints(box2);\n\n  // \n  const axes = [...getAxes(rect1Points), ...getAxes(rect2Points)];\n\n  for (let i = 0; i < axes.length; i++) {\n    const axis = axes[i];\n    const projection1 = getProjection(rect1Points, axis);\n    const projection2 = getProjection(rect2Points, axis);\n\n    // \n    if (!isProjectionOverlap(projection1, projection2)) return false;\n  }\n\n  return true;\n}\n","import colorUtil from '@antv/color-util';\n\n// \nconst preset = {\n  '#5B8FF9': true,\n};\n\n// YIQ\n// http://24ways.org/2010/calculating-color-contrast\n// http://www.w3.org/TR/AERT#color-contrast\nexport const isContrastColorWhite = (color: string): boolean => {\n  const rgb = colorUtil.toRGB(color).toUpperCase();\n  if (preset[rgb]) {\n    return preset[rgb];\n  }\n\n  const [r, g, b] = colorUtil.rgb2arr(rgb);\n  const isDark = (r * 299 + g * 587 + b * 114) / 1000 < 128;\n\n  return isDark;\n};\n","let ctx: CanvasRenderingContext2D;\n\n/**\n *  canvas context\n */\nexport function getCanvasContext() {\n  if (!ctx) {\n    ctx = document.createElement('canvas').getContext('2d');\n  }\n\n  return ctx;\n}\n","import { IElement, IGroup, IShape } from '../../../../dependents';\nimport { BBox } from '../../../../util/bbox';\nimport Geometry from '../../../base';\nimport Element from '../../../element';\nimport { LabelItem } from '../../interface';\nimport { findLabelTextShape } from '../../util';\n\nfunction shouldInShapeSingle(geometry: Geometry, label: IGroup, shape: IElement): boolean {\n  const coordinate = geometry.coordinate;\n  const textShape = findLabelTextShape(label);\n  const textBBox = BBox.fromObject(textShape.getCanvasBBox());\n  const shapeBBox = BBox.fromObject(shape.getBBox());\n\n  return coordinate.isTransposed ? shapeBBox.height >= textBBox.height : shapeBBox.width >= textBBox.width;\n}\n\nfunction shouldInShape(geometry: Geometry, labels: IGroup[], shapes: IShape[] | IGroup[]): boolean {\n  const isStack = !!geometry.getAdjust('stack');\n\n  return (\n    isStack ||\n    labels.every((label: IGroup, index: number) => {\n      const shape = shapes[index];\n      return shouldInShapeSingle(geometry, label, shape);\n    })\n  );\n}\n\nfunction moveInShape(geometry: Geometry, label: IGroup, shape: IElement): void {\n  const coordinate = geometry.coordinate;\n  const shapeBBox = BBox.fromObject(shape.getBBox());\n  const textShape = findLabelTextShape(label);\n\n  if (coordinate.isTransposed) {\n    // \n    textShape.attr({\n      x: shapeBBox.minX + shapeBBox.width / 2,\n      textAlign: 'center',\n    });\n  } else {\n    // \n    textShape.attr({\n      y: shapeBBox.minY + shapeBBox.height / 2,\n      textBaseline: 'middle',\n    });\n  }\n}\n\n/**\n *  interval geometry \n * @param items\n * @param labels\n * @param shapes\n */\nexport function intervalAdjustPosition(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[]) {\n  if (shapes.length === 0) {\n    return;\n  }\n  const element: Element = shapes[0]?.get('element');\n  const geometry: Geometry = element?.geometry;\n  if (!geometry || geometry.type !== 'interval') {\n    return;\n  }\n\n  const inShape = shouldInShape(geometry, labels, shapes);\n  if (inShape) {\n    shapes.forEach((shape: IShape | IGroup, index: number) => {\n      const label = labels[index];\n      moveInShape(geometry, label, shape);\n    });\n  }\n}\n","import { groupBy, keys, map } from '@antv/util';\nimport { IElement, IGroup, IShape, BBox } from '../../../../dependents';\nimport Geometry from '../../../base';\nimport Element from '../../../element';\nimport { LabelItem } from '../../interface';\nimport { findLabelTextShape } from '../../util';\n\n/**\n * point-adjust-position layout \n */\nexport interface PointAdjustPositionLayoutCfg {\n  offset?: number;\n}\n\n/**\n * ( xField ) Label ...\n * @param geometry\n * @param labels\n */\nfunction sortLabels(geometry: Geometry, labels: IGroup[]) {\n  const yField = geometry.getXYFields()[1];\n  const result: IGroup[] = [];\n  const sortedLabels = labels.sort((left, right) => left.get('data')[yField] - left.get('data')[yField]);\n\n  if (sortedLabels.length > 0) {\n    result.push(sortedLabels.shift());\n  }\n  if (sortedLabels.length > 0) {\n    result.push(sortedLabels.pop());\n  }\n  result.push(...sortedLabels);\n\n  return result;\n}\n\nfunction hasSome(dones: IGroup[], current: IGroup, compare: (left: IGroup, right: IGroup) => boolean): boolean {\n  return dones.some((done) => compare(done, current));\n}\n\n/**\n * \n */\nfunction getOverlapArea(a: BBox, b: BBox, margin = 0) {\n  const xOverlap = Math.max(\n    0,\n    Math.min(a.x + a.width + margin, b.x + b.width + margin) - Math.max(a.x - margin, b.x - margin)\n  );\n  const yOverlap = Math.max(\n    0,\n    Math.min(a.y + a.height + margin, b.y + b.height + margin) - Math.max(a.y - margin, b.y - margin)\n  );\n\n  return xOverlap * yOverlap;\n}\n\n/**\n *  Label \n * @param dones\n * @param current\n */\nfunction checkShapeOverlap(dones: IGroup[], current: IGroup): boolean {\n  return hasSome(dones, current, (left, right) => {\n    const leftText = findLabelTextShape(left);\n    const rightText = findLabelTextShape(right);\n\n    return getOverlapArea(leftText.getCanvasBBox(), rightText.getCanvasBBox(), 2) > 0;\n  });\n}\n/**\n *  point geometry \n * @param items\n * @param labels\n * @param shapes\n * @param region\n * @param cfg\n */\nexport function pointAdjustPosition(\n  items: LabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox,\n  cfg: PointAdjustPositionLayoutCfg\n): void {\n  if (shapes.length === 0) {\n    return;\n  }\n\n  const element: Element = shapes[0]?.get('element');\n  const geometry: Geometry = element?.geometry;\n  if (!geometry || geometry.type !== 'point') {\n    return;\n  }\n  const [xField, yField] = geometry.getXYFields();\n  const groupedLabels = groupBy(labels, (label) => label.get('data')[xField]);\n  const dones: IGroup[] = [];\n  const offset = (cfg && cfg.offset) || items[0]?.offset || 12;\n\n  map(keys(groupedLabels).reverse(), (xValue) => {\n    const sortedCollections = sortLabels(geometry, groupedLabels[xValue]);\n    while (sortedCollections.length) {\n      const current = sortedCollections.shift();\n      const textShape = findLabelTextShape(current);\n      if (\n        hasSome(\n          dones,\n          current,\n          (left, right) =>\n            left.get('data')[xField] === right.get('data')[xField] &&\n            left.get('data')[yField] === right.get('data')[yField]\n        )\n      ) {\n        // \n        textShape.set('visible', false);\n        continue;\n      }\n      const upFail = checkShapeOverlap(dones, current);\n      let downFail: boolean = false;\n      if (upFail) {\n        textShape.attr('y', textShape.attr('y') + 2 * offset);\n        downFail = checkShapeOverlap(dones, current);\n      }\n      if (downFail) {\n        textShape.set('visible', false);\n        continue;\n      }\n      dones.push(current);\n    }\n  });\n}\n","import { groupBy, keys, map } from '@antv/util';\nimport { IElement, IGroup, IShape, BBox } from '../../../../dependents';\nimport { isIntersect } from '../../../../util/collision-detect';\nimport Geometry from '../../../base';\nimport Element from '../../../element';\nimport { LabelItem } from '../../interface';\nimport { findLabelTextShape } from '../../util';\n\n/**\n * point-adjust-position layout \n */\nexport interface PointAdjustPositionLayoutCfg {\n  offset?: number;\n}\n\n/**\n * ( xField ) Label ...\n * @param geometry\n * @param labels\n */\nfunction sortLabels(geometry: Geometry, labels: IGroup[]) {\n  const yField = geometry.getXYFields()[1];\n  const result: IGroup[] = [];\n  const sortedLabels = labels.sort((left, right) => left.get('data')[yField] - left.get('data')[yField]);\n\n  if (sortedLabels.length > 0) {\n    result.push(sortedLabels.shift());\n  }\n  if (sortedLabels.length > 0) {\n    result.push(sortedLabels.pop());\n  }\n  result.push(...sortedLabels);\n\n  return result;\n}\n\nfunction hasSome(dones: IGroup[], current: IGroup, compare: (left: IGroup, right: IGroup) => boolean): boolean {\n  return dones.some((done) => compare(done, current));\n}\n\n/**\n * \n */\nfunction getOverlapArea(a: BBox, b: BBox, margin = 0) {\n  const xOverlap = Math.max(\n    0,\n    Math.min(a.x + a.width + margin, b.x + b.width + margin) - Math.max(a.x - margin, b.x - margin)\n  );\n  const yOverlap = Math.max(\n    0,\n    Math.min(a.y + a.height + margin, b.y + b.height + margin) - Math.max(a.y - margin, b.y - margin)\n  );\n\n  return xOverlap * yOverlap;\n}\n\n/**\n *  Label \n * @param dones\n * @param current\n */\nfunction checkShapeOverlap(dones: IGroup[], current: IGroup): boolean {\n  return hasSome(dones, current, (left, right) => {\n    const leftText = findLabelTextShape(left);\n    const rightText = findLabelTextShape(right);\n\n    return getOverlapArea(leftText.getCanvasBBox(), rightText.getCanvasBBox(), 2) > 0;\n  });\n}\n/**\n *  point geometry \n * @param items\n * @param labels\n * @param shapes\n * @param region\n * @param cfg\n */\nexport function pathAdjustPosition(\n  items: LabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox,\n  cfg: PointAdjustPositionLayoutCfg\n): void {\n  if (shapes.length === 0) {\n    return;\n  }\n\n  const element: Element = shapes[0]?.get('element');\n  const geometry: Geometry = element?.geometry;\n  if (!geometry || ['path', 'line', 'area'].indexOf(geometry.type) < 0) {\n    return;\n  }\n  const [xField, yField] = geometry.getXYFields();\n  const groupedLabels = groupBy(labels, (label) => label.get('data')[xField]);\n  const dones: IGroup[] = [];\n  const offset = (cfg && cfg.offset) || items[0]?.offset || 12;\n\n  map(keys(groupedLabels).reverse(), (xValue) => {\n    const sortedCollections = sortLabels(geometry, groupedLabels[xValue]);\n    while (sortedCollections.length) {\n      const current = sortedCollections.shift();\n      const textShape = findLabelTextShape(current);\n      if (\n        hasSome(\n          dones,\n          current,\n          (left, right) =>\n            left.get('data')[xField] === right.get('data')[xField] &&\n            left.get('data')[yField] === right.get('data')[yField]\n        )\n      ) {\n        // \n        textShape.set('visible', false);\n        continue;\n      }\n      const upFail = checkShapeOverlap(dones, current);\n      let downFail: boolean = false;\n      if (upFail) {\n        textShape.attr('y', textShape.attr('y') + 2 * offset);\n        downFail = checkShapeOverlap(dones, current);\n      }\n      if (downFail) {\n        textShape.set('visible', false);\n        continue;\n      }\n      dones.push(current);\n    }\n  });\n}\n","import { isString, memoize, values, toString } from '@antv/util';\nimport * as CSS from 'csstype';\nimport { getCanvasContext } from './context';\n\ntype FontFace = CSS.Properties;\n\ntype Font = Pick<FontFace, 'fontFamily' | 'fontWeight' | 'fontStyle' | 'fontVariant'> & {\n  fontSize?: number;\n};\n\n/**\n * \n */\nexport const measureTextWidth = memoize(\n  (text: any, font: Font = {}): number => {\n    const { fontSize, fontFamily, fontWeight, fontStyle, fontVariant } = font;\n    const ctx = getCanvasContext();\n    ctx!.font = [fontStyle, fontVariant, fontWeight, `${fontSize}px`, fontFamily].join(' ');\n    return ctx!.measureText(isString(text) ? text : '').width;\n  },\n  (text: any, font: Font = {}) => [text, ...values(font)].join('')\n);\n\n/**\n *  ... \n *  measureText measureText \n * 1.  STEP  maxWidth \n * 2. \n * @param text ,  string,number\n * @param maxWidth\n * @param font\n */\nexport const getEllipsisText = (text: any, maxWidth: number, font?: Font) => {\n  const STEP = 16; //  16\n  const DOT_WIDTH = measureTextWidth('...', font);\n\n  let leftText;\n\n  if (!isString(text)) {\n    leftText = toString(text);\n  } else {\n    leftText = text;\n  }\n\n  let leftWidth = maxWidth;\n\n  const r = []; // \n  let currentText;\n  let currentWidth;\n\n  if (measureTextWidth(text, font) <= maxWidth) {\n    return text;\n  }\n\n  //  step \n  while (true) {\n    // \n    currentText = leftText.substr(0, STEP);\n\n    // \n    currentWidth = measureTextWidth(currentText, font);\n\n    // \n    if (currentWidth + DOT_WIDTH > leftWidth) {\n      if (currentWidth > leftWidth) {\n        break;\n      }\n    }\n\n    r.push(currentText);\n\n    // \n    leftWidth -= currentWidth;\n    leftText = leftText.substr(STEP);\n\n    // \n    if (!leftText) {\n      return r.join('');\n    }\n  }\n\n  //  STEP 1 \n  while (true) {\n    // \n    currentText = leftText.substr(0, 1);\n\n    // \n    currentWidth = measureTextWidth(currentText, font);\n\n    // \n    if (currentWidth + DOT_WIDTH > leftWidth) {\n      break;\n    }\n\n    r.push(currentText);\n    // \n    leftWidth -= currentWidth;\n    leftText = leftText.substr(1);\n\n    if (!leftText) {\n      return r.join('');\n    }\n  }\n\n  return `${r.join('')}...`;\n};\n","import { ext } from '@antv/matrix-util';\nimport { Coordinate, IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg, Point } from '../../interface';\n\n/**\n * @ignore\n * \n * @param shape \n * @param vector \n * @param direct \n */\nexport function transformShape(shape: IShape | IGroup, vector: [number, number], direct: string): number[] {\n  let scaledMatrix;\n\n  const [x, y] = vector;\n  shape.applyToMatrix([x, y, 1]);\n  if (direct === 'x') {\n    shape.setMatrix(\n      ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 0.01, 1],\n        ['t', x, y],\n      ])\n    );\n    scaledMatrix = ext.transform(shape.getMatrix(), [\n      ['t', -x, -y],\n      ['s', 100, 1],\n      ['t', x, y],\n    ]);\n  } else if (direct === 'y') {\n    shape.setMatrix(\n      ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 1, 0.01],\n        ['t', x, y],\n      ])\n    );\n    scaledMatrix = ext.transform(shape.getMatrix(), [\n      ['t', -x, -y],\n      ['s', 1, 100],\n      ['t', x, y],\n    ]);\n  } else if (direct === 'xy') {\n    shape.setMatrix(\n      ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 0.01, 0.01],\n        ['t', x, y],\n      ])\n    );\n    scaledMatrix = ext.transform(shape.getMatrix(), [\n      ['t', -x, -y],\n      ['s', 100, 100],\n      ['t', x, y],\n    ]);\n  }\n  return scaledMatrix;\n}\n\n/**\n * \n * @param element \n * @param animateCfg \n * @param coordinate \n * @param yMinPoint y \n * @param type \n */\nexport function doScaleAnimate(\n  element: IGroup | IShape,\n  animateCfg: GAnimateCfg,\n  coordinate: Coordinate,\n  yMinPoint: Point,\n  type: string\n) {\n  const { start, end } = coordinate;\n  const width = coordinate.getWidth();\n  const height = coordinate.getHeight();\n  let x: number;\n  let y: number;\n\n  if (type === 'y') {\n    x = start.x + width / 2;\n    y = yMinPoint.y < start.y ? yMinPoint.y : start.y;\n  } else if (type === 'x') {\n    x = yMinPoint.x > start.x ? yMinPoint.x : start.x;\n    y = start.y + height / 2;\n  } else if (type === 'xy') {\n    if (coordinate.isPolar) {\n      x = coordinate.getCenter().x;\n      y = coordinate.getCenter().y;\n    } else {\n      x = (start.x + end.x) / 2;\n      y = (start.y + end.y) / 2;\n    }\n  }\n\n  const endMatrix = transformShape(element, [x, y], type);\n  element.animate(\n    {\n      matrix: endMatrix,\n    },\n    animateCfg\n  );\n}\n","import { getArcParams } from '@antv/g-canvas';\nimport { isNumberEqual, isEqual } from '@antv/util';\n\nimport { IShape, PathCommand } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\nimport { getArcPath, getSectorPath } from '../../util/graphics';\n\nfunction getAngle(startPoint: number[], arcPath: PathCommand) {\n  let { startAngle, endAngle } = getArcParams(startPoint, arcPath);\n\n  if (!isNumberEqual(startAngle, -Math.PI * 0.5) && startAngle < -Math.PI * 0.5) {\n    startAngle += Math.PI * 2;\n  }\n  if (!isNumberEqual(endAngle, -Math.PI * 0.5) && endAngle < -Math.PI * 0.5) {\n    endAngle += Math.PI * 2;\n  }\n\n  if (arcPath[5] === 0) {\n    //  startAngle  endAngle  G2 \n    [startAngle, endAngle] = [endAngle, startAngle];\n  }\n\n  if (isNumberEqual(startAngle, Math.PI * 1.5)) {\n    startAngle = Math.PI * -0.5;\n  }\n\n  if (isNumberEqual(endAngle, Math.PI * -0.5)) {\n    endAngle = Math.PI * 1.5;\n  }\n\n  return {\n    startAngle,\n    endAngle,\n  };\n}\n\nfunction getArcStartPoint(path: PathCommand) {\n  let startPoint;\n  if (path[0] === 'M' || path[0] === 'L') {\n    startPoint = [path[1], path[2]];\n  } else if (path[0] === 'a' || path[0] === 'A' || path[0] === 'C') {\n    startPoint = [path[path.length - 2], path[path.length - 1]];\n  }\n\n  return startPoint;\n}\n\n/**\n * path \n * 1.  path M, L, A, L, Z\n * 2.  path M, M, A, A, M, Z\n * 3.  path M, A, L, A, L, Z\n * 4.  path M, A, A, M, A, A, M, Z\n * 5. radial-line,  path,  M, A, A, Z\n * 6. radial-line,  path M, A, A, A, A, Z\n * @param path theta  path \n */\nfunction getArcInfo(path: PathCommand[]) {\n  let startAngle;\n  let endAngle;\n\n  const arcPaths = path.filter((command) => {\n    return command[0] === 'A' || command[0] === 'a';\n  });\n\n  if (arcPaths.length === 0) {\n    return {\n      startAngle: 0,\n      endAngle: 0,\n      radius: 0,\n      innerRadius: 0,\n    };\n  }\n\n  const firstArcPathCommand = arcPaths[0];\n  const lastArcPathCommand = arcPaths.length > 1 ? arcPaths[1] : arcPaths[0];\n  const firstIndex = path.indexOf(firstArcPathCommand);\n  const lastIndex = path.indexOf(lastArcPathCommand);\n  const firstStartPoint = getArcStartPoint(path[firstIndex - 1]);\n  const lastStartPoint = getArcStartPoint(path[lastIndex - 1]);\n\n  const { startAngle: firstStartAngle, endAngle: firstEndAngle } = getAngle(firstStartPoint, firstArcPathCommand);\n  const { startAngle: lastStartAngle, endAngle: lastEndAngle } = getAngle(lastStartPoint, lastArcPathCommand);\n\n  if (isNumberEqual(firstStartAngle, lastStartAngle) && isNumberEqual(firstEndAngle, lastEndAngle)) {\n    startAngle = firstStartAngle;\n    endAngle = firstEndAngle;\n  } else {\n    startAngle = Math.min(firstStartAngle, lastStartAngle);\n    endAngle = Math.max(firstEndAngle, lastEndAngle);\n  }\n\n  let radius = firstArcPathCommand[1];\n  let innerRadius = arcPaths[arcPaths.length - 1][1];\n  if (radius < innerRadius) {\n    [radius, innerRadius] = [innerRadius, radius];\n  } else if (radius === innerRadius) {\n    innerRadius = 0;\n  }\n\n  return {\n    startAngle,\n    endAngle,\n    radius,\n    innerRadius,\n  };\n}\n\n/**\n * @ignore\n * \n * @param shape \n * @param animateCfg\n * @param cfg\n */\nexport function sectorPathUpdate(shape: IShape, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { toAttrs, coordinate } = cfg;\n  const path = (toAttrs as { path: PathCommand[] }).path || [];\n  const pathCommands = path.map((command) => command[0]);\n\n  if (path.length < 1) return;\n\n  const { startAngle: curStartAngle, endAngle: curEndAngle, radius, innerRadius } = getArcInfo(path);\n  const { startAngle: preStartAngle, endAngle: preEndAngle } = getArcInfo(shape.attr('path'));\n\n  const center = coordinate.getCenter();\n  const diffStartAngle = curStartAngle - preStartAngle;\n  const diffEndAngle = curEndAngle - preEndAngle;\n  //  diff  attrs\n  if (diffStartAngle === 0 && diffEndAngle === 0) {\n    shape.attr('path', path);\n    return;\n  }\n\n  shape.animate(\n    (ratio) => {\n      const onFrameStartAngle = preStartAngle + ratio * diffStartAngle;\n      const onFrameEndAngle = preEndAngle + ratio * diffEndAngle;\n      return {\n        ...toAttrs,\n        path:\n          // hack,  /examples/bar/basic/demo/radial-line.ts \n          isEqual(pathCommands, ['M', 'A', 'A', 'Z'])\n            ? getArcPath(center.x, center.y, radius, onFrameStartAngle, onFrameEndAngle)\n            : getSectorPath(center.x, center.y, radius, onFrameStartAngle, onFrameEndAngle, innerRadius),\n      };\n    },\n    {\n      ...animateCfg,\n      callback: () => {\n        //  path  setState() \n        shape.attr('path', path);\n      },\n    }\n  );\n}\n","import { ext } from '@antv/matrix-util';\nimport { each } from '@antv/util';\nimport { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\nfunction doShapeZoom(shape: IShape | IGroup, animateCfg: GAnimateCfg, type: 'zoomIn' | 'zoomOut') {\n  if (shape.isGroup()) {\n    each((shape as IGroup).getChildren(), (child) => {\n      doShapeZoom(child, animateCfg, type);\n    });\n  } else {\n    const bbox = shape.getBBox();\n    const x = (bbox.minX + bbox.maxX) / 2;\n    const y = (bbox.minY + bbox.maxY) / 2;\n    shape.applyToMatrix([x, y, 1]);\n\n    if (type === 'zoomIn') {\n      // \n      const matrix = ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 0.01, 0.01],\n        ['t', x, y],\n      ]);\n      shape.setMatrix(matrix);\n      shape.animate(\n        {\n          matrix: ext.transform(shape.getMatrix(), [\n            ['t', -x, -y],\n            ['s', 100, 100],\n            ['t', x, y],\n          ]),\n        },\n        animateCfg\n      );\n    } else {\n      shape.animate(\n        {\n          matrix: ext.transform(shape.getMatrix(), [\n            ['t', -x, -y],\n            ['s', 0.01, 0.01],\n            ['t', x, y],\n          ]),\n        },\n        {\n          ...animateCfg,\n          callback: () => {\n            shape.remove(true);\n          },\n        }\n      );\n    }\n  }\n}\n\n/**\n * @ignore\n *  shape \n * shape \n * @param shape \n * @param animateCfg \n * @param cfg \n */\nexport function zoomIn(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  doShapeZoom(shape, animateCfg, 'zoomIn');\n}\n\n/**\n * @ignore\n *  shape \n * shape \n * @param shape \n * @param animateCfg \n * @param cfg \n */\nexport function zoomOut(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  doShapeZoom(shape, animateCfg, 'zoomOut');\n}\n","import { DIRECTION } from '../constant';\nimport { Point } from '../dependents';\nimport { FacetTitle } from '../interface';\n\n/**\n * @ignore\n *  facet title \n */\nexport function getFactTitleConfig(direction: DIRECTION): FacetTitle {\n  if ([DIRECTION.TOP, DIRECTION.BOTTOM].includes(direction)) {\n    return {\n      offsetX: 0,\n      offsetY: direction === DIRECTION.TOP ? -8 : 8,\n      style: {\n        textAlign: 'center',\n        textBaseline: direction === DIRECTION.TOP ? 'bottom' : 'top',\n      },\n    };\n  }\n\n  if ([DIRECTION.LEFT, DIRECTION.RIGHT].includes(direction)) {\n    return {\n      offsetX: direction === DIRECTION.LEFT ? -8 : 8,\n      offsetY: 0,\n      style: {\n        textAlign: direction === DIRECTION.LEFT ? 'right' : 'left',\n        textBaseline: 'middle',\n        rotate: Math.PI / 2, // \n      },\n    };\n  }\n\n  return {};\n}\n\n/**\n * @ignore\n *   \n * @param center\n * @param r\n * @param angle\n */\nexport function getAnglePoint(center: Point, r: number, angle: number): Point {\n  return {\n    x: center.x + r * Math.cos(angle),\n    y: center.y + r * Math.sin(angle),\n  };\n}\n","import { deepMix, each, filter, get } from '@antv/util';\nimport { AxisCfg, CircleCfg, CircleData, Datum } from '../interface';\n\nimport View from '../chart/view';\nimport { DIRECTION } from '../constant';\nimport { getAnglePoint, getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \n */\nexport default class Circle extends Facet<CircleCfg, CircleData> {\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'circle',\n      showTitle: true,\n      title: super.getDefaultTitleCfg(),\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  /**\n   *  region\n   * @param count\n   * @param index\n   */\n  protected getRegion(count: number, index: number) {\n    const r = 1 / 2; // \n    // \n    const center = { x: 0.5, y: 0.5 };\n    // \n    const avgAngle = (Math.PI * 2) / count;\n\n    // \n    const angle = (-1 * Math.PI) / 2 + avgAngle * index;\n    // TODO \n    const facetR = r / (1 + 1 / Math.sin(avgAngle / 2));\n    // \n    const middle = getAnglePoint(center, r - facetR, angle);\n    const startAngle = (Math.PI * 5) / 4; // \n    const endAngle = (Math.PI * 1) / 4; // \n\n    return {\n      start: getAnglePoint(middle, facetR, startAngle),\n      end: getAnglePoint(middle, facetR, endAngle),\n    };\n  }\n\n  protected afterEachView(view: View, facet: CircleData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: CircleData) {}\n\n  protected generateFacets(data: Datum[]): CircleData[] {\n    const { fields, type } = this.cfg;\n    const [field] = fields;\n    if (!field) {\n      throw new Error('No `fields` specified!');\n    }\n\n    const values = this.getFieldValues(data, field);\n    const count = values.length;\n\n    const rst = [];\n    values.forEach((value: any, index: number) => {\n      const conditions = [{ field, value, values }];\n      const facetData = filter(data, this.getFacetDataFilter(conditions));\n\n      const facet: CircleData = {\n        type,\n        data: facetData,\n        region: this.getRegion(count, index),\n\n        columnValue: value,\n        columnField: field,\n        columnIndex: index,\n        columnValuesLength: count,\n\n        rowValue: null,\n        rowField: null,\n        rowIndex: 0,\n        rowValuesLength: 1,\n      };\n      rst.push(facet);\n    });\n    return rst;\n  }\n\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: CircleData): object {\n    // \n    return option;\n  }\n\n  /**\n   *  y title \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: CircleData): object {\n    // \n    return option;\n  }\n\n  /**\n   * facet title\n   */\n  private renderTitle() {\n    each(this.facets, (facet: CircleData) => {\n      const { columnValue, view } = facet;\n      const formatter = get(this.cfg.title, 'formatter');\n\n      const config = deepMix(\n        {\n          position: ['50%', '0%'] as [string, string],\n          content: formatter ? formatter(columnValue) : columnValue,\n        },\n        getFactTitleConfig(DIRECTION.TOP),\n        this.cfg.title\n      );\n\n      view.annotation().text(config);\n    });\n  }\n}\n","import { deepMix, each, filter, get } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { AxisCfg, Datum, ListCfg, ListData } from '../interface';\n\nimport View from '../chart/view';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \n */\nexport default class List extends Facet<ListCfg, ListData> {\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'list',\n      cols: null, // \n      showTitle: true,\n      title: super.getDefaultTitleCfg(),\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  protected afterEachView(view: View, facet: ListData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: ListData) {}\n\n  protected generateFacets(data: Datum[]): ListData[] {\n    const { fields } = this.cfg;\n    let { cols } = this.cfg;\n\n    const [columnField] = fields;\n    if (!columnField) {\n      throw new Error('No `fields` specified!');\n    }\n\n    const colValues = this.getFieldValues(data, columnField);\n\n    const count = colValues.length;\n    cols = cols || count; // \n\n    // \n    const rows = this.getPageCount(count, cols);\n    const rst = [];\n\n    colValues.forEach((val, index) => {\n      //  index \n      const { row, col } = this.getRowCol(index, cols);\n\n      const conditions = [{ field: columnField, value: val, values: colValues }];\n\n      const facetData = filter(data, this.getFacetDataFilter(conditions));\n\n      const facet: ListData = {\n        type: this.cfg.type,\n        data: facetData,\n        region: this.getRegion(rows, cols, col, row),\n\n        columnValue: val,\n        rowValue: val,\n        columnField,\n        rowField: null,\n        columnIndex: col,\n        rowIndex: row,\n        columnValuesLength: cols,\n        rowValuesLength: rows,\n\n        total: count,\n      };\n\n      rst.push(facet);\n    });\n\n    return rst;\n  }\n\n  /**\n   *  x title \n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: ListData): object {\n    //  view \n    if (\n      facet.rowIndex !== facet.rowValuesLength - 1 &&\n      facet.columnValuesLength * facet.rowIndex + facet.columnIndex + 1 + facet.columnValuesLength <= facet.total\n    ) {\n      return {\n        ...option,\n        label: null,\n        title: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   *  y title \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: ListData): object {\n    if (facet.columnIndex !== 0) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   * facet title\n   */\n  private renderTitle() {\n    each(this.facets, (facet: ListData) => {\n      const { columnValue, view } = facet;\n      const formatter = get(this.cfg.title, 'formatter');\n\n      const config = deepMix(\n        {\n          position: ['50%', '0%'] as [string, string],\n          content: formatter ? formatter(columnValue) : columnValue,\n        },\n        getFactTitleConfig(DIRECTION.TOP),\n        this.cfg.title\n      );\n\n      view.annotation().text(config);\n    });\n  }\n\n  /**\n   * \n   * @param total\n   * @param pageSize\n   */\n  private getPageCount(total: number, pageSize: number): number {\n    return Math.floor((total + pageSize - 1) / pageSize);\n  }\n\n  /**\n   * \n   * @param index\n   * @param pageSize\n   */\n  private getRowCol(index: number, pageSize: number) {\n    const row = Math.floor(index / pageSize);\n    const col = index % pageSize;\n\n    return { row, col };\n  }\n}\n","import { deepMix, each, get } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { AxisCfg, Datum, MatrixCfg, MatrixData } from '../interface';\n\nimport View from '../chart/view';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \n */\nexport default class Matrix extends Facet<MatrixCfg, MatrixData> {\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'matrix',\n      showTitle: false,\n      columnTitle: {\n        ...super.getDefaultTitleCfg(),\n      },\n      rowTitle: {\n        ...super.getDefaultTitleCfg(),\n      },\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  protected afterEachView(view: View, facet: MatrixData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: MatrixData) {}\n\n  protected generateFacets(data: Datum[]): MatrixData[] {\n    const { fields, type } = this.cfg;\n\n    // \n    const rowValuesLength = fields.length;\n    const columnValuesLength = rowValuesLength;\n\n    const rst = [];\n    for (let i = 0; i < columnValuesLength; i++) {\n      const columnField = fields[i];\n      for (let j = 0; j < rowValuesLength; j++) {\n        const rowField = fields[j];\n\n        const facet: MatrixData = {\n          type,\n          data,\n          region: this.getRegion(rowValuesLength, columnValuesLength, i, j),\n\n          columnValue: columnField,\n          rowValue: rowField,\n          columnField,\n          rowField,\n          columnIndex: i,\n          rowIndex: j,\n          columnValuesLength,\n          rowValuesLength,\n        };\n        rst.push(facet);\n      }\n    }\n    return rst;\n  }\n\n  /**\n   *  x title \n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: MatrixData): object {\n    // \n    if (facet.rowIndex !== facet.rowValuesLength - 1) {\n      return {\n        ...option,\n        label: null,\n        title: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   *  y title \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: MatrixData): object {\n    // \n    if (facet.columnIndex !== 0) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   * facet title\n   */\n  private renderTitle() {\n    each(this.facets, (facet: MatrixData, facetIndex: number) => {\n      const { columnIndex, rowIndex, columnValuesLength, rowValuesLength, columnValue, rowValue, view } = facet;\n\n      // top\n      if (rowIndex === 0) {\n        const formatter = get(this.cfg.columnTitle, 'formatter');\n        const config = deepMix(\n          {\n            position: ['50%', '0%'] as [string, string],\n            content: formatter ? formatter(columnValue) : columnValue,\n          },\n          getFactTitleConfig(DIRECTION.TOP),\n          this.cfg.columnTitle\n        );\n\n        view.annotation().text(config);\n      }\n      // right\n      if (columnIndex === columnValuesLength - 1) {\n        const formatter = get(this.cfg.rowTitle, 'formatter');\n        const config = deepMix(\n          {\n            position: ['100%', '50%'] as [string, string],\n            content: formatter ? formatter(rowValue) : rowValue,\n          },\n          getFactTitleConfig(DIRECTION.RIGHT),\n          this.cfg.rowTitle\n        );\n\n        view.annotation().text(config);\n      }\n    });\n  }\n}\n","import { deepMix, each, filter, get } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { AxisCfg, Datum, MirrorCfg, MirrorData } from '../interface';\n\nimport View from '../chart/view';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \n */\nexport default class Mirror extends Facet<MirrorCfg, MirrorData> {\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'mirror',\n      showTitle: true,\n      title: super.getDefaultTitleCfg(),\n      transpose: false,\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  protected beforeEachView(view: View, facet: MirrorData) {\n    // \n    if (this.cfg.transpose) {\n      if (facet.columnIndex % 2 === 0) {\n        view.coordinate().transpose().reflect('x');\n      } else {\n        view.coordinate().transpose();\n      }\n    } else {\n      if (facet.rowIndex % 2 !== 0) {\n        view.coordinate().reflect('y');\n      }\n    }\n  }\n\n  protected afterEachView(view: View, facet: MirrorData) {\n    this.processAxis(view, facet);\n  }\n\n  protected generateFacets(data: Datum[]): MirrorData[] {\n    const [f] = this.cfg.fields;\n\n    const rst = [];\n    let columnValuesLength = 1;\n    let rowValuesLength = 1;\n\n    let columnValues: string[] = [''];\n    let rowValues: string[] = [''];\n\n    let columnField;\n    let rowField;\n\n    if (this.cfg.transpose) {\n      columnField = f;\n      columnValues = this.getFieldValues(data, columnField).slice(0, 2); // \n      columnValuesLength = columnValues.length;\n    } else {\n      rowField = f;\n      rowValues = this.getFieldValues(data, rowField).slice(0, 2); // \n      rowValuesLength = rowValues.length;\n    }\n\n    // \n    columnValues.forEach((xVal, xIndex) => {\n      rowValues.forEach((yVal, yIndex) => {\n        const conditions = [\n          { field: columnField, value: xVal, values: columnValues },\n          { field: rowField, value: yVal, values: rowValues },\n        ];\n\n        const facetData = filter(data, this.getFacetDataFilter(conditions));\n\n        const facet: MirrorData = {\n          type: this.cfg.type,\n          data: facetData,\n          region: this.getRegion(rowValuesLength, columnValuesLength, xIndex, yIndex),\n\n          columnValue: xVal,\n          rowValue: yVal,\n          columnField,\n          rowField,\n          columnIndex: xIndex,\n          rowIndex: yIndex,\n          columnValuesLength,\n          rowValuesLength,\n        };\n        rst.push(facet);\n      });\n    });\n\n    return rst;\n  }\n\n  /**\n   *  x title \n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: MirrorData): object {\n    // \n    //  view \n    if (facet.columnIndex === 1 || facet.rowIndex === 1) {\n      return {\n        ...option,\n        label: null,\n        title: null,\n      };\n    }\n\n    return option;\n  }\n\n  /**\n   *  y title \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: MirrorData): object {\n    // do nothing\n    return option;\n  }\n\n  private renderTitle() {\n    each(this.facets, (facet: MirrorData, facetIndex: number) => {\n      const { columnValue, rowValue, view } = facet;\n      const formatter = get(this.cfg.title, 'formatter');\n\n      if (this.cfg.transpose) {\n        const config = deepMix(\n          {\n            position: ['50%', '0%'] as [string, string],\n            content: formatter ? formatter(columnValue) : columnValue,\n          },\n          getFactTitleConfig(DIRECTION.TOP),\n          this.cfg.title\n        );\n\n        view.annotation().text(config);\n      } else {\n        const config = deepMix(\n          {\n            position: ['100%', '50%'] as [string, string],\n            content: formatter ? formatter(rowValue) : rowValue,\n          },\n          getFactTitleConfig(DIRECTION.RIGHT),\n          this.cfg.title\n        );\n\n        view.annotation().text(config);\n      }\n    });\n  }\n}\n","import { deepMix, each, filter, get } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { AxisCfg, Datum, RectCfg, RectData } from '../interface';\n\nimport View from '../chart/view';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \n */\nexport default class Rect extends Facet<RectCfg, RectData> {\n  protected afterEachView(view: View, facet: RectData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: RectData) {\n    // do nothing\n  }\n\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'rect',\n      columnTitle: {\n        ...super.getDefaultTitleCfg(),\n      },\n      rowTitle: {\n        ...super.getDefaultTitleCfg(),\n      },\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  /**\n   * \n   * @param data\n   */\n  protected generateFacets(data: Datum[]): RectData[] {\n    const [columnField, rowField] = this.cfg.fields;\n\n    const rst = [];\n    let columnValuesLength = 1;\n    let rowValuesLength = 1;\n\n    let columnValues: string[] = [''];\n    let rowValues: string[] = [''];\n\n    if (columnField) {\n      columnValues = this.getFieldValues(data, columnField);\n      columnValuesLength = columnValues.length;\n    }\n    if (rowField) {\n      rowValues = this.getFieldValues(data, rowField);\n      rowValuesLength = rowValues.length;\n    }\n\n    // \n    columnValues.forEach((xVal, xIndex) => {\n      rowValues.forEach((yVal, yIndex) => {\n        const conditions = [\n          { field: columnField, value: xVal, values: columnValues },\n          { field: rowField, value: yVal, values: rowValues },\n        ];\n        const facetData = filter(data, this.getFacetDataFilter(conditions));\n\n        const facet: RectData = {\n          type: this.cfg.type,\n          data: facetData,\n          region: this.getRegion(rowValuesLength, columnValuesLength, xIndex, yIndex),\n\n          columnValue: xVal,\n          rowValue: yVal,\n          columnField,\n          rowField,\n          columnIndex: xIndex,\n          rowIndex: yIndex,\n          columnValuesLength,\n          rowValuesLength,\n        };\n        rst.push(facet);\n      });\n    });\n\n    return rst;\n  }\n\n  private renderTitle(): void {\n    each(this.facets, (facet: RectData, facetIndex: number) => {\n      const { columnIndex, rowIndex, columnValuesLength, columnValue, rowValue, view } = facet;\n\n      // top\n      if (rowIndex === 0) {\n        const formatter = get(this.cfg.columnTitle, 'formatter');\n        const config = deepMix(\n          {\n            position: ['50%', '0%'] as [string, string],\n            content: formatter ? formatter(columnValue) : columnValue,\n          },\n          getFactTitleConfig(DIRECTION.TOP),\n          this.cfg.columnTitle\n        );\n\n        view.annotation().text(config);\n      }\n      // right\n      if (columnIndex === columnValuesLength - 1) {\n        const formatter = get(this.cfg.rowTitle, 'formatter');\n        const config = deepMix(\n          {\n            position: ['100%', '50%'] as [string, string],\n            content: formatter ? formatter(rowValue) : rowValue,\n          },\n          getFactTitleConfig(DIRECTION.RIGHT),\n          this.cfg.rowTitle\n        );\n\n        view.annotation().text(config);\n      }\n    });\n  }\n\n  /**\n   *  x title \n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: RectData): object {\n    // \n    if (facet.rowIndex !== facet.rowValuesLength - 1) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    } else if (facet.columnIndex !== Math.floor((facet.columnValuesLength - 1) / 2)) {\n      // \n      return {\n        ...option,\n        title: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   *  y title \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: RectData): object {\n    if (facet.columnIndex !== 0) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    } else if (facet.rowIndex !== Math.floor((facet.rowValuesLength - 1) / 2)) {\n      return {\n        ...option,\n        title: null,\n      };\n    }\n    return option;\n  }\n}\n","/**\n * Create By Bruce Too\n * On 2020-02-10\n */\nimport { assign, deepMix, each, get } from '@antv/util';\nimport View from '../chart/view';\nimport { DIRECTION, VIEW_LIFE_CIRCLE } from '../constant';\nimport { AxisCfg, Condition, Datum, TreeCfg, TreeData } from '../interface';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * Tree Facet\n */\nexport default class Tree extends Facet<TreeCfg, TreeData> {\n  protected afterEachView(view: View, facet: TreeData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: TreeData) {}\n\n  public init() {\n    super.init();\n    this.view.on(VIEW_LIFE_CIRCLE.AFTER_RENDER, this.afterChartRender);\n  }\n\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'tree',\n      line: {\n        style: {\n          lineWidth: 1,\n          stroke: '#ddd',\n        },\n        smooth: false,\n      },\n      showTitle: true,\n      title: super.getDefaultTitleCfg(),\n    });\n  }\n\n  protected generateFacets(data: Datum[]): TreeData[] {\n    const fields = this.cfg.fields;\n    if (!fields.length) {\n      throw new Error('Please specify for the fields for rootFacet!');\n    }\n    const rst = [];\n    const rootFacet: TreeData = {\n      type: this.cfg.type,\n      data,\n      region: null,\n      rowValuesLength: this.getRows(),\n      columnValuesLength: 1,\n      rowIndex: 0,\n      columnIndex: 0,\n      rowField: '',\n      columnField: '',\n      rowValue: '',\n      columnValue: '',\n    };\n    rst.push(rootFacet);\n    rootFacet.children = this.getChildFacets(data, 1, rst);\n    this.setRegion(rst);\n    return rst;\n  }\n\n  private setRegion(facets: TreeData[]) {\n    this.forceColIndex(facets);\n    facets.forEach((facet) => {\n      // @ts-ignore \n      facet.region = this.getRegion(facet.rowValuesLength, facet.columnValuesLength, facet.columnIndex, facet.rowIndex);\n    });\n  }\n\n  protected getRegion(rows: number, cols: number, xIndex: number, yIndex: number) {\n    const xWidth = 1 / cols; // x\n    const yWidth = 1 / rows; // y\n\n    const start = {\n      x: xWidth * xIndex,\n      y: yWidth * yIndex,\n    };\n\n    const end = {\n      x: start.x + xWidth,\n      y: start.y + (yWidth * 2) / 3, // 1/3\n    };\n    return {\n      start,\n      end,\n    };\n  }\n\n  private forceColIndex(facets: TreeData[]) {\n    const leafs: TreeData[] = [];\n    let index = 0;\n    facets.forEach((facet) => {\n      if (this.isLeaf(facet)) {\n        leafs.push(facet);\n        // @ts-ignore \n        facet.columnIndex = index;\n        index++;\n      }\n    });\n\n    leafs.forEach((facet) => {\n      // @ts-ignore\n      facet.columnValuesLength = leafs.length;\n    });\n    const maxLevel = this.cfg.fields.length;\n    for (let i = maxLevel - 1; i >= 0; i--) {\n      const levelFacets = this.getFacetsByLevel(facets, i);\n      // var yIndex = maxLevel - i;\n      for (const facet of levelFacets) {\n        if (!this.isLeaf(facet)) {\n          facet.originColIndex = facet.columnIndex;\n          // @ts-ignore\n          facet.columnIndex = this.getRegionIndex(facet.children);\n          // @ts-ignore\n          facet.columnValuesLength = leafs.length;\n        }\n      }\n    }\n  }\n\n  // get facet use level\n  private getFacetsByLevel(facets: TreeData[], level: number) {\n    const rst: TreeData[] = [];\n    facets.forEach((facet) => {\n      if (facet.rowIndex === level) {\n        rst.push(facet);\n      }\n    });\n    return rst;\n  }\n\n  // if the facet has children , make it's column index in the middle of it's children\n  private getRegionIndex(children: TreeData[]) {\n    const first = children[0];\n    const last = children[children.length - 1];\n    return (last.columnIndex - first.columnIndex) / 2 + first.columnIndex;\n  }\n\n  // is  a leaf without children\n  private isLeaf(facet: TreeData) {\n    return !facet.children || !facet.children.length;\n  }\n\n  private getRows() {\n    return this.cfg.fields.length + 1;\n  }\n\n  // get child\n  private getChildFacets(data: Datum[], level: number, arr: TreeData[]) {\n    // [ 'grade', 'class' ]\n    const fields = this.cfg.fields;\n    const length = fields.length;\n    if (length < level) {\n      return;\n    }\n    const rst = [];\n    // get fist level except root node\n    const field = fields[level - 1];\n    // get field value\n    const values = this.getFieldValues(data, field);\n    values.forEach((value, index) => {\n      const conditions = [{ field, value, values } as Condition];\n      const subData = data.filter(this.getFacetDataFilter(conditions));\n      if (subData.length) {\n        const facet: TreeData = {\n          type: this.cfg.type,\n          data: subData,\n          region: null,\n          columnValue: value,\n          rowValue: '',\n          columnField: field,\n          rowField: '',\n          columnIndex: index,\n          rowValuesLength: this.getRows(),\n          columnValuesLength: 1,\n          rowIndex: level,\n          children: this.getChildFacets(subData, level + 1, arr),\n        };\n        rst.push(facet);\n        arr.push(facet);\n      }\n    });\n    return rst;\n  }\n\n  public render() {\n    super.render();\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  private afterChartRender = () => {\n    if (this.facets && this.cfg.line) {\n      this.container.clear();\n      this.drawLines(this.facets);\n    }\n  };\n\n  private renderTitle() {\n    each(this.facets, (facet: TreeData) => {\n      const { columnValue, view } = facet;\n      const formatter = get(this.cfg.title, 'formatter');\n\n      const config = deepMix(\n        {\n          position: ['50%', '0%'] as [string, string],\n          content: formatter ? formatter(columnValue) : columnValue,\n        },\n        getFactTitleConfig(DIRECTION.TOP),\n        this.cfg.title\n      );\n\n      view.annotation().text(config);\n    });\n  }\n\n  private drawLines(facets: TreeData[]) {\n    facets.forEach((facet) => {\n      if (!this.isLeaf(facet)) {\n        const children = facet.children;\n        this.addFacetLines(facet, children);\n      }\n    });\n  }\n\n  // add lines with it's children\n  private addFacetLines(facet: TreeData, children: TreeData[]) {\n    const view = facet.view;\n    const region = view.coordinateBBox;\n    // top, right, bottom, left\n    const start = {\n      x: region.x + region.width / 2,\n      y: region.y + region.height,\n    };\n\n    children.forEach((subFacet) => {\n      const subRegion = subFacet.view.coordinateBBox;\n      const end = {\n        x: subRegion.bl.x + (subRegion.tr.x - subRegion.bl.x) / 2,\n        y: subRegion.tr.y,\n      };\n\n      const middle1 = {\n        x: start.x,\n        y: start.y + (end.y - start.y) / 2,\n      };\n      const middle2 = {\n        x: end.x,\n        y: middle1.y,\n      };\n      this.drawLine([start, middle1, middle2, end]);\n    });\n  }\n\n  private getPath(points) {\n    const path = [];\n    const smooth = this.cfg.line.smooth;\n    if (smooth) {\n      path.push(['M', points[0].x, points[0].y]);\n      path.push(['C', points[1].x, points[1].y, points[2].x, points[2].y, points[3].x, points[3].y]);\n    } else {\n      points.forEach((point, index) => {\n        if (index === 0) {\n          path.push(['M', point.x, point.y]);\n        } else {\n          path.push(['L', point.x, point.y]);\n        }\n      });\n    }\n\n    return path;\n  }\n\n  // draw line width points\n  private drawLine(points) {\n    const path = this.getPath(points);\n    const line = this.cfg.line.style;\n    this.container.addShape('path', {\n      attrs: assign(\n        {\n          // @ts-ignore\n          path,\n        },\n        line\n      ),\n    });\n  }\n\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: TreeData): object {\n    if (facet.rowIndex !== facet.rowValuesLength - 1) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    }\n    return option;\n  }\n\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: TreeData): object {\n    if (facet.originColIndex !== 0 && facet.columnIndex !== 0) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    }\n    return option;\n  }\n}\n","import { reduce, isNumber } from '@antv/util';\n\n/**\n * \n * @param array\n */\nexport function getMedian(array: number[]) {\n  const arr = [...array];\n  // \n  arr.sort((a: number, b: number) => {\n    return a - b;\n  });\n\n  const len = arr.length;\n\n  // median\n  // 0\n  if (len === 0) {\n    return 0;\n  }\n\n  // \n  if (len % 2 === 1) {\n    return arr[(len - 1) / 2];\n  }\n\n  // \n  return (arr[len / 2] + arr[len / 2 - 1]) / 2;\n}\n\n/**\n * \n * @param array\n */\nexport function getMean(array: number[]) {\n  const sum = reduce(\n    array,\n    (r: number, num: number) => {\n      return (r += isNaN(num) || !isNumber(num) ? 0 : num);\n    },\n    0\n  );\n\n  return array.length === 0 ? 0 : sum / array.length;\n}\n","import { getMedian, getMean } from './stat';\nimport { Scale } from '../dependents';\n\n/**\n * parse the value position\n * @param val\n * @param scale\n */\nexport function getNormalizedValue(val: number | string, scale: Scale) {\n  if (!scale) {\n    return null;\n  }\n  let scaled: number;\n\n  switch (val) {\n    case 'start':\n      return 0;\n    case 'center':\n      return 0.5;\n    case 'end':\n      return 1;\n    case 'median': {\n      scaled = scale.isCategory ? getMedian(scale.values.map((_, idx: number) => idx)) : getMedian(scale.values);\n      break;\n    }\n    case 'mean': {\n      scaled = scale.isCategory ? (scale.values.length - 1) / 2 : getMean(scale.values);\n      break;\n    }\n    case 'min':\n      scaled = scale.isCategory ? 0 : scale[val];\n      break;\n    case 'max':\n      scaled = scale.isCategory ? scale.values.length - 1 : scale[val];\n      break;\n    default:\n      scaled = val as number;\n      break;\n  }\n\n  return scale.scale(scaled);\n}\n","import {\n  contains,\n  deepMix,\n  each,\n  get,\n  isArray,\n  isFunction,\n  isNil,\n  isString,\n  keys,\n  upperFirst,\n  find,\n  includes,\n} from '@antv/util';\nimport { Annotation as AnnotationComponent, IElement, IGroup } from '../../dependents';\nimport {\n  AnnotationBaseOption as BaseOption,\n  AnnotationPosition as Position,\n  ArcOption,\n  ComponentOption,\n  ShapeAnnotationOption,\n  Data,\n  DataMarkerOption,\n  DataRegionOption,\n  Datum,\n  HtmlAnnotationOption,\n  ImageOption,\n  LineOption,\n  Point,\n  RegionFilterOption,\n  RegionOption,\n  RegionPositionBaseOption,\n  TextOption,\n} from '../../interface';\n\nimport { DEFAULT_ANIMATE_CFG } from '../../animate/';\nimport { COMPONENT_TYPE, DIRECTION, GEOMETRY_LIFE_CIRCLE, LAYER, VIEW_LIFE_CIRCLE } from '../../constant';\n\nimport Geometry from '../../geometry/base';\nimport Element from '../../geometry/element';\nimport { getAngleByPoint, getDistanceToCenter } from '../../util/coordinate';\nimport { omit } from '../../util/helper';\nimport { getNormalizedValue } from '../../util/annotation';\nimport View from '../view';\nimport { Controller } from './base';\nimport { Scale } from '@antv/attr';\n\n/**  */\nconst ANNOTATIONS_AFTER_RENDER = ['regionFilter', 'shape'];\n\n/**\n * Annotation controller, :\n * 1.  Annotation: linetextarc ...\n * 2. : initlayoutrendercleardestroy\n */\nexport default class Annotation extends Controller<BaseOption[]> {\n  private foregroundContainer: IGroup;\n  private backgroundContainer: IGroup;\n\n  /*  cache object :  */\n  private cache = new Map<BaseOption, ComponentOption>();\n\n  constructor(view: View) {\n    super(view);\n\n    this.foregroundContainer = this.view.getLayer(LAYER.FORE).addGroup();\n    this.backgroundContainer = this.view.getLayer(LAYER.BG).addGroup();\n\n    this.option = [];\n  }\n\n  public get name(): string {\n    return 'annotation';\n  }\n\n  public init() { }\n\n  /**\n   *  annotation  render  layout \n   */\n  public layout() {\n    this.update();\n  }\n\n  //  Annotation  layout() \n  public render() { }\n\n  /**\n   * \n   */\n  public update() {\n    // 1.   Geometry \n    this.onAfterRender(() => {\n      const updated = new Map<BaseOption, ComponentOption>();\n      //  regionFilter/shape \n      each(this.option, (option: BaseOption) => {\n        if (includes(ANNOTATIONS_AFTER_RENDER, option.type)) {\n          const co = this.updateOrCreate(option);\n          // \n          if (co) {\n            updated.set(this.getCacheKey(option), co);\n          }\n        }\n      });\n\n      //  cache\n      // \n      this.cache = this.syncCache(updated);\n    });\n\n    // 2.  regionFilter\n    const updateCache = new Map<BaseOption, ComponentOption>();\n    each(this.option, (option: BaseOption) => {\n      if (!includes(ANNOTATIONS_AFTER_RENDER, option.type)) {\n        const co = this.updateOrCreate(option);\n        // \n        if (co) {\n          updateCache.set(this.getCacheKey(option), co);\n        }\n      }\n    });\n    this.cache = this.syncCache(updateCache);\n  }\n\n  /**\n   * \n   * @param includeOption  option \n   */\n  public clear(includeOption = false) {\n    super.clear();\n\n    this.clearComponents();\n    this.foregroundContainer.clear();\n    this.backgroundContainer.clear();\n\n    // clear all option\n    if (includeOption) {\n      this.option = [];\n    }\n  }\n\n  public destroy() {\n    this.clear(true);\n\n    this.foregroundContainer.remove(true);\n    this.backgroundContainer.remove(true);\n  }\n\n  /**\n   * \n   */\n  public getComponents(): ComponentOption[] {\n    const co = [];\n\n    this.cache.forEach((value: ComponentOption) => {\n      co.push(value);\n    });\n\n    return co;\n  }\n\n  /**\n   * \n   */\n  private clearComponents() {\n    this.getComponents().forEach((co) => {\n      co.component.destroy();\n    });\n\n    this.cache.clear();\n  }\n\n  /**\n   * region filter \n   * @param doWhat\n   */\n  private onAfterRender(doWhat: () => void) {\n    if (this.view.getOptions().animate) {\n      this.view.geometries.forEach((g: Geometry) => {\n        //  geometry \n        if (g.animateOption) {\n          g.once(GEOMETRY_LIFE_CIRCLE.AFTER_DRAW_ANIMATE, () => {\n            doWhat();\n          });\n        }\n      });\n    } else {\n      this.view.getRootView().once(VIEW_LIFE_CIRCLE.AFTER_RENDER, () => {\n        doWhat();\n      });\n    }\n  }\n\n  private createAnnotation(option: BaseOption) {\n    const { type } = option;\n\n    const Ctor = AnnotationComponent[upperFirst(type)];\n    if (Ctor) {\n      const theme = this.getAnnotationTheme(type);\n      const cfg = this.getAnnotationCfg(type, option, theme);\n      // \n      if (!cfg) {\n        return null;\n      }\n      const annotation = new Ctor(cfg);\n\n      return {\n        component: annotation,\n        layer: this.isTop(cfg) ? LAYER.FORE : LAYER.BG,\n        direction: DIRECTION.NONE,\n        type: COMPONENT_TYPE.ANNOTATION,\n        extra: option,\n      };\n    }\n  }\n\n  // APIs for creating annotation component\n  public annotation(option: any) {\n    this.option.push(option);\n  }\n\n  /**\n   *  Arc\n   * @param option\n   * @returns AnnotationController\n   */\n  public arc(option: ArcOption) {\n    this.annotation({\n      type: 'arc',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  image\n   * @param option\n   * @returns AnnotationController\n   */\n  public image(option: ImageOption) {\n    this.annotation({\n      type: 'image',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  Line\n   * @param option\n   * @returns AnnotationController\n   */\n  public line(option: LineOption) {\n    this.annotation({\n      type: 'line',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  Region\n   * @param option\n   * @returns AnnotationController\n   */\n  public region(option: RegionOption) {\n    this.annotation({\n      type: 'region',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  Text\n   * @param option\n   * @returns AnnotationController\n   */\n  public text(option: TextOption) {\n    this.annotation({\n      type: 'text',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  DataMarker\n   * @param option\n   * @returns AnnotationController\n   */\n  public dataMarker(option: DataMarkerOption) {\n    this.annotation({\n      type: 'dataMarker',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  DataRegion\n   * @param option\n   * @returns AnnotationController\n   */\n  public dataRegion(option: DataRegionOption) {\n    this.annotation({\n      type: 'dataRegion',\n      ...option,\n    });\n  }\n\n  /**\n   *  RegionFilter\n   * @param option\n   * @returns AnnotationController\n   */\n  public regionFilter(option: RegionFilterOption) {\n    this.annotation({\n      type: 'regionFilter',\n      ...option,\n    });\n  }\n\n  /**\n   *  ShapeAnnotation\n   * @param option\n   */\n  public shape(option: ShapeAnnotationOption) {\n    this.annotation({\n      type: 'shape',\n      ...option,\n    });\n  }\n\n  /**\n   *  HtmlAnnotation\n   * @param option\n   */\n  public html(option: HtmlAnnotationOption) {\n    this.annotation({\n      type: 'html',\n      ...option,\n    });\n  }\n  // end API\n\n  /**\n   * parse the point position to [x, y]\n   * @param p Position\n   * @returns { x, y }\n   */\n  private parsePosition(\n    p:\n      | [string | number, string | number]\n      | Datum\n      | ((xScale: Scale, yScale: Scale) => [string | number, string | number] | number | Datum)\n  ): Point {\n    const xScale = this.view.getXScale();\n    //  object\n    const yScales = this.view.getScalesByDim('y');\n\n    const position: Position = isFunction(p) ? p.call(null, xScale, yScales) : p;\n\n    let x = 0;\n    let y = 0;\n\n    //  [24, 24] \n    if (isArray(position)) {\n      const [xPos, yPos] = position;\n      //  ['50%', '50%'] \n      // fix:  'xxx5%xxx'  https://github.com/antvis/f2/issues/590\n      // @ts-ignore\n      if (isString(xPos) && xPos.indexOf('%') !== -1 && !isNaN(xPos.slice(0, -1))) {\n        return this.parsePercentPosition(position as [string, string]);\n      }\n\n      x = getNormalizedValue(xPos, xScale);\n      y = getNormalizedValue(yPos, Object.values(yScales)[0]);\n    } else if (!isNil(position)) {\n      //  object \n      for (const key of keys(position)) {\n        const value = position[key];\n        if (key === xScale.field) {\n          x = getNormalizedValue(value, xScale);\n        }\n        if (yScales[key]) {\n          y = getNormalizedValue(value, yScales[key]);\n        }\n      }\n    }\n\n    if (isNaN(x) || isNaN(y)) {\n      return null;\n    }\n\n    return this.view.getCoordinate().convert({ x, y });\n  }\n\n  /**\n   * parse all the points between start and end\n   * @param start\n   * @param end\n   * @return Point[]\n   */\n  private getRegionPoints(start: Position | Data, end: Position | Data): Point[] {\n    const xScale = this.view.getXScale();\n    const yScales = this.view.getScalesByDim('y');\n    const yScale = Object.values(yScales)[0];\n    const xField = xScale.field;\n    const viewData = this.view.getData();\n    const startXValue = isArray(start) ? start[0] : start[xField];\n    const endXValue = isArray(end) ? end[0] : end[xField];\n    const arr = [];\n\n    let startIndex;\n    each(viewData, (item, idx) => {\n      if (item[xField] === startXValue) {\n        startIndex = idx;\n      }\n      if (idx >= startIndex) {\n        const point = this.parsePosition([item[xField], item[yScale.field]]);\n        if (point) {\n          arr.push(point);\n        }\n      }\n      if (item[xField] === endXValue) {\n        return false;\n      }\n    });\n\n    return arr;\n  }\n\n  /**\n   * parse percent position\n   * @param position\n   */\n  private parsePercentPosition(position: [string, string]): Point {\n    const xPercent = parseFloat(position[0]) / 100;\n    const yPercent = parseFloat(position[1]) / 100;\n    const coordinate = this.view.getCoordinate();\n    const { start, end } = coordinate;\n\n    const topLeft = {\n      x: Math.min(start.x, end.x),\n      y: Math.min(start.y, end.y),\n    };\n    const x = coordinate.getWidth() * xPercent + topLeft.x;\n    const y = coordinate.getHeight() * yPercent + topLeft.y;\n    return { x, y };\n  }\n\n  /**\n   * get coordinate bbox\n   */\n  private getCoordinateBBox() {\n    const coordinate = this.view.getCoordinate();\n    const { start, end } = coordinate;\n\n    const width = coordinate.getWidth();\n    const height = coordinate.getHeight();\n    const topLeft = {\n      x: Math.min(start.x, end.x),\n      y: Math.min(start.y, end.y),\n    };\n\n    return {\n      x: topLeft.x,\n      y: topLeft.y,\n      minX: topLeft.x,\n      minY: topLeft.y,\n      maxX: topLeft.x + width,\n      maxY: topLeft.y + height,\n      width,\n      height,\n    };\n  }\n\n  /**\n   * get annotation component config by different type\n   * @param type\n   * @param option \n   * @param theme\n   */\n  private getAnnotationCfg(type: string, option: any, theme: object): object | null {\n    const coordinate = this.view.getCoordinate();\n    const canvas = this.view.getCanvas();\n    let o = {};\n\n    if (isNil(option)) {\n      return null;\n    }\n    const { start, end, position } = option;;\n    const sp = this.parsePosition(start);\n    const ep = this.parsePosition(end);\n    const textPoint = this.parsePosition(position);\n    if (['arc', 'image', 'line', 'region', 'regionFilter'].includes(type) && (!sp || !ep)) {\n      return null;\n    } else if (['text', 'dataMarker', 'html'].includes(type) && !textPoint) {\n      return null;\n    }\n\n    if (type === 'arc') {\n      const { start, end, ...rest } = option as ArcOption;\n      const startAngle = getAngleByPoint(coordinate, sp);\n      let endAngle = getAngleByPoint(coordinate, ep);\n      if (startAngle > endAngle) {\n        endAngle = Math.PI * 2 + endAngle;\n      }\n\n      o = {\n        ...rest,\n        center: coordinate.getCenter(),\n        radius: getDistanceToCenter(coordinate, sp),\n        startAngle,\n        endAngle,\n      };\n    } else if (type === 'image') {\n      const { start, end, ...rest } = option as ImageOption;\n      o = {\n        ...rest,\n        start: sp,\n        end: ep,\n        src: option.src,\n      };\n    } else if (type === 'line') {\n      const { start, end, ...rest } = option as LineOption;\n      o = {\n        ...rest,\n        start: sp,\n        end: ep,\n        text: get(option, 'text', null),\n      };\n    } else if (type === 'region') {\n      const { start, end, ...rest } = option as RegionPositionBaseOption;\n      o = {\n        ...rest,\n        start: sp,\n        end: ep,\n      };\n    } else if (type === 'text') {\n      const filteredData = this.view.getData();\n      const { position, content, ...rest } = option as TextOption;\n      let textContent = content;\n      if (isFunction(content)) {\n        textContent = content(filteredData);\n      }\n      o = {\n        ...textPoint,\n        ...rest,\n        content: textContent,\n      };\n    } else if (type === 'dataMarker') {\n      const { position, point, line, text, autoAdjust, direction, ...rest } = option as DataMarkerOption;\n      o = {\n        ...rest,\n        ...textPoint,\n        coordinateBBox: this.getCoordinateBBox(),\n        point,\n        line,\n        text,\n        autoAdjust,\n        direction,\n      };\n    } else if (type === 'dataRegion') {\n      const { start, end, region, text, lineLength, ...rest } = option as DataRegionOption;\n      o = {\n        ...rest,\n        points: this.getRegionPoints(start, end),\n        region,\n        text,\n        lineLength,\n      };\n    } else if (type === 'regionFilter') {\n      const { start, end, apply, color, ...rest } = option as RegionFilterOption;\n      const geometries: Geometry[] = this.view.geometries;\n      const shapes = [];\n      const addShapes = (item?: IElement) => {\n        if (!item) {\n          return;\n        }\n        if (item.isGroup()) {\n          (item as IGroup).getChildren().forEach((child) => addShapes(child));\n        } else {\n          shapes.push(item);\n        }\n      };\n      each(geometries, (geom: Geometry) => {\n        if (apply) {\n          if (contains(apply, geom.type)) {\n            each(geom.elements, (elem: Element) => {\n              addShapes(elem.shape);\n            });\n          }\n        } else {\n          each(geom.elements, (elem: Element) => {\n            addShapes(elem.shape);\n          });\n        }\n      });\n      o = {\n        ...rest,\n        color,\n        shapes,\n        start: sp,\n        end: ep,\n      };\n    } else if (type === 'shape') {\n      const { render, ...restOptions } = option as ShapeAnnotationOption;\n      const wrappedRender = (container: IGroup) => {\n        if (isFunction(option.render)) {\n          return render(container, this.view, { parsePosition: this.parsePosition.bind(this) });\n        }\n      };\n      o = {\n        ...restOptions,\n        render: wrappedRender,\n      };\n    } else if (type === 'html') {\n      const { html, position, ...restOptions } = option as HtmlAnnotationOption;\n      const wrappedHtml = (container: HTMLElement) => {\n        if (isFunction(html)) {\n          return html(container, this.view);\n        }\n        return html;\n      };\n      o = {\n        ...restOptions,\n        ...textPoint,\n        // html  parent\n        parent: canvas.get('el').parentNode,\n        html: wrappedHtml,\n      };\n    }\n    // \n    const cfg = deepMix({}, theme, {\n      ...o,\n      top: option.top,\n      style: option.style,\n      offsetX: option.offsetX,\n      offsetY: option.offsetY,\n    });\n    if (type !== 'html') {\n      // html  G container\n      cfg.container = this.getComponentContainer(cfg);\n    }\n    cfg.animate = this.view.getOptions().animate && cfg.animate && get(option, 'animate', cfg.animate); //  view \n    cfg.animateOption = deepMix({}, DEFAULT_ANIMATE_CFG, cfg.animateOption, option.animateOption);\n\n    return cfg;\n  }\n\n  /**\n   * is annotation render on top\n   * @param option\n   * @return whethe on top\n   */\n  private isTop(option: any): boolean {\n    return get(option, 'top', true);\n  }\n\n  /**\n   * get the container by option.top\n   * default is on top\n   * @param option\n   * @returns the container\n   */\n  private getComponentContainer(option: any) {\n    return this.isTop(option) ? this.foregroundContainer : this.backgroundContainer;\n  }\n\n  private getAnnotationTheme(type: string) {\n    return get(this.view.getTheme(), ['components', 'annotation', type], {});\n  }\n\n  /**\n   *  annotation\n   * @param option\n   */\n  private updateOrCreate(option: BaseOption) {\n    // \n    let co = this.cache.get(this.getCacheKey(option));\n\n    // \n    if (co) {\n      const { type } = option;\n      const theme = this.getAnnotationTheme(type);\n      const cfg = this.getAnnotationCfg(type, option, theme);\n\n      // \n      if (cfg) {\n        omit(cfg, ['container']);\n      }\n      co.component.update({ ...(cfg || {}), visible: !!cfg });\n      //  regionFilter/shape render\n      if (includes(ANNOTATIONS_AFTER_RENDER, option.type)) {\n        co.component.render();\n      }\n    } else {\n      // \n      co = this.createAnnotation(option);\n      if (co) {\n        co.component.init();\n        // NoteregionFilter/shape regionFilter/shape  Geometry  Shape view render \n        //  render \n        if (includes(ANNOTATIONS_AFTER_RENDER, option.type)) {\n          co.component.render();\n        }\n      }\n    }\n    return co;\n  }\n\n  /**\n   * \n   * @param updated \n   */\n  private syncCache(updated: Map<BaseOption, ComponentOption>) {\n    const newCache = new Map(this.cache); // clone \n\n    //  update  cache\n    updated.forEach((co: ComponentOption, key: BaseOption) => {\n      newCache.set(key, co);\n    });\n\n    //  options \n    newCache.forEach((co: ComponentOption, key: BaseOption) => {\n      // option \n      if (\n        !find(this.option, (option: BaseOption) => {\n          return key === this.getCacheKey(option);\n        })\n      ) {\n        co.component.destroy();\n        newCache.delete(key);\n      }\n    });\n\n    return newCache;\n  }\n\n  /**\n   *  key\n   * @param option\n   */\n  private getCacheKey(option: BaseOption) {\n    //  id id string option  key\n    return option;\n    //  id \n    // const id = get(option, 'id');\n    // return id ? id : option;\n  }\n}\n","import { deepMix, get, map } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { Coordinate, Scale, Tick } from '../dependents';\n\n/**\n * @ignore\n * get the grid theme by type, will mix the common cfg of axis\n * @param theme\n * @param direction\n * @returns theme object\n */\nexport function getGridThemeCfg(theme: object, direction: DIRECTION | 'common'): object {\n  const axisTheme = deepMix(\n    {},\n    get(theme, ['components', 'axis', 'common']),\n    get(theme, ['components', 'axis', direction])\n  );\n  return get(axisTheme, ['grid'], {});\n}\n\n/**\n * @ignore\n * get axis grid items\n * @param coordinate\n * @param scale\n * @param dim\n * @return items\n */\nexport function getLineGridItems(coordinate: Coordinate, scale: Scale, dim: string, alignTick?: boolean) {\n  const items = [];\n  const ticks = scale.getTicks();\n  if (coordinate.isPolar) {\n    //  ticks\n    ticks.push({\n      value: 1,\n      text: '',\n      tickValue: '',\n    });\n  }\n  ticks.reduce((preTick: Tick, currentTick: Tick, currentIndex) => {\n    const currentValue = currentTick.value;\n    if (alignTick) {\n      items.push({\n        points: [\n          coordinate.convert(dim === 'y' ? { x: 0, y: currentValue } : { x: currentValue, y: 0 }),\n          coordinate.convert(dim === 'y' ? { x: 1, y: currentValue } : { x: currentValue, y: 1 }),\n        ],\n      });\n    } else {\n      if (currentIndex) {\n        const preValue = preTick.value;\n        const middleValue = (preValue + currentValue) / 2;\n        items.push({\n          points: [\n            coordinate.convert(dim === 'y' ? { x: 0, y: middleValue } : { x: middleValue, y: 0 }),\n            coordinate.convert(dim === 'y' ? { x: 1, y: middleValue } : { x: middleValue, y: 1 }),\n          ],\n        });\n      }\n    }\n    return currentTick;\n  }, ticks[0]);\n  return items;\n}\n\n/**\n * @ignore\n * get\n * @param coordinate\n * @param xScale\n * @param yScale\n * @param dim\n * @returns items\n */\nexport function getCircleGridItems(\n  coordinate: Coordinate,\n  xScale: Scale,\n  yScale: Scale,\n  alignTick: boolean,\n  dim: string\n) {\n  const count = xScale.values.length;\n  const items = [];\n  const ticks = yScale.getTicks();\n\n  ticks.reduce((preTick: Tick, currentTick: Tick) => {\n    const preValue = preTick ? preTick.value : currentTick.value; // \n    const currentValue = currentTick.value;\n    const middleValue = (preValue + currentValue) / 2;\n    if (dim === 'x') {\n      //  x \n      items.push({\n        points: [\n          coordinate.convert({\n            x: alignTick ? currentValue : middleValue,\n            y: 0,\n          }),\n          coordinate.convert({\n            x: alignTick ? currentValue : middleValue,\n            y: 1,\n          }),\n        ],\n      });\n    } else {\n      items.push({\n        points: map(Array(count + 1), (__: any, idx: number) => {\n          return coordinate.convert({\n            x: idx / count,\n            y: alignTick ? currentValue : middleValue,\n          });\n        }),\n      });\n    }\n\n    return currentTick;\n  }, ticks[0]);\n  return items;\n}\n\n/**\n * @ignore\n * show grid or not\n * @param axisTheme\n * @param axisOption\n */\nexport function showGrid(axisTheme: any, axisOption: any): boolean {\n  const userGrid = get(axisOption, 'grid');\n  if (userGrid === null) {\n    return false;\n  }\n\n  const themeGrid = get(axisTheme, 'grid');\n\n  return !(userGrid === undefined && themeGrid === null);\n}\n","import { deepMix, each, get, isUndefined } from '@antv/util';\nimport { DIRECTION, COMPONENT_TYPE, LAYER } from '../../constant';\nimport { CircleAxis, CircleGrid, IGroup, LineAxis, LineGrid, Scale } from '../../dependents';\nimport { AxisCfg, AxisOption, ComponentOption } from '../../interface';\n\nimport { DEFAULT_ANIMATE_CFG } from '../../animate/';\n\nimport {\n  getAxisDirection,\n  getAxisFactorByRegion,\n  getAxisRegion,\n  getAxisThemeCfg,\n  getAxisTitleOptions,\n  getAxisTitleText,\n  getCircleAxisCenterRadius,\n  isVertical,\n} from '../../util/axis';\nimport { getAxisOption } from '../../util/axis';\nimport { getCircleGridItems, getGridThemeCfg, getLineGridItems, showGrid } from '../../util/grid';\nimport { omit } from '../../util/helper';\nimport View from '../view';\nimport { Controller } from './base';\n\ntype Option = Record<string, AxisOption> | boolean;\n\ntype Cache = Map<string, ComponentOption>;\n\n// update \nconst OMIT_CFG = ['container'];\n\n// \nconst AXIS_DEFAULT_ANIMATE_CFG = {\n  ...DEFAULT_ANIMATE_CFG,\n  appear: null,\n};\n\n/**\n * @ignore\n * G2 Axis controller, will:\n *  - create component\n *    - axis\n *    - grid\n *  - life circle\n */\nexport default class Axis extends Controller<Option> {\n  /** the draw group of axis */\n  private axisContainer: IGroup;\n  private axisForeContainer: IGroup;\n  private gridContainer: IGroup;\n  private gridForeContainer: IGroup;\n\n  /**  object  */\n  private cache: Cache = new Map<string, ComponentOption>();\n\n  constructor(view: View) {\n    super(view);\n\n    //  gridContainer grid  axis \n    this.gridContainer = this.view.getLayer(LAYER.BG).addGroup();\n    this.gridForeContainer = this.view.getLayer(LAYER.FORE).addGroup();\n    this.axisContainer = this.view.getLayer(LAYER.BG).addGroup();\n    this.axisForeContainer = this.view.getLayer(LAYER.FORE).addGroup();\n  }\n\n  public get name(): string {\n    return 'axis';\n  }\n\n  public init() {}\n\n  public render() {\n    this.update();\n  }\n\n  /**\n   * \n   */\n  public layout() {\n    const coordinate = this.view.getCoordinate();\n\n    each(this.getComponents(), (co: ComponentOption) => {\n      const { component, direction, type, extra } = co;\n      const { dim, scale, alignTick } = extra;\n\n      let updated;\n\n      if (type === COMPONENT_TYPE.AXIS) {\n        if (coordinate.isPolar) {\n          if (dim === 'x') {\n            updated = coordinate.isTransposed\n              ? getAxisRegion(coordinate, direction)\n              : getCircleAxisCenterRadius(coordinate);\n          } else if (dim === 'y') {\n            updated = coordinate.isTransposed\n              ? getCircleAxisCenterRadius(coordinate)\n              : getAxisRegion(coordinate, direction);\n          }\n        } else {\n          updated = getAxisRegion(coordinate, direction);\n        }\n      } else if (type === COMPONENT_TYPE.GRID) {\n        if (coordinate.isPolar) {\n          let items;\n          if (coordinate.isTransposed) {\n            items =\n              dim === 'x'\n                ? getCircleGridItems(coordinate, this.view.getYScales()[0], scale, alignTick, dim)\n                : getLineGridItems(coordinate, scale, dim, alignTick);\n          } else {\n            items =\n              dim === 'x'\n                ? getLineGridItems(coordinate, scale, dim, alignTick)\n                : getCircleGridItems(coordinate, this.view.getXScale(), scale, alignTick, dim);\n          }\n          updated = {\n            items,\n            // coordinate center \n            center: this.view.getCoordinate().getCenter(),\n          };\n        } else {\n          updated = { items: getLineGridItems(coordinate, scale, dim, alignTick) };\n        }\n      }\n      component.update(updated);\n    });\n  }\n\n  /**\n   *  axis \n   */\n  public update() {\n    this.option = this.view.getOptions().axes;\n\n    const updatedCache = new Map<string, ComponentOption>();\n\n    this.updateXAxes(updatedCache);\n    this.updateYAxes(updatedCache);\n\n    // \n    // \n    const newCache = new Map<string, ComponentOption>();\n\n    this.cache.forEach((co: ComponentOption, key: string) => {\n      if (updatedCache.has(key)) {\n        newCache.set(key, co);\n      } else {\n        // \n        co.component.destroy();\n      }\n    });\n\n    // \n    this.cache = newCache;\n  }\n\n  public clear() {\n    super.clear();\n\n    this.cache.clear();\n    this.gridContainer.clear();\n    this.gridForeContainer.clear();\n    this.axisContainer.clear();\n    this.axisForeContainer.clear();\n  }\n\n  public destroy() {\n    super.destroy();\n\n    this.gridContainer.remove(true);\n    this.gridForeContainer.remove(true);\n    this.axisContainer.remove(true);\n    this.axisForeContainer.remove(true);\n  }\n\n  /**\n   * @override\n   */\n  public getComponents(): ComponentOption[] {\n    const co = [];\n\n    this.cache.forEach((value: ComponentOption) => {\n      co.push(value);\n    });\n\n    return co;\n  }\n\n  /**\n   *  x axis\n   * @param updatedCache\n   */\n  private updateXAxes(updatedCache: Cache) {\n    // x axis\n    const scale = this.view.getXScale();\n\n    if (!scale || scale.isIdentity) {\n      return;\n    }\n\n    const xAxisOption = getAxisOption(this.option, scale.field);\n    if (xAxisOption === false) {\n      return;\n    }\n\n    const direction = getAxisDirection(xAxisOption, DIRECTION.BOTTOM);\n    const layer = LAYER.BG;\n    const dim = 'x';\n\n    const coordinate = this.view.getCoordinate();\n\n    const axisId = this.getId('axis', scale.field);\n    const gridId = this.getId('grid', scale.field);\n\n    if (coordinate.isRect) {\n      // 1. do axis update\n      let axis = this.cache.get(axisId);\n      // \n      if (axis) {\n        const cfg = this.getLineAxisCfg(scale, xAxisOption, direction);\n        omit(cfg, OMIT_CFG);\n        axis.component.update(cfg);\n        updatedCache.set(axisId, axis);\n      } else {\n        // \n        axis = this.createLineAxis(scale, xAxisOption, layer, direction, dim);\n        this.cache.set(axisId, axis);\n        updatedCache.set(axisId, axis);\n      }\n\n      // 2. do grid update\n      let grid = this.cache.get(gridId);\n      // \n      if (grid) {\n        const cfg = this.getLineGridCfg(scale, xAxisOption, direction, dim);\n        omit(cfg, OMIT_CFG);\n        grid.component.update(cfg);\n        updatedCache.set(gridId, grid);\n      } else {\n        // \n        grid = this.createLineGrid(scale, xAxisOption, layer, direction, dim);\n        if (grid) {\n          this.cache.set(gridId, grid);\n          updatedCache.set(gridId, grid);\n        }\n      }\n    } else if (coordinate.isPolar) {\n      // 1. do axis update\n      let axis = this.cache.get(axisId);\n      // \n      if (axis) {\n        const cfg = coordinate.isTransposed\n          ? this.getLineAxisCfg(scale, xAxisOption, DIRECTION.RADIUS)\n          : this.getCircleAxisCfg(scale, xAxisOption, direction);\n\n        omit(cfg, OMIT_CFG);\n        axis.component.update(cfg);\n        updatedCache.set(axisId, axis);\n      } else {\n        // \n        if (coordinate.isTransposed) {\n          if (isUndefined(xAxisOption)) {\n            // \n            return;\n          } else {\n            //  chart.axis(true)/chart.axis('x', true)\n            //  x \n            axis = this.createLineAxis(scale, xAxisOption, layer, DIRECTION.RADIUS, dim);\n          }\n        } else {\n          axis = this.createCircleAxis(scale, xAxisOption, layer, direction, dim);\n        }\n        this.cache.set(axisId, axis);\n        updatedCache.set(axisId, axis);\n      }\n\n      // 2. do grid update\n      let grid = this.cache.get(gridId);\n      // \n      if (grid) {\n        const cfg = coordinate.isTransposed\n          ? this.getCircleGridCfg(scale, xAxisOption, DIRECTION.RADIUS, dim)\n          : this.getLineGridCfg(scale, xAxisOption, DIRECTION.CIRCLE, dim);\n        omit(cfg, OMIT_CFG);\n        grid.component.update(cfg);\n        updatedCache.set(gridId, grid);\n      } else {\n        // \n        if (coordinate.isTransposed) {\n          if (isUndefined(xAxisOption)) {\n            return;\n          } else {\n            grid = this.createCircleGrid(scale, xAxisOption, layer, DIRECTION.RADIUS, dim);\n          }\n        } else {\n          // grid x \n          grid = this.createLineGrid(scale, xAxisOption, layer, DIRECTION.CIRCLE, dim);\n        }\n\n        if (grid) {\n          this.cache.set(gridId, grid);\n          updatedCache.set(gridId, grid);\n        }\n      }\n    } else {\n      // helix and other, do not draw axis\n    }\n  }\n\n  private updateYAxes(updatedCache: Cache) {\n    // y axes\n    const yScales = this.view.getYScales();\n\n    each(yScales, (scale: Scale, idx: number) => {\n      // @ts-ignore\n      if (!scale || scale.isIdentity) {\n        return;\n      }\n      const { field } = scale;\n      const yAxisOption = getAxisOption(this.option, field);\n\n      if (yAxisOption !== false) {\n        const layer = LAYER.BG;\n        const dim = 'y';\n        const axisId = this.getId('axis', field);\n        const gridId = this.getId('grid', field);\n\n        const coordinate = this.view.getCoordinate();\n\n        if (coordinate.isRect) {\n          const direction = getAxisDirection(yAxisOption, idx === 0 ? DIRECTION.LEFT : DIRECTION.RIGHT);\n\n          // 1. do axis update\n          let axis = this.cache.get(axisId);\n          // \n          if (axis) {\n            const cfg = this.getLineAxisCfg(scale, yAxisOption, direction);\n            omit(cfg, OMIT_CFG);\n            axis.component.update(cfg);\n            updatedCache.set(axisId, axis);\n          } else {\n            // \n            axis = this.createLineAxis(scale, yAxisOption, layer, direction, dim);\n            this.cache.set(axisId, axis);\n            updatedCache.set(axisId, axis);\n          }\n\n          // 2. do grid update\n          let grid = this.cache.get(gridId);\n          // \n          if (grid) {\n            const cfg = this.getLineGridCfg(scale, yAxisOption, direction, dim);\n            omit(cfg, OMIT_CFG);\n            grid.component.update(cfg);\n            updatedCache.set(gridId, grid);\n          } else {\n            // \n            grid = this.createLineGrid(scale, yAxisOption, layer, direction, dim);\n            if (grid) {\n              this.cache.set(gridId, grid);\n              updatedCache.set(gridId, grid);\n            }\n          }\n        } else if (coordinate.isPolar) {\n          // 1. do axis update\n          let axis = this.cache.get(axisId);\n          // \n          if (axis) {\n            const cfg = coordinate.isTransposed\n              ? this.getCircleAxisCfg(scale, yAxisOption, DIRECTION.CIRCLE)\n              : this.getLineAxisCfg(scale, yAxisOption, DIRECTION.RADIUS);\n\n            // @ts-ignore\n            omit(cfg, OMIT_CFG);\n            axis.component.update(cfg);\n            updatedCache.set(axisId, axis);\n          } else {\n            // \n            if (coordinate.isTransposed) {\n              if (isUndefined(yAxisOption)) {\n                return;\n              } else {\n                axis = this.createCircleAxis(scale, yAxisOption, layer, DIRECTION.CIRCLE, dim);\n              }\n            } else {\n              axis = this.createLineAxis(scale, yAxisOption, layer, DIRECTION.RADIUS, dim);\n            }\n\n            this.cache.set(axisId, axis);\n            updatedCache.set(axisId, axis);\n          }\n\n          // 2. do grid update\n          let grid = this.cache.get(gridId);\n          // \n          if (grid) {\n            const cfg = coordinate.isTransposed\n              ? this.getLineGridCfg(scale, yAxisOption, DIRECTION.CIRCLE, dim)\n              : this.getCircleGridCfg(scale, yAxisOption, DIRECTION.RADIUS, dim);\n            omit(cfg, OMIT_CFG);\n            grid.component.update(cfg);\n            updatedCache.set(gridId, grid);\n          } else {\n            // \n            if (coordinate.isTransposed) {\n              if (isUndefined(yAxisOption)) {\n                return;\n              } else {\n                grid = this.createLineGrid(scale, yAxisOption, layer, DIRECTION.CIRCLE, dim);\n              }\n            } else {\n              grid = this.createCircleGrid(scale, yAxisOption, layer, DIRECTION.RADIUS, dim);\n            }\n\n            if (grid) {\n              this.cache.set(gridId, grid);\n              updatedCache.set(gridId, grid);\n            }\n          }\n        } else {\n          // helix and other, do not draw axis\n        }\n      }\n    });\n  }\n\n  /**\n   *  line axis\n   * @param scale\n   * @param option\n   * @param layer\n   * @param direction\n   * @param dim\n   */\n  private createLineAxis(\n    scale: Scale,\n    option: AxisCfg,\n    layer: LAYER,\n    direction: DIRECTION,\n    dim: string\n  ): ComponentOption {\n    // axis\n    const axis = {\n      component: new LineAxis(this.getLineAxisCfg(scale, option, direction)),\n      layer,\n      direction: direction === DIRECTION.RADIUS ? DIRECTION.NONE : direction,\n      type: COMPONENT_TYPE.AXIS,\n      extra: { dim, scale },\n    };\n    axis.component.set('field', scale.field);\n    axis.component.init();\n\n    return axis;\n  }\n\n  private createLineGrid(\n    scale: Scale,\n    option: AxisCfg,\n    layer: LAYER,\n    direction: DIRECTION,\n    dim: string\n  ): ComponentOption {\n    const cfg = this.getLineGridCfg(scale, option, direction, dim);\n    if (cfg) {\n      const grid = {\n        component: new LineGrid(cfg),\n        layer,\n        direction: DIRECTION.NONE,\n        type: COMPONENT_TYPE.GRID,\n        extra: {\n          dim,\n          scale,\n          alignTick: get(cfg, 'alignTick', true),\n        },\n      };\n      grid.component.init();\n\n      return grid;\n    }\n  }\n\n  private createCircleAxis(\n    scale: Scale,\n    option: AxisCfg,\n    layer: LAYER,\n    direction: DIRECTION,\n    dim: string\n  ): ComponentOption {\n    const axis = {\n      component: new CircleAxis(this.getCircleAxisCfg(scale, option, direction)),\n      layer,\n      direction,\n      type: COMPONENT_TYPE.AXIS,\n      extra: { dim, scale },\n    };\n    axis.component.set('field', scale.field);\n\n    axis.component.init();\n\n    return axis;\n  }\n\n  private createCircleGrid(\n    scale: Scale,\n    option: AxisCfg,\n    layer: LAYER,\n    direction: DIRECTION,\n    dim: string\n  ): ComponentOption {\n    const cfg = this.getCircleGridCfg(scale, option, direction, dim);\n    if (cfg) {\n      const grid = {\n        component: new CircleGrid(cfg),\n        layer,\n        direction: DIRECTION.NONE,\n        type: COMPONENT_TYPE.GRID,\n        extra: {\n          dim,\n          scale,\n          alignTick: get(cfg, 'alignTick', true),\n        },\n      };\n\n      grid.component.init();\n      return grid;\n    }\n  }\n\n  /**\n   * generate line axis cfg\n   * @param scale\n   * @param axisOption\n   * @param direction\n   * @return line axis cfg\n   */\n  private getLineAxisCfg(scale: Scale, axisOption: AxisCfg, direction: DIRECTION) {\n    const container = get(axisOption, ['top']) ? this.axisForeContainer : this.axisContainer;\n    const coordinate = this.view.getCoordinate();\n    const region = getAxisRegion(coordinate, direction);\n    const titleText = getAxisTitleText(scale, axisOption);\n    const axisThemeCfg = getAxisThemeCfg(this.view.getTheme(), direction);\n    // the cfg order should be ensure\n    const optionWithTitle = get(axisOption, ['title'])\n      ? deepMix(\n          { title: { style: { text: titleText } } },\n          { title: getAxisTitleOptions(this.view.getTheme(), direction, axisOption.title) },\n          axisOption\n        )\n      : axisOption;\n\n    const cfg = deepMix(\n      {\n        container,\n        ...region,\n        ticks: scale.getTicks().map((tick) => ({ id: `${tick.tickValue}`, name: tick.text, value: tick.value })),\n        verticalFactor: coordinate.isPolar\n          ? getAxisFactorByRegion(region, coordinate.getCenter()) * -1\n          : getAxisFactorByRegion(region, coordinate.getCenter()),\n        theme: axisThemeCfg,\n      },\n      axisThemeCfg,\n      optionWithTitle\n    );\n    const { animate, animateOption } = this.getAnimateCfg(cfg);\n    cfg.animateOption = animateOption;\n    cfg.animate = animate;\n\n    //  verticalLimitLength\n    const isAxisVertical = isVertical(region);\n    // TODO: 1 / 3 \n    const verticalLimitLength = get(cfg, 'verticalLimitLength', isAxisVertical ? 1 / 3 : 1 / 2);\n    if (verticalLimitLength <= 1) {\n      // \n      const canvasWidth = this.view.getCanvas().get('width');\n      const canvasHeight = this.view.getCanvas().get('height');\n      cfg.verticalLimitLength = verticalLimitLength * (isAxisVertical ? canvasWidth : canvasHeight);\n    }\n\n    return cfg;\n  }\n\n  /**\n   * generate line grid cfg\n   * @param scale\n   * @param axisOption\n   * @param direction\n   * @param dim\n   * @return line grid cfg\n   */\n  private getLineGridCfg(scale: Scale, axisOption: AxisCfg, direction: DIRECTION, dim: string) {\n    if (!showGrid(getAxisThemeCfg(this.view.getTheme(), direction), axisOption)) {\n      return undefined;\n    }\n    const gridThemeCfg = getGridThemeCfg(this.view.getTheme(), direction);\n    // the cfg order should be ensure\n    // grid  axis \n    const gridCfg = deepMix(\n      {\n        container: get(axisOption, ['top']) ? this.gridForeContainer : this.gridContainer,\n      },\n      gridThemeCfg,\n      get(axisOption, 'grid'),\n      this.getAnimateCfg(axisOption)\n    );\n    gridCfg.items = getLineGridItems(this.view.getCoordinate(), scale, dim, get(gridCfg, 'alignTick', true));\n\n    return gridCfg;\n  }\n\n  /**\n   * generate circle axis cfg\n   * @param scale\n   * @param axisOption\n   * @param direction\n   * @return circle axis cfg\n   */\n  private getCircleAxisCfg(scale: Scale, axisOption: AxisCfg, direction: DIRECTION) {\n    const container = get(axisOption, ['top']) ? this.axisForeContainer : this.axisContainer;\n    const coordinate = this.view.getCoordinate();\n\n    const ticks = scale.getTicks().map((tick) => ({ id: `${tick.tickValue}`, name: tick.text, value: tick.value }));\n    if (!scale.isCategory && Math.abs(coordinate.endAngle - coordinate.startAngle) === Math.PI * 2) {\n      // x  cat \n      ticks.pop();\n    }\n\n    const titleText = getAxisTitleText(scale, axisOption);\n    const axisThemeCfg = getAxisThemeCfg(this.view.getTheme(), DIRECTION.CIRCLE);\n    // the cfg order should be ensure\n    const optionWithTitle = get(axisOption, ['title'])\n      ? deepMix(\n          { title: { style: { text: titleText } } },\n          { title: getAxisTitleOptions(this.view.getTheme(), direction, axisOption.title) },\n          axisOption\n        )\n      : axisOption;\n    const cfg = deepMix(\n      {\n        container,\n        ...getCircleAxisCenterRadius(this.view.getCoordinate()),\n        ticks,\n        verticalFactor: 1,\n        theme: axisThemeCfg,\n      },\n      axisThemeCfg,\n      optionWithTitle\n    );\n    const { animate, animateOption } = this.getAnimateCfg(cfg);\n    cfg.animate = animate;\n    cfg.animateOption = animateOption;\n\n    return cfg;\n  }\n\n  /**\n   * generate circle grid cfg\n   * @param scale\n   * @param axisOption\n   * @param direction\n   * @return circle grid cfg\n   */\n  private getCircleGridCfg(scale: Scale, axisOption: AxisCfg, direction: DIRECTION, dim: string) {\n    if (!showGrid(getAxisThemeCfg(this.view.getTheme(), direction), axisOption)) {\n      return undefined;\n    }\n\n    // the cfg order should be ensure\n    // grid  axis \n    const gridThemeCfg = getGridThemeCfg(this.view.getTheme(), DIRECTION.RADIUS);\n    const gridCfg = deepMix(\n      {\n        container: get(axisOption, ['top']) ? this.gridForeContainer : this.gridContainer,\n        center: this.view.getCoordinate().getCenter(),\n      },\n      gridThemeCfg,\n      get(axisOption, 'grid'),\n      this.getAnimateCfg(axisOption)\n    );\n    const alignTick = get(gridCfg, 'alignTick', true);\n    const verticalScale = dim === 'x' ? this.view.getYScales()[0] : this.view.getXScale();\n    gridCfg.items = getCircleGridItems(this.view.getCoordinate(), verticalScale, scale, alignTick, dim);\n    // the cfg order should be ensure\n    // grid  axis \n    return gridCfg;\n  }\n\n  private getId(name: string, key: string): string {\n    const coordinate = this.view.getCoordinate();\n    //  key\n    return `${name}-${key}-${coordinate.type}`;\n  }\n\n  private getAnimateCfg(cfg) {\n    return {\n      animate: this.view.getOptions().animate && get(cfg, 'animate'), //  view \n      animateOption:\n        cfg && cfg.animateOption ? deepMix({}, AXIS_DEFAULT_ANIMATE_CFG, cfg.animateOption) : AXIS_DEFAULT_ANIMATE_CFG,\n    };\n  }\n}\n","import { DIRECTION } from '../constant';\nimport { Coordinate } from '../dependents';\nimport { Position } from '../interface';\nimport { BBox } from './bbox';\n\n/**\n * @ignore\n *  bbox \n * @param parentBBox\n * @param bbox\n * @param direction\n */\nexport function directionToPosition(parentBBox: BBox, bbox: BBox, direction: DIRECTION): Position {\n  if (direction === DIRECTION.TOP) {\n    return [parentBBox.minX + parentBBox.width / 2 - bbox.width / 2, parentBBox.minY];\n  }\n  if (direction === DIRECTION.BOTTOM) {\n    return [parentBBox.minX + parentBBox.width / 2 - bbox.width / 2, parentBBox.maxY - bbox.height];\n  }\n  if (direction === DIRECTION.LEFT) {\n    return [parentBBox.minX, parentBBox.minY + parentBBox.height / 2 - bbox.height / 2];\n  }\n  if (direction === DIRECTION.RIGHT) {\n    return [parentBBox.maxX - bbox.width, parentBBox.minY + parentBBox.height / 2 - bbox.height / 2];\n  }\n\n  if (direction === DIRECTION.TOP_LEFT || direction === DIRECTION.LEFT_TOP) {\n    return [parentBBox.tl.x, parentBBox.tl.y];\n  }\n  if (direction === DIRECTION.TOP_RIGHT || direction === DIRECTION.RIGHT_TOP) {\n    return [parentBBox.tr.x - bbox.width, parentBBox.tr.y];\n  }\n  if (direction === DIRECTION.BOTTOM_LEFT || direction === DIRECTION.LEFT_BOTTOM) {\n    return [parentBBox.bl.x, parentBBox.bl.y - bbox.height];\n  }\n  if (direction === DIRECTION.BOTTOM_RIGHT || direction === DIRECTION.RIGHT_BOTTOM) {\n    return [parentBBox.br.x - bbox.width, parentBBox.br.y - bbox.height];\n  }\n\n  return [0, 0];\n}\n\n/**\n * get direction after coordinate transpose\n * @param direction\n * @param coordinate\n * @returns direction after transpose or not\n */\nfunction getTransposedDirection(direction: DIRECTION, coordinate: Coordinate): DIRECTION {\n  if (coordinate.isTransposed) {\n    switch (direction) {\n      case DIRECTION.BOTTOM:\n        return DIRECTION.LEFT;\n      case DIRECTION.LEFT:\n        return DIRECTION.BOTTOM;\n      case DIRECTION.RIGHT:\n        return DIRECTION.TOP;\n      case DIRECTION.TOP:\n        return DIRECTION.RIGHT;\n    }\n  }\n  return direction;\n}\n\nfunction reflectX(direct: DIRECTION): DIRECTION {\n  if (direct === DIRECTION.LEFT) {\n    return DIRECTION.RIGHT;\n  }\n\n  if (direct === DIRECTION.RIGHT) {\n    return DIRECTION.LEFT;\n  }\n\n  return direct;\n}\n\nfunction reflectY(direct: DIRECTION): DIRECTION {\n  if (direct === DIRECTION.TOP) {\n    return DIRECTION.BOTTOM;\n  }\n  if (direct === DIRECTION.BOTTOM) {\n    return DIRECTION.TOP;\n  }\n\n  return direct;\n}\n\n/**\n * get direction after coordinate.scale\n * @param direction\n * @param coordinate\n */\nfunction getScaleDirection(direction: DIRECTION, coordinate: Coordinate): DIRECTION {\n  const x = coordinate.matrix[0];\n  const y = coordinate.matrix[4];\n\n  let d = direction;\n  if (x < 0) {\n    d = reflectX(d);\n  }\n  if (y < 0) {\n    d = reflectY(d);\n  }\n  return d;\n}\n\n/**\n *\n * @param direction\n * @param coordinate\n */\nfunction getReflectDirection(direction: DIRECTION, coordinate: Coordinate): DIRECTION {\n  let d = direction;\n\n  if (coordinate.isReflect('x')) {\n    d = reflectX(d);\n  }\n  if (coordinate.isReflect('y')) {\n    d = reflectY(d);\n  }\n\n  return d;\n}\n\n/**\n * @ignore\n * get direction after coordinate translate\n * @param direction\n * @param coordinate\n */\nexport function getTranslateDirection(direction: DIRECTION, coordinate: Coordinate): DIRECTION {\n  let d = direction;\n  d = getTransposedDirection(d, coordinate);\n  d = getScaleDirection(d, coordinate);\n  d = getReflectDirection(d, coordinate);\n\n  return d;\n}\n","import { deepMix, each, find, get, head, isBoolean, last } from '@antv/util';\nimport { COMPONENT_MAX_VIEW_PERCENTAGE, COMPONENT_TYPE, DIRECTION, LAYER } from '../../constant';\nimport { Attribute, CategoryLegend, ContinuousLegend, GroupComponent, IGroup, Scale, Tick } from '../../dependents';\nimport { ComponentOption, LegendCfg, LegendOption, LooseObject, AllLegendsOptions, Padding } from '../../interface';\nimport { DEFAULT_ANIMATE_CFG } from '../../animate';\nimport Geometry from '../../geometry/base';\nimport { BBox } from '../../util/bbox';\nimport { directionToPosition } from '../../util/direction';\nimport { omit } from '../../util/helper';\nimport { getCustomLegendItems, getLegendItems, getLegendLayout, getLegendThemeCfg } from '../../util/legend';\nimport { getName } from '../../util/scale';\nimport View from '../view';\nimport { Controller } from './base';\n\ntype DoEach = (geometry: Geometry, attr: Attribute, scale: Scale) => void;\n\n/**\n *  legend \n * @param legends\n * @param field\n * @returns the option of one legend field\n */\nfunction getLegendOption(legends: AllLegendsOptions, field: string) {\n  if (isBoolean(legends)) {\n    return legends === false ? false : {};\n  }\n\n  return get(legends, [field], legends);\n}\n\nfunction getDirection(legendOption: any): DIRECTION {\n  return get(legendOption, 'position', DIRECTION.BOTTOM);\n}\n\n/**\n * @ignore\n * legend Controller\n */\nexport default class Legend extends Controller<AllLegendsOptions> {\n  /** the draw group of axis */\n  private container: IGroup;\n  /**  legend  bbox */\n  private layoutBBox: BBox;\n\n  constructor(view: View) {\n    super(view);\n\n    this.container = this.view.getLayer(LAYER.FORE).addGroup();\n  }\n\n  public get name(): string {\n    return 'legend';\n  }\n\n  public init() {}\n\n  /**\n   * render the legend component by legend options\n   */\n  public render() {\n    //  update \n    this.update();\n  }\n\n  /**\n   * layout legend\n   *  legend  direction  x, y\n   */\n  public layout() {\n    this.layoutBBox = this.view.viewBBox;\n\n    each(this.components, (co: ComponentOption) => {\n      const { component, direction } = co;\n      const layout = getLegendLayout(direction);\n      const maxWidthRatio = component.get('maxWidthRatio');\n      const maxHeightRatio = component.get('maxHeightRatio');\n\n      const maxSize = this.getCategoryLegendSizeCfg(layout, maxWidthRatio, maxHeightRatio);\n\n      const maxWidth = component.get('maxWidth');\n      const maxHeight = component.get('maxHeight');\n\n      //  maxSize layoutBBox x y\n      component.update({\n        maxWidth: Math.min(maxSize.maxWidth, maxWidth || 0),\n        maxHeight: Math.min(maxSize.maxHeight, maxHeight || 0),\n      });\n\n      const padding = component.get('padding') as Padding;\n\n      const bboxObject = component.getLayoutBBox(); //  widthheight \n      const bbox = new BBox(bboxObject.x, bboxObject.y, bboxObject.width, bboxObject.height).expand(padding);\n\n      const [x1, y1] = directionToPosition(this.view.viewBBox, bbox, direction);\n      const [x2, y2] = directionToPosition(this.layoutBBox, bbox, direction);\n\n      let x = 0;\n      let y = 0;\n\n      //  legend x y  coordinateBBox \n      if (direction.startsWith('top') || direction.startsWith('bottom')) {\n        x = x1;\n        y = y2;\n      } else {\n        x = x2;\n        y = y1;\n      }\n\n      // \n      component.setLocation({ x: x + padding[3], y: y + padding[0] });\n\n      this.layoutBBox = this.layoutBBox.cut(bbox, direction);\n    });\n  }\n\n  /**\n   * legend \n   */\n  public update() {\n    this.option = this.view.getOptions().legends;\n\n    //  legend\n    const updated: Record<string, true> = {};\n\n    const eachLegend = (geometry: Geometry, attr: Attribute, scale: Scale) => {\n      const id = this.getId(scale.field);\n\n      const existCo = this.getComponentById(id);\n\n      //  update\n      if (existCo) {\n        let cfg;\n        const legendOption = getLegendOption(this.option, scale.field);\n\n        // if the legend option is not false, means legend should be created.\n        if (legendOption !== false) {\n          if (get(legendOption, 'custom')) {\n            cfg = this.getCategoryCfg(geometry, attr, scale, legendOption, true);\n          } else {\n            if (scale.isLinear) {\n              // linear field, create continuous legend\n              cfg = this.getContinuousCfg(geometry, attr, scale, legendOption);\n            } else if (scale.isCategory) {\n              // category field, create category legend\n              cfg = this.getCategoryCfg(geometry, attr, scale, legendOption);\n            }\n          }\n        }\n\n        //  cfg  updated \n        if (cfg) {\n          // omit  container \n          omit(cfg, ['container']);\n\n          existCo.direction = getDirection(legendOption);\n\n          existCo.component.update(cfg);\n\n          // \n          updated[id] = true;\n        }\n      } else {\n        //  create\n        const legend = this.createFieldLegend(geometry, attr, scale);\n\n        if (legend) {\n          (legend.component as GroupComponent).init();\n          this.components.push(legend);\n\n          // \n          updated[id] = true;\n        }\n      }\n    };\n\n    // \n    if (get(this.option, 'custom')) {\n      const id = 'global-custom';\n      const existCo = this.getComponentById(id);\n      if (existCo) {\n        const customCfg = this.getCategoryCfg(undefined, undefined, undefined, this.option, true);\n        omit(customCfg, ['container']);\n        existCo.component.update(customCfg);\n\n        updated[id] = true;\n      } else {\n        const component = this.createCustomLegend(undefined, undefined, undefined, this.option as LegendCfg);\n        if (component) {\n          component.init();\n\n          const layer = LAYER.FORE;\n          const direction = getDirection(this.option);\n\n          this.components.push({\n            id,\n            component,\n            layer,\n            direction,\n            type: COMPONENT_TYPE.LEGEND,\n            extra: undefined,\n          });\n\n          // \n          updated[id] = true;\n        }\n      }\n    } else {\n      // \n      this.loopLegends(eachLegend);\n    }\n\n    // \n    // \n    const components = [];\n    each(this.getComponents(), (co: ComponentOption) => {\n      if (updated[co.id]) {\n        components.push(co);\n      } else {\n        co.component.destroy();\n      }\n    });\n\n    //  components\n    this.components = components;\n  }\n\n  public clear() {\n    super.clear();\n    this.container.clear();\n  }\n\n  public destroy() {\n    super.destroy();\n\n    this.container.remove(true);\n  }\n\n  /**\n   *  Geometry\n   */\n  private getGeometries(view: View): Geometry[] {\n    let geometries = view.geometries;\n\n    each(view.views, (v: View) => {\n      geometries = geometries.concat(this.getGeometries(v));\n    });\n\n    return geometries;\n  }\n\n  /**\n   *  Geometry legend \n   * @param doEach  loop \n   */\n  private loopLegends(doEach: DoEach) {\n    const isRootView = this.view.getRootView() === this.view;\n    //  view legend\n    if (!isRootView) {\n      return;\n    }\n\n    //  view  Geometry legend\n    const geometries = this.getGeometries(this.view);\n\n    const looped: Record<string, true> = {}; //  legend\n\n    each(geometries, (geometry: Geometry) => {\n      const attributes = geometry.getGroupAttributes();\n\n      each(attributes, (attr: Attribute) => {\n        const scale = attr.getScale(attr.type);\n        //  size(2) shape('circle')  legend\n        if (!scale || scale.type === 'identity' || looped[scale.field]) {\n          return;\n        }\n\n        doEach(geometry, attr, scale);\n\n        looped[scale.field] = true;\n      });\n    });\n  }\n\n  /**\n   *  legend\n   * @param geometry\n   * @param attr\n   * @param scale\n   */\n  private createFieldLegend(geometry: Geometry, attr: Attribute, scale: Scale): ComponentOption {\n    let component;\n\n    const legendOption = getLegendOption(this.option, scale.field);\n    const layer = LAYER.FORE;\n    const direction = getDirection(legendOption);\n\n    // if the legend option is not false, means legend should be created.\n    if (legendOption !== false) {\n      if (get(legendOption, 'custom')) {\n        component = this.createCustomLegend(geometry, attr, scale, legendOption);\n      } else {\n        if (scale.isLinear) {\n          // linear field, create continuous legend\n          component = this.createContinuousLegend(geometry, attr, scale, legendOption);\n        } else if (scale.isCategory) {\n          // category field, create category legend\n          component = this.createCategoryLegend(geometry, attr, scale, legendOption);\n        }\n      }\n    }\n\n    if (component) {\n      component.set('field', scale.field);\n\n      return {\n        id: this.getId(scale.field),\n        component,\n        layer,\n        direction,\n        type: COMPONENT_TYPE.LEGEND,\n        extra: { scale },\n      };\n    }\n  }\n\n  /**\n   *  category \n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param legendOption\n   */\n  private createCustomLegend(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: LegendCfg) {\n    //  \n    const cfg = this.getCategoryCfg(geometry, attr, scale, legendOption, true);\n    return new CategoryLegend(cfg);\n  }\n\n  /**\n   * \n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param legendOption\n   */\n  private createContinuousLegend(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: any) {\n    const cfg = this.getContinuousCfg(geometry, attr, scale, omit(legendOption, ['value']));\n    return new ContinuousLegend(cfg);\n  }\n\n  /**\n   * \n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param legendOption\n   */\n  private createCategoryLegend(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: any) {\n    const cfg = this.getCategoryCfg(geometry, attr, scale, legendOption);\n    return new CategoryLegend(cfg);\n  }\n\n  /**\n   * \n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param legendOption\n   */\n  private getContinuousCfg(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: any) {\n    const ticks = scale.getTicks();\n\n    const containMin = find(ticks, (tick: Tick) => tick.value === 0);\n    const containMax = find(ticks, (tick: Tick) => tick.value === 1);\n    const items = ticks.map((tick: Tick) => {\n      const { value, tickValue } = tick;\n      const attrValue = attr.mapping(scale.invert(value)).join('');\n\n      return {\n        value: tickValue,\n        attrValue,\n        color: attrValue,\n        scaleValue: value,\n      };\n    });\n\n    if (!containMin) {\n      items.push({\n        value: scale.min,\n        attrValue: attr.mapping(scale.invert(0)).join(''),\n        color: attr.mapping(scale.invert(0)).join(''),\n        scaleValue: 0,\n      });\n    }\n    if (!containMax) {\n      items.push({\n        value: scale.max,\n        attrValue: attr.mapping(scale.invert(1)).join(''),\n        color: attr.mapping(scale.invert(1)).join(''),\n        scaleValue: 1,\n      });\n    }\n\n    // \n    items.sort((a: any, b: any) => a.value - b.value);\n\n    //  attr \n    // size color \n    const attrLegendCfg: LooseObject = {\n      min: head(items).value,\n      max: last(items).value,\n      colors: [],\n      rail: {\n        type: attr.type,\n      },\n      track: {},\n    };\n\n    if (attr.type === 'size') {\n      attrLegendCfg.track = {\n        style: {\n          // size  color color \n          // @ts-ignore\n          fill: attr.type === 'size' ? this.view.getTheme().defaultColor : undefined,\n        },\n      };\n    }\n\n    if (attr.type === 'color') {\n      attrLegendCfg.colors = items.map((item) => item.attrValue);\n    }\n\n    const container = this.container;\n    // if position is not set, use top as default\n    const direction = getDirection(legendOption);\n\n    const layout = getLegendLayout(direction);\n\n    let title = get(legendOption, 'title');\n    if (title) {\n      title = deepMix(\n        {\n          text: getName(scale),\n        },\n        title\n      );\n    }\n\n    // \n    attrLegendCfg.container = container;\n    attrLegendCfg.layout = layout;\n    attrLegendCfg.title = title;\n    attrLegendCfg.animateOption = DEFAULT_ANIMATE_CFG;\n    // @ts-ignore\n    return this.mergeLegendCfg(attrLegendCfg, legendOption, 'continuous');\n  }\n\n  /**\n   * \n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param custom\n   * @param legendOption\n   */\n  private getCategoryCfg(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: any, custom?: boolean) {\n    const container = this.container;\n    // if position is not set, use top as default\n    const direction = get(legendOption, 'position', DIRECTION.BOTTOM);\n\n    const legendTheme = getLegendThemeCfg(this.view.getTheme(), direction);\n\n    // the default marker style\n    const themeMarker = get(legendTheme, ['marker']);\n    const userMarker = get(legendOption, 'marker');\n    const layout = getLegendLayout(direction);\n    const themePageNavigator = get(legendTheme, ['pageNavigator']);\n    const userPageNavigator = get(legendOption, 'pageNavigator');\n\n    const items = custom\n      ? getCustomLegendItems(themeMarker, userMarker, legendOption.items)\n      : getLegendItems(this.view, geometry, attr, themeMarker, userMarker);\n\n    let title = get(legendOption, 'title');\n    if (title) {\n      title = deepMix(\n        {\n          text: scale ? getName(scale) : '',\n        },\n        title\n      );\n    }\n    const maxWidthRatio = get(legendOption, 'maxWidthRatio');\n    const maxHeightRatio = get(legendOption, 'maxHeightRatio');\n\n    const baseCfg: LooseObject = this.getCategoryLegendSizeCfg(layout, maxWidthRatio, maxHeightRatio);\n    baseCfg.container = container;\n    baseCfg.layout = layout;\n    baseCfg.items = items;\n    baseCfg.title = title;\n    baseCfg.animateOption = DEFAULT_ANIMATE_CFG;\n    baseCfg.pageNavigator = deepMix({}, themePageNavigator, userPageNavigator);\n\n    const categoryCfg = this.mergeLegendCfg(baseCfg, legendOption, direction);\n    if (categoryCfg.reversed) {\n      // \n      categoryCfg.items.reverse();\n    }\n\n    const maxItemWidth = get(categoryCfg, 'maxItemWidth');\n    if (maxItemWidth && maxItemWidth <= 1) {\n      // \n      categoryCfg.maxItemWidth = this.view.viewBBox.width * maxItemWidth;\n    }\n\n    return categoryCfg;\n  }\n\n  /**\n   * get legend config, use option > suggestion > theme\n   * @param baseCfg\n   * @param legendOption\n   * @param direction\n   */\n  private mergeLegendCfg(baseCfg: object, legendOption: LegendOption, direction: DIRECTION) {\n    const position = direction.split('-')[0];\n    const themeObject = getLegendThemeCfg(this.view.getTheme(), position);\n\n    return deepMix({}, themeObject, baseCfg, legendOption);\n  }\n\n  /**\n   *  id\n   * @param key\n   */\n  private getId(key: string): string {\n    return `${this.name}-${key}`;\n  }\n\n  /**\n   *  id \n   * @param id\n   */\n  private getComponentById(id: string): ComponentOption {\n    return find(this.components, (co) => co.id === id);\n  }\n\n  private getCategoryLegendSizeCfg(\n    layout: 'horizontal' | 'vertical',\n    maxWidthRatio = COMPONENT_MAX_VIEW_PERCENTAGE,\n    maxHeightRatio = COMPONENT_MAX_VIEW_PERCENTAGE\n  ) {\n    const { width: vw, height: vh } = this.view.viewBBox;\n    //  legend  viewBBox \n    // const { width: cw, height: ch } = this.view.coordinateBBox;\n    return layout === 'vertical'\n      ? {\n          maxWidth: vw * maxWidthRatio,\n          maxHeight: vh,\n        }\n      : {\n          maxWidth: vw,\n          maxHeight: vh * maxHeightRatio,\n        };\n  }\n}\n","import { deepMix, get, isObject, size, clamp, isNil, noop, throttle, isEmpty, valuesOfKey } from '@antv/util';\nimport { COMPONENT_TYPE, DIRECTION, LAYER, VIEW_LIFE_CIRCLE } from '../../constant';\nimport { IGroup, Slider as SliderComponent } from '../../dependents';\nimport { ComponentOption, Datum, Padding } from '../../interface';\nimport { BBox } from '../../util/bbox';\nimport { directionToPosition } from '../../util/direction';\nimport { isBetween } from '../../util/helper';\nimport { Writeable } from '../../util/types';\nimport View from '../view';\nimport { Controller } from './base';\nimport { SliderOption, SliderCfg } from '../../interface';\n\n/**\n * @ignore\n * slider Controller\n */\nexport default class Slider extends Controller<SliderOption> {\n  private slider: ComponentOption;\n  private container: IGroup;\n\n  private width: number;\n  private start: number;\n  private end: number;\n\n  private onChangeFn: (evt: {}) => void = noop;\n\n  constructor(view: View) {\n    super(view);\n\n    this.container = this.view.getLayer(LAYER.FORE).addGroup();\n    this.onChangeFn = throttle(this.onValueChange, 20, {\n      leading: true,\n    }) as (evt: {}) => void;\n\n    this.width = 0;\n    this.view.on(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, this.resetMeasure);\n    this.view.on(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE, this.resetMeasure);\n  }\n\n  get name(): string {\n    return 'slider';\n  }\n\n  public destroy() {\n    super.destroy();\n    this.view.off(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, this.resetMeasure);\n    this.view.off(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE, this.resetMeasure);\n  }\n\n  /**\n   * \n   */\n  public init() {}\n\n  /**\n   * \n   */\n  public render() {\n    this.option = this.view.getOptions().slider;\n    const { start, end } = this.getSliderCfg();\n    if (isNil(this.start)) {\n      this.start = start;\n      this.end = end;\n    }\n\n    const { data: viewData } = this.view.getOptions();\n    if (this.option && !isEmpty(viewData)) {\n      if (this.slider) {\n        // exist, update\n        this.slider = this.updateSlider();\n      } else {\n        // not exist, create\n        this.slider = this.createSlider();\n        // \n        this.slider.component.on('sliderchange', this.onChangeFn);\n      }\n    } else {\n      if (this.slider) {\n        // exist, destroy\n        this.slider.component.destroy();\n        this.slider = undefined;\n      } else {\n        // do nothing\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public layout() {\n    if (this.option && !this.width) {\n      this.measureSlider();\n      setTimeout(() => {\n        //  view \n        if (!this.view.destroyed) {\n          this.changeViewData(this.start, this.end);\n        }\n      }, 0);\n    }\n    if (this.slider) {\n      const width = this.view.coordinateBBox.width;\n      //  layout bbox\n      const padding: Padding = this.slider.component.get('padding') as Padding;\n      const [paddingTop, paddingRight, paddingBottom, paddingLeft] = padding;\n      const bboxObject = this.slider.component.getLayoutBBox();\n      const bbox = new BBox(bboxObject.x, bboxObject.y, Math.min(bboxObject.width, width), bboxObject.height).expand(\n        padding\n      );\n      const { minText, maxText } = this.getMinMaxText(this.start, this.end);\n\n      const [x1, y1] = directionToPosition(this.view.viewBBox, bbox, DIRECTION.BOTTOM);\n      const [x2, y2] = directionToPosition(this.view.coordinateBBox, bbox, DIRECTION.BOTTOM);\n\n      //  bottom\n      this.slider.component.update({\n        ...this.getSliderCfg(),\n        x: x2 + paddingLeft,\n        y: y1 + paddingTop,\n        width: this.width,\n        start: this.start,\n        end: this.end,\n        minText,\n        maxText,\n      });\n\n      this.view.viewBBox = this.view.viewBBox.cut(bbox, DIRECTION.BOTTOM);\n    }\n  }\n\n  /**\n   * \n   */\n  public update() {\n    //  render \n    this.render();\n  }\n\n  /**\n   *  slider \n   */\n  private createSlider(): ComponentOption {\n    const cfg: any = this.getSliderCfg();\n    //  slider \n    const component = new SliderComponent({\n      container: this.container,\n      ...cfg,\n    });\n\n    component.init();\n\n    return {\n      component,\n      layer: LAYER.FORE,\n      direction: DIRECTION.BOTTOM,\n      type: COMPONENT_TYPE.SLIDER,\n    };\n  }\n\n  /**\n   * \n   */\n  private updateSlider() {\n    let cfg = this.getSliderCfg();\n    if (this.width) {\n      const { minText, maxText } = this.getMinMaxText(this.start, this.end);\n      cfg = { ...cfg, width: this.width, start: this.start, end: this.end, minText, maxText };\n    }\n\n    this.slider.component.update(cfg);\n\n    return this.slider;\n  }\n\n  /**\n   * \n   */\n  private measureSlider() {\n    const { width } = this.getSliderCfg();\n\n    this.width = width;\n  }\n\n  /**\n   * \n   */\n  private resetMeasure = () => {\n    this.clear();\n  };\n\n  /**\n   *  slider \n   */\n  private getSliderCfg() {\n    let cfg: Writeable<SliderCfg> & { x: number; y: number; width: number; minText: string; maxText: string } = {\n      height: 16,\n      start: 0,\n      end: 1,\n      minText: '',\n      maxText: '',\n      x: 0,\n      y: 0,\n      width: this.view.coordinateBBox.width,\n    };\n    if (isObject(this.option)) {\n      // \n      const trendCfg = {\n        data: this.getData(),\n        ...get(this.option, 'trendCfg', {}),\n      };\n\n      // \n      cfg = deepMix({}, cfg, this.getThemeOptions(), this.option);\n\n      // trendCfg \n      cfg = { ...cfg, trendCfg };\n    }\n\n    cfg.start = clamp(Math.min(isNil(cfg.start) ? 0 : cfg.start, isNil(cfg.end) ? 1 : cfg.end), 0, 1);\n    cfg.end = clamp(Math.max(isNil(cfg.start) ? 0 : cfg.start, isNil(cfg.end) ? 1 : cfg.end), 0, 1);\n\n    return cfg;\n  }\n\n  /**\n   *  view \n   */\n  private getData(): number[] {\n    const data = this.view.getOptions().data;\n    const [yScale] = this.view.getYScales();\n    const groupScales = this.view.getGroupScales();\n    if (groupScales.length) {\n      const { field, ticks } = groupScales[0];\n      return data.reduce((pre, cur) => {\n        if (cur[field] === ticks[0]) {\n          pre.push(cur[yScale.field] as number);\n        }\n        return pre;\n      }, []) as number[];\n    }\n\n    return data.map((datum) => datum[yScale.field] || 0);\n  }\n\n  /**\n   *  slider \n   */\n  private getThemeOptions() {\n    const theme = this.view.getTheme();\n    return get(theme, ['components', 'slider', 'common'], {});\n  }\n\n  /**\n   * \n   * @param v\n   */\n  private onValueChange = (v: any) => {\n    const [min, max] = v;\n\n    this.start = min;\n    this.end = max;\n\n    this.changeViewData(min, max);\n  };\n\n  /**\n   *  start/end  minText/maxText\n   * @param min\n   * @param max\n   */\n  private getMinMaxText(min: number, max: number) {\n    const data = this.view.getOptions().data;\n    const xScale = this.view.getXScale();\n    const isHorizontal = true;\n    let values = valuesOfKey(data, xScale.field);\n\n    //  xScale \n    if (xScale.isLinear) {\n      values = values.sort();\n    }\n\n    const xValues = isHorizontal ? values : values.reverse();\n    const dataSize = size(data);\n\n    if (!xScale || !dataSize) {\n      return {}; // fix: \n    }\n\n    const xTickCount = size(xValues);\n\n    const minIndex = Math.floor(min * (xTickCount - 1));\n    const maxIndex = Math.floor(max * (xTickCount - 1));\n\n    let minText = get(xValues, [minIndex]);\n    let maxText = get(xValues, [maxIndex]);\n\n    const formatter = this.getSliderCfg().formatter as SliderCfg['formatter'];\n    if (formatter) {\n      minText = formatter(minText, data[minIndex], minIndex);\n      maxText = formatter(maxText, data[maxIndex], maxIndex);\n    }\n\n    return {\n      minText,\n      maxText,\n    };\n  }\n\n  /**\n   *  view \n   * @param min\n   * @param max\n   */\n  private changeViewData(min: number, max: number) {\n    const data = this.view.getOptions().data;\n    const xScale = this.view.getXScale();\n    const dataSize = size(data);\n    if (!xScale || !dataSize) {\n      return;\n    }\n    const isHorizontal = true;\n    const values = valuesOfKey(data, xScale.field);\n\n    //  xScale \n    const xScaleValues = this.view.getXScale().isLinear ? values.sort((a, b) => Number(a) - Number(b)) : values;\n\n    const xValues = isHorizontal ? xScaleValues : xScaleValues.reverse();\n    const xTickCount = size(xValues);\n\n    const minIndex = Math.floor(min * (xTickCount - 1));\n    const maxIndex = Math.floor(max * (xTickCount - 1));\n\n    //  x \n    this.view.filter(xScale.field, (value: any, datum: Datum) => {\n      const idx: number = xValues.indexOf(value);\n      return idx > -1 ? isBetween(idx, minIndex, maxIndex) : true;\n    });\n    this.view.render(true);\n  }\n\n  /**\n   * \n   */\n  public getComponents() {\n    return this.slider ? [this.slider] : [];\n  }\n\n  /**\n   * \n   */\n  public clear() {\n    if (this.slider) {\n      this.slider.component.destroy();\n      this.slider = undefined;\n    }\n    this.width = 0;\n    this.start = undefined;\n    this.end = undefined;\n  }\n}\n","import { Controller } from './base';\nimport { IGroup, Scrollbar as ScrollbarComponent, Scale } from '../../dependents';\nimport { ScrollbarOption, ComponentOption, ScrollbarCfg, Data, ScaleOption, Padding } from '../../interface';\nimport View from '../view';\nimport { BBox } from '../../util/bbox';\nimport { directionToPosition } from '../../util/direction';\nimport { COMPONENT_TYPE, DIRECTION, LAYER, VIEW_LIFE_CIRCLE } from '../../constant';\nimport { isObject, clamp, size, throttle, noop, get, valuesOfKey, deepMix } from '@antv/util';\nimport { isBetween } from '../../util/helper';\n\nconst DEFAULT_PADDING: number = 0;\nconst DEFAULT_SIZE: number = 8;\nconst DEFAULT_CATEGORY_SIZE: number = 32;\nconst MIN_THUMB_LENGTH: number = 20;\n\nexport default class Scrollbar extends Controller<ScrollbarOption> {\n  private scrollbar: ComponentOption;\n  private container: IGroup;\n\n  private trackLen: number;\n  private thumbLen: number;\n  private cnt: number;\n  private step: number;\n  private ratio: number;\n  private data: Data;\n  private xScaleCfg: {\n    field: string;\n    values: string[];\n  };\n  private yScalesCfg: Scale[];\n\n  private onChangeFn: (evt: {}) => void = noop;\n\n  constructor(view: View) {\n    super(view);\n    this.container = this.view.getLayer(LAYER.FORE).addGroup();\n    this.onChangeFn = throttle(this.onValueChange, 20, {\n      leading: true,\n    }) as (evt: {}) => void;\n    this.trackLen = 0;\n    this.thumbLen = 0;\n    this.ratio = 0;\n\n    this.view.on(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, this.resetMeasure);\n    this.view.on(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE, this.resetMeasure);\n  }\n\n  get name(): string {\n    return 'scrollbar';\n  }\n\n  public destroy() {\n    super.destroy();\n    this.view.off(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, this.resetMeasure);\n    this.view.off(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE, this.resetMeasure);\n  }\n\n  public init() { }\n\n  /**\n   * \n   */\n  public render() {\n    this.option = this.view.getOptions().scrollbar;\n\n    if (this.option) {\n      if (this.scrollbar) {\n        // exist, update\n        this.scrollbar = this.updateScrollbar();\n      } else {\n        // not exist, create\n        this.scrollbar = this.createScrollbar();\n        this.scrollbar.component.on('scrollchange', this.onChangeFn);\n      }\n    } else {\n      if (this.scrollbar) {\n        // exist, destroy\n        this.scrollbar.component.destroy();\n        this.scrollbar = undefined;\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public layout() {\n    if (this.option && !this.trackLen) {\n      this.measureScrollbar();\n      setTimeout(() => {\n        if (!this.view.destroyed) {\n          this.changeViewData(this.getScrollRange(), true);\n        }\n      });\n    }\n    if (this.scrollbar) {\n      const width = this.view.coordinateBBox.width;\n      const padding: Padding = this.scrollbar.component.get('padding') as Padding;\n      const bboxObject = this.scrollbar.component.getLayoutBBox();\n      const bbox = new BBox(bboxObject.x, bboxObject.y, Math.min(bboxObject.width, width), bboxObject.height).expand(\n        padding\n      );\n      const cfg = this.getScrollbarComponentCfg();\n\n      let x: number;\n      let y: number;\n\n      if (cfg.isHorizontal) {\n        const [x1, y1] = directionToPosition(this.view.viewBBox, bbox, DIRECTION.BOTTOM);\n        const [x2, y2] = directionToPosition(this.view.coordinateBBox, bbox, DIRECTION.BOTTOM);\n        x = x2;\n        y = y1;\n      } else {\n        const [x1, y1] = directionToPosition(this.view.viewBBox, bbox, DIRECTION.RIGHT);\n        const [x2, y2] = directionToPosition(this.view.viewBBox, bbox, DIRECTION.RIGHT);\n        x = x2;\n        y = y1;\n      }\n\n      x += padding[3];\n      y += padding[0];\n\n      //  bottom\n      if (this.trackLen) {\n        this.scrollbar.component.update({\n          ...cfg,\n          x,\n          y,\n          trackLen: this.trackLen,\n          thumbLen: this.thumbLen,\n          thumbOffset: (this.trackLen - this.thumbLen) * this.ratio,\n        });\n      } else {\n        this.scrollbar.component.update({\n          ...cfg,\n          x,\n          y,\n        });\n      }\n\n      this.view.viewBBox = this.view.viewBBox.cut(bbox, cfg.isHorizontal ? DIRECTION.BOTTOM : DIRECTION.RIGHT);\n    }\n  }\n\n  /**\n   * \n   */\n  public update() {\n    //  render \n    this.render();\n  }\n\n  public getComponents() {\n    return this.scrollbar ? [this.scrollbar] : [];\n  }\n\n  public clear() {\n    if (this.scrollbar) {\n      this.scrollbar.component.destroy();\n      this.scrollbar = undefined;\n    }\n    this.trackLen = 0;\n    this.thumbLen = 0;\n    this.ratio = 0;\n    this.cnt = 0;\n    this.step = 0;\n    this.data = undefined;\n    this.xScaleCfg = undefined;\n    this.yScalesCfg = [];\n  }\n\n  /**   */\n  public setValue(ratio: number) {\n    this.onValueChange({ ratio });\n  }\n\n  /**   */\n  public getValue() {\n    return this.ratio;\n  }\n\n  /**\n   *  scrollbar \n   */\n  private getThemeOptions() {\n    const theme = this.view.getTheme();\n    return get(theme, ['components', 'scrollbar', 'common'], {});\n  }\n\n  /**\n   *  scrollbar \n   */\n  private getScrollbarTheme(style?: ScrollbarCfg['style']) {\n    const theme = get(this.view.getTheme(), ['components', 'scrollbar']);\n    const { thumbHighlightColor, ...restStyles } = style || {};\n    return {\n      default: deepMix({}, get(theme, ['default', 'style'], {}), restStyles),\n      hover: deepMix({}, get(theme, ['hover', 'style'], {}), { thumbColor: thumbHighlightColor }),\n    };\n  }\n\n  private resetMeasure = () => {\n    this.clear();\n  };\n\n  private onValueChange = ({ ratio }: { ratio: number }) => {\n    const { animate } = this.getValidScrollbarCfg();\n    this.ratio = clamp(ratio, 0, 1);\n    const originalAnimate = this.view.getOptions().animate;\n    if (!animate) {\n      this.view.animate(false);\n    }\n    this.changeViewData(this.getScrollRange(), true);\n    this.view.animate(originalAnimate);\n  };\n\n  private measureScrollbar(): void {\n    const xScale = this.view.getXScale();\n    const yScales = this.view.getYScales().slice();\n    this.data = this.getScrollbarData();\n    this.step = this.getStep();\n    this.cnt = this.getCnt();\n    const { trackLen, thumbLen } = this.getScrollbarComponentCfg();\n    this.trackLen = trackLen;\n    this.thumbLen = thumbLen;\n    this.xScaleCfg = {\n      field: xScale.field,\n      values: xScale.values || [],\n    };\n    this.yScalesCfg = yScales;\n  }\n\n  private getScrollRange(): [number, number] {\n    const startIdx: number = Math.floor((this.cnt - this.step) * clamp(this.ratio, 0, 1));\n    const endIdx: number = Math.min(startIdx + this.step - 1, this.cnt - 1);\n    return [startIdx, endIdx];\n  }\n\n  private changeViewData([startIdx, endIdx]: [number, number], render?: boolean): void {\n    const { type } = this.getValidScrollbarCfg();\n    const isHorizontal = type !== 'vertical';\n    const values = valuesOfKey(this.data, this.xScaleCfg.field);\n\n    //  xScale \n    const xScaleValues = this.view.getXScale().isLinear ? values.sort((a, b) => Number(a) - Number(b)) : values;\n\n    const xValues = isHorizontal ? xScaleValues : xScaleValues.reverse();\n    this.yScalesCfg.forEach((cfg) => {\n      this.view.scale(cfg.field, {\n        formatter: cfg.formatter,\n        type: cfg.type as ScaleOption['type'],\n        min: cfg.min,\n        max: cfg.max,\n        tickMethod: cfg.tickMethod\n      });\n    });\n    this.view.filter(this.xScaleCfg.field, (val) => {\n      const idx = xValues.indexOf(val);\n      return idx > -1 ? isBetween(idx, startIdx, endIdx) : true;\n    });\n    this.view.render(true);\n  }\n\n  private createScrollbar(): ComponentOption {\n    const { type } = this.getValidScrollbarCfg();\n    const isHorizontal = type !== 'vertical';\n    const component = new ScrollbarComponent({\n      container: this.container,\n      ...this.getScrollbarComponentCfg(),\n      x: 0,\n      y: 0,\n    });\n\n    component.init();\n\n    return {\n      component,\n      layer: LAYER.FORE,\n      direction: isHorizontal ? DIRECTION.BOTTOM : DIRECTION.RIGHT,\n      type: COMPONENT_TYPE.SCROLLBAR,\n    };\n  }\n\n  private updateScrollbar(): ComponentOption {\n    const config = this.getScrollbarComponentCfg();\n    const realConfig = this.trackLen\n      ? {\n        ...config,\n        trackLen: this.trackLen,\n        thumbLen: this.thumbLen,\n        thumbOffset: (this.trackLen - this.thumbLen) * this.ratio,\n      }\n      : { ...config };\n    this.scrollbar.component.update(realConfig);\n\n    return this.scrollbar;\n  }\n\n  private getStep() {\n    if (this.step) {\n      return this.step;\n    }\n    const { coordinateBBox } = this.view;\n    const { type, categorySize } = this.getValidScrollbarCfg();\n    const isHorizontal = type !== 'vertical';\n\n    return Math.floor((isHorizontal ? coordinateBBox.width : coordinateBBox.height) / categorySize);\n  }\n\n  private getCnt() {\n    if (this.cnt) {\n      return this.cnt;\n    }\n    const xScale = this.view.getXScale();\n    const data = this.getScrollbarData();\n    const values = valuesOfKey(data, xScale.field);\n    return size(values);\n  }\n\n  private getScrollbarComponentCfg() {\n    const { coordinateBBox, viewBBox } = this.view;\n    const { type, padding, width, height, style } = this.getValidScrollbarCfg();\n    const isHorizontal = type !== 'vertical';\n    const [paddingTop, paddingRight, paddingBottom, paddingLeft] = padding;\n    const position = isHorizontal\n      ? {\n        x: coordinateBBox.minX + paddingLeft,\n        y: viewBBox.maxY - height - paddingBottom,\n      }\n      : {\n        x: viewBBox.maxX - width - paddingRight,\n        y: coordinateBBox.minY + paddingTop,\n      };\n    const step = this.getStep();\n    const cnt = this.getCnt();\n    const trackLen = isHorizontal\n      ? coordinateBBox.width - paddingLeft - paddingRight\n      : coordinateBBox.height - paddingTop - paddingBottom;\n    const thumbLen = Math.max(trackLen * clamp(step / cnt, 0, 1), MIN_THUMB_LENGTH);\n\n    return {\n      ...this.getThemeOptions(),\n      x: position.x,\n      y: position.y,\n      size: isHorizontal ? height : width,\n      isHorizontal,\n      trackLen,\n      thumbLen,\n      thumbOffset: 0,\n      theme: this.getScrollbarTheme(style),\n    };\n  }\n\n  /**\n   * \n   */\n  private getValidScrollbarCfg(): Required<ScrollbarCfg> {\n    let cfg: Required<ScrollbarCfg> = {\n      type: 'horizontal',\n      categorySize: DEFAULT_CATEGORY_SIZE,\n      width: DEFAULT_SIZE,\n      height: DEFAULT_SIZE,\n      padding: [0, 0, 0, 0],\n      animate: true,\n      style: {},\n    };\n    if (isObject(this.option)) {\n      cfg = { ...cfg, ...this.option };\n    }\n    if (!isObject(this.option) || !this.option.padding) {\n      cfg.padding =\n        cfg.type === 'horizontal' ? [DEFAULT_PADDING, 0, DEFAULT_PADDING, 0] : [0, DEFAULT_PADDING, 0, DEFAULT_PADDING];\n    }\n\n    return cfg;\n  }\n\n  /**\n   * \n   */\n  private getScrollbarData(): Data {\n    const coordinate = this.view.getCoordinate();\n    const cfg = this.getValidScrollbarCfg();\n    let data = this.view.getOptions().data || [];\n    //  y \n    if (coordinate.isReflect('y') && cfg.type === 'vertical') {\n      data = [...data].reverse();\n    }\n\n    return data;\n  }\n}\n","import { each, head, isEqual, last, get, flatten, isArray, uniq, isNil } from '@antv/util';\nimport { View } from 'src/chart';\nimport { findItemsFromViewRecurisive } from '../../util/tooltip';\nimport { IShape, Point, ShapeAttrs } from '../../dependents';\nimport Element from '../../geometry/element';\nimport { LooseObject, TooltipCfg } from '../../interface';\nimport { getAngle, getSectorPath } from '../../util/graphics';\nimport Action from './base';\n\nconst DEFAULT_REGION_PATH_STYLE = {\n  fill: '#CCD6EC',\n  opacity: 0.3,\n};\n\nexport function getItemsOfView(view: View, point: Point, tooltipCfg: TooltipCfg) {\n  let items = findItemsFromViewRecurisive(view, point, tooltipCfg);\n  if (items.length) {\n    // \n    items = flatten(items);\n    for (const itemArr of items) {\n      for (const item of itemArr) {\n        const { x, y } = item.mappingData;\n        item.x = isArray(x) ? x[x.length - 1] : x;\n        item.y = isArray(y) ? y[y.length - 1] : y;\n      }\n    }\n\n    const { shared } = tooltipCfg;\n    // shared: false  shape  view  Geometry shape\n    if (shared === false && items.length > 1) {\n      let snapItem = items[0];\n      let min = Math.abs(point.y - snapItem[0].y);\n      for (const aItem of items) {\n        const yDistance = Math.abs(point.y - aItem[0].y);\n        if (yDistance <= min) {\n          snapItem = aItem;\n          min = yDistance;\n        }\n      }\n      items = [snapItem];\n    }\n\n    return uniq(flatten(items));\n  }\n\n  return [];\n}\n\n/**\n *  Action.  interval  schema geometry\n * @ignore\n */\nclass ActiveRegion extends Action {\n  private items: any[];\n  private regionPath: IShape;\n  /**\n   * \n   * @param {ShapeAttrs} style region-path \n   * @param {number} appendRatio .  x  linear : 0.25, x  linear :  0\n   * @param {number} appendWidth  .  > appendRatio\n   */\n  public show(args?: { style: ShapeAttrs; appendRatio?: number; appendWidth?: number }) {\n    const view = this.context.view;\n    const ev = this.context.event;\n\n    const tooltipCfg = view.getController('tooltip').getTooltipCfg();\n    const tooltipItems = getItemsOfView(\n      view,\n      {\n        x: ev.x,\n        y: ev.y,\n      },\n      tooltipCfg\n    );\n\n    if (isEqual(tooltipItems, this.items)) {\n      // \n      return;\n    }\n    this.items = tooltipItems;\n    if (tooltipItems.length) {\n      const xField = view.getXScale().field;\n      const xValue = tooltipItems[0].data[xField];\n      //  x  elements\n      let elements: Element[] = [];\n      const geometries = view.geometries;\n      each(geometries, (geometry) => {\n        if (geometry.type === 'interval' || geometry.type === 'schema') {\n          const result = geometry.getElementsBy((ele) => {\n            const eleData = ele.getData();\n            return eleData[xField] === xValue;\n          });\n\n          elements = elements.concat(result);\n        }\n      });\n\n      //  bbox \n      if (elements.length) {\n        const coordinate = view.getCoordinate();\n\n        let firstBBox = elements[0].shape.getCanvasBBox();\n        let lastBBox = elements[0].shape.getCanvasBBox();\n        const groupBBox: LooseObject = firstBBox;\n\n        each(elements, (ele: Element) => {\n          const bbox = ele.shape.getCanvasBBox();\n          if (coordinate.isTransposed) {\n            if (bbox.minY < firstBBox.minY) {\n              firstBBox = bbox;\n            }\n            if (bbox.maxY > lastBBox.maxY) {\n              lastBBox = bbox;\n            }\n          } else {\n            if (bbox.minX < firstBBox.minX) {\n              firstBBox = bbox;\n            }\n            if (bbox.maxX > lastBBox.maxX) {\n              lastBBox = bbox;\n            }\n          }\n\n          groupBBox.x = Math.min(bbox.minX, groupBBox.minX);\n          groupBBox.y = Math.min(bbox.minY, groupBBox.minY);\n          groupBBox.width = Math.max(bbox.maxX, groupBBox.maxX) - groupBBox.x;\n          groupBBox.height = Math.max(bbox.maxY, groupBBox.maxY) - groupBBox.y;\n        });\n\n        const { backgroundGroup, coordinateBBox } = view;\n        let path;\n        if (coordinate.isRect) {\n          const xScale = view.getXScale();\n\n          let { appendRatio, appendWidth } = args || {};\n          if (isNil(appendWidth)) {\n            appendRatio = isNil(appendRatio) ? (xScale.isLinear ? 0 : 0.25) : appendRatio; //  x \n            appendWidth = coordinate.isTransposed ? appendRatio * lastBBox.height : appendRatio * firstBBox.width;\n          }\n\n          let minX: number;\n          let minY: number;\n          let width: number;\n          let height: number;\n          if (coordinate.isTransposed) {\n            minX = coordinateBBox.minX;\n            minY = Math.min(lastBBox.minY, firstBBox.minY) - appendWidth;\n            width = coordinateBBox.width;\n            height = groupBBox.height + appendWidth * 2;\n          } else {\n            minX = Math.min(firstBBox.minX, lastBBox.minX) - appendWidth;\n            //    minY\n            minY = coordinateBBox.minY;\n            width = groupBBox.width + appendWidth * 2;\n            height = coordinateBBox.height;\n          }\n\n          path = [\n            ['M', minX, minY],\n            ['L', minX + width, minY],\n            ['L', minX + width, minY + height],\n            ['L', minX, minY + height],\n            ['Z'],\n          ];\n        } else {\n          const firstElement = head(elements);\n          const lastElement = last(elements);\n          const { startAngle } = getAngle(firstElement.getModel(), coordinate);\n          const { endAngle } = getAngle(lastElement.getModel(), coordinate);\n          const center = coordinate.getCenter();\n          const radius = coordinate.getRadius();\n          const innterRadius = coordinate.innerRadius * radius;\n          path = getSectorPath(center.x, center.y, radius, startAngle, endAngle, innterRadius);\n        }\n\n        if (this.regionPath) {\n          this.regionPath.attr('path', path);\n          this.regionPath.show();\n        } else {\n          const style = get(args, 'style', DEFAULT_REGION_PATH_STYLE);\n          this.regionPath = backgroundGroup.addShape({\n            type: 'path',\n            name: 'active-region',\n            capture: false,\n            attrs: {\n              ...style,\n              path,\n            },\n          });\n        }\n      }\n    }\n  }\n  /**\n   * \n   */\n  public hide() {\n    if (this.regionPath) {\n      this.regionPath.hide();\n    }\n    // this.regionPath = null;\n    this.items = null;\n  }\n  /**\n   * \n   */\n  public destroy() {\n    this.hide();\n    if (this.regionPath) {\n      this.regionPath.remove(true);\n    }\n    super.destroy();\n  }\n}\n\nexport default ActiveRegion;\n","import { isEqual, get } from '@antv/util';\nimport { View } from '../../../../chart';\nimport { Point } from '../../../../interface';\nimport Action from '../../base';\nimport Tooltip from '../../../../chart/controller/tooltip';\n\n/**\n * Tooltip  Action\n * @ignore\n */\nclass TooltipAction extends Action {\n  private timeStamp: number = 0;\n  private location: Point;\n\n  /**\n   *  Tooltip\n   * @returns\n   */\n  public show() {\n    const context = this.context;\n    const ev = context.event;\n    const view = context.view;\n    const isTooltipLocked = view.isTooltipLocked();\n    if (isTooltipLocked) {\n      //  tooltip\n      return;\n    }\n    const lastTimeStamp = this.timeStamp;\n    const timeStamp = +new Date();\n\n    //  showDelay  16ms tooltip  enterable\n    const showDelay = get(context.view.getOptions(), 'tooltip.showDelay', 16);\n    if (timeStamp - lastTimeStamp > showDelay) {\n      const preLoc = this.location;\n      const curLoc = { x: ev.x, y: ev.y };\n      if (!preLoc || !isEqual(preLoc, curLoc)) {\n        this.showTooltip(view, curLoc);\n      }\n      this.timeStamp = timeStamp;\n      this.location = curLoc;\n    }\n  }\n\n  /**\n   *  Tooltip\n   * @returns\n   */\n  public hide() {\n    const view = this.context.view;\n\n    const tooltip = view.getController('tooltip');\n    const { clientX, clientY } = this.context.event;\n\n    //  enterable +  tooltip \n    if (tooltip.isCursorEntered({ x: clientX, y: clientY })) {\n      return;\n    }\n\n    //  tooltip \n    if (view.isTooltipLocked()) {\n      return;\n    }\n    this.hideTooltip(view);\n    this.location = null;\n  }\n\n  protected showTooltip(view: View, point: Point) {\n    // \n    view.showTooltip(point);\n  }\n\n  protected hideTooltip(view) {\n    view.hideTooltip();\n  }\n}\n\nexport default TooltipAction;\n","import { each } from '@antv/util';\nimport { View } from '../../../../chart';\nimport { Point } from '../../../../interface';\nimport { getSiblingPoint, getSilbings } from '../../util';\nimport TooltipAction from './geometry';\n\n/**\n *  view  view  tooltip \n * @ignore\n */\nclass SiblingTooltip extends TooltipAction {\n  /**\n   *  tooltip \n   * @param view\n   * @param point\n   */\n  protected showTooltip(view: View, point: Point) {\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      const siblingPoint = getSiblingPoint(view, sibling, point);\n      sibling.showTooltip(siblingPoint);\n    });\n  }\n  /**\n   *  tooltip\n   * @param view\n   */\n  protected hideTooltip(view) {\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      sibling.hideTooltip();\n    });\n  }\n}\n\nexport default SiblingTooltip;\n","import { isEqual, get, deepMix } from '@antv/util';\nimport { TOOLTIP_CSS_CONST } from '@antv/component';\nimport { Point } from '../../../../interface';\nimport Action from '../../base';\nimport { HtmlTooltip } from '../../../../dependents';\n\n/**\n *  Tooltip Action\n * @ignore\n */\nexport default class EllipsisText extends Action {\n  private timeStamp: number = 0;\n  private location: Point;\n  private tooltip;\n\n  public destroy() {\n    super.destroy();\n    this.tooltip && this.tooltip.destroy();\n  }\n\n  /**\n   *  Tooltip\n   * @returns\n   */\n  public show() {\n    const context = this.context;\n    const ev = context.event;\n    const lastTimeStamp = this.timeStamp;\n    const timeStamp = +new Date();\n\n    if (timeStamp - lastTimeStamp > 16) {\n      const preLoc = this.location;\n      const curLoc = { x: ev.x, y: ev.y };\n      if (!preLoc || !isEqual(preLoc, curLoc)) {\n        this.showTooltip(curLoc);\n      }\n      this.timeStamp = timeStamp;\n      this.location = curLoc;\n    }\n  }\n\n  /**\n   *  Tooltip\n   * @returns\n   */\n  public hide() {\n    this.hideTooltip();\n    this.location = null;\n  }\n\n  protected showTooltip(curLoc: Point) {\n    const context = this.context;\n    const ev = context.event;\n    const target = ev.target;\n\n    if (target && target.get('tip')) {\n      if (!this.tooltip) {\n        this.renderTooltip(); // \n      }\n      const tipContent = target.get('tip');\n      //  tooltip\n      this.tooltip.update({\n        title: tipContent,\n        ...curLoc,\n      });\n      this.tooltip.show();\n    }\n  }\n\n  protected hideTooltip() {\n    this.tooltip && this.tooltip.hide();\n  }\n\n  private renderTooltip() {\n    const view = this.context.view;\n    const canvas = view.canvas;\n\n    const region = {\n      start: { x: 0, y: 0 },\n      end: { x: canvas.get('width'), y: canvas.get('height') },\n    };\n\n    const theme = view.getTheme();\n    const tooltipStyles = get(theme, ['components', 'tooltip', 'domStyles'], {}); //  tooltip \n    const tooltip = new HtmlTooltip({\n      parent: canvas.get('el').parentNode,\n      region,\n      visible: false,\n      crosshairs: null,\n      domStyles: {\n        ...deepMix({}, tooltipStyles, {\n          // tooltip tip  50%\n          [TOOLTIP_CSS_CONST.CONTAINER_CLASS]: { 'max-width': '50%' },\n          [TOOLTIP_CSS_CONST.TITLE_CLASS]: { 'word-break': 'break-all' },\n        }),\n      },\n    });\n    tooltip.init();\n    tooltip.setCapture(false); // \n    this.tooltip = tooltip;\n  }\n}\n","import { each } from '@antv/util';\nimport Element from '../../../geometry/element/';\nimport Action from '../base';\nimport { getElementsByState } from '../util';\n\n/**\n *  Action \n * @abstract\n * @class\n * @ignore\n */\nabstract class StateBase extends Action {\n  /**\n   * \n   */\n  protected stateName: string = '';\n\n  /**\n   * \n   * @param enable \n   */\n  protected abstract setStateEnable(enable: boolean);\n\n  /**\n   * \n   * @param element  Element \n   */\n  protected hasState(element: Element): boolean {\n    return element.hasState(this.stateName);\n  }\n  /**\n   * \n   * @param enable \n   */\n  protected setElementState(element: Element, enable: boolean) {\n    // \n    element.setState(this.stateName, enable);\n  }\n\n  /**\n   * \n   */\n  public setState() {\n    this.setStateEnable(true);\n  }\n\n  /**\n   *  Element \n   */\n  public clear() {\n    const view = this.context.view;\n    this.clearViewState(view);\n  }\n\n  protected clearViewState(view) {\n    const elements = getElementsByState(view, this.stateName);\n    each(elements, (el: Element) => {\n      this.setElementState(el, false);\n    });\n  }\n}\n\nexport default StateBase;\n","import { each, isNil, get } from '@antv/util';\nimport { ListItem } from '../../../dependents';\nimport Element from '../../../geometry/element/';\nimport {\n  getCurrentElement,\n  getDelegationObject,\n  getElements,\n  getElementValue,\n  getScaleByField,\n  isElementChange,\n  isList,\n} from '../util';\nimport StateBase from './state-base';\n\nfunction getItem(shape) {\n  return get(shape.get('delegateObject'), 'item');\n}\n\n/**\n *  Action  Element \n * @class\n * @ignore\n */\nclass ElementState extends StateBase {\n  protected ignoreListItemStates = ['unchecked'];\n\n  // \n  private isItemIgnore(item: ListItem, list) {\n    const states = this.ignoreListItemStates;\n    const filtered = states.filter((state) => {\n      return list.hasState(item, state);\n    });\n    return !!filtered.length;\n  }\n\n  // \n  private setStateByComponent(component, item: ListItem, enable: boolean) {\n    const view = this.context.view;\n    const field = component.get('field');\n    const elements = getElements(view);\n    this.setElementsStateByItem(elements, field, item, enable);\n  }\n\n  //  element \n  protected setStateByElement(element: Element, enable: boolean) {\n    this.setElementState(element, enable);\n  }\n\n  /**  element  */\n  protected isMathItem(element: Element, field: string, item: ListItem) {\n    const view = this.context.view;\n    const scale = getScaleByField(view, field);\n    const value = getElementValue(element, field);\n    return !isNil(value) && item.name === scale.getText(value);\n  }\n\n  protected setElementsStateByItem(elements: Element[], field: string, item: ListItem, enable: boolean) {\n    each(elements, (el) => {\n      if (this.isMathItem(el, field, item)) {\n        el.setState(this.stateName, enable);\n      }\n    });\n  }\n\n  /**  */\n  protected setStateEnable(enable: boolean) {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      //  element \n      if (isElementChange(this.context)) {\n        this.setStateByElement(element, enable);\n      }\n    } else {\n      // \n      const delegateObject = getDelegationObject(this.context);\n      // \n      if (isList(delegateObject)) {\n        const { item, component } = delegateObject;\n        if (item && component && !this.isItemIgnore(item, component)) {\n          const event = this.context.event.gEvent;\n          // \n          if (event && event.fromShape && event.toShape && getItem(event.fromShape) === getItem(event.toShape)) {\n            return;\n          }\n          this.setStateByComponent(component, item, enable);\n        }\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public toggle() {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      const hasState = element.hasState(this.stateName);\n      this.setElementState(element, !hasState);\n    }\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.setStateEnable(false);\n  }\n}\n\nexport default ElementState;\n","import StateAction from './state';\n\n/**\n *  active  Action active\n * @class\n * @ignore\n */\nclass ElementActive extends StateAction {\n  protected stateName: string = 'active';\n  /**\n   * Active Element\n   */\n  public active() {\n    this.setState();\n  }\n}\n\nexport default ElementActive;\n","import Action from '../base';\nimport { getCurrentElement, getElementValue, getElementsByField } from '../util';\nimport Element from '../../../geometry/element/';\nimport { deepMix, each, isFunction } from '@antv/util';\nimport { LooseObject } from '../../../interface';\nimport { IGroup, ShapeAttrs } from '../../../dependents';\n\ntype LinkActiveStyle = ShapeAttrs | ((style: ShapeAttrs, Element: Element) => ShapeAttrs);\n\n/**\n * Link Elements by color\n *\n * public element-link-by-color:link, element-link-by-color:unlink, element-link-by-color:clear\n */\nclass LinkByColor extends Action {\n  private linkGroup: IGroup;\n  private cache: LooseObject = {};\n  //  scale\n  private getColorScale(view, element) {\n    const colorAttr = element.geometry.getAttribute('color');\n    if (!colorAttr) {\n      return null;\n    }\n    const scale = view.getScaleByField(colorAttr.getFields()[0]);\n    return scale;\n  }\n  //  path\n  private getLinkPath(element: Element, nextElement: Element) {\n    const view = this.context.view;\n    const { isTransposed } = view.getCoordinate();\n    const bbox = element.shape.getCanvasBBox();\n    const nextBBox = nextElement.shape.getCanvasBBox();\n    const path = isTransposed\n      ? [\n          ['M', bbox.minX, bbox.minY],\n          ['L', nextBBox.minX, nextBBox.maxY],\n          ['L', nextBBox.maxX, nextBBox.maxY],\n          ['L', bbox.maxX, bbox.minY],\n          ['Z'],\n        ]\n      : [\n          ['M', bbox.maxX, bbox.minY],\n          ['L', nextBBox.minX, nextBBox.minY],\n          ['L', nextBBox.minX, nextBBox.maxY],\n          ['L', bbox.maxX, bbox.maxY],\n          ['Z'],\n        ];\n    return path;\n  }\n  // \n  private addLinkShape(group: IGroup, element: Element, nextElement: Element, activeStyle?: LinkActiveStyle) {\n    const style = {\n      opacity: 0.4,\n      fill: element.shape.attr('fill'),\n    };\n    group.addShape({\n      type: 'path',\n      attrs: {\n        ...deepMix({}, style, isFunction(activeStyle) ? activeStyle(style, element) : activeStyle),\n        path: this.getLinkPath(element, nextElement),\n      },\n    });\n  }\n  // \n  private linkByElement(element: Element, activeStyle?: LinkActiveStyle) {\n    const view = this.context.view;\n    const scale = this.getColorScale(view, element);\n    if (!scale) {\n      return;\n    }\n    const value = getElementValue(element, scale.field);\n    if (!this.cache[value]) {\n      const elements = getElementsByField(view, scale.field, value);\n      const linkGroup = this.linkGroup;\n      const group = linkGroup.addGroup();\n      this.cache[value] = group; // \n      const count = elements.length;\n      each(elements, (el, index) => {\n        if (index < count - 1) {\n          const nextEl = elements[index + 1];\n          this.addLinkShape(group, el, nextEl, activeStyle);\n        }\n      });\n    }\n  }\n  // \n  private removeLink(element) {\n    const scale = this.getColorScale(this.context.view, element);\n    if (!scale) {\n      return;\n    }\n    const value = getElementValue(element, scale.field);\n    if (this.cache[value]) {\n      this.cache[value].remove();\n      this.cache[value] = null;\n    }\n  }\n\n  /**\n   *  elements\n   *\n   * @usage\n   * registerInteraction('xxx', {\n   *   start: [\n   *    {\n   *      trigger: 'interval:mouseenter',\n   *      action: 'element-link-by-color:link',\n   *      arg: {\n   *        // style: { fill: 'red' }\n   *        style: (style, element) => ({ fill: 'red' })\n   *     },\n   *   },\n   *  ],\n   * });\n   */\n  public link(args?: { style: LinkActiveStyle }) {\n    const context = this.context;\n    if (!this.linkGroup) {\n      // \n      this.linkGroup = context.view.foregroundGroup.addGroup({\n        id: 'link-by-color-group',\n        capture: false,\n      });\n    }\n    const element = getCurrentElement(context);\n    if (element) {\n      this.linkByElement(element, args?.style);\n    }\n  }\n\n  /**\n   *  elements\n   */\n  public unlink() {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      this.removeLink(element);\n    }\n  }\n\n  /**\n   * \n   */\n  public clear() {\n    if (this.linkGroup) {\n      this.linkGroup.clear();\n    }\n    this.cache = {};\n  }\n\n  /**\n   * \n   */\n  destroy() {\n    super.destroy();\n    if (this.linkGroup) {\n      this.linkGroup.remove();\n    }\n  }\n}\nexport default LinkByColor;\n","import { each } from '@antv/util';\nimport Element from '../../../geometry/element/';\nimport {\n  getElements,\n  getIntersectElements,\n  getMaskedElements,\n  getSiblingMaskElements,\n  getSilbings,\n  isInRecords,\n  isMask,\n} from '../util';\nimport StateBase from './state-base';\n\n/**\n * @ignore\n *  Action\n */\nclass ElementRangeState extends StateBase {\n  private startPoint = null;\n  private endPoint = null;\n  private isStarted: boolean = false;\n  /**\n   *  view  siblings false \n   */\n  protected effectSiblings = false;\n  /**\n   *  element \n   */\n  protected effectByRecord = false;\n  // \n  private getCurrentPoint() {\n    const event = this.context.event;\n    return {\n      x: event.x,\n      y: event.y,\n    };\n  }\n\n  /**\n   * \n   */\n  public start() {\n    this.clear(); // \n    this.startPoint = this.getCurrentPoint();\n    this.isStarted = true;\n  }\n\n  protected getIntersectElements() {\n    let elements = null;\n    if (isMask(this.context)) {\n      elements = getMaskedElements(this.context, 10);\n    } else {\n      const startPoint = this.startPoint;\n      const endPoint = this.isStarted ? this.getCurrentPoint() : this.endPoint;\n      // \n      if (!startPoint || !endPoint) {\n        return;\n      }\n      // \n      const box = {\n        minX: Math.min(startPoint.x, endPoint.x),\n        minY: Math.min(startPoint.y, endPoint.y),\n        maxX: Math.max(startPoint.x, endPoint.x),\n        maxY: Math.max(startPoint.y, endPoint.y),\n      };\n      // this.clear(); // \n      const view = this.context.view;\n      elements = getIntersectElements(view, box);\n    }\n    return elements;\n  }\n  /**\n   * \n   */\n  public setStateEnable(enable: boolean) {\n    if (this.effectSiblings && !this.effectByRecord) {\n      this.setSiblingsState(enable);\n    } else {\n      const allElements = getElements(this.context.view);\n      const elements = this.getIntersectElements();\n      if (elements && elements.length) {\n        if (this.effectByRecord) {\n          this.setSiblingsStateByRecord(elements, enable);\n        } else {\n          this.setElementsState(elements, enable, allElements);\n        }\n      } else {\n        this.clear();\n      }\n    }\n  }\n  //  element \n  private setSiblingsStateByRecord(elements, enable) {\n    const view = this.context.view;\n    const siblings = getSilbings(view);\n    const records = elements.map((el) => {\n      return el.getModel().data;\n    });\n    const xFiled = view.getXScale().field;\n    const yField = view.getYScales()[0].field;\n    each(siblings, (sibling) => {\n      const allElements = getElements(sibling);\n      const effectElements = allElements.filter((el) => {\n        const record = el.getModel().data;\n        return isInRecords(records, record, xFiled, yField);\n      });\n      this.setElementsState(effectElements, enable, allElements);\n    });\n  }\n\n  //  view \n  private setSiblingsState(enable: boolean) {\n    const view = this.context.view;\n    const siblings = getSilbings(view);\n    if (isMask(this.context)) {\n      //  mask \n      each(siblings, (sibling) => {\n        const allElements = getElements(sibling);\n        const effectElements = getSiblingMaskElements(this.context, sibling, 10);\n        if (effectElements && effectElements.length) {\n          this.setElementsState(effectElements, enable, allElements);\n        } else {\n          this.clearViewState(sibling);\n        }\n      });\n    }\n  }\n\n  protected setElementsState(elements: Element[], enable, allElements: Element[]) {\n    each(allElements, (el) => {\n      if (!elements.includes(el)) {\n        this.setElementState(el, false);\n      } else {\n        this.setElementState(el, enable);\n      }\n    });\n  }\n\n  /**\n   * \n   */\n  public end() {\n    this.isStarted = false;\n    this.endPoint = this.getCurrentPoint();\n  }\n\n  //  clear\n  public clear() {\n    const view = this.context.view;\n    //  siblings\n    if (this.effectSiblings) {\n      const siblings = getSilbings(view);\n      each(siblings, (sibling) => {\n        this.clearViewState(sibling);\n      });\n    } else {\n      this.clearViewState(view);\n    }\n  }\n}\n\nexport default ElementRangeState;\n","import ElementRangeState from './range-state';\n\n/**\n * @ignore\n *  Active  Action\n */\nclass ElementRangeActive extends ElementRangeState {\n  protected stateName: string = 'active';\n  /**\n   *  Active\n   */\n  public active() {\n    this.setState();\n  }\n}\n\nexport default ElementRangeActive;\n","import { getCurrentElement, isElementChange } from '../util';\nimport StateBase from './state-base';\n\n/**\n *  Action \n * @class\n * @ignore\n */\nclass ElementSingleState extends StateBase {\n  protected setStateEnable(enable: boolean) {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      //  element  label  shape \n      if (!isElementChange(this.context)) {\n        return;\n      }\n      //  element \n      if (enable) {\n        this.clear();\n        this.setElementState(element, true);\n      } else if (this.hasState(element)) {\n        this.setElementState(element, false);\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public toggle() {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      const hasState = this.hasState(element); // \n      if (!hasState) {\n        this.clear();\n      }\n      this.setElementState(element, !hasState);\n    }\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.setStateEnable(false);\n  }\n}\n\nexport default ElementSingleState;\n","import ElementSingleState from './single-state';\n\n/**\n * @ignore\n *  Element Active  Action\n */\nclass ElementSingleActive extends ElementSingleState {\n  protected stateName: string = 'active';\n  /**\n   *  Element Active\n   */\n  public active() {\n    this.setState();\n  }\n}\n\nexport default ElementSingleActive;\n","import { each } from '@antv/util';\nimport { View } from '../../../chart';\nimport Element from '../../../geometry/element/';\nimport { getElements } from '../util';\n\nconst STATUS_UNACTIVE = 'inactive';\nconst STATUS_ACTIVE = 'active';\n\n/**\n * @ignore\n *  highlight \n * @param view View  Chart\n */\nexport function clearHighlight(view: View) {\n  const elements = getElements(view);\n  each(elements, (el) => {\n    if (el.hasState(STATUS_ACTIVE)) {\n      el.setState(STATUS_ACTIVE, false);\n    }\n    if (el.hasState(STATUS_UNACTIVE)) {\n      el.setState(STATUS_UNACTIVE, false);\n    }\n  });\n}\n\ntype MatchCallback = (el: Element) => boolean;\n\n/**\n * @ignore\n *  highlight\n * @param elements \n * @param callback \n * @param enable \n */\nexport function setHighlightBy(elements: Element[], callback: MatchCallback, enable: boolean) {\n  each(elements, (el) => {\n    //  active  unactive \n    if (callback(el)) {\n      if (el.hasState(STATUS_UNACTIVE)) {\n        el.setState(STATUS_UNACTIVE, false);\n      }\n      el.setState(STATUS_ACTIVE, enable);\n    } else {\n      if (el.hasState(STATUS_ACTIVE)) {\n        el.setState(STATUS_ACTIVE, false);\n      }\n      el.setState(STATUS_UNACTIVE, enable);\n    }\n  });\n}\n","import { each } from '@antv/util';\nimport { ListItem } from '../../../dependents';\nimport Element from '../../../geometry/element/';\nimport { getElements, getElementsByState } from '../util';\nimport { clearHighlight } from './highlight-util';\nimport StateAction from './state';\n\nimport { ELEMENT_STATE } from '../../../constant';\n\nexport const STATUS_UNACTIVE = ELEMENT_STATE.INACTIVE;\nexport const STATUS_ACTIVE = ELEMENT_STATE.ACTIVE;\nexport type Callback = (el) => boolean;\n\n/**\n * @ignore\n * highlight\n */\nclass ElementHighlight extends StateAction {\n  protected stateName: string = STATUS_ACTIVE;\n\n  //  highlight\n  protected setElementsStateByItem(elements: Element[], field: string, item: ListItem, enable: boolean) {\n    const callback = (el) => this.isMathItem(el, field, item);\n    this.setHighlightBy(elements, callback, enable);\n  }\n\n  //  highlight\n  protected setElementHighlight(el: Element, callback: Callback) {\n    if (callback(el)) {\n      if (el.hasState(STATUS_UNACTIVE)) {\n        el.setState(STATUS_UNACTIVE, false);\n      }\n      el.setState(STATUS_ACTIVE, true);\n    } else if (!el.hasState(STATUS_ACTIVE)) {\n      el.setState(STATUS_UNACTIVE, true);\n    }\n  }\n\n  protected setHighlightBy(elements: Element[], callback: Callback, enable: boolean) {\n    if (enable) {\n      //  highlight  element  active\n      //  active unactive\n      each(elements, (el) => {\n        this.setElementHighlight(el, callback);\n      });\n    } else {\n      //  highlight highlight\n      const activeElements = getElementsByState(this.context.view, STATUS_ACTIVE);\n      let allCancel = true;\n      //  activeElements  highlight\n      each(activeElements, (el) => {\n        if (!callback(el)) {\n          allCancel = false;\n          return false;\n        }\n      });\n      if (allCancel) {\n        //  activeunactive \n        this.clear();\n      } else {\n        //  highlight,  element  unactive\n        //  element \n        each(elements, (el) => {\n          if (callback(el)) {\n            if (el.hasState(STATUS_ACTIVE)) {\n              el.setState(STATUS_ACTIVE, false);\n            }\n            el.setState(STATUS_UNACTIVE, true);\n          }\n        });\n      }\n    }\n  }\n\n  //  highlight\n  protected setElementState(element: Element, enable: boolean) {\n    const view = this.context.view;\n    const elements = getElements(view);\n    this.setHighlightBy(elements, (el) => element === el, enable);\n  }\n\n  public highlight() {\n    this.setState();\n  }\n\n  //  active unactive \n  public clear() {\n    const view = this.context.view;\n    clearHighlight(view);\n  }\n}\n\nexport default ElementHighlight;\n","import Element from '../../../geometry/element';\nimport { Event } from '../../../chart';\nimport { clearHighlight, setHighlightBy } from './highlight-util';\nimport ElementRangeState from './range-state';\n\nenum EVENTS {\n  BEFORE_HIGHLIGHT = 'element-range-highlight:beforehighlight',\n  AFTER_HIGHLIGHT = 'element-range-highlight:afterhighlight',\n  BEFORE_CLEAR = 'element-range-highlight:beforeclear',\n  AFTER_CLEAR = 'element-range-highlight:afterclear',\n}\n\nexport { EVENTS as ELEMENT_RANGE_HIGHLIGHT_EVENTS };\n\n/**\n * @ignore\n *  highlight  Action\n */\nclass ElementRangeHighlight extends ElementRangeState {\n  protected stateName: string = 'active';\n\n  //  active unactive \n  protected clearViewState(view) {\n    clearHighlight(view);\n  }\n\n  /**\n   *  highlight\n   */\n  public highlight() {\n    const { view, event } = this.context;\n    const elements = this.getIntersectElements();\n    const payload = { view, event, highlightElements: elements };\n    view.emit(EVENTS.BEFORE_HIGHLIGHT, Event.fromData(view, EVENTS.BEFORE_HIGHLIGHT, payload));\n    this.setState();\n    view.emit(EVENTS.AFTER_HIGHLIGHT, Event.fromData(view, EVENTS.AFTER_HIGHLIGHT, payload));\n  }\n\n  /**\n   * @overrider \n   */\n  public clear() {\n    const view = this.context.view;\n    view.emit(EVENTS.BEFORE_CLEAR, Event.fromData(view, EVENTS.BEFORE_CLEAR, {}));\n    super.clear();\n    view.emit(EVENTS.AFTER_CLEAR, Event.fromData(view, EVENTS.AFTER_CLEAR, {}));\n  }\n\n  protected setElementsState(elements: Element[], enable: boolean, allElements: Element[]) {\n    setHighlightBy(allElements, (el) => elements.indexOf(el) >= 0, enable);\n  }\n}\n\nexport default ElementRangeHighlight;\n","import Element from '../../../geometry/element/';\nimport { getElements, getElementValue } from '../util';\nimport Highlight from './highlight';\n\n/**\n * Highlight color\n * @ignore\n */\nclass HighlightColor extends Highlight {\n  protected setStateByElement(element: Element, enable: boolean) {\n    const view = this.context.view;\n    const colorAttr = element.geometry.getAttribute('color');\n    if (!colorAttr) {\n      return;\n    }\n    const scale = view.getScaleByField(colorAttr.getFields()[0]);\n    const value = getElementValue(element, scale.field);\n    const elements = getElements(view);\n    const highlightElements = elements.filter((el) => {\n      return getElementValue(el, scale.field) === value;\n    });\n    this.setHighlightBy(elements, (el) => highlightElements.includes(el), enable);\n  }\n}\n\nexport default HighlightColor;\n","import Element from '../../../geometry/element/';\nimport { getElements, getElementValue, getCurrentElement } from '../util';\nimport Highlight, { STATUS_ACTIVE, STATUS_UNACTIVE, Callback } from './highlight';\n\n/**\n * Highlight x\n * @ignore\n */\nclass HighlightX extends Highlight {\n  // \n  protected setElementHighlight(el: Element, callback: Callback) {\n    if (callback(el)) {\n      if (el.hasState(STATUS_UNACTIVE)) {\n        el.setState(STATUS_UNACTIVE, false);\n      }\n      el.setState(STATUS_ACTIVE, true);\n    } else {\n      el.setState(STATUS_UNACTIVE, true);\n      if (el.hasState(STATUS_ACTIVE)) {\n        el.setState(STATUS_ACTIVE, false);\n      }\n    }\n  }\n\n  protected setStateByElement(element: Element, enable: boolean) {\n    const view = this.context.view;\n    const scale = view.getXScale();\n    const value = getElementValue(element, scale.field);\n    const elements = getElements(view);\n    const highlightElements = elements.filter((el) => {\n      return getElementValue(el, scale.field) === value;\n    });\n    this.setHighlightBy(elements, (el) => highlightElements.includes(el), enable);\n  }\n\n  /**\n   * \n   */\n  public toggle() {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      const hasState = element.hasState(this.stateName);\n      this.setStateByElement(element, !hasState);\n    }\n  }\n}\n\nexport default HighlightX;\n","import Element from '../../../geometry/element/';\nimport { getElements } from '../util';\nimport { clearHighlight, setHighlightBy } from './highlight-util';\nimport ElementSingleState from './single-state';\n\n/**\n * @ignore\n *  Element Highlight  Action\n */\nclass ElementSingleHighlight extends ElementSingleState {\n  protected stateName: string = 'active';\n\n  /**\n   * Element Highlight\n   */\n  public highlight() {\n    this.setState();\n  }\n\n  protected setElementState(element: Element, enable: boolean) {\n    const view = this.context.view;\n    const elements = getElements(view);\n    setHighlightBy(elements, (el) => element === el, enable);\n  }\n\n  //  active unactive \n  public clear() {\n    const view = this.context.view;\n    clearHighlight(view);\n  }\n}\n\nexport default ElementSingleHighlight;\n","import ElementRangeState from './range-state';\n\n/**\n * @ignore\n *  Action\n */\nclass ElementRangeSelected extends ElementRangeState {\n  protected stateName: string = 'selected';\n  /**\n   * \n   */\n  public selected() {\n    this.setState();\n  }\n}\n\nexport default ElementRangeSelected;\n","import StateAction from './state';\n\n/**\n * @ignore\n *  Action\n * @class\n */\nclass ElementMultipleSelected extends StateAction {\n  protected stateName: string = 'selected';\n  /**\n   * \n   */\n  public selected() {\n    this.setState();\n  }\n}\n\nexport default ElementMultipleSelected;\n","import ElementSingleState from './single-state';\n\n/**\n * @ignore\n *  Action\n */\nclass ElementSingleSelected extends ElementSingleState {\n  protected stateName: string = 'selected';\n  /**\n   * \n   */\n  public selected() {\n    this.setState();\n  }\n}\n\nexport default ElementSingleSelected;\n","import { each } from '@antv/util';\nimport { IList, ListItem } from '../../../dependents';\nimport Element from '../../../geometry/element';\nimport { LooseObject } from '../../../interface';\nimport Action from '../base';\nimport { getComponents } from '../util';\nimport { getCurrentElement, getDelegationObject, getElementValue, isList, getScaleByField } from '../util';\n\n/** @ignore */\ninterface ListStateCfg {\n  componentNames: string[];\n}\n\n/**\n *  Action \n * @class\n * @ignore\n */\nclass ListState extends Action<ListStateCfg> {\n  protected stateName: string = '';\n  protected ignoreItemStates = [];\n\n  /**  */\n  protected getTriggerListInfo() {\n    const delegateObject = getDelegationObject(this.context);\n    let info: LooseObject = null;\n    if (isList(delegateObject)) {\n      info = {\n        item: delegateObject.item,\n        list: delegateObject.component,\n      };\n    }\n    return info;\n  }\n  //  Action \n  protected getAllowComponents() {\n    const view = this.context.view;\n    const components = getComponents(view);\n    const rst = [];\n    each(components, (component) => {\n      if (component.isList() && this.allowSetStateByElement(component)) {\n        rst.push(component);\n      }\n    });\n    return rst;\n  }\n\n  /**  */\n  protected hasState(list: IList, item: ListItem) {\n    return list.hasState(item, this.stateName);\n  }\n\n  /**  */\n  protected clearAllComponentsState() {\n    const components = this.getAllowComponents();\n    each(components, (component) => {\n      component.clearItemsState(this.stateName);\n    });\n  }\n\n  //  component  active scale \n  protected allowSetStateByElement(component): boolean {\n    const field = component.get('field');\n    if (!field) {\n      return false;\n    }\n    if (this.cfg && this.cfg.componentNames) {\n      const name = component.get('name');\n      //  component name\n      if (this.cfg.componentNames.indexOf(name) === -1) {\n        return false;\n      }\n    }\n    const view = this.context.view;\n    const scale = getScaleByField(view, field);\n    return scale && scale.isCategory;\n  }\n  // \n  private allowSetStateByItem(item: ListItem, list: IList) {\n    const ignoreStates = this.ignoreItemStates;\n    if (ignoreStates.length) {\n      const filterStates = ignoreStates.filter((state) => {\n        return list.hasState(item, state);\n      });\n      return filterStates.length === 0;\n    }\n    return true; // \n  }\n\n  //  item active\n  private setStateByElement(component, element: Element, enable: boolean) {\n    const field = component.get('field');\n    const view = this.context.view;\n    const scale = getScaleByField(view, field);\n    const value = getElementValue(element, field);\n    const text = scale.getText(value);\n    this.setItemsState(component, text, enable);\n  }\n\n  // \n  protected setStateEnable(enable: boolean) {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      // trigger by element\n      const components = this.getAllowComponents();\n      each(components, (component) => {\n        this.setStateByElement(component, element, enable);\n      });\n    } else {\n      // \n      const delegateObject = getDelegationObject(this.context);\n      if (isList(delegateObject)) {\n        const { item, component } = delegateObject;\n        if (this.allowSetStateByElement(component) && this.allowSetStateByItem(item, component)) {\n          this.setItemState(component, item, enable);\n        }\n      }\n    }\n  }\n\n  //  item \n  protected setItemsState(list: IList, name: string, enable: boolean) {\n    const items = list.getItems();\n    each(items, (item) => {\n      if (item.name === name) {\n        this.setItemState(list, item, enable);\n      }\n    });\n  }\n\n  //  item \n  protected setItemState(list: IList, item: ListItem, enable: boolean) {\n    list.setItemState(item, this.stateName, enable);\n  }\n\n  /**\n   * \n   */\n  public setState() {\n    this.setStateEnable(true);\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.setStateEnable(false);\n  }\n\n  /**\n   * \n   */\n  public toggle() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo && triggerInfo.item) {\n      const { list, item } = triggerInfo;\n      const enable = this.hasState(list, item);\n      this.setItemState(list, item, !enable);\n    }\n  }\n\n  /**\n   * \n   */\n  public clear() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo) {\n      triggerInfo.list.clearItemsState(this.stateName);\n    } else {\n      this.clearAllComponentsState();\n    }\n  }\n}\n\nexport default ListState;\n","import ListState from './list-state';\n\n/**\n *  Action\n * @class\n * @ignore\n */\nclass ListActive extends ListState {\n  protected stateName: string = 'active';\n  /**\n   * \n   */\n  public active() {\n    this.setState();\n  }\n}\n\nexport default ListActive;\n","import { each } from '@antv/util';\nimport { IList, ListItem } from '../../../dependents';\nimport { clearList } from './list-highlight-util';\nimport ListState from './list-state';\nconst STATUS_UNACTIVE = 'inactive';\nconst STATUS_ACTIVE = 'active';\ntype MatchCallback = (item: ListItem) => boolean;\n\n/**\n * highlight Action  active  inactive \n * @class\n * @ignore\n */\nclass ListHighlight extends ListState {\n  protected stateName: string = STATUS_ACTIVE;\n  protected ignoreItemStates = ['unchecked']; //  unchecked \n  //  item.name  highlight \n  protected setItemsState(list: IList, name: string, enable: boolean) {\n    this.setHighlightBy(list, (item) => item.name === name, enable);\n  }\n\n  //  item \n  protected setItemState(list: IList, item: ListItem, enable: boolean) {\n    const items = list.getItems();\n    this.setHighlightBy(list, (el) => el === item, enable);\n  }\n\n  //  highlight\n  private setHighlightBy(list: IList, callback: MatchCallback, enable: boolean) {\n    const items = list.getItems();\n    if (enable) {\n      //  highlight  Highlight \n      each(items, (item) => {\n        if (callback(item)) {\n          if (list.hasState(item, STATUS_UNACTIVE)) {\n            list.setItemState(item, STATUS_UNACTIVE, false);\n          }\n          list.setItemState(item, STATUS_ACTIVE, true);\n        } else if (!list.hasState(item, STATUS_ACTIVE)) {\n          list.setItemState(item, STATUS_UNACTIVE, true);\n        }\n      });\n    } else {\n      const activeItems = list.getItemsByState(STATUS_ACTIVE);\n      let allCancel = true;\n      //  activeItems \n      each(activeItems, (item) => {\n        if (!callback(item)) {\n          allCancel = false;\n          return false;\n        }\n      });\n      if (allCancel) {\n        this.clear();\n      } else {\n        //  highlight,  element  unactive\n        //  element \n        each(items, (item) => {\n          if (callback(item)) {\n            if (list.hasState(item, STATUS_ACTIVE)) {\n              list.setItemState(item, STATUS_ACTIVE, false);\n            }\n            list.setItemState(item, STATUS_UNACTIVE, true);\n          }\n        });\n      }\n    }\n  }\n\n  /**\n   * highlight \n   */\n  public highlight() {\n    this.setState();\n  }\n\n  //  active  unactive\n  public clear() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo) {\n      clearList(triggerInfo.list);\n    } else {\n      //  component \n      const components = this.getAllowComponents();\n      each(components, (component) => {\n        component.clearItemsState(STATUS_ACTIVE);\n        component.clearItemsState(STATUS_UNACTIVE);\n      });\n    }\n  }\n}\n\nexport default ListHighlight;\n","import { IList } from '@antv/component';\nimport { each } from '@antv/util';\n\nconst STATUS_UNACTIVE = 'inactive';\nconst STATUS_ACTIVE = 'active';\n\n/**\n *  Highlight \n * @param list \n * @ignore\n */\nexport function clearList(list: IList) {\n  const items = list.getItems();\n  each(items, (item) => {\n    if (list.hasState(item, STATUS_ACTIVE)) {\n      list.setItemState(item, STATUS_ACTIVE, false);\n    }\n    if (list.hasState(item, STATUS_UNACTIVE)) {\n      list.setItemState(item, STATUS_UNACTIVE, false);\n    }\n  });\n}\n","import ListState from './list-state';\n\n/**\n *  Action\n * @ignore\n */\nclass ListSelected extends ListState {\n  protected stateName: string = 'selected';\n  public selected() {\n    this.setState();\n  }\n}\n\nexport default ListSelected;\n","import ListState from './list-state';\n\n/**\n *  Action\n * @ignore\n */\nclass ListUnchecked extends ListState {\n  protected stateName: string = 'unchecked';\n  /**\n   * \n   */\n  public unchecked() {\n    this.setState();\n  }\n}\n\nexport default ListUnchecked;\n","import { each, some } from '@antv/util';\nimport { IList, ListItem } from '../../../dependents';\nimport ListState from './list-state';\n\nconst STATUS_UNCHECKED = 'unchecked';\nconst STATUS_CHECKED = 'checked';\ntype MatchCallback = (item: ListItem) => boolean;\n\n/**\n * checked Action\n * \n * 1. toggle \n * 2. checked \n * 3. reset \n */\nclass ListChecked extends ListState {\n  protected stateName: string = STATUS_CHECKED;\n\n  //  item \n  protected setItemState(list: IList, item: ListItem, enable: boolean) {\n    this.setCheckedBy(list, (el) => el === item, enable);\n  }\n\n  //  checked\n  private setCheckedBy(list: IList, callback: MatchCallback, enable: boolean) {\n    const items = list.getItems();\n    if (enable) {\n      //  checked  checked \n      each(items, (item) => {\n        if (callback(item)) {\n          if (list.hasState(item, STATUS_UNCHECKED)) {\n            list.setItemState(item, STATUS_UNCHECKED, false);\n          }\n          list.setItemState(item, STATUS_CHECKED, true);\n        } else if (!list.hasState(item, STATUS_CHECKED)) {\n          list.setItemState(item, STATUS_UNCHECKED, true);\n        }\n      });\n    }\n  }\n\n  /**\n   * .\n   * 1.    item \n   * 2. \n   * @override\n   */\n  public toggle() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo && triggerInfo.item) {\n      const { list, item } = triggerInfo;\n\n      //    unchecked status\n      const allChecked = !some(list.getItems(), (t) => list.hasState(t, STATUS_UNCHECKED));\n\n      //\n      if (allChecked || list.hasState(item, STATUS_UNCHECKED)) {\n        this.setItemState(list, item, true);\n      } else {\n        this.reset();\n      }\n    }\n  }\n\n  /**\n   * checked \n   */\n  public checked() {\n    this.setState();\n  }\n\n  /**\n   *  checked  unchecked\n   */\n  public reset() {\n    const components = this.getAllowComponents();\n    each(components, (component) => {\n      component.clearItemsState(STATUS_CHECKED);\n      component.clearItemsState(STATUS_UNCHECKED);\n    });\n  }\n}\n\nexport default ListChecked;\n","import ListState from './list-state';\n\nconst STATUS_UNCHECKED = 'unchecked';\n\nclass ListFocus extends ListState {\n  public toggle() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo?.item) {\n      const { list, item: clickedItem } = triggerInfo;\n      const items = list.getItems();\n      const checkedItems = items.filter((t) => !list.hasState(t, STATUS_UNCHECKED));\n      const uncheckedItems = items.filter((t) => list.hasState(t, STATUS_UNCHECKED));\n      const checkedItem = checkedItems[0]\n      /**\n       * 1.  checked radio, clickItem \n       * 2. \n       *    2.1  item  clickItem\n       *    2.2  item\n       * 3.  2.2\n       */\n      if (items.length === checkedItems.length) {\n        for (const item of items) list.setItemState(item, STATUS_UNCHECKED, item.id !== clickedItem.id);\n      } else if (items.length - uncheckedItems.length === 1) {\n        if (checkedItem.id === clickedItem.id) {\n          for (const item of items) list.setItemState(item, STATUS_UNCHECKED, false);\n        } else {\n          for (const item of items) list.setItemState(item, STATUS_UNCHECKED, item.id !== clickedItem.id);\n        }\n      } else {\n        for (const item of items) list.setItemState(item, STATUS_UNCHECKED, item.id !== clickedItem.id);\n      }\n    }\n  }\n}\n\nexport default ListFocus;\n","import ListState from './list-state';\nimport { isEqual } from '@antv/util';\nimport { TOOLTIP_CSS_CONST } from '@antv/component';\nimport { HtmlTooltip } from '../../../dependents';\nimport { Point } from '../../../interface';\n\nconst STATUS_SHOW = 'showRadio';\nconst TIP_ID = 'legend-radio-tip';\n\nclass ListRadio extends ListState {\n  public show() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo?.item) {\n      const { list, item } = triggerInfo;\n      list.setItemState(item, STATUS_SHOW, true);\n    }\n  }\n\n  public hide() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo?.item) {\n      const { list, item } = triggerInfo;\n      list.setItemState(item, STATUS_SHOW, false);\n    }\n  }\n\n  private timeStamp: number = 0;\n  private location: Point;\n  private tooltip;\n\n  public destroy() {\n    super.destroy();\n    this.tooltip && this.tooltip.destroy();\n  }\n\n  /**\n   *  Tooltip ()\n   * @returns\n   */\n  public showTip() {\n    const context = this.context;\n    const ev = context.event;\n    const lastTimeStamp = this.timeStamp;\n    const timeStamp = +new Date();\n\n    const target = this.context.event.target;\n    if (timeStamp - lastTimeStamp > 16 && target.get('name') === 'legend-item-radio') {\n      const preLoc = this.location;\n      const curLoc = { x: ev.x, y: ev.y };\n      this.timeStamp = timeStamp;\n      this.location = curLoc;      \n      if (!preLoc || !isEqual(preLoc, curLoc)) {\n        this.showTooltip(curLoc);\n      }\n    }\n  }\n\n  /**\n   *  Tooltip\n   * @returns\n   */\n  public hideTip() {\n    this.hideTooltip();\n    this.location = null;\n  }\n\n  protected showTooltip(curLoc: Point) {\n    const context = this.context;\n    const ev = context.event;\n    const target = ev.target;\n\n    if (target && target.get('tip')) {\n      if (!this.tooltip) {\n        this.renderTooltip(); // \n      }\n      //  tooltip\n      const { x: offsetX, y: offsetY } = context.view.getCanvas().get('el').getBoundingClientRect();\n      this.tooltip.update({\n        title: target.get('tip'),\n        ...curLoc,\n        x: curLoc.x + offsetX,\n        y: curLoc.y + offsetY,\n      });\n      this.tooltip.show();\n    }\n  }\n\n  protected hideTooltip() {\n    this.tooltip && this.tooltip.hide();\n  }\n\n  private renderTooltip() {\n    const tooltipStyles = {\n      [TOOLTIP_CSS_CONST.CONTAINER_CLASS]: {\n        padding: '6px 8px',\n        transform: 'translate(-50%, -80%)',\n        background: 'rgba(0,0,0,0.75)',\n        color: '#fff',\n        'border-radius': '2px',\n        // \n        'z-index': 100,\n      },\n      [TOOLTIP_CSS_CONST.TITLE_CLASS]: {\n        'font-size': '12px',\n        'line-height': '14px',\n        'margin-bottom': 0,\n        'word-break': 'break-all',\n      }\n    };\n    if (document.getElementById(TIP_ID)) {\n      document.body.removeChild(document.getElementById(TIP_ID));\n    }\n    const tooltip = new HtmlTooltip({\n      parent: document.body,\n      // tooltip \n      region: null,\n      visible: false,\n      crosshairs: null,\n      domStyles: tooltipStyles,\n      containerId: TIP_ID,\n    });\n    tooltip.init();\n    tooltip.setCapture(false); // \n    this.tooltip = tooltip;\n  }\n}\n\nexport default ListRadio;\n","import { deepMix, each } from '@antv/util';\nimport Action from '../base';\nimport { LooseObject } from '../../../interface';\n\n/**\n * @ignore\n *  Action \n */\nabstract class MaskBase extends Action {\n  // mask \n  protected maskShape = null;\n  //  mask \n  protected points = [];\n  //  mask \n  protected starting = false;\n  // \n  protected moving = false;\n  protected preMovePoint = null;\n\n  protected shapeType = 'path';\n  // \n  protected getCurrentPoint() {\n    const event = this.context.event;\n    return {\n      x: event.x,\n      y: event.y,\n    };\n  }\n  //  mask \n  protected emitEvent(type) {\n    const eventName = `mask:${type}`;\n    const view = this.context.view;\n    const event = this.context.event;\n    view.emit(eventName, {\n      target: this.maskShape,\n      shape: this.maskShape,\n      points: this.points,\n      x: event.x,\n      y: event.y,\n    });\n  }\n\n  //  mask\n  private createMask() {\n    const view = this.context.view;\n    const maskAttrs = this.getMaskAttrs();\n    const maskShape = view.foregroundGroup.addShape({\n      type: this.shapeType,\n      name: 'mask',\n      draggable: true,\n      attrs: {\n        fill: '#C5D4EB',\n        opacity: 0.3,\n        ...maskAttrs,\n      },\n    });\n    return maskShape;\n  }\n\n  protected abstract getMaskAttrs(): LooseObject;\n\n  //  mask \n  protected getMaskPath() {\n    return [];\n  }\n\n  /**\n   * \n   */\n  public show() {\n    if (this.maskShape) {\n      this.maskShape.show();\n      this.emitEvent('show');\n    }\n  }\n\n  /**\n   * \n   */\n  public start(arg?: { maskStyle: LooseObject }) {\n    this.starting = true;\n    // \n    this.moving = false;\n    this.points = [this.getCurrentPoint()];\n    if (!this.maskShape) {\n      this.maskShape = this.createMask();\n      //  capture: falseresize \n      this.maskShape.set('capture', false);\n    }\n    this.updateMask(arg?.maskStyle);\n    this.emitEvent('start');\n  }\n\n  /**\n   * \n   */\n  public moveStart() {\n    this.moving = true;\n    this.preMovePoint = this.getCurrentPoint();\n  }\n  /**\n   *  mask\n   */\n  public move() {\n    if (!this.moving || !this.maskShape) {\n      return;\n    }\n    const currentPoint = this.getCurrentPoint();\n    const preMovePoint = this.preMovePoint;\n    const dx = currentPoint.x - preMovePoint.x;\n    const dy = currentPoint.y - preMovePoint.y;\n    const points = this.points;\n    each(points, (point) => {\n      point.x += dx;\n      point.y += dy;\n    });\n    this.updateMask();\n    this.emitEvent('change');\n    this.preMovePoint = currentPoint;\n  }\n\n  protected updateMask(maskStyle?: LooseObject) {\n    const attrs = deepMix({}, this.getMaskAttrs(), maskStyle);\n    this.maskShape.attr(attrs);\n  }\n\n  /**\n   * \n   */\n  public moveEnd() {\n    this.moving = false;\n    this.preMovePoint = null;\n  }\n\n  /**\n   * \n   */\n  public end() {\n    this.starting = false;\n    this.emitEvent('end');\n    if (this.maskShape) {\n      this.maskShape.set('capture', true);\n    }\n  }\n\n  /**\n   * \n   */\n  public hide() {\n    if (this.maskShape) {\n      this.maskShape.hide();\n      this.emitEvent('hide');\n    }\n  }\n\n  /**\n   * \n   */\n  public resize() {\n    // \n    if (this.starting && this.maskShape) {\n      this.points.push(this.getCurrentPoint());\n      this.updateMask();\n      this.emitEvent('change');\n    }\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    this.points = [];\n    if (this.maskShape) {\n      this.maskShape.remove();\n    }\n    this.maskShape = null;\n    this.preMovePoint = null;\n    super.destroy();\n  }\n}\n\nexport default MaskBase;\n","import { last } from '@antv/util';\nimport { distance } from '../util';\nimport MaskBase from './base';\n\n/**\n * @ignore\n *  Action\n */\nclass CircleMask extends MaskBase {\n  protected shapeType = 'circle';\n  protected getMaskAttrs() {\n    const points = this.points;\n    const currentPoint = last(this.points);\n    let r = 0;\n    let x = 0;\n    let y = 0;\n    if (points.length) {\n      const first = points[0];\n      r = distance(first, currentPoint) / 2;\n      x = (currentPoint.x + first.x) / 2;\n      y = (currentPoint.y + first.y) / 2;\n    }\n    return {\n      x,\n      y,\n      r,\n    };\n  }\n}\n\nexport default CircleMask;\n","import { head, last } from '@antv/util';\nimport { Region } from '../../../interface';\nimport MaskBase from './base';\n\n/**\n * @ignore\n *  Action\n */\nclass RectMask extends MaskBase {\n  protected shapeType = 'rect';\n  protected getRegion(): Region {\n    const points = this.points;\n    return {\n      start: head(points),\n      end: last(points),\n    };\n  }\n  // \n  protected getMaskAttrs() {\n    const { start, end } = this.getRegion();\n    const x = Math.min(start.x, end.x);\n    const y = Math.min(start.y, end.y);\n    const width = Math.abs(end.x - start.x);\n    const height = Math.abs(end.y - start.y);\n    return {\n      x,\n      y,\n      width,\n      height,\n    };\n  }\n}\n\nexport default RectMask;\n","import { clamp, head, last } from '@antv/util';\nimport { Region } from '../../../interface';\nimport RectMask from './rect';\n\nfunction clampPoint(point) {\n  point.x = clamp(point.x, 0, 1);\n  point.y = clamp(point.y, 0, 1);\n}\n\n/**\n * @ignore\n */\nclass DimRect extends RectMask {\n  protected dim = 'x';\n  protected inPlot = true;\n  protected getRegion(): Region {\n    let start = null;\n    let end = null;\n    const points = this.points;\n    const dim = this.dim;\n    const coord = this.context.view.getCoordinate();\n    const normalStart = coord.invert(head(points));\n    const normalEnd = coord.invert(last(points));\n    if (this.inPlot) {\n      //  0 - 1 \n      clampPoint(normalStart);\n      clampPoint(normalEnd);\n    }\n    if (dim === 'x') {\n      // x , y \n      start = coord.convert({\n        x: normalStart.x,\n        y: 0,\n      });\n      end = coord.convert({\n        x: normalEnd.x,\n        y: 1,\n      });\n    } else {\n      // y , x \n      start = coord.convert({\n        x: 0,\n        y: normalStart.y,\n      });\n      end = coord.convert({\n        x: 1,\n        y: normalEnd.y,\n      });\n    }\n    return {\n      start,\n      end,\n    };\n  }\n}\n\nexport default DimRect;\n","import { Point, Scale } from '../../../dependents';\nimport { FilterCondition, EventPayload } from '../../../interface';\nimport { View, Event } from '../../../chart';\nimport Action from '../base';\nimport { isMask } from '../util';\n\n//  scale\nfunction getFilter(scale: Scale, dim: string, point1: Point, point2: Point): FilterCondition {\n  let min = Math.min(point1[dim], point2[dim]);\n  let max = Math.max(point1[dim], point2[dim]);\n  const [rangeMin, rangeMax] = scale.range;\n  //  scale  range \n  if (min < rangeMin) {\n    min = rangeMin;\n  }\n  if (max > rangeMax) {\n    max = rangeMax;\n  }\n  //  view  null\n  if (min === rangeMax && max === rangeMax) {\n    return null;\n  }\n  const minValue = scale.invert(min);\n  const maxValue = scale.invert(max);\n  if (scale.isCategory) {\n    const minIndex = scale.values.indexOf(minValue);\n    const maxIndex = scale.values.indexOf(maxValue);\n    const arr = scale.values.slice(minIndex, maxIndex + 1);\n    return (value) => {\n      return arr.includes(value);\n    };\n  } else {\n    return (value) => {\n      return value >= minValue && value <= maxValue;\n    };\n  }\n}\n\n/** range-filter brush-filter, brush-x-filter, brush-y-filter */\nenum EVENTS {\n  FILTER = 'brush-filter-processing',\n  RESET = 'brush-filter-reset',\n  BEFORE_FILTER = 'brush-filter:beforefilter',\n  AFTER_FILTER = 'brush-filter:afterfilter',\n  BEFORE_RESET = 'brush-filter:beforereset',\n  AFTER_RESET = 'brush-filter:afterreset',\n}\n\nexport { EVENTS as BRUSH_FILTER_EVENTS };\n\n/**\n *  Action\n * @ignore\n */\nclass RangeFilter extends Action {\n  /**  dims */\n  protected cfgFields: ['dims'];\n  /**\n   * / x, y\n   */\n  protected dims: string[] = ['x', 'y'];\n  /**  */\n  protected startPoint: Point = null;\n\n  private isStarted: boolean = false;\n\n  // x,y \n  private hasDim(dim: string) {\n    return this.dims.includes(dim);\n  }\n\n  /**\n   * \n   */\n  public start() {\n    const context = this.context;\n    this.isStarted = true;\n    this.startPoint = context.getCurrentPoint();\n  }\n\n  /**\n   * \n   */\n  public filter() {\n    let startPoint;\n    let currentPoint;\n    if (isMask(this.context)) {\n      const maskShape = this.context.event.target;\n      const bbox = maskShape.getCanvasBBox();\n      startPoint = { x: bbox.x, y: bbox.y };\n      currentPoint = { x: bbox.maxX, y: bbox.maxY };\n    } else {\n      if (!this.isStarted) {\n        // \n        return;\n      }\n      startPoint = this.startPoint;\n      currentPoint = this.context.getCurrentPoint();\n    }\n    if (Math.abs(startPoint.x - currentPoint.x) < 5 || Math.abs(startPoint.x - currentPoint.y) < 5) {\n      // \n      return;\n    }\n    const { view, event } = this.context;\n    const payload = { view, event, dims: this.dims };\n    view.emit(EVENTS.BEFORE_FILTER, Event.fromData(view, EVENTS.BEFORE_FILTER, payload));\n\n    const coord = view.getCoordinate();\n    const normalCurrent = coord.invert(currentPoint);\n    const normalStart = coord.invert(startPoint);\n    //  x  filter\n    if (this.hasDim('x')) {\n      const xScale = view.getXScale();\n      const filter = getFilter(xScale, 'x', normalCurrent, normalStart);\n      this.filterView(view, xScale.field, filter);\n    }\n    //  y  filter\n    if (this.hasDim('y')) {\n      const yScale = view.getYScales()[0];\n      const filter = getFilter(yScale, 'y', normalCurrent, normalStart);\n      this.filterView(view, yScale.field, filter);\n    }\n    this.reRender(view, { source: EVENTS.FILTER });\n\n    view.emit(EVENTS.AFTER_FILTER, Event.fromData(view, EVENTS.AFTER_FILTER, payload));\n  }\n\n  /**\n   * \n   */\n  public end() {\n    this.isStarted = false;\n  }\n\n  /**\n   *  Action  x,y\n   */\n  public reset() {\n    const view = this.context.view;\n    view.emit(EVENTS.BEFORE_RESET, Event.fromData(view, EVENTS.BEFORE_RESET, {}));\n\n    this.isStarted = false;\n    if (this.hasDim('x')) {\n      const xScale = view.getXScale();\n      this.filterView(view, xScale.field, null); // \n    }\n    if (this.hasDim('y')) {\n      // y  yScale\n      const yScale = view.getYScales()[0];\n      this.filterView(view, yScale.field, null); // \n    }\n    this.reRender(view, { source: EVENTS.RESET });\n\n    view.emit(EVENTS.AFTER_RESET, Event.fromData(view, EVENTS.AFTER_RESET, {}));\n  }\n\n  /**\n   *  view \n   */\n  protected filterView(view: View, field: string, filter: FilterCondition) {\n    view.filter(field, filter);\n  }\n\n  /**\n   * \n   * @param view\n   */\n  protected reRender(view: View, payload?: EventPayload) {\n    view.render(true, payload);\n  }\n}\n\nexport default RangeFilter;\n","import { each } from '@antv/util';\nimport MaskBase from './base';\n\n/**\n * @ignore\n *  Path  Action\n */\nclass PathMask extends MaskBase {\n  //  mask \n  protected getMaskPath() {\n    const points = this.points;\n    const path = [];\n    if (points.length) {\n      each(points, (point, index) => {\n        if (index === 0) {\n          path.push(['M', point.x, point.y]);\n        } else {\n          path.push(['L', point.x, point.y]);\n        }\n      });\n      path.push(['L', points[0].x, points[0].y]);\n    }\n    return path;\n  }\n\n  protected getMaskAttrs() {\n    return {\n      path: this.getMaskPath(),\n    };\n  }\n\n  /**\n   * \n   */\n  public addPoint() {\n    this.resize();\n  }\n}\n\nexport default PathMask;\n","import { getSpline } from '../util';\nimport PathMask from './path';\n\n/**\n * Smooth path mask\n * @ignore\n */\nclass SmoothPathMask extends PathMask {\n  //  mask \n  protected getMaskPath() {\n    const points = this.points;\n    return getSpline(points, true);\n  }\n}\n\nexport default SmoothPathMask;\n","/**\n * @fileoverview https://www.w3school.com.cn/jsref/prop_style_cursor.asp\n * @author dxq613\n */\nimport Action from './base';\n\n/**\n *  Action\n * @ignore\n */\nclass CursorAction extends Action {\n  private setCursor(cursor) {\n    const view = this.context.view;\n    view.getCanvas().setCursor(cursor);\n  }\n\n  /**\n   * \n   */\n  public default() {\n    this.setCursor('default');\n  }\n\n  /**  */\n  public pointer() {\n    this.setCursor('pointer');\n  }\n  /**  */\n  public move() {\n    this.setCursor('move');\n  }\n  /**  */\n  public crosshair() {\n    this.setCursor('crosshair');\n  }\n  /**  */\n  public wait() {\n    this.setCursor('wait');\n  }\n\n  /**  */\n  public help() {\n    this.setCursor('help');\n  }\n\n  /**  */\n  public text() {\n    this.setCursor('text');\n  }\n\n  /**\n   * \n   */\n  public eResize() {\n    this.setCursor('e-resize');\n  }\n\n  /**\n   * \n   */\n  public wResize() {\n    this.setCursor('w-resize');\n  }\n\n  /**\n   * \n   */\n  public nResize() {\n    this.setCursor('n-resize');\n  }\n\n  /**\n   * \n   */\n  public sResize() {\n    this.setCursor('s-resize');\n  }\n  /**\n   *  \n   */\n  public neResize() {\n    this.setCursor('ne-resize');\n  }\n  /**\n   *  \n   */\n  public nwResize() {\n    this.setCursor('nw-resize');\n  }\n  /**\n   * \n   */\n  public seResize() {\n    this.setCursor('se-resize');\n  }\n  /**\n   * \n   */\n  public swResize() {\n    this.setCursor('sw-resize');\n  }\n\n  /**\n   * \n   */\n  public nsResize() {\n    this.setCursor('ns-resize');\n  }\n  /**\n   * \n   */\n  public ewResize() {\n    this.setCursor('ew-resize');\n  }\n}\n\nexport default CursorAction;\n","import { each } from '@antv/util';\nimport { View } from 'src/chart';\nimport Action from '../base';\nimport { getDelegationObject, getScaleByField, isList, isSlider } from '../util';\n\n/**\n * \n * @ignore\n */\nclass DataFilter extends Action {\n  private filterView(view: View, field, filter) {\n    //  scale \n    if (view.getScaleByField(field)) {\n      view.filter(field, filter);\n    }\n    if (view.views && view.views.length) {\n      each(view.views, (subView) => {\n        this.filterView(subView, field, filter);\n      });\n    }\n  }\n  /**\n   * \n   */\n  public filter() {\n    const delegateObject = getDelegationObject(this.context);\n    if (delegateObject) {\n      const view = this.context.view;\n      const { component } = delegateObject;\n      const field = component.get('field');\n      // \n      if (isList(delegateObject)) {\n        if (field) {\n          const unCheckedItems = component.getItemsByState('unchecked');\n          const scale = getScaleByField(view, field);\n          const names: string[] = unCheckedItems.map((item) => item.name);\n          if (names.length) {\n            this.filterView(view, field, (value) => {\n              const text = scale.getText(value);\n              return !names.includes(text);\n            });\n          } else {\n            this.filterView(view, field, null);\n          }\n          view.render(true);\n        }\n      } else if (isSlider(delegateObject)) {\n        const range = component.getValue();\n        const [min, max] = range;\n        this.filterView(view, field, (value) => {\n          return value >= min && value <= max;\n        });\n        view.render(true);\n      }\n    }\n  }\n}\n\nexport default DataFilter;\n","import { each } from '@antv/util';\nimport { View } from '../../../chart';\nimport { FilterCondition } from '../../../interface';\nimport RangeFilter from './range-filter';\n\nimport { getSilbings } from '../util';\n\n/**\n *  view  view  views \n * @ignore\n */\nclass SiblingFilter extends RangeFilter {\n  /**\n   *  view \n   * @param view\n   * @param field\n   * @param filter\n   */\n  protected filterView(view: View, field: string, filter: FilterCondition) {\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      sibling.filter(field, filter);\n    });\n  }\n\n  /**\n   * \n   * @param view\n   */\n  protected reRender(view: View) {\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      sibling.render(true);\n    });\n  }\n}\n\nexport default SiblingFilter;\n","import { each } from '@antv/util';\nimport Action from '../base';\nimport {\n  getDelegationObject,\n  getElements,\n  getElementValue,\n  getScaleByField,\n  isList,\n  isSlider,\n  isMask,\n  getMaskedElements,\n} from '../util';\n/**\n *  Action\n * @ignore\n */\nclass ElementFilter extends Action {\n  /**\n   * \n   */\n  public filter() {\n    const delegateObject = getDelegationObject(this.context);\n    const view = this.context.view;\n    const elements = getElements(view);\n    if (isMask(this.context)) {\n      const maskElements = getMaskedElements(this.context, 10);\n      if (maskElements) {\n        each(elements, (el) => {\n          if (maskElements.includes(el)) {\n            el.show();\n          } else {\n            el.hide();\n          }\n        });\n      }\n    } else if (delegateObject) {\n      const { component } = delegateObject;\n      const field = component.get('field');\n      // \n      if (isList(delegateObject)) {\n        if (field) {\n          const unCheckedItems = component.getItemsByState('unchecked');\n          const scale = getScaleByField(view, field);\n          const names = unCheckedItems.map((item) => item.name);\n          // \n          each(elements, (el) => {\n            const value = getElementValue(el, field);\n            const text = scale.getText(value);\n            if (names.indexOf(text) >= 0) {\n              el.hide();\n            } else {\n              el.show();\n            }\n          });\n        }\n      } else if (isSlider(delegateObject)) {\n        const range = component.getValue();\n        const [min, max] = range;\n        each(elements, (el) => {\n          const value = getElementValue(el, field);\n          if (value >= min && value <= max) {\n            el.show();\n          } else {\n            el.hide();\n          }\n        });\n      }\n    }\n  }\n  /**\n   * \n   */\n  public clear() {\n    const elements = getElements(this.context.view);\n    each(elements, (el) => {\n      el.show();\n    });\n  }\n\n  /**\n   *  data-filter \n   */\n  public reset() {\n    this.clear();\n  }\n}\n\nexport default ElementFilter;\n","import { each } from '@antv/util';\nimport Action from '../base';\nimport { getElements, getMaskedElements, getSiblingMaskElements, getSilbings, isInRecords, isMask } from '../util';\n\n/**\n * Sibling filter\n * @ignore\n */\nclass SiblingFilter extends Action {\n  protected byRecord = false;\n  /**\n   * \n   */\n  public filter() {\n    //  mask \n    if (isMask(this.context)) {\n      if (this.byRecord) {\n        this.filterByRecord();\n      } else {\n        this.filterByBBox();\n      }\n    }\n  }\n  // \n  private filterByRecord() {\n    const view = this.context.view;\n    const maskElements = getMaskedElements(this.context, 10);\n    if (!maskElements) {\n      return;\n    }\n    const xFiled = view.getXScale().field;\n    const yField = view.getYScales()[0].field;\n    const records = maskElements.map((el) => {\n      return el.getModel().data;\n    });\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      const elements = getElements(sibling);\n      each(elements, (el) => {\n        const record = el.getModel().data;\n        // records.includes(record) \n        if (isInRecords(records, record, xFiled, yField)) {\n          el.show();\n        } else {\n          el.hide();\n        }\n      });\n    });\n  }\n\n  // \n  private filterByBBox() {\n    const view = this.context.view;\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      const maskElements = getSiblingMaskElements(this.context, sibling, 10);\n      const elements = getElements(sibling);\n      if (maskElements) {\n        // mask  null\n        each(elements, (el) => {\n          if (maskElements.includes(el)) {\n            el.show();\n          } else {\n            el.hide();\n          }\n        });\n      }\n    });\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    const siblings = getSilbings(this.context.view);\n    each(siblings, (sibling) => {\n      const elements = getElements(sibling);\n      each(elements, (el) => {\n        el.show();\n      });\n    });\n  }\n}\n\nexport default SiblingFilter;\n","import { LooseObject } from '../../../interface';\nimport { IGroup } from '@antv/g-base';\nimport { ext } from '@antv/matrix-util';\nimport { deepMix } from '@antv/util';\nimport { parsePadding } from '../../../util/padding';\nimport Action from '../base';\nconst PADDING_RIGHT = 10;\nconst PADDING_TOP = 5;\n\n/**\n * Button action\n * @ignore\n */\nclass ButtonAction extends Action {\n  private buttonGroup: IGroup = null;\n  private buttonCfg = {\n    name: 'button',\n    text: 'button',\n    textStyle: {\n      x: 0,\n      y: 0,\n      fontSize: 12,\n      fill: '#333333',\n      cursor: 'pointer',\n    },\n    padding: [8, 10],\n    style: {\n      fill: '#f7f7f7',\n      stroke: '#cccccc',\n      cursor: 'pointer',\n    },\n    activeStyle: {\n      fill: '#e6e6e6',\n    },\n  };\n  // mix \n  private getButtonCfg(): LooseObject {\n    return deepMix(this.buttonCfg, this.cfg);\n  }\n  //  Button  \n  private drawButton() {\n    const config = this.getButtonCfg();\n    const group = this.context.view.foregroundGroup.addGroup({\n      name: config.name,\n    });\n    // \n    const textShape = group.addShape({\n      type: 'text',\n      name: 'button-text',\n      attrs: {\n        text: config.text,\n        ...config.textStyle,\n      },\n    });\n    const textBBox = textShape.getBBox();\n    const padding = parsePadding(config.padding);\n    // \n    const buttonShape = group.addShape({\n      type: 'rect',\n      name: 'button-rect',\n      attrs: {\n        x: textBBox.x - padding[3],\n        y: textBBox.y - padding[0],\n        width: textBBox.width + padding[1] + padding[3],\n        height: textBBox.height + padding[0] + padding[2],\n        ...config.style,\n      },\n    });\n    buttonShape.toBack(); // \n    // active \n    group.on('mouseenter', () => {\n      buttonShape.attr(config.activeStyle);\n    });\n    group.on('mouseleave', () => {\n      buttonShape.attr(config.style);\n    });\n    this.buttonGroup = group;\n  }\n\n  // \n  private resetPosition() {\n    const view = this.context.view;\n    const coord = view.getCoordinate();\n    const point = coord.convert({ x: 1, y: 1 }); // \n    const buttonGroup = this.buttonGroup;\n    const bbox = buttonGroup.getBBox();\n    const matrix = ext.transform(null, [\n      ['t', point.x - bbox.width - PADDING_RIGHT, point.y + bbox.height + PADDING_TOP],\n    ]);\n    buttonGroup.setMatrix(matrix);\n  }\n\n  /**\n   * \n   */\n  public show() {\n    if (!this.buttonGroup) {\n      this.drawButton();\n    }\n    this.resetPosition();\n    this.buttonGroup.show();\n  }\n\n  /**\n   * \n   */\n  public hide() {\n    if (this.buttonGroup) {\n      this.buttonGroup.hide();\n    }\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    const buttonGroup = this.buttonGroup;\n    if (buttonGroup) {\n      buttonGroup.remove();\n    }\n    super.destroy();\n  }\n}\n\nexport default ButtonAction;\n","import { Point } from '../../../dependents';\nimport Action from '../base';\nimport { distance } from '../util';\n\nconst DISTANCE = 4; // \n\n/**\n * @ignore\n * View  Drag  Action\n */\nclass Drag extends Action {\n  // Action  \n  protected starting = false;\n  // \n  protected dragStart = false;\n  // \n  protected startPoint: Point;\n\n  /**\n   * \n   */\n  public start() {\n    this.starting = true;\n    this.startPoint = this.context.getCurrentPoint();\n  }\n\n  /**\n   * \n   */\n  public drag() {\n    if (!this.startPoint) {\n      return;\n    }\n    const current = this.context.getCurrentPoint();\n    const view = this.context.view;\n    const event = this.context.event;\n    if (!this.dragStart) {\n      if (distance(current, this.startPoint) > DISTANCE) {\n        view.emit('dragstart', {\n          target: event.target,\n          x: event.x,\n          y: event.y,\n        });\n        this.dragStart = true;\n      }\n    } else {\n      view.emit('drag', {\n        target: event.target,\n        x: event.x,\n        y: event.y,\n      });\n    }\n  }\n\n  /**\n   * \n   */\n  public end() {\n    if (this.dragStart) {\n      const view = this.context.view;\n      const event = this.context.event;\n      view.emit('dragend', {\n        target: event.target,\n        x: event.x,\n        y: event.y,\n      });\n    }\n    this.starting = false;\n    this.dragStart = false;\n  }\n}\n\nexport default Drag;\n","import { ext } from '@antv/matrix-util';\nimport { Action } from '..';\nimport { distance } from '../util';\n\nconst MIN_DISTANCE = 5;\n\n/**\n * @ignore\n * View  Action\n */\nclass Move extends Action {\n  private starting = false;\n  private isMoving = false;\n  // private cacheRange = null;\n  private startPoint = null;\n  private startMatrix = null;\n  /**\n   * \n   */\n  public start() {\n    this.starting = true;\n    this.startPoint = this.context.getCurrentPoint();\n    // \n    this.startMatrix = this.context.view.middleGroup.getMatrix();\n  }\n\n  /**\n   * \n   */\n  public move() {\n    if (!this.starting) {\n      return;\n    }\n    const startPoint = this.startPoint;\n    const currentPoint = this.context.getCurrentPoint();\n    const d = distance(startPoint, currentPoint);\n    if (d > MIN_DISTANCE && !this.isMoving) {\n      this.isMoving = true;\n    }\n    if (this.isMoving) {\n      const view = this.context.view;\n      const matrix = ext.transform(this.startMatrix, [\n        ['t', currentPoint.x - startPoint.x, currentPoint.y - startPoint.y],\n      ]);\n      view.backgroundGroup.setMatrix(matrix);\n      view.foregroundGroup.setMatrix(matrix);\n      view.middleGroup.setMatrix(matrix);\n    }\n  }\n\n  /**\n   * \n   */\n  public end() {\n    if (this.isMoving) {\n      this.isMoving = false;\n    }\n    this.startMatrix = null;\n    this.starting = false;\n    this.startPoint = null;\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.starting = false;\n    this.startPoint = null;\n    this.isMoving = false;\n\n    const view = this.context.view;\n    view.backgroundGroup.resetMatrix();\n    view.foregroundGroup.resetMatrix();\n    view.middleGroup.resetMatrix();\n    this.isMoving = false;\n  }\n}\n\nexport default Move;\n","import { Action } from '..';\n\nconst DIM_X = 'x';\nconst DIM_Y = 'y';\n\n/**\n * Scale translate\n * @ignore\n */\nclass ScaleTranslate extends Action {\n  protected dims = [DIM_X, DIM_Y];\n  protected cfgFields = ['dims'];\n  protected cacheScaleDefs = {};\n\n  // \n  protected hasDim(dim) {\n    return this.dims.includes(dim);\n  }\n\n  protected getScale(dim) {\n    const view = this.context.view;\n    if (dim === 'x') {\n      return view.getXScale();\n    } else {\n      return view.getYScales()[0];\n    }\n  }\n\n  private resetDim(dim) {\n    const view = this.context.view;\n    if (this.hasDim(dim) && this.cacheScaleDefs[dim]) {\n      const scale = this.getScale(dim);\n      view.scale(scale.field, this.cacheScaleDefs[dim]);\n      this.cacheScaleDefs[dim] = null;\n    }\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.resetDim(DIM_X);\n    this.resetDim(DIM_Y);\n    const view = this.context.view;\n    view.render(true);\n  }\n}\n\nexport default ScaleTranslate;\n","import { each } from '@antv/util';\nimport { Point } from '../../../dependents';\nimport TransformAction from './scale-transform';\n\n/**\n *  Scale  Action\n * @ignore\n */\nclass ScaleTranslate extends TransformAction {\n  protected startPoint: Point = null;\n  protected starting = false;\n  private startCache = {};\n  /**\n   * \n   */\n  public start() {\n    this.startPoint = this.context.getCurrentPoint();\n    this.starting = true;\n    const dims = this.dims;\n    each(dims, (dim) => {\n      const scale = this.getScale(dim);\n      const { min, max, values } = scale;\n      this.startCache[dim] = { min, max, values };\n    });\n  }\n\n  // \n  // private translateCategory(dim, scale, normalPoint) {\n  // }\n\n  /**\n   * \n   */\n  public end() {\n    this.startPoint = null;\n    this.starting = false;\n    this.startCache = {};\n  }\n\n  /**\n   * \n   */\n  public translate() {\n    if (!this.starting) {\n      return;\n    }\n    const startPoint = this.startPoint;\n    const coord = this.context.view.getCoordinate();\n    const currentPoint = this.context.getCurrentPoint();\n    const normalStart = coord.invert(startPoint);\n    const noramlCurrent = coord.invert(currentPoint);\n    const dx = noramlCurrent.x - normalStart.x;\n    const dy = noramlCurrent.y - normalStart.y;\n    const view = this.context.view;\n    const dims = this.dims;\n    each(dims, (dim) => {\n      this.translateDim(dim, { x: dx * -1, y: dy * -1 });\n    });\n    view.render(true);\n  }\n\n  // \n  private translateDim(dim, normalPoint) {\n    if (this.hasDim(dim)) {\n      const scale = this.getScale(dim);\n      if (scale.isLinear) {\n        this.translateLinear(dim, scale, normalPoint);\n      }\n      //  else { // \n      // this.translateCategory(dim, scale, normalPoint);\n      // }\n    }\n  }\n  // linear \n  private translateLinear(dim, scale, normalPoint) {\n    const view = this.context.view;\n    const { min, max } = this.startCache[dim];\n    const range = max - min;\n    const d = normalPoint[dim] * range;\n    // \n    if (!this.cacheScaleDefs[dim]) {\n      this.cacheScaleDefs[dim] = {\n        // @ts-ignore\n        nice: scale.nice,\n        min,\n        max,\n      };\n    }\n    view.scale(scale.field, {\n      // @ts-ignore\n      nice: false,\n      min: min + d,\n      max: max + d,\n    });\n  }\n\n  // \n  // private translateCategory(dim, scale, normalPoint) {\n  // }\n\n  /**\n   * \n   */\n  public reset() {\n    super.reset();\n    this.startPoint = null;\n    this.starting = false;\n  }\n}\n\nexport default ScaleTranslate;\n","import { each, throttle } from '@antv/util';\nimport TransformAction from './scale-transform';\n\n/**\n *  Scale  Action\n * @ignore\n */\nclass ScaleTranslate extends TransformAction {\n  private zoomRatio = 0.05;\n  /**\n   * \n   */\n  public zoomIn() {\n    this.zoom(this.zoomRatio);\n  }\n\n  private zoom(scale) {\n    const dims = this.dims;\n    each(dims, (dim) => {\n      this.zoomDim(dim, scale);\n    });\n    this.context.view.render(true);\n  }\n\n  /**\n   * \n   */\n  public zoomOut() {\n    this.zoom(-1 * this.zoomRatio);\n  }\n\n  // \n  private zoomDim(dim, dRatio) {\n    if (this.hasDim(dim)) {\n      const scale = this.getScale(dim);\n      if (scale.isLinear) {\n        this.zoomLinear(dim, scale, dRatio);\n      }\n      //  else { // \n      // this.zoomCategory(dim, scale, normalPoint);\n      // }\n    }\n  }\n  // linear \n  private zoomLinear(dim, scale, dRatio) {\n    const view = this.context.view;\n    // \n    if (!this.cacheScaleDefs[dim]) {\n      this.cacheScaleDefs[dim] = {\n        // @ts-ignore\n        nice: scale.nice,\n        min: scale.min,\n        max: scale.max,\n      };\n    }\n    // \n    const scaleDef = this.cacheScaleDefs[dim];\n    const range = scaleDef.max - scaleDef.min;\n    const { min, max } = scale;\n    const d = dRatio * range;\n    const toMin = min - d;\n    const toMax = max + d;\n    const curRange = toMax - toMin;\n    const scaled = curRange / range;\n    if (toMax > toMin && scaled < 100 && scaled > 0.01) {\n      view.scale(scale.field, {\n        // @ts-ignore\n        nice: false,\n        min: min - d,\n        max: max + d,\n      });\n    }\n  }\n\n  // \n  // private translateCategory(dim, scale, normalPoint) {\n  // }\n}\n\nexport default ScaleTranslate;\n","import { clamp, size, valuesOfKey } from '@antv/util';\nimport { COMPONENT_TYPE } from '../../../constant';\nimport { Action } from '..';\nimport { LooseObject } from '../../../interface';\n\nfunction isWheelDown(event: LooseObject) {\n  const wheelEvent = event.gEvent.originalEvent as WheelEvent;\n  return wheelEvent.deltaY > 0;\n}\n\nconst DEFAULT_WHEELDELTA = 1;\nclass MousewheelScroll extends Action {\n  public scroll(arg?) {\n    const { view, event } = this.context;\n\n    if (!view.getOptions().scrollbar) {\n      return;\n    }\n\n    const wheelDelta = arg?.wheelDelta || DEFAULT_WHEELDELTA;\n    const scrollbarController = view.getController('scrollbar');\n\n    const xScale = view.getXScale();\n    const data = view.getOptions().data;\n    const dataSize = size(valuesOfKey(data, xScale.field));\n    const step = size(xScale.values);\n\n    const currentRatio = scrollbarController.getValue();\n    const currentStart = Math.floor((dataSize - step) * currentRatio);\n\n    const nextStart = currentStart + (isWheelDown(event) ? wheelDelta : -wheelDelta);\n    const correction = wheelDelta / (dataSize - step) / 10000;\n    const nextRatio = clamp(nextStart / (dataSize - step) + correction, 0, 1);\n    scrollbarController.setValue(nextRatio);\n  }\n}\n\nexport default MousewheelScroll;\n","import { isObject, each, find, get } from '@antv/util';\n\nimport { BBox, IGroup, IShape } from '../../../../dependents';\nimport { LabelItem } from '../../interface';\n\nimport { polarToCartesian } from '../../../../util/graphics';\nimport { IElement } from '@antv/g-base';\n\n/** label textline 4px */\nconst MARGIN = 4;\n\nfunction antiCollision(labelShapes, labels, lineHeight, plotRange, center, isRight) {\n  // adjust y position of labels to avoid overlapping\n  let overlapping = true;\n  const start = plotRange.start;\n  const end = plotRange.end;\n  const startY = Math.min(start.y, end.y);\n  let totalHeight = Math.abs(start.y - end.y);\n  let i;\n\n  let maxY = 0;\n  let minY = Number.MIN_VALUE;\n  const boxes = labels.map((label) => {\n    if (label.y > maxY) {\n      maxY = label.y;\n    }\n    if (label.y < minY) {\n      minY = label.y;\n    }\n    return {\n      size: lineHeight,\n      targets: [label.y - startY],\n    };\n  });\n  minY -= startY;\n  if (maxY - startY > totalHeight) {\n    totalHeight = maxY - startY;\n  }\n\n  while (overlapping) {\n    /* eslint no-loop-func: 0 */\n    boxes.forEach((box) => {\n      const target = (Math.min.apply(minY, box.targets) + Math.max.apply(minY, box.targets)) / 2;\n      box.pos = Math.min(Math.max(minY, target - box.size / 2), totalHeight - box.size);\n      // box.pos = Math.max(0, target - box.size / 2);\n    });\n\n    // detect overlapping and join boxes\n    overlapping = false;\n    i = boxes.length;\n    while (i--) {\n      if (i > 0) {\n        const previousBox = boxes[i - 1];\n        const box = boxes[i];\n        if (previousBox.pos + previousBox.size > box.pos) {\n          // overlapping\n          previousBox.size += box.size;\n          previousBox.targets = previousBox.targets.concat(box.targets);\n\n          // overflow, shift up\n          if (previousBox.pos + previousBox.size > totalHeight) {\n            previousBox.pos = totalHeight - previousBox.size;\n          }\n          boxes.splice(i, 1); // removing box\n          overlapping = true;\n        }\n      }\n    }\n  }\n\n  i = 0;\n  // step 4: normalize y and adjust x\n  boxes.forEach((b) => {\n    let posInCompositeBox = startY + lineHeight / 2; // middle of the label\n    b.targets.forEach(() => {\n      labels[i].y = b.pos + posInCompositeBox;\n      posInCompositeBox += lineHeight;\n      i++;\n    });\n  });\n\n  const labelsMap = {};\n  for (const labelShape of labelShapes) {\n    labelsMap[labelShape.get('id')] = labelShape;\n  }\n\n  // (x - cx)^2 + (y - cy)^2 = totalR^2\n  labels.forEach((label) => {\n    const rPow2 = label.r * label.r;\n    const dyPow2 = Math.pow(Math.abs(label.y - center.y), 2);\n    if (rPow2 < dyPow2) {\n      label.x = center.x;\n    } else {\n      const dx = Math.sqrt(rPow2 - dyPow2);\n      if (!isRight) {\n        // left\n        label.x = center.x - dx;\n      } else {\n        // right\n        label.x = center.x + dx;\n      }\n    }\n\n    // adjust labelShape\n    const labelShape = labelsMap[label.id];\n    labelShape.attr('x', label.x);\n    labelShape.attr('y', label.y);\n\n    // because group could not effect text-shape, should set text-shape position manually\n    const textShape = find(labelShape.getChildren(), (ele) => ele.get('type') === 'text') as IElement;\n    // @ts-ignore\n    if (textShape) {\n      textShape.attr('y', label.y);\n      textShape.attr('x', label.x);\n    }\n  });\n}\n\nexport function distribute(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  if (!items.length || !labels.length) {\n    return;\n  }\n  const offset = items[0] ? items[0].offset : 0;\n  const coordinate = labels[0].get('coordinate');\n  const radius = coordinate.getRadius();\n  const center = coordinate.getCenter();\n\n  if (offset > 0) {\n    // const lineHeight = get(this.geometry.theme, ['pieLabels', 'labelHeight'], 14);\n    const lineHeight = 14; // TODO\n    const totalR = radius + offset;\n    const totalHeight = totalR * 2 + lineHeight * 2;\n    const plotRange = {\n      start: coordinate.start,\n      end: coordinate.end,\n    };\n\n    // step 1: separate labels\n    const halves = [\n      [], // left\n      [], // right\n    ];\n    items.forEach((labelItem) => {\n      if (!labelItem) {\n        return;\n      }\n      if (labelItem.textAlign === 'right') {\n        // left\n        halves[0].push(labelItem);\n      } else {\n        // right or center will be put on the right side\n        halves[1].push(labelItem);\n      }\n    });\n\n    halves.forEach((half, index) => {\n      // step 2: reduce labels\n      const maxLabelsCountForOneSide = totalHeight / lineHeight;\n      if (half.length > maxLabelsCountForOneSide) {\n        half.sort((a, b) => {\n          // sort by percentage DESC\n          return b['..percent'] - a['..percent'];\n        });\n        half.splice(maxLabelsCountForOneSide, half.length - maxLabelsCountForOneSide);\n      }\n\n      // step 3: distribute position (x and y)\n      half.sort((a, b) => {\n        // sort by y ASC\n        return a.y - b.y;\n      });\n\n      antiCollision(labels, half, lineHeight, plotRange, center, index);\n    });\n  }\n\n  //  labelLine\n  each(items, (item) => {\n    if (item && item.labelLine) {\n      const distance = item.offset;\n      const angle = item.angle;\n      // \n      const startPoint = polarToCartesian(center.x, center.y, radius, angle);\n      const innerPoint = polarToCartesian(center.x, center.y, radius + distance / 2, angle);\n      const itemX = item.x + get(item, 'offsetX', 0);\n      const itemY = item.y + get(item, 'offsetY', 0);\n      const endPoint = {\n        x: itemX - Math.cos(angle) * MARGIN,\n        y: itemY - Math.sin(angle) * MARGIN,\n      };\n      if (!isObject(item.labelLine)) {\n        // labelLine: true\n        item.labelLine = {};\n      }\n      item.labelLine.path = [\n        `M ${startPoint.x}`,\n        `${startPoint.y} Q${innerPoint.x}`,\n        `${innerPoint.y} ${endPoint.x}`,\n        endPoint.y,\n      ].join(',');\n    }\n  });\n}\n","import { get } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { isIntersect } from '../../../util/collision-detect';\nimport { LabelItem } from '../interface';\nimport { getlLabelBackgroundInfo } from '../util';\n\n/**\n * label  label  label \n *  'overlap'  label \n * @param labels  label \n */\nexport function hideOverlap(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  // todo  labelrank\n  // each label will hide the next one because the next one always has lower rank.\n\n  // Detect overlapping labels\n  for (let i = 0; i < labels.length; i++) {\n    const label1 = labels[i];\n    if (labels[i].get('visible')) {\n      for (let j = i + 1; j < labels.length; j++) {\n        const label2 = labels[j];\n        if (label1 && label2 && label1 !== label2 && label2.get('visible')) {\n          const box1 = getlLabelBackgroundInfo(label1, items[i], get(items[i], 'background.padding'));\n          const box2 = getlLabelBackgroundInfo(label2, items[j], get(items[j], 'background.padding'));\n\n          if (isIntersect(box1, box2)) {\n            labels[j].set('visible', false);\n          }\n        }\n      }\n    }\n  }\n}\n","import { each } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { LabelItem } from '../interface';\n\n/**\n * @ignore\n *  label  bbox  label  shape  bbox \n */\nexport function limitInShape(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  each(labels, (label, index) => {\n    const labelBBox = label.getCanvasBBox(); // \n    const shapeBBox = shapes[index].getBBox();\n    if (\n      labelBBox.minX < shapeBBox.minX ||\n      labelBBox.minY < shapeBBox.minY ||\n      labelBBox.maxX > shapeBBox.maxX ||\n      labelBBox.maxY > shapeBBox.maxY\n    ) {\n      label.remove(true); // \n    }\n  });\n}\n","import { each } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { translate } from '../../../util/transform';\nimport { LabelItem } from '../interface';\n\n/**\n * @ignore\n *  label  label \n * @param labels\n * @param cfg\n */\nexport function limitInCanvas(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  each(labels, (label: IGroup) => {\n    const { minX: regionMinX, minY: regionMinY, maxX: regionMaxX, maxY: regionMaxY } = region;\n    const { minX, minY, maxX, maxY, x, y, width, height } = label.getCanvasBBox();\n\n    let finalX = x;\n    let finalY = y;\n    if (minX < regionMinX || maxX < regionMinX) {\n      // \n      finalX = regionMinX;\n    }\n    if (minY < regionMinY || maxY < regionMinY) {\n      // \n      finalY = regionMinY;\n    }\n\n    if (minX > regionMaxX) {\n      // \n      finalX = regionMaxX - width;\n    } else if (maxX > regionMaxX) {\n      // \n      finalX = finalX - (maxX - regionMaxX);\n    }\n\n    if (minY > regionMaxY) {\n      // \n      finalY = regionMaxY - height;\n    } else if (maxY > regionMaxY) {\n      // \n      finalY = finalY - (maxY - regionMaxY);\n    }\n\n    if (finalX !== x || finalY !== y) {\n      translate(label, finalX - x, finalY - y);\n    }\n  });\n}\n","import { each, pick } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { getCoordinateBBox } from '../../../util/coordinate';\nimport { getEllipsisText } from '../../../util/text';\nimport { translate } from '../../../util/transform';\nimport { LabelItem } from '../interface';\n\n/** limitInPlot layout  */\nexport interface LimitInPlotLayoutCfg {\n  /**  Plot  */\n  direction?: ('top' | 'right' | 'bottom' | 'left')[];\n  /**  margin */\n  margin?: number;\n  /**  translate ; ellipsis  text  */\n  action?: 'hide' | 'translate' | 'ellipsis';\n}\n\n/**\n * @ignore\n *  label  Plot  Plot  label \n * @param labels\n * @param cfg\n */\nexport function limitInPlot(\n  items: LabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox,\n  cfg?: LimitInPlotLayoutCfg\n) {\n  if (labels.length <= 0) {\n    return;\n  }\n  const direction = cfg?.direction || ['top', 'right', 'bottom', 'left'];\n  const action = cfg?.action || 'translate';\n  const margin = cfg?.margin || 0;\n  const coordinate = labels[0].get('coordinate');\n  if (!coordinate) {\n    return;\n  }\n  const {\n    minX: regionMinX,\n    minY: regionMinY,\n    maxX: regionMaxX,\n    maxY: regionMaxY,\n  } = getCoordinateBBox(coordinate, margin);\n\n  each(labels, (label: IGroup) => {\n    const { minX, minY, maxX, maxY, x, y, width, height } = label.getCanvasBBox();\n\n    let finalX = x;\n    let finalY = y;\n    if (direction.indexOf('left') >= 0 && (minX < regionMinX || maxX < regionMinX)) {\n      // \n      finalX = regionMinX;\n    }\n    if (direction.indexOf('top') >= 0 && (minY < regionMinY || maxY < regionMinY)) {\n      // \n      finalY = regionMinY;\n    }\n\n    if (direction.indexOf('right') >= 0) {\n      if (minX > regionMaxX) {\n        // \n        finalX = regionMaxX - width;\n      } else if (maxX > regionMaxX) {\n        // \n        finalX = finalX - (maxX - regionMaxX);\n      }\n    }\n\n    if (direction.indexOf('bottom') >= 0) {\n      if (minY > regionMaxY) {\n        // \n        finalY = regionMaxY - height;\n      } else if (maxY > regionMaxY) {\n        // \n        finalY = finalY - (maxY - regionMaxY);\n      }\n    }\n\n    if (finalX !== x || finalY !== y) {\n      const translateX = finalX - x;\n      if (action === 'translate') {\n        translate(label, translateX, finalY - y);\n      } else if (action === 'ellipsis') {\n        const textShapes = label.findAll((shape) => shape.get('type') === 'text');\n        textShapes.forEach((textShape) => {\n          const style = pick(textShape.attr(), ['fontSize', 'fontFamily', 'fontWeight', 'fontStyle', 'fontVariant']);\n          const textBox = textShape.getCanvasBBox();\n          const text = getEllipsisText(textShape.attr('text'), textBox.width - Math.abs(translateX), style);\n          textShape.attr('text', text);\n        });\n      } else {\n        label.hide();\n      }\n    }\n  });\n}\n","import { Coordinate } from '@antv/coord';\nimport { BBox, IGroup, IShape, IElement } from '@antv/g-base';\nimport { isObject, each, get, groupBy, isNil, filter } from '@antv/util';\nimport { polarToCartesian } from '../../../../util/graphics';\nimport { PolarLabelItem } from '../../interface';\nimport { antiCollision } from './util';\n\n/** label textline 4px */\nconst MARGIN = 4;\n\n/**\n *  labelline\n * @param item PolarLabelItem\n */\nfunction drawLabelline(item: any /** PolarLabelItem */, coordinate: Coordinate) {\n  /**  */\n  const center = coordinate.getCenter();\n  /**  */\n  const radius = coordinate.getRadius();\n\n  if (item && item.labelLine) {\n    const { angle, offset: labelOffset } = item;\n    // \n    const startPoint = polarToCartesian(center.x, center.y, radius, angle);\n    const itemX = item.x + get(item, 'offsetX', 0) * (Math.cos(angle) > 0 ? 1 : -1);\n    const itemY = item.y + get(item, 'offsetY', 0) * (Math.sin(angle) > 0 ? 1 : -1);\n\n    const endPoint = {\n      x: itemX - Math.cos(angle) * MARGIN,\n      y: itemY - Math.sin(angle) * MARGIN,\n    };\n\n    const smoothConnector = item.labelLine.smooth;\n    const path = [];\n    const dx = endPoint.x - center.x;\n    const dy = endPoint.y - center.y;\n    let endAngle = Math.atan(dy / dx);\n    //  & \n    if (dx < 0) {\n      endAngle += Math.PI;\n    }\n\n    //  smooth, undefined  smooth\n    if (smoothConnector === false) {\n      if (!isObject(item.labelLine)) {\n        // labelLine: true\n        item.labelLine = {};\n      }\n\n      // 0 , 1 \n      let sweepFlag = 0;\n\n      // \n      if ((angle < 0 && angle > -Math.PI / 2) || angle > Math.PI * 1.5) {\n        if (endPoint.y > startPoint.y) {\n          sweepFlag = 1;\n        }\n      }\n\n      // \n      if (angle >= 0 && angle < Math.PI / 2) {\n        if (endPoint.y > startPoint.y) {\n          sweepFlag = 1;\n        }\n      }\n\n      // \n      if (angle >= Math.PI / 2 && angle < Math.PI) {\n        if (startPoint.y > endPoint.y) {\n          sweepFlag = 1;\n        }\n      }\n\n      // \n      if (angle < -Math.PI / 2 || (angle >= Math.PI && angle < Math.PI * 1.5)) {\n        if (startPoint.y > endPoint.y) {\n          sweepFlag = 1;\n        }\n      }\n\n      const distance = labelOffset / 2 > 4 ? 4 : Math.max(labelOffset / 2 - 1, 0);\n      const breakPoint = polarToCartesian(center.x, center.y, radius + distance, angle);\n      // \n      const breakPoint3 = polarToCartesian(center.x, center.y, radius + labelOffset / 2, endAngle);\n\n      /**\n       * @example\n       * M 100 100 L100 90 A 50 50 0 0 0 150 50\n       *  (100, 100),  (100, 90),  (50, 50)  (150, 50);\n       * A  4  large-arc-flag,  180 : 0 1 \n       *  5 : \n       */\n      // \n      const largeArcFlag = 0;\n      // step1: \n      path.push(`M ${startPoint.x} ${startPoint.y}`);\n      // step2: \n      path.push(`L ${breakPoint.x} ${breakPoint.y}`);\n      // step3:   \n      path.push(`A ${center.x} ${center.y} 0 ${largeArcFlag} ${sweepFlag} ${breakPoint3.x} ${breakPoint3.y}`);\n      // step4: \n      path.push(`L ${endPoint.x} ${endPoint.y}`);\n    } else {\n      const breakPoint = polarToCartesian(\n        center.x,\n        center.y,\n        radius + (labelOffset / 2 > 4 ? 4 : Math.max(labelOffset / 2 - 1, 0)),\n        angle\n      );\n      // G2 \n      // path.push('Q', `${breakPoint.x}`, `${breakPoint.y}`, `${endPoint.x}`, `${endPoint.y}`);\n      const xSign = startPoint.x < center.x ? 1 : -1;\n      // step1: \n      path.push(`M ${endPoint.x} ${endPoint.y}`);\n      const slope1 = (startPoint.y - center.y) / (startPoint.x - center.x);\n      const slope2 = (endPoint.y - center.y) / (endPoint.x - center.x);\n      if (Math.abs(slope1 - slope2) > Math.pow(Math.E, -16)) {\n        // step2:  curve line ( & , , )\n        path.push(\n          ...[\n            'C',\n            endPoint.x + xSign * 4,\n            endPoint.y,\n            2 * breakPoint.x - startPoint.x,\n            2 * breakPoint.y - startPoint.y,\n            startPoint.x,\n            startPoint.y,\n          ]\n        );\n      }\n      // step3: \n      path.push(`L ${startPoint.x} ${startPoint.y}`);\n    }\n    item.labelLine.path = path.join(' ');\n  }\n}\n\n/**\n *  outer-label ,  type = pie  label offset > 0 \n */\nexport function pieOuterLabelLayout(\n  originalItems: PolarLabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox\n) {\n  const items = filter(originalItems, (item) => !isNil(item));\n  /**  */\n  const coordinate = labels[0] && labels[0].get('coordinate');\n  if (!coordinate) {\n    return;\n  }\n\n  /**  */\n  const center = coordinate.getCenter();\n  /**  */\n  const radius = coordinate.getRadius();\n  /** label shapes */\n  const labelsMap: Record<string /** id */, IGroup> = {};\n  for (const labelShape of labels) {\n    labelsMap[labelShape.get('id')] = labelShape;\n  }\n\n  // note labelHeight  label \n  const labelHeight: number = get(items[0], 'labelHeight', 14);\n  const labelOffset: number = get(items[0], 'offset', 0);\n\n  if (labelOffset <= 0) {\n    return;\n  }\n\n  const LEFT_HALF_KEY = 'left';\n  const RIGHT_HALF_KEY = 'right';\n  // step 1: separate labels\n  const separateLabels = groupBy(items, (item) => (item.x < center.x ? LEFT_HALF_KEY : RIGHT_HALF_KEY));\n\n  const { start, end } = coordinate;\n  // step2: calculate totalHeight\n  const totalHeight = Math.min((radius + labelOffset + labelHeight) * 2, coordinate.getHeight());\n  const totalR = totalHeight / 2;\n\n  /** labels () */\n  const labelsContainerRange = {\n    minX: start.x,\n    maxX: end.x,\n    minY: center.y - totalR,\n    maxY: center.y + totalR,\n  };\n\n  // step 3: antiCollision\n  each(separateLabels, (half, key) => {\n    const maxLabelsCountForOneSide = Math.floor(totalHeight / labelHeight);\n    if (half.length > maxLabelsCountForOneSide) {\n      half.sort((a, b) => {\n        // sort by percentage DESC\n        return b.percent - a.percent;\n      });\n\n      each(half, (labelItem: PolarLabelItem, idx) => {\n        if (idx + 1 > maxLabelsCountForOneSide) {\n          labelsMap[labelItem.id].set('visible', false);\n          labelItem.invisible = true;\n        }\n      });\n    }\n    antiCollision(half, labelHeight, labelsContainerRange);\n  });\n\n  each(separateLabels, (half: PolarLabelItem[], key: string) => {\n    each(half, (item: PolarLabelItem) => {\n      const isRight = key === RIGHT_HALF_KEY;\n      const labelShape = labelsMap[item.id];\n\n      // because group could not effect content-shape, should set content-shape position manually\n      const content = labelShape.getChildByIndex(0) as IElement;\n\n      // textShape \n      if (content) {\n        const r = radius + labelOffset;\n        // (x - cx)^2 + (y - cy)^2 = totalR^2\n        const dy = item.y - center.y;\n\n        const rPow2 = Math.pow(r, 2);\n        const dyPow2 = Math.pow(dy, 2);\n        const dxPow2 = rPow2 - dyPow2 > 0 ? rPow2 - dyPow2 : 0;\n        const dx = Math.sqrt(dxPow2);\n\n        const dx_offset = Math.abs(Math.cos(item.angle) * r);\n        if (!isRight) {\n          // left\n          item.x = center.x - Math.max(dx, dx_offset);\n        } else {\n          // right\n          item.x = center.x + Math.max(dx, dx_offset);\n        }\n      }\n\n      // adjust labelShape\n      if (content) {\n        content.attr('y', item.y);\n        content.attr('x', item.x);\n      }\n\n      drawLabelline(item, coordinate);\n    });\n  });\n}\n","import { IGroup, IShape } from '../../../dependents';\nimport { BBox } from '../../../util/bbox';\nimport { isContrastColorWhite } from '../../../util/color';\nimport Element from '../../element';\nimport { LabelItem } from '../interface';\n\nexport function adjustColor(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[]) {\n  if (shapes.length === 0) {\n    return;\n  }\n  const element: Element = shapes[0].get('element');\n  const theme = element.geometry.theme;\n  const { fillColorLight, fillColorDark } = theme.labels || {};\n\n  shapes.forEach((shape: IShape | IGroup, index: number) => {\n    const label = labels[index];\n    const textShape = label.find((el) => el.get('type') === 'text');\n    const shapeBBox = BBox.fromObject(shape.getBBox());\n    const textBBox = BBox.fromObject(textShape.getCanvasBBox());\n    const overflow = !shapeBBox.contains(textBBox);\n\n    const bgColor = shape.attr('fill');\n    const fillWhite = isContrastColorWhite(bgColor);\n\n    if (!overflow) {\n      if (fillWhite) {\n        if (fillColorLight) {\n          textShape.attr('fill', fillColorLight);\n        }\n      } else {\n        if (fillColorDark) {\n          textShape.attr('fill', fillColorDark);\n        }\n      }\n    } else {\n      //  overflowLabel \n      textShape.attr(theme.overflowLabels.style);\n    }\n  });\n}\n","import { IGroup, IShape } from '../../../../dependents';\nimport { each, groupBy, uniq, map, size, filter } from '@antv/util';\nimport Geometry from '../../../base';\nimport Element from '../../../element';\nimport { LabelItem } from '../../interface';\nimport { checkShapeOverlap } from '../../util';\n\nfunction filterLabel(labels: IShape[] | IGroup[]) {\n  const MAX_CNT = 500; //  500 \n  const filteredLabels = [];\n  const pages = Math.max(Math.floor(labels.length / MAX_CNT), 1);\n  each(labels, (label, idx) => {\n    if (idx % pages === 0) {\n      filteredLabels.push(label);\n    } else {\n      label.set('visible', false);\n    }\n  });\n\n  return filteredLabels;\n}\n\n/**\n *  interval geometry \n * @param items\n * @param labels\n * @param shapes\n */\nexport function intervalHideOverlap(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[]) {\n  if (shapes.length === 0) {\n    return;\n  }\n  const element: Element = shapes[0]?.get('element');\n  const geometry: Geometry = element?.geometry;\n  if (!geometry || geometry.type !== 'interval') {\n    return;\n  }\n\n  const filteredLabels = filterLabel(labels);\n  const [xField] = geometry.getXYFields();\n  const dones: IShape[] = [];\n  const todo: IShape[] = [];\n  const groupedLabels = groupBy(filteredLabels, (label) => label.get('data')[xField]);\n  const xValues = uniq(map(filteredLabels, (label: IShape) => label.get('data')[xField]));\n  let xValue;\n\n  filteredLabels.forEach((label) => {\n    label.set('visible', true);\n  });\n\n  const addCurrentGroup = (curItems: IShape[]) => {\n    if (curItems) {\n      if (curItems.length) {\n        // \n        todo.push(curItems.pop());\n      }\n      todo.push(...curItems);\n    }\n  };\n\n  if (size(xValues) > 0) {\n    // \n    xValue = xValues.shift();\n    addCurrentGroup(groupedLabels[xValue]);\n  }\n  if (size(xValues) > 0) {\n    // \n    xValue = xValues.pop();\n    addCurrentGroup(groupedLabels[xValue]);\n  }\n  each(xValues.reverse(), (val) => {\n    // \n    addCurrentGroup(groupedLabels[val]);\n  });\n\n  while (todo.length > 0) {\n    const cur = todo.shift();\n    if (cur.get('visible')) {\n      if (checkShapeOverlap(cur, dones)) {\n        cur.set('visible', false);\n      } else {\n        dones.push(cur);\n      }\n    }\n  }\n}\n","import { BBox, IGroup, IShape } from '@antv/g-base';\nimport { each, get, isNil, deepMix, groupBy } from '@antv/util';\nimport { polarToCartesian } from '../../../../util/graphics';\nimport { LabelItem, PolarLabelItem } from '../../interface';\nimport { antiCollision } from './util';\nimport { translate } from '../../../../util/transform';\nimport { Coordinate } from '@antv/coord';\n\n/** ,  */\nconst INFLECTION_OFFSET = 4;\n/** , distance between label and edge: offsetX */\nconst LABEL_OFFSET_X = 4;\n/**  */\nconst LABEL_TEXT_LINE_OFFSET = 4;\n\nfunction drawLabelline(item: PolarLabelItem, coordinate: Coordinate, inRight: boolean) {\n  /**  */\n  const center = coordinate.getCenter();\n  /**  */\n  const radius = coordinate.getRadius();\n  const startPoint = {\n    x: item.x - (inRight ? LABEL_TEXT_LINE_OFFSET : -LABEL_TEXT_LINE_OFFSET),\n    y: item.y,\n  };\n  const inflectionPoint = polarToCartesian(center.x, center.y, radius + INFLECTION_OFFSET, item.angle);\n  const p1 = { x: startPoint.x, y: startPoint.y };\n  const p2 = { x: inflectionPoint.x, y: inflectionPoint.y };\n\n  const endPoint = polarToCartesian(center.x, center.y, radius, item.angle);\n  let path = '';\n\n  // \n  if (startPoint.y !== inflectionPoint.y) {\n    const offset = inRight ? 4 : -4;\n    p1.y = startPoint.y;\n\n    /**  */\n    if (item.angle < 0 && item.angle >= -Math.PI / 2) {\n      p1.x = Math.max(inflectionPoint.x, startPoint.x - offset);\n      if (startPoint.y < inflectionPoint.y) {\n        p2.y = p1.y;\n      } else {\n        p2.y = inflectionPoint.y;\n        p2.x = Math.max(p2.x, p1.x - offset);\n      }\n    }\n    /**   */\n    if (item.angle > 0 && item.angle < Math.PI / 2) {\n      p1.x = Math.max(inflectionPoint.x, startPoint.x - offset);\n      if (startPoint.y > inflectionPoint.y) {\n        p2.y = p1.y;\n      } else {\n        p2.y = inflectionPoint.y;\n        p2.x = Math.max(p2.x, p1.x - offset);\n      }\n    }\n    /**   */\n    if (item.angle > Math.PI / 2) {\n      p1.x = Math.min(inflectionPoint.x, startPoint.x - offset);\n      if (startPoint.y > inflectionPoint.y) {\n        p2.y = p1.y;\n      } else {\n        p2.y = inflectionPoint.y;\n        p2.x = Math.min(p2.x, p1.x - offset);\n      }\n    }\n    /**   */\n    if (item.angle < -Math.PI / 2) {\n      p1.x = Math.min(inflectionPoint.x, startPoint.x - offset);\n      if (startPoint.y < inflectionPoint.y) {\n        p2.y = p1.y;\n      } else {\n        p2.y = inflectionPoint.y;\n        p2.x = Math.min(p2.x, p1.x - offset);\n      }\n    }\n  }\n\n  path = [\n    `M ${startPoint.x},${startPoint.y}`,\n    `L ${p1.x},${p1.y}`,\n    `L ${p2.x},${p2.y}`,\n    `L ${inflectionPoint.x},${inflectionPoint.y}`,\n    `L ${endPoint.x},${endPoint.y}`,\n  ].join(' ');\n  item.labelLine = deepMix({}, item.labelLine, { path });\n}\n\n/**\n *  spider ,  pie-spider \n * region  labelsRenderer ()\n */\nexport function pieSpiderLabelLayout(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  /**  */\n  const coordinate = labels[0] && labels[0].get('coordinate');\n  if (!coordinate) {\n    return;\n  }\n\n  /**  */\n  const center = coordinate.getCenter();\n  /**  */\n  const radius = coordinate.getRadius();\n  /** label shapes */\n  const labelsMap: Record<string /** id */, IGroup> = {};\n  for (const labelShape of labels) {\n    labelsMap[labelShape.get('id')] = labelShape;\n  }\n\n  const labelHeight: number = get(items[0], 'labelHeight', 14);\n  const labelOffset: number = Math.max(get(items[0], 'offset', 0), INFLECTION_OFFSET);\n\n  // step 1: adjust items to spider\n  each(items, (item) => {\n    const label = get(labelsMap, [item.id]);\n    if (!label) {\n      return;\n    }\n\n    const inRight = item.x > center.x || (item.x === center.x && item.y > center.y);\n    const offsetX = !isNil(item.offsetX) ? item.offsetX : LABEL_OFFSET_X;\n    const inflectionPoint = polarToCartesian(center.x, center.y, radius + INFLECTION_OFFSET, item.angle);\n\n    const totalOffset = labelOffset + offsetX;\n    item.x = center.x + (inRight ? 1 : -1) * (radius + totalOffset);\n    item.y = inflectionPoint.y;\n  });\n\n  const { start, end } = coordinate;\n  const LEFT_HALF_KEY = 'left';\n  const RIGHT_HALF_KEY = 'right';\n  // step 1: separate labels\n  const seperateLabels = groupBy(items, (item) => (item.x < center.x ? LEFT_HALF_KEY : RIGHT_HALF_KEY));\n\n  // step2: calculate totalHeight\n  let totalHeight = (radius + labelOffset) * 2 + labelHeight;\n\n  each(seperateLabels, (half: PolarLabelItem[]) => {\n    const halfHeight = half.length * labelHeight;\n    if (halfHeight > totalHeight) {\n      totalHeight = Math.min(halfHeight, Math.abs(start.y - end.y));\n    }\n  });\n\n  /** labels () */\n  const labelsContainerRange = {\n    minX: start.x,\n    maxX: end.x,\n    minY: center.y - totalHeight / 2,\n    maxY: center.y + totalHeight / 2,\n  };\n\n  // step 3: antiCollision\n  each(seperateLabels, (half, key) => {\n    const maxLabelsCountForOneSide = totalHeight / labelHeight;\n    if (half.length > maxLabelsCountForOneSide) {\n      half.sort((a, b) => {\n        // sort by percentage DESC\n        return b.percent - a.percent;\n      });\n\n      each(half, (labelItem: PolarLabelItem, idx) => {\n        if (idx > maxLabelsCountForOneSide) {\n          labelsMap[labelItem.id].set('visible', false);\n          labelItem.invisible = true;\n        }\n      });\n    }\n    antiCollision(half, labelHeight, labelsContainerRange);\n  });\n\n  const startY = labelsContainerRange.minY;\n  const endY = labelsContainerRange.maxY;\n\n  // step4: applyTo labels and adjust labelLines\n  each(seperateLabels, (half, key) => {\n    const inRight = key === RIGHT_HALF_KEY;\n\n    each(half, (item) => {\n      const label: IGroup = get(labelsMap, item && [item.id]);\n      if (!label) {\n        return;\n      }\n      // out of range, hidden\n      if (item.y < startY || item.y > endY) {\n        label.set('visible', false);\n        return;\n      }\n\n      const labelContent = label.getChildByIndex(0);\n      const box = labelContent.getCanvasBBox();\n      const originalPos = { x: inRight ? box.x : box.maxX, y: box.y + box.height / 2 /** vertical-align: middle */ };\n\n      translate(labelContent as any, item.x - originalPos.x /**  pos.x  item.x */, item.y - originalPos.y);\n\n      // adjust labelLines\n      if (item.labelLine) {\n        drawLabelline(item, coordinate, inRight);\n      }\n    });\n  });\n}\n","import { isNil } from '@antv/util';\nimport { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n *  shape \n * \n * @param shape \n * @param animateCfg \n * @param cfg \n */\nexport function fadeIn(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const endState = {\n    fillOpacity: isNil(shape.attr('fillOpacity')) ? 1 : shape.attr('fillOpacity'),\n    strokeOpacity: isNil(shape.attr('strokeOpacity')) ? 1 : shape.attr('strokeOpacity'),\n    opacity: isNil(shape.attr('opacity')) ? 1 : shape.attr('opacity'),\n  };\n  shape.attr({\n    fillOpacity: 0,\n    strokeOpacity: 0,\n    opacity: 0,\n  });\n  shape.animate(endState, animateCfg);\n}\n\n/**\n * @ignore\n *  shape \n * \n * @param shape \n * @param animateCfg \n * @param cfg \n */\nexport function fadeOut(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const endState = {\n    fillOpacity: 0,\n    strokeOpacity: 0,\n    opacity: 0,\n  };\n  const { easing, duration, delay } = animateCfg;\n  shape.animate(\n    endState,\n    duration,\n    easing,\n    () => {\n      shape.remove(true);\n    },\n    delay\n  );\n}\n","import { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\nimport { doScaleAnimate } from './util';\n\n/**\n * @ignore\n * \n * x \n * @param element \n * @param animateCfg \n * @param cfg \n */\nexport function growInX(element: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { coordinate, minYPoint } = cfg;\n  doScaleAnimate(element, animateCfg, coordinate, minYPoint, 'x');\n}\n\n/**\n * @ignore\n * \n * y \n * @param element \n * @param animateCfg \n * @param cfg \n */\nexport function growInY(element: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { coordinate, minYPoint } = cfg;\n  doScaleAnimate(element, animateCfg, coordinate, minYPoint, 'y');\n}\n\n/**\n * @ignore\n * \n * \n * @param element \n * @param animateCfg \n * @param cfg \n */\nexport function growInXY(element: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { coordinate, minYPoint } = cfg;\n  doScaleAnimate(element, animateCfg, coordinate, minYPoint, 'xy');\n}\n","import { ext } from '@antv/matrix-util';\nimport { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg, Point } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n *  x \n * @param shape\n * @param animateCfg\n * @param shapeModel\n */\nexport function scaleInX(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const box = shape.getBBox();\n  const { mappingData } = shape.get('origin');\n  const points = mappingData.points as Point[];\n  // x \n  const x = points[0].y - points[1].y > 0 ? box.maxX : box.minX;\n  const y = (box.minY + box.maxY) / 2;\n\n  shape.applyToMatrix([x, y, 1]);\n\n  const matrix = ext.transform(shape.getMatrix(), [\n    ['t', -x, -y],\n    ['s', 0.01, 1],\n    ['t', x, y],\n  ]);\n  shape.setMatrix(matrix);\n\n  shape.animate(\n    {\n      matrix: ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 100, 1],\n        ['t', x, y],\n      ]),\n    },\n    animateCfg\n  );\n}\n\n/**\n * @ignore\n *  y \n * @param shape\n * @param animateCfg\n * @param shapeModel\n */\nexport function scaleInY(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const box = shape.getBBox();\n  const { mappingData } = shape.get('origin');\n  const x = (box.minX + box.maxX) / 2;\n  const points = mappingData.points as Point[];\n  //  shape \n  const y = points[0].y - points[1].y <= 0 ? box.maxY : box.minY;\n\n  shape.applyToMatrix([x, y, 1]);\n  const matrix = ext.transform(shape.getMatrix(), [\n    ['t', -x, -y],\n    ['s', 1, 0.01],\n    ['t', x, y],\n  ]);\n  shape.setMatrix(matrix);\n\n  shape.animate(\n    {\n      matrix: ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 1, 100],\n        ['t', x, y],\n      ]),\n    },\n    animateCfg\n  );\n}\n","import { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { getCoordinateClipCfg } from '../../util/coordinate';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n * \n * \n * @todo \n * @param element \n * @param animateCfg \n * @param cfg \n */\nexport function waveIn(element: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { type, startState, endState } = getCoordinateClipCfg(cfg.coordinate, 20); // \n  const clipShape = element.setClip({\n    type,\n    attrs: startState,\n  }) as IShape; //  shape \n\n  // \b\n  clipShape.animate(endState, {\n    ...animateCfg,\n    callback: () => {\n      if (element && !element.get('destroyed')) {\n        element.set('clipShape', null);\n      }\n      clipShape.remove(true); // \n    },\n  });\n}\n","import { IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n * \n * @param shape \n * @param animateCfg\n * @param cfg\n */\nexport function positionUpdate(shape: IShape, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { toAttrs } = cfg;\n  // @ts-ignore\n  const x = toAttrs.x;\n  // @ts-ignore\n  const y = toAttrs.y;\n\n  // @ts-ignore\n  delete toAttrs.x;\n  // @ts-ignore\n  delete toAttrs.y;\n\n  shape.attr(toAttrs);\n\n  shape.animate(\n    {\n      x,\n      y,\n    },\n    animateCfg\n  );\n}\n","import { IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n * \n * path \n * @param element \n * @param animateCfg \n * @param cfg \n */\nexport function pathIn(element: IShape, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  // @ts-ignore\n  const length = element.getTotalLength();\n  // \n  element.attr('lineDash', [length]);\n  element.animate((ratio: number) => {\n    return {\n      // \n      lineDashOffset: (1 - ratio) * length,\n    };\n  }, animateCfg);\n}\n",null,null,null,null,null,null,null,null,"import { Geometry } from '@antv/g2';\nimport { each, isNil, isObject } from '@antv/util';\nimport { Params } from '../core/adaptor';\nimport { Options } from '../types';\nimport { Interaction } from '../types/interaction';\nimport { Axis } from '../types/axis';\nimport { AXIS_META_CONFIG_KEYS } from '../constant';\nimport { pick, deepAssign } from '../utils';\n\n/**\n *  legend ,  colorField  seriesField \n * @param params\n */\nexport function legend<O extends Pick<Options, 'legend'> & { colorField?: string; seriesField?: string }>(\n  params: Params<O>\n): Params<O> {\n  const { chart, options } = params;\n  const { legend, colorField, seriesField } = options;\n\n  if (legend === false) {\n    chart.legend(false);\n  } else if (colorField || seriesField) {\n    chart.legend(colorField || seriesField, legend);\n  }\n\n  return params;\n}\n\n/**\n *  tooltip \n * @param params\n */\nexport function tooltip<O extends Pick<Options, 'tooltip'>>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip !== undefined) {\n    chart.tooltip(tooltip);\n  }\n\n  return params;\n}\n\n/**\n * Interaction \n * @param params\n */\nexport function interaction<O extends Pick<Options, 'interactions'>>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const { interactions } = options;\n\n  each(interactions, (i: Interaction) => {\n    if (i.enable === false) {\n      chart.removeInteraction(i.type);\n    } else {\n      chart.interaction(i.type, i.cfg || {});\n    }\n  });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function animation<O extends Pick<Options, 'animation'>>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const { animation } = options;\n\n  //  view \n  if (typeof animation === 'boolean') {\n    chart.animate(animation);\n  } else {\n    chart.animate(true);\n  }\n\n  //  Geometry \n  each(chart.geometries, (g: Geometry) => {\n    g.animate(animation);\n  });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function theme<O extends Pick<Options, 'theme'>>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const { theme } = options;\n\n  // \n  if (theme) {\n    chart.theme(theme);\n  }\n  return params;\n}\n\n/**\n *  state \n * @param params\n */\nexport function state<O extends Options>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const { state } = options;\n\n  if (state) {\n    each(chart.geometries, (geometry: Geometry) => {\n      geometry.state(state);\n    });\n  }\n\n  return params;\n}\n\n/**\n *  adaptor\n * @param params\n */\nexport function slider(params: Params<Options>): Params<Options> {\n  const { chart, options } = params;\n  const { slider } = options;\n\n  chart.option('slider', slider);\n\n  return params;\n}\n\n/**\n *  adaptor\n * @param params\n */\nexport function scrollbar(params: Params<Options>): Params<Options> {\n  const { chart, options } = params;\n  const { scrollbar } = options;\n\n  chart.option('scrollbar', scrollbar);\n\n  return params;\n}\n\n/**\n * scale  adaptor\n * @param axes\n */\nexport function scale(axes: Record<string, Axis>, meta?: Options['meta']) {\n  return function <O extends Pick<Options, 'meta'>>(params: Params<O>): Params<O> {\n    const { chart, options } = params;\n\n    // 1.  scale \n    let scales: Record<string, any> = {};\n    each(axes, (axis: Axis, field: string) => {\n      scales[field] = pick(axis, AXIS_META_CONFIG_KEYS);\n    });\n\n    // 2. meta  scale \n    scales = deepAssign({}, meta, options.meta, scales);\n\n    chart.scale(scales);\n\n    return params;\n  };\n}\n\n/**\n * annotation \n * @param params\n */\nexport function annotation(annotationOptions?: Options['annotations']) {\n  return function <O extends Pick<Options, 'annotations'>>(params: Params<O>): Params<O> {\n    const { chart, options } = params;\n\n    const annotationController = chart.getController('annotation');\n\n    /**  annotation */\n    each([...(options.annotations || []), ...(annotationOptions || [])], (annotationOption) => {\n      // @ts-ignore\n      annotationController.annotation(annotationOption);\n    });\n\n    return params;\n  };\n}\n\n/**\n *  limitInPlot\n * @param params\n */\nexport function limitInPlot(params: Params<Options>): Params<Options> {\n  const { chart, options } = params;\n  const { yAxis, limitInPlot } = options;\n\n  let value = limitInPlot;\n\n  //  limitInPlot yAxis  min/max  limitInPlot\n  if (isObject(yAxis) && isNil(limitInPlot)) {\n    if (Object.values(pick(yAxis, ['min', 'max', 'minLimit', 'maxLimit'])).some((value) => !isNil(value))) {\n      value = true;\n    } else {\n      value = false;\n    }\n  }\n  chart.limitInPlot = value;\n\n  return params;\n}\n\nexport { pattern } from './pattern';\n",null,null,null,null,null,null,null,null,null,null,"/**\n * Common utilities\n * @module glMatrix\n */\n// Configuration Constants\nexport var EPSILON = 0.000001;\nexport var ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nexport var RANDOM = Math.random;\n/**\n * Sets the type of array used when creating new vectors and matrices\n *\n * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\n */\n\nexport function setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\n * Convert Degree To Radian\n *\n * @param {Number} a Angle in Degrees\n */\n\nexport function toRadian(a) {\n  return a * degree;\n}\n/**\n * Tests whether or not the arguments have approximately the same value, within an absolute\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\n * than or equal to 1.0, and a relative tolerance is used for larger values)\n *\n * @param {Number} a The first number to test.\n * @param {Number} b The second number to test.\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n\n  return Math.sqrt(y);\n};","export type { GeometryOptions } from './base';\nexport { area } from './area';\nexport type { AreaGeometryOptions } from './area';\nexport { line } from './line';\nexport type { LineGeometryOptions } from './line';\nexport { point } from './point';\nexport type { PointGeometryOptions } from './point';\nexport { interval } from './interval';\nexport type { IntervalGeometryOptions } from './interval';\nexport { polygon } from './polygon';\nexport type { PolygonGeometryOptions } from './polygon';\nexport { edge } from './edge';\nexport type { EdgeGeometryOptions } from './edge';\nexport { schema } from './schema';\nexport type { SchemaGeometryOptions } from './schema';\nexport { violin } from './violin';\nexport type { ViolinGeometryOptions } from './violin';\n","import * as glMatrix from \"./common.js\";\n/**\n * 3x3 Matrix\n * @module mat3\n */\n\n/**\n * Creates a new identity mat3\n *\n * @returns {mat3} a new 3x3 matrix\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(9);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n  }\n\n  out[0] = 1;\n  out[4] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the upper-left 3x3 values into the given mat3.\n *\n * @param {mat3} out the receiving 3x3 matrix\n * @param {ReadonlyMat4} a   the source 4x4 matrix\n * @returns {mat3} out\n */\n\nexport function fromMat4(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[4];\n  out[4] = a[5];\n  out[5] = a[6];\n  out[6] = a[8];\n  out[7] = a[9];\n  out[8] = a[10];\n  return out;\n}\n/**\n * Creates a new mat3 initialized with values from an existing matrix\n *\n * @param {ReadonlyMat3} a matrix to clone\n * @returns {mat3} a new 3x3 matrix\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Copy the values from one mat3 to another\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Create a new mat3 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} A new mat3\n */\n\nexport function fromValues(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set the components of a mat3 to the given values\n *\n * @param {mat3} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} out\n */\n\nexport function set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set a mat3 to the identity matrix\n *\n * @param {mat3} out the receiving matrix\n * @returns {mat3} out\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Transpose the values of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a12 = a[5];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a01;\n    out[5] = a[7];\n    out[6] = a02;\n    out[7] = a12;\n  } else {\n    out[0] = a[0];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a[1];\n    out[4] = a[4];\n    out[5] = a[7];\n    out[6] = a[2];\n    out[7] = a[5];\n    out[8] = a[8];\n  }\n\n  return out;\n}\n/**\n * Inverts a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b01 = a22 * a11 - a12 * a21;\n  var b11 = -a22 * a10 + a12 * a20;\n  var b21 = a21 * a10 - a11 * a20; // Calculate the determinant\n\n  var det = a00 * b01 + a01 * b11 + a02 * b21;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = b01 * det;\n  out[1] = (-a22 * a01 + a02 * a21) * det;\n  out[2] = (a12 * a01 - a02 * a11) * det;\n  out[3] = b11 * det;\n  out[4] = (a22 * a00 - a02 * a20) * det;\n  out[5] = (-a12 * a00 + a02 * a10) * det;\n  out[6] = b21 * det;\n  out[7] = (-a21 * a00 + a01 * a20) * det;\n  out[8] = (a11 * a00 - a01 * a10) * det;\n  return out;\n}\n/**\n * Calculates the adjugate of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  out[0] = a11 * a22 - a12 * a21;\n  out[1] = a02 * a21 - a01 * a22;\n  out[2] = a01 * a12 - a02 * a11;\n  out[3] = a12 * a20 - a10 * a22;\n  out[4] = a00 * a22 - a02 * a20;\n  out[5] = a02 * a10 - a00 * a12;\n  out[6] = a10 * a21 - a11 * a20;\n  out[7] = a01 * a20 - a00 * a21;\n  out[8] = a00 * a11 - a01 * a10;\n  return out;\n}\n/**\n * Calculates the determinant of a mat3\n *\n * @param {ReadonlyMat3} a the source matrix\n * @returns {Number} determinant of a\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n/**\n * Multiplies two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b00 = b[0],\n      b01 = b[1],\n      b02 = b[2];\n  var b10 = b[3],\n      b11 = b[4],\n      b12 = b[5];\n  var b20 = b[6],\n      b21 = b[7],\n      b22 = b[8];\n  out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n  out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n  out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n  out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n  out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n  out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n  out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n  out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n  out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n  return out;\n}\n/**\n * Translate a mat3 by the given vector\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to translate\n * @param {ReadonlyVec2} v vector to translate by\n * @returns {mat3} out\n */\n\nexport function translate(out, a, v) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      x = v[0],\n      y = v[1];\n  out[0] = a00;\n  out[1] = a01;\n  out[2] = a02;\n  out[3] = a10;\n  out[4] = a11;\n  out[5] = a12;\n  out[6] = x * a00 + y * a10 + a20;\n  out[7] = x * a01 + y * a11 + a21;\n  out[8] = x * a02 + y * a12 + a22;\n  return out;\n}\n/**\n * Rotates a mat3 by the given angle\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\nexport function rotate(out, a, rad) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c * a00 + s * a10;\n  out[1] = c * a01 + s * a11;\n  out[2] = c * a02 + s * a12;\n  out[3] = c * a10 - s * a00;\n  out[4] = c * a11 - s * a01;\n  out[5] = c * a12 - s * a02;\n  out[6] = a20;\n  out[7] = a21;\n  out[8] = a22;\n  return out;\n}\n/**\n * Scales the mat3 by the dimensions in the given vec2\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\n * @returns {mat3} out\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1];\n  out[0] = x * a[0];\n  out[1] = x * a[1];\n  out[2] = x * a[2];\n  out[3] = y * a[3];\n  out[4] = y * a[4];\n  out[5] = y * a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.translate(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Translation vector\n * @returns {mat3} out\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = v[0];\n  out[7] = v[1];\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a given angle\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.rotate(dest, dest, rad);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = -s;\n  out[4] = c;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.scale(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Scaling vector\n * @returns {mat3} out\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = v[1];\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the values from a mat2d into a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat2d} a the matrix to copy\n * @returns {mat3} out\n **/\n\nexport function fromMat2d(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = 0;\n  out[3] = a[2];\n  out[4] = a[3];\n  out[5] = 0;\n  out[6] = a[4];\n  out[7] = a[5];\n  out[8] = 1;\n  return out;\n}\n/**\n * Calculates a 3x3 matrix from the given quaternion\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyQuat} q Quaternion to create matrix from\n *\n * @returns {mat3} out\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[3] = yx - wz;\n  out[6] = zx + wy;\n  out[1] = yx + wz;\n  out[4] = 1 - xx - zz;\n  out[7] = zy - wx;\n  out[2] = zx - wy;\n  out[5] = zy + wx;\n  out[8] = 1 - xx - yy;\n  return out;\n}\n/**\n * Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyMat4} a Mat4 to derive the normal matrix from\n *\n * @returns {mat3} out\n */\n\nexport function normalFromMat4(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  return out;\n}\n/**\n * Generates a 2D projection matrix with the given bounds\n *\n * @param {mat3} out mat3 frustum matrix will be written into\n * @param {number} width Width of your gl context\n * @param {number} height Height of gl context\n * @returns {mat3} out\n */\n\nexport function projection(out, width, height) {\n  out[0] = 2 / width;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -2 / height;\n  out[5] = 0;\n  out[6] = -1;\n  out[7] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Returns a string representation of a mat3\n *\n * @param {ReadonlyMat3} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\nexport function str(a) {\n  return \"mat3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat3\n *\n * @param {ReadonlyMat3} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8]);\n}\n/**\n * Adds two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  return out;\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat3} out\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  return out;\n}\n/**\n * Adds two mat3's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat3} out the receiving vector\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat3} out\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7],\n      a8 = a[8];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7],\n      b8 = b[8];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8));\n}\n/**\n * Alias for {@link mat3.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link mat3.subtract}\n * @function\n */\n\nexport var sub = subtract;",null,null,null,null,null,"/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import { uniq, isFunction, isObject, isString, isNumber, isEmpty } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { ColorAttr, ShapeAttr, SizeAttr, StyleAttr, TooltipAttr, Options, Datum } from '../../types';\nimport { Label } from '../../types/label';\nimport { State } from '../../types/state';\nimport { transformLabel } from '../../utils';\n\n/**\n * \n */\nexport type MappingOptions = {\n  /** color  */\n  readonly color?: ColorAttr;\n  /** shape  */\n  readonly shape?: ShapeAttr;\n  /** ,  */\n  readonly size?: SizeAttr;\n  /**  */\n  readonly style?: StyleAttr;\n  /** tooltip  */\n  readonly tooltip?: TooltipAttr;\n};\n\n/**\n * \n * // TODO  adjust  field  styleFieldlabelField \n */\nexport type Geometry = {\n  /** geometry , 'line' | 'interval' | 'point' | 'area' | 'polygon' */\n  readonly type?: string;\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly colorField?: string;\n  /** shape  */\n  readonly shapeField?: string;\n  /** size  */\n  readonly sizeField?: string;\n  /** style  */\n  readonly styleField?: string;\n  /** tooltip  */\n  readonly tooltipFields?: string[] | false;\n  /** ,  mapping  */\n  readonly rawFields?: string[];\n  /**  */\n  readonly mapping?: MappingOptions;\n  /** label  */\n  readonly label?: Label;\n  /**  */\n  readonly state?: State;\n  /**  registerShape  */\n  readonly customInfo?: any;\n  /** geometry params */\n  readonly args?: any;\n};\n\n/**\n * geometry options\n */\nexport type GeometryOptions = Geometry & Partial<Options>;\n\n/**\n * \n * @param options\n * @param field\n */\nexport function getMappingField(\n  o: GeometryOptions,\n  field: 'color' | 'shape' | 'size' | 'style'\n): {\n  mappingFields: string[];\n  tileMappingField: string;\n} {\n  const { type, xField, yField, colorField, shapeField, sizeField, styleField, rawFields = [] } = o;\n\n  let fields = [];\n\n  //  color  bar  widthRatio \n  //  color  colorField  + rawFields\n  // shape, size \n  if (field === 'color') {\n    fields = [colorField || xField, ...rawFields];\n  } else if (field === 'shape') {\n    fields = [shapeField || xField, ...rawFields];\n  } else if (field === 'size') {\n    fields = [sizeField || xField, ...rawFields];\n  } else {\n    fields = [xField, yField, colorField, shapeField, sizeField, styleField, ...rawFields];\n\n    // \n    const idx = ['x', 'y', 'color', 'shape', 'size', 'style'].indexOf(field);\n\n    const f = fields[idx];\n    // \n    fields.splice(idx, 1);\n    // \n    fields.unshift(f);\n  }\n\n  const mappingFields = uniq(fields.filter((f) => !!f));\n  /**\n   *  line geometry  color \n   * eg:\n   *   geometry.color(xField, ()=> '#f24')\n   */\n  const tileMappingField =\n    type === 'line' && [xField, yField].includes(mappingFields.join('*')) ? '' : mappingFields.join('*');\n  return {\n    mappingFields,\n    tileMappingField,\n  };\n}\n\n/**\n * \n * @param mappingFields\n * @param func\n */\nexport function getMappingFunction(mappingFields: string[], func: (datum: Datum) => any) {\n  if (!func) return undefined;\n  // \n  return (...args: any[]) => {\n    const params: Datum = {};\n\n    mappingFields.forEach((f: string, idx: number) => {\n      params[f] = args[idx];\n    });\n\n    //  undefined\n    delete params['undefined'];\n\n    return func(params);\n  };\n}\n\n/**\n *  geometry  adaptor\n * @param params\n */\nexport function geometry<O extends GeometryOptions>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const {\n    type,\n    args,\n    mapping,\n    xField,\n    yField,\n    colorField,\n    shapeField,\n    sizeField,\n    tooltipFields,\n    label,\n    state,\n    customInfo,\n  } = options;\n\n  //  mapping \n  if (!mapping) {\n    return params;\n  }\n\n  const { color, shape, size, style, tooltip } = mapping;\n\n  //  geometry\n  const geometry = chart[type](args).position(`${xField}*${yField}`);\n\n  /**\n   * color \n   * g.color('red');\n   * g.color('color', ['red', 'blue']);\n   * g.color('x', (x, y) => 'red');\n   * g.color('color', (color, x, y) => 'red');\n   */\n  if (isString(color)) {\n    colorField ? geometry.color(colorField, color) : geometry.color(color);\n  } else if (isFunction(color)) {\n    const { mappingFields, tileMappingField } = getMappingField(options, 'color');\n    geometry.color(tileMappingField, getMappingFunction(mappingFields, color));\n  } else {\n    colorField && geometry.color(colorField, color);\n  }\n\n  /**\n   * shape \n   * g.shape('rect');\n   * g.shape('shape', ['rect', 'circle']);\n   * g.shape('x*y', (x, y) => 'rect');\n   * g.shape('shape*x*y', (shape, x, y) => 'rect');\n   */\n  if (isString(shape)) {\n    shapeField ? geometry.shape(shapeField, [shape]) : geometry.shape(shape); // [shape]  G2 \n  } else if (isFunction(shape)) {\n    const { mappingFields, tileMappingField } = getMappingField(options, 'shape');\n    geometry.shape(tileMappingField, getMappingFunction(mappingFields, shape));\n  } else {\n    shapeField && geometry.shape(shapeField, shape);\n  }\n\n  /**\n   * size \n   * g.size(10);\n   * g.size('size', [10, 20]);\n   * g.size('x*y', (x, y) => 10);\n   * g.color('size*x*y', (size, x, y) => 1-);\n   */\n  if (isNumber(size)) {\n    sizeField ? geometry.size(sizeField, size) : geometry.size(size);\n  } else if (isFunction(size)) {\n    const { mappingFields, tileMappingField } = getMappingField(options, 'size');\n    geometry.size(tileMappingField, getMappingFunction(mappingFields, size));\n  } else {\n    sizeField && geometry.size(sizeField, size);\n  }\n\n  /**\n   * style \n   * g.style({ fill: 'red' });\n   * g.style('x*y*color', (x, y, color) => ({ fill: 'red' }));\n   */\n  if (isFunction(style)) {\n    const { mappingFields, tileMappingField } = getMappingField(options, 'style');\n    geometry.style(tileMappingField, getMappingFunction(mappingFields, style));\n  } else if (isObject(style)) {\n    geometry.style(style);\n  }\n\n  /**\n   * tooltip  API\n   * g.tooltip('x*y*color', (x, y, color) => ({ name, value }));\n   * g.tooltip(false);\n   */\n  if (tooltipFields === false) {\n    geometry.tooltip(false);\n  } else if (!isEmpty(tooltipFields)) {\n    geometry.tooltip(tooltipFields.join('*'), getMappingFunction(tooltipFields, tooltip));\n  }\n\n  /**\n   * label \n   */\n  if (label === false) {\n    geometry.label(false);\n  } else if (label) {\n    const { callback, fields, ...cfg } = label;\n    geometry.label({\n      fields: fields || [yField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  /**\n   * state \n   */\n  if (state) {\n    geometry.state(state);\n  }\n\n  /**\n   * \n   */\n  if (customInfo) {\n    geometry.customInfo(customInfo);\n  }\n\n  //  x y \n  [xField, yField]\n    .filter((f: string) => f !== colorField)\n    .forEach((f: string) => {\n      chart.legend(f, false);\n    });\n  return {\n    ...params,\n    // geometry adaptor  geometry  adaptor type \n    ext: { geometry },\n  };\n}\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"import { get } from '@antv/util';\nimport { Tooltip, TooltipMapping } from '../types/tooltip';\n\n/**\n *  tooltip \n * @param tooltip\n * @param defaultFields\n */\nexport function getTooltipMapping(tooltip: Tooltip, defaultFields: string[]): TooltipMapping {\n  if (tooltip === false) {\n    return {\n      fields: false, //  tooltip\n    };\n  }\n\n  let fields = get(tooltip, 'fields');\n  const formatter = get(tooltip, 'formatter');\n\n  if (formatter && !fields) {\n    fields = defaultFields;\n  }\n\n  return {\n    fields,\n    formatter,\n  };\n}\n",null,null,null,"const token = /d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\\1?|[aA]|\"[^\"]*\"|'[^']*'/g;\nconst twoDigitsOptional = \"[1-9]\\\\d?\";\nconst twoDigits = \"\\\\d\\\\d\";\nconst threeDigits = \"\\\\d{3}\";\nconst fourDigits = \"\\\\d{4}\";\nconst word = \"[^\\\\s]+\";\nconst literal = /\\[([^]*?)\\]/gm;\n\ntype DateInfo = {\n  year: number;\n  month: number;\n  day: number;\n  hour: number;\n  minute: number;\n  second: number;\n  millisecond: number;\n  isPm: number | null;\n  timezoneOffset: number | null;\n};\n\nexport type I18nSettings = {\n  amPm: [string, string];\n  dayNames: Days;\n  dayNamesShort: Days;\n  monthNames: Months;\n  monthNamesShort: Months;\n  DoFn(dayOfMonth: number): string;\n};\n\nexport type I18nSettingsOptional = Partial<I18nSettings>;\n\nexport type Days = [string, string, string, string, string, string, string];\nexport type Months = [\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string\n];\n\nfunction shorten<T extends string[]>(arr: T, sLen: number): string[] {\n  const newArr: string[] = [];\n  for (let i = 0, len = arr.length; i < len; i++) {\n    newArr.push(arr[i].substr(0, sLen));\n  }\n  return newArr;\n}\n\nconst monthUpdate = (\n  arrName: \"monthNames\" | \"monthNamesShort\" | \"dayNames\" | \"dayNamesShort\"\n) => (v: string, i18n: I18nSettings): number | null => {\n  const lowerCaseArr = i18n[arrName].map(v => v.toLowerCase());\n  const index = lowerCaseArr.indexOf(v.toLowerCase());\n  if (index > -1) {\n    return index;\n  }\n  return null;\n};\n\nexport function assign<A>(a: A): A;\nexport function assign<A, B>(a: A, b: B): A & B;\nexport function assign<A, B, C>(a: A, b: B, c: C): A & B & C;\nexport function assign<A, B, C, D>(a: A, b: B, c: C, d: D): A & B & C & D;\nexport function assign(origObj: any, ...args: any[]): any {\n  for (const obj of args) {\n    for (const key in obj) {\n      // @ts-ignore ex\n      origObj[key] = obj[key];\n    }\n  }\n  return origObj;\n}\n\nconst dayNames: Days = [\n  \"Sunday\",\n  \"Monday\",\n  \"Tuesday\",\n  \"Wednesday\",\n  \"Thursday\",\n  \"Friday\",\n  \"Saturday\"\n];\nconst monthNames: Months = [\n  \"January\",\n  \"February\",\n  \"March\",\n  \"April\",\n  \"May\",\n  \"June\",\n  \"July\",\n  \"August\",\n  \"September\",\n  \"October\",\n  \"November\",\n  \"December\"\n];\n\nconst monthNamesShort: Months = shorten(monthNames, 3) as Months;\nconst dayNamesShort: Days = shorten(dayNames, 3) as Days;\n\nconst defaultI18n: I18nSettings = {\n  dayNamesShort,\n  dayNames,\n  monthNamesShort,\n  monthNames,\n  amPm: [\"am\", \"pm\"],\n  DoFn(dayOfMonth: number) {\n    return (\n      dayOfMonth +\n      [\"th\", \"st\", \"nd\", \"rd\"][\n        dayOfMonth % 10 > 3\n          ? 0\n          : ((dayOfMonth - (dayOfMonth % 10) !== 10 ? 1 : 0) * dayOfMonth) % 10\n      ]\n    );\n  }\n};\nlet globalI18n = assign({}, defaultI18n);\nconst setGlobalDateI18n = (i18n: I18nSettingsOptional): I18nSettings =>\n  (globalI18n = assign(globalI18n, i18n));\n\nconst regexEscape = (str: string): string =>\n  str.replace(/[|\\\\{()[^$+*?.-]/g, \"\\\\$&\");\n\nconst pad = (val: string | number, len = 2): string => {\n  val = String(val);\n  while (val.length < len) {\n    val = \"0\" + val;\n  }\n  return val;\n};\n\nconst formatFlags: Record<\n  string,\n  (dateObj: Date, i18n: I18nSettings) => string\n> = {\n  D: (dateObj: Date): string => String(dateObj.getDate()),\n  DD: (dateObj: Date): string => pad(dateObj.getDate()),\n  Do: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.DoFn(dateObj.getDate()),\n  d: (dateObj: Date): string => String(dateObj.getDay()),\n  dd: (dateObj: Date): string => pad(dateObj.getDay()),\n  ddd: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.dayNamesShort[dateObj.getDay()],\n  dddd: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.dayNames[dateObj.getDay()],\n  M: (dateObj: Date): string => String(dateObj.getMonth() + 1),\n  MM: (dateObj: Date): string => pad(dateObj.getMonth() + 1),\n  MMM: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.monthNamesShort[dateObj.getMonth()],\n  MMMM: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.monthNames[dateObj.getMonth()],\n  YY: (dateObj: Date): string =>\n    pad(String(dateObj.getFullYear()), 4).substr(2),\n  YYYY: (dateObj: Date): string => pad(dateObj.getFullYear(), 4),\n  h: (dateObj: Date): string => String(dateObj.getHours() % 12 || 12),\n  hh: (dateObj: Date): string => pad(dateObj.getHours() % 12 || 12),\n  H: (dateObj: Date): string => String(dateObj.getHours()),\n  HH: (dateObj: Date): string => pad(dateObj.getHours()),\n  m: (dateObj: Date): string => String(dateObj.getMinutes()),\n  mm: (dateObj: Date): string => pad(dateObj.getMinutes()),\n  s: (dateObj: Date): string => String(dateObj.getSeconds()),\n  ss: (dateObj: Date): string => pad(dateObj.getSeconds()),\n  S: (dateObj: Date): string =>\n    String(Math.round(dateObj.getMilliseconds() / 100)),\n  SS: (dateObj: Date): string =>\n    pad(Math.round(dateObj.getMilliseconds() / 10), 2),\n  SSS: (dateObj: Date): string => pad(dateObj.getMilliseconds(), 3),\n  a: (dateObj: Date, i18n: I18nSettings): string =>\n    dateObj.getHours() < 12 ? i18n.amPm[0] : i18n.amPm[1],\n  A: (dateObj: Date, i18n: I18nSettings): string =>\n    dateObj.getHours() < 12\n      ? i18n.amPm[0].toUpperCase()\n      : i18n.amPm[1].toUpperCase(),\n  ZZ(dateObj: Date): string {\n    const offset = dateObj.getTimezoneOffset();\n    return (\n      (offset > 0 ? \"-\" : \"+\") +\n      pad(Math.floor(Math.abs(offset) / 60) * 100 + (Math.abs(offset) % 60), 4)\n    );\n  },\n  Z(dateObj: Date): string {\n    const offset = dateObj.getTimezoneOffset();\n    return (\n      (offset > 0 ? \"-\" : \"+\") +\n      pad(Math.floor(Math.abs(offset) / 60), 2) +\n      \":\" +\n      pad(Math.abs(offset) % 60, 2)\n    );\n  }\n};\n\ntype ParseInfo = [\n  keyof DateInfo,\n  string,\n  ((v: string, i18n: I18nSettings) => number | null)?,\n  string?\n];\nconst monthParse = (v: string): number => +v - 1;\nconst emptyDigits: ParseInfo = [null, twoDigitsOptional];\nconst emptyWord: ParseInfo = [null, word];\nconst amPm: ParseInfo = [\n  \"isPm\",\n  word,\n  (v: string, i18n: I18nSettings): number | null => {\n    const val = v.toLowerCase();\n    if (val === i18n.amPm[0]) {\n      return 0;\n    } else if (val === i18n.amPm[1]) {\n      return 1;\n    }\n    return null;\n  }\n];\nconst timezoneOffset: ParseInfo = [\n  \"timezoneOffset\",\n  \"[^\\\\s]*?[\\\\+\\\\-]\\\\d\\\\d:?\\\\d\\\\d|[^\\\\s]*?Z?\",\n  (v: string): number | null => {\n    const parts = (v + \"\").match(/([+-]|\\d\\d)/gi);\n\n    if (parts) {\n      const minutes = +parts[1] * 60 + parseInt(parts[2], 10);\n      return parts[0] === \"+\" ? minutes : -minutes;\n    }\n\n    return 0;\n  }\n];\nconst parseFlags: Record<string, ParseInfo> = {\n  D: [\"day\", twoDigitsOptional],\n  DD: [\"day\", twoDigits],\n  Do: [\"day\", twoDigitsOptional + word, (v: string): number => parseInt(v, 10)],\n  M: [\"month\", twoDigitsOptional, monthParse],\n  MM: [\"month\", twoDigits, monthParse],\n  YY: [\n    \"year\",\n    twoDigits,\n    (v: string): number => {\n      const now = new Date();\n      const cent = +(\"\" + now.getFullYear()).substr(0, 2);\n      return +(\"\" + (+v > 68 ? cent - 1 : cent) + v);\n    }\n  ],\n  h: [\"hour\", twoDigitsOptional, undefined, \"isPm\"],\n  hh: [\"hour\", twoDigits, undefined, \"isPm\"],\n  H: [\"hour\", twoDigitsOptional],\n  HH: [\"hour\", twoDigits],\n  m: [\"minute\", twoDigitsOptional],\n  mm: [\"minute\", twoDigits],\n  s: [\"second\", twoDigitsOptional],\n  ss: [\"second\", twoDigits],\n  YYYY: [\"year\", fourDigits],\n  S: [\"millisecond\", \"\\\\d\", (v: string): number => +v * 100],\n  SS: [\"millisecond\", twoDigits, (v: string): number => +v * 10],\n  SSS: [\"millisecond\", threeDigits],\n  d: emptyDigits,\n  dd: emptyDigits,\n  ddd: emptyWord,\n  dddd: emptyWord,\n  MMM: [\"month\", word, monthUpdate(\"monthNamesShort\")],\n  MMMM: [\"month\", word, monthUpdate(\"monthNames\")],\n  a: amPm,\n  A: amPm,\n  ZZ: timezoneOffset,\n  Z: timezoneOffset\n};\n\n// Some common format strings\nconst globalMasks: { [key: string]: string } = {\n  default: \"ddd MMM DD YYYY HH:mm:ss\",\n  shortDate: \"M/D/YY\",\n  mediumDate: \"MMM D, YYYY\",\n  longDate: \"MMMM D, YYYY\",\n  fullDate: \"dddd, MMMM D, YYYY\",\n  isoDate: \"YYYY-MM-DD\",\n  isoDateTime: \"YYYY-MM-DDTHH:mm:ssZ\",\n  shortTime: \"HH:mm\",\n  mediumTime: \"HH:mm:ss\",\n  longTime: \"HH:mm:ss.SSS\"\n};\nconst setGlobalDateMasks = (masks: {\n  [key: string]: string;\n}): { [key: string]: string } => assign(globalMasks, masks);\n\n/***\n * Format a date\n * @method format\n * @param {Date|number} dateObj\n * @param {string} mask Format of the date, i.e. 'mm-dd-yy' or 'shortDate'\n * @returns {string} Formatted date string\n */\nconst format = (\n  dateObj: Date,\n  mask: string = globalMasks[\"default\"],\n  i18n: I18nSettingsOptional = {}\n): string => {\n  if (typeof dateObj === \"number\") {\n    dateObj = new Date(dateObj);\n  }\n\n  if (\n    Object.prototype.toString.call(dateObj) !== \"[object Date]\" ||\n    isNaN(dateObj.getTime())\n  ) {\n    throw new Error(\"Invalid Date pass to format\");\n  }\n\n  mask = globalMasks[mask] || mask;\n\n  const literals: string[] = [];\n\n  // Make literals inactive by replacing them with @@@\n  mask = mask.replace(literal, function($0, $1) {\n    literals.push($1);\n    return \"@@@\";\n  });\n\n  const combinedI18nSettings: I18nSettings = assign(\n    assign({}, globalI18n),\n    i18n\n  );\n  // Apply formatting rules\n  mask = mask.replace(token, $0 =>\n    formatFlags[$0](dateObj, combinedI18nSettings)\n  );\n  // Inline literal values back into the formatted value\n  return mask.replace(/@@@/g, () => literals.shift());\n};\n\n/**\n * Parse a date string into a Javascript Date object /\n * @method parse\n * @param {string} dateStr Date string\n * @param {string} format Date parse format\n * @param {i18n} I18nSettingsOptional Full or subset of I18N settings\n * @returns {Date|null} Returns Date object. Returns null what date string is invalid or doesn't match format\n */\nfunction parse(\n  dateStr: string,\n  format: string,\n  i18n: I18nSettingsOptional = {}\n): Date | null {\n  if (typeof format !== \"string\") {\n    throw new Error(\"Invalid format in fecha parse\");\n  }\n\n  // Check to see if the format is actually a mask\n  format = globalMasks[format] || format;\n\n  // Avoid regular expression denial of service, fail early for really long strings\n  // https://www.owasp.org/index.php/Regular_expression_Denial_of_Service_-_ReDoS\n  if (dateStr.length > 1000) {\n    return null;\n  }\n\n  // Default to the beginning of the year.\n  const today = new Date();\n  const dateInfo: DateInfo = {\n    year: today.getFullYear(),\n    month: 0,\n    day: 1,\n    hour: 0,\n    minute: 0,\n    second: 0,\n    millisecond: 0,\n    isPm: null,\n    timezoneOffset: null\n  };\n  const parseInfo: ParseInfo[] = [];\n  const literals: string[] = [];\n\n  // Replace all the literals with @@@. Hopefully a string that won't exist in the format\n  let newFormat = format.replace(literal, ($0, $1) => {\n    literals.push(regexEscape($1));\n    return \"@@@\";\n  });\n  const specifiedFields: { [field: string]: boolean } = {};\n  const requiredFields: { [field: string]: boolean } = {};\n\n  // Change every token that we find into the correct regex\n  newFormat = regexEscape(newFormat).replace(token, $0 => {\n    const info = parseFlags[$0];\n    const [field, regex, , requiredField] = info;\n\n    // Check if the person has specified the same field twice. This will lead to confusing results.\n    if (specifiedFields[field]) {\n      throw new Error(`Invalid format. ${field} specified twice in format`);\n    }\n\n    specifiedFields[field] = true;\n\n    // Check if there are any required fields. For instance, 12 hour time requires AM/PM specified\n    if (requiredField) {\n      requiredFields[requiredField] = true;\n    }\n\n    parseInfo.push(info);\n    return \"(\" + regex + \")\";\n  });\n\n  // Check all the required fields are present\n  Object.keys(requiredFields).forEach(field => {\n    if (!specifiedFields[field]) {\n      throw new Error(\n        `Invalid format. ${field} is required in specified format`\n      );\n    }\n  });\n\n  // Add back all the literals after\n  newFormat = newFormat.replace(/@@@/g, () => literals.shift());\n\n  // Check if the date string matches the format. If it doesn't return null\n  const matches = dateStr.match(new RegExp(newFormat, \"i\"));\n  if (!matches) {\n    return null;\n  }\n\n  const combinedI18nSettings: I18nSettings = assign(\n    assign({}, globalI18n),\n    i18n\n  );\n\n  // For each match, call the parser function for that date part\n  for (let i = 1; i < matches.length; i++) {\n    const [field, , parser] = parseInfo[i - 1];\n    const value = parser\n      ? parser(matches[i], combinedI18nSettings)\n      : +matches[i];\n\n    // If the parser can't make sense of the value, return null\n    if (value == null) {\n      return null;\n    }\n\n    dateInfo[field] = value;\n  }\n\n  if (dateInfo.isPm === 1 && dateInfo.hour != null && +dateInfo.hour !== 12) {\n    dateInfo.hour = +dateInfo.hour + 12;\n  } else if (dateInfo.isPm === 0 && +dateInfo.hour === 12) {\n    dateInfo.hour = 0;\n  }\n\n  const dateWithoutTZ: Date = new Date(\n    dateInfo.year,\n    dateInfo.month,\n    dateInfo.day,\n    dateInfo.hour,\n    dateInfo.minute,\n    dateInfo.second,\n    dateInfo.millisecond\n  );\n\n  const validateFields: [\n    \"month\" | \"day\" | \"hour\" | \"minute\" | \"second\",\n    \"getMonth\" | \"getDate\" | \"getHours\" | \"getMinutes\" | \"getSeconds\"\n  ][] = [\n    [\"month\", \"getMonth\"],\n    [\"day\", \"getDate\"],\n    [\"hour\", \"getHours\"],\n    [\"minute\", \"getMinutes\"],\n    [\"second\", \"getSeconds\"]\n  ];\n  for (let i = 0, len = validateFields.length; i < len; i++) {\n    // Check to make sure the date field is within the allowed range. Javascript dates allows values\n    // outside the allowed range. If the values don't match the value was invalid\n    if (\n      specifiedFields[validateFields[i][0]] &&\n      dateInfo[validateFields[i][0]] !== dateWithoutTZ[validateFields[i][1]]()\n    ) {\n      return null;\n    }\n  }\n\n  if (dateInfo.timezoneOffset == null) {\n    return dateWithoutTZ;\n  }\n\n  return new Date(\n    Date.UTC(\n      dateInfo.year,\n      dateInfo.month,\n      dateInfo.day,\n      dateInfo.hour,\n      dateInfo.minute - dateInfo.timezoneOffset,\n      dateInfo.second,\n      dateInfo.millisecond\n    )\n  );\n}\nexport default {\n  format,\n  parse,\n  defaultI18n,\n  setGlobalDateI18n,\n  setGlobalDateMasks\n};\nexport { format, parse, defaultI18n, setGlobalDateI18n, setGlobalDateMasks };\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"/**\n *  meta  key \n */\nexport const AXIS_META_CONFIG_KEYS = [\n  'type',\n  'alias',\n  'tickCount',\n  'tickInterval',\n  'min',\n  'max',\n  'nice',\n  'minLimit',\n  'maxLimit',\n  // \n  'range',\n  'tickMethod',\n  // type: 'log' \n  'base',\n  // type: 'exp' \n  'exponent',\n  // time \n  'mask',\n  // \n  'sync',\n];\n",null,null,"import { Types } from '@antv/g2';\nimport { isNumber, isArray } from '@antv/util';\n\n/**\n *  padding \n * @param padding\n */\nexport function normalPadding(padding: number | number[] | 'auto'): [number, number, number, number] {\n  if (isNumber(padding)) {\n    return [padding, padding, padding, padding];\n  }\n  if (isArray(padding)) {\n    const length = padding.length;\n\n    if (length === 1) {\n      return [padding[0], padding[0], padding[0], padding[0]];\n    }\n    if (length === 2) {\n      return [padding[0], padding[1], padding[0], padding[1]];\n    }\n    if (length === 3) {\n      return [padding[0], padding[1], padding[2], padding[1]];\n    }\n    if (length === 4) {\n      return padding as [number, number, number, number];\n    }\n  }\n\n  return [0, 0, 0, 0];\n}\n\n/**\n *  appendPadding\n */\nexport function getAdjustAppendPadding(padding: Types.ViewAppendPadding, position = 'bottom', append = 25) {\n  const currentAppendPadding = normalPadding(padding);\n\n  const PADDING = [\n    position.startsWith('top') ? append : 0,\n    position.startsWith('right') ? append : 0,\n    position.startsWith('bottom') ? append : 0,\n    position.startsWith('left') ? append : 0,\n  ];\n  return [\n    currentAppendPadding[0] + PADDING[0],\n    currentAppendPadding[1] + PADDING[1],\n    currentAppendPadding[2] + PADDING[2],\n    currentAppendPadding[3] + PADDING[3],\n  ];\n}\n\n/**\n *  padding  appendPadding  padding\n * @param array\n */\nexport function resolveAllPadding(paddings: Types.ViewPadding[]) {\n  //  padding  normal\n  const normalPaddings = paddings.map((item) => normalPadding(item));\n  let finalPadding = [0, 0, 0, 0];\n  if (normalPaddings.length > 0) {\n    finalPadding = finalPadding.map((item, index) => {\n      //  padding \n      normalPaddings.forEach((d, i) => {\n        item += normalPaddings[i][index];\n      });\n      return item;\n    });\n  }\n  return finalPadding;\n}\n","import { Util } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { getCanvasPattern } from '../utils/pattern';\nimport { Params } from '../core/adaptor';\nimport { Datum, Options, StyleAttr } from '../types';\nimport { deepAssign } from '../utils';\n\n/**\n *  Pattern  options colorField/seriesField/stackField \n */\ntype OptionsRequiredInPattern = Omit<Options, 'data'>;\n\n/**\n * Pattern \n *   view \n *\n * @param key key of style property\n * @returns\n */\nexport function pattern(key: string) {\n  return <O extends OptionsRequiredInPattern = OptionsRequiredInPattern>(params: Params<O>): Params<O> => {\n    const { options, chart } = params;\n    const { pattern: patternOption } = options;\n\n    //  pattern \n    if (!patternOption) {\n      return params;\n    }\n\n    /** ~~~~~~~  ~~~~~~~ */\n\n    const style: StyleAttr = (datum?: Datum, ...args: any[]) => {\n      const { defaultColor } = chart.getTheme();\n      let color = defaultColor;\n\n      const colorAttribute = chart.geometries?.[0]?.getAttribute('color');\n      if (colorAttribute) {\n        const colorField = colorAttribute.getFields()[0];\n        const seriesValue = get(datum, colorField);\n        color = Util.getMappingValue(colorAttribute, seriesValue, colorAttribute.values?.[0] || defaultColor);\n      }\n\n      let pattern: CanvasPattern = patternOption as CanvasPattern;\n\n      // 1.  patternOption `(datum: Datum, color: string) => CanvasPattern`\n      if (typeof patternOption === 'function') {\n        pattern = patternOption.call(this, datum, color);\n      }\n\n      // 2.  pattern  CanvasPattern fill\n      if (pattern instanceof CanvasPattern === false) {\n        //  createPattern(PatternStyle)  CanvasPattern\n        pattern = getCanvasPattern(deepAssign({}, { cfg: { backgroundColor: color } }, pattern));\n      }\n\n      const styleOption = options[key] as StyleAttr;\n\n      return {\n        ...(typeof styleOption === 'function' ? styleOption.call(this, datum, ...args) : styleOption || {}),\n        fill: pattern || color,\n      };\n    };\n\n    return deepAssign({}, params, { options: { [key]: style } });\n  };\n}\n","import { map, reduce } from '@antv/util';\nimport { Data, Datum } from '../../types';\nimport { isRealNumber } from '../number';\n\n/**\n * \n * @param data\n * @param measure\n * @param groupField\n * @param as\n */\nexport function percent(data: Data, measure: string, groupField: string, as: string) {\n  // 1.  max \n  const sumMap = reduce(\n    data,\n    (map, datum: Datum) => {\n      const groupValue = datum[groupField];\n      let sum = map.has(groupValue) ? map.get(groupValue) : 0;\n\n      const v = datum[measure];\n\n      sum = isRealNumber(v) ? sum + v : sum;\n      map.set(groupValue, sum);\n\n      return map;\n    },\n    new Map<string, number>()\n  );\n\n  // 2. \n  return map(data, (datum: Datum) => {\n    const v = datum[measure];\n    const groupValue = datum[groupField];\n    const percentage = isRealNumber(v) && sumMap.get(groupValue) !== 0 ? v / sumMap.get(groupValue) : 0;\n\n    return {\n      ...datum,\n      [as]: percentage,\n    };\n  });\n}\n\n/**\n * \n * @param data\n * @param measure  // \n * @param fields //  field\n * @param as // percent \n */\nexport function getDeepPercent(data: Record<string, any>[], measure: string, fields: string[], percent: string) {\n  const sumMap = reduce(\n    data,\n    (map, datum: Datum) => {\n      // key\n      const groupValue = reduce(fields, (value, field) => `${value}${datum[field]}`, '');\n\n      let sum = map.has(groupValue) ? map.get(groupValue) : 0;\n\n      const v = datum[measure];\n\n      sum = isRealNumber(v) ? sum + v : sum;\n      map.set(groupValue, sum);\n\n      return map;\n    },\n    new Map<string, number>()\n  );\n\n  // 2. \n  return map(data, (datum: Datum) => {\n    const v = datum[measure];\n    // key\n    const groupValue = reduce(fields, (value, field) => `${value}${datum[field]}`, '');\n\n    const percentage = isRealNumber(v) && sumMap.get(groupValue) !== 0 ? v / sumMap.get(groupValue) : 0;\n\n    return {\n      ...datum,\n      [percent]: percentage,\n    };\n  });\n}\n\n/**\n *  ()\n * @param isPercent \n */\nexport function getDataWhetherPecentage(\n  data: Record<string, any>[],\n  yField: string,\n  groupField: string,\n  asField: string,\n  isPercent?: boolean\n) {\n  return !isPercent ? data : percent(data, yField, groupField, asField);\n}\n","import { map } from '@antv/util';\n\nexport function getTinyData(data: number[]) {\n  return map(data || [], (y: number, x: number) => ({ x: `${x}`, y }));\n}\n","// : data[n][yField] / data[0][yField]\nexport const FUNNEL_PERCENT = '$$percentage$$';\n// \nexport const FUNNEL_MAPPING_VALUE = '$$mappingValue$$';\n// : data[n][yField] / data[n-1][yField];\nexport const FUNNEL_CONVERSATION = '$$conversion$$';\n// \n// data[n][yField] / sum(data[0-n][yField])\nexport const FUNNEL_TOTAL_PERCENT = '$$totalPercentage$$';\n//  x \nexport const PLOYGON_X = '$$x$$';\nexport const PLOYGON_Y = '$$y$$';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = {\n  appendPadding: [0, 80],\n  minSize: 0,\n  maxSize: 1,\n  meta: {\n    [FUNNEL_MAPPING_VALUE]: {\n      min: 0,\n      max: 1,\n      nice: false,\n    },\n  },\n  label: {\n    style: {\n      fill: '#fff',\n      fontSize: 12,\n    },\n  },\n  tooltip: {\n    showTitle: false,\n    showMarkers: false,\n    shared: false,\n  },\n  conversionTag: {\n    offsetX: 10,\n    offsetY: 0,\n    style: {\n      fontSize: 12,\n      fill: 'rgba(0,0,0,0.45)',\n    },\n  },\n};\n",null,null,null,null,null,"import * as glMatrix from \"./common.js\";\n/**\n * 2 Dimensional Vector\n * @module vec2\n */\n\n/**\n * Creates a new, empty vec2\n *\n * @returns {vec2} a new 2D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(2);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec2 initialized with values from an existing vector\n *\n * @param {ReadonlyVec2} a vector to clone\n * @returns {vec2} a new 2D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\n * Creates a new vec2 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} a new 2D vector\n */\n\nexport function fromValues(x, y) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * Copy the values from one vec2 to another\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the source vector\n * @returns {vec2} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\n * Set the components of a vec2 to the given values\n *\n * @param {vec2} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} out\n */\n\nexport function set(out, x, y) {\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * Adds two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n/**\n * Multiplies two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n/**\n * Divides two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n/**\n * Math.ceil the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to ceil\n * @returns {vec2} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  return out;\n}\n/**\n * Math.floor the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to floor\n * @returns {vec2} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  return out;\n}\n/**\n * Returns the minimum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  return out;\n}\n/**\n * Returns the maximum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  return out;\n}\n/**\n * Math.round the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to round\n * @returns {vec2} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  return out;\n}\n/**\n * Scales a vec2 by a scalar number\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec2} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  return out;\n}\n/**\n * Adds two vec2's after scaling the second operand by a scalar value\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec2} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return Math.hypot(x, y);\n}\n/**\n * Calculates the squared euclidian distance between two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return x * x + y * y;\n}\n/**\n * Calculates the length of a vec2\n *\n * @param {ReadonlyVec2} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0],\n      y = a[1];\n  return Math.hypot(x, y);\n}\n/**\n * Calculates the squared length of a vec2\n *\n * @param {ReadonlyVec2} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0],\n      y = a[1];\n  return x * x + y * y;\n}\n/**\n * Negates the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to negate\n * @returns {vec2} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to invert\n * @returns {vec2} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out;\n}\n/**\n * Normalize a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to normalize\n * @returns {vec2} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0],\n      y = a[1];\n  var len = x * x + y * y;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n}\n/**\n * Computes the cross product of two vec2's\n * Note that the cross product must by definition produce a 3D vector\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec3} out\n */\n\nexport function cross(out, a, b) {\n  var z = a[0] * b[1] - a[1] * b[0];\n  out[0] = out[1] = 0;\n  out[2] = z;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec2} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0],\n      ay = a[1];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec2} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec2} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  out[0] = Math.cos(r) * scale;\n  out[1] = Math.sin(r) * scale;\n  return out;\n}\n/**\n * Transforms the vec2 with a mat2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat2} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat2(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  return out;\n}\n/**\n * Transforms the vec2 with a mat2d\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat2d} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat2d(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n/**\n * Transforms the vec2 with a mat3\n * 3rd vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat3} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[3] * y + m[6];\n  out[1] = m[1] * x + m[4] * y + m[7];\n  return out;\n}\n/**\n * Transforms the vec2 with a mat4\n * 3rd vector component is implicitly '0'\n * 4th vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[4] * y + m[12];\n  out[1] = m[1] * x + m[5] * y + m[13];\n  return out;\n}\n/**\n * Rotate a 2D vector\n * @param {vec2} out The receiving vec2\n * @param {ReadonlyVec2} a The vec2 point to rotate\n * @param {ReadonlyVec2} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec2} out\n */\n\nexport function rotate(out, a, b, rad) {\n  //Translate point to the origin\n  var p0 = a[0] - b[0],\n      p1 = a[1] - b[1],\n      sinC = Math.sin(rad),\n      cosC = Math.cos(rad); //perform rotation and translate to correct position\n\n  out[0] = p0 * cosC - p1 * sinC + b[0];\n  out[1] = p0 * sinC + p1 * cosC + b[1];\n  return out;\n}\n/**\n * Get the angle between two 2D vectors\n * @param {ReadonlyVec2} a The first operand\n * @param {ReadonlyVec2} b The second operand\n * @returns {Number} The angle in radians\n */\n\nexport function angle(a, b) {\n  var x1 = a[0],\n      y1 = a[1],\n      x2 = b[0],\n      y2 = b[1],\n      // mag is the product of the magnitudes of a and b\n  mag = Math.sqrt(x1 * x1 + y1 * y1) * Math.sqrt(x2 * x2 + y2 * y2),\n      // mag &&.. short circuits if mag == 0\n  cosine = mag && (x1 * x2 + y1 * y2) / mag; // Math.min(Math.max(cosine, -1), 1) clamps the cosine between -1 and 1\n\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec2 to zero\n *\n * @param {vec2} out the receiving vector\n * @returns {vec2} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec2} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec2(\" + a[0] + \", \" + a[1] + \")\";\n}\n/**\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec2} a The first vector.\n * @param {ReadonlyVec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec2} a The first vector.\n * @param {ReadonlyVec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1];\n  var b0 = b[0],\n      b1 = b[1];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1));\n}\n/**\n * Alias for {@link vec2.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec2.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec2.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec2.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec2.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec2.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec2.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec2s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 2;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n    }\n\n    return a;\n  };\n}();","import { Types } from '@antv/g2';\nimport { each, filter, isMatch } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport {\n  slider,\n  interaction,\n  animation,\n  theme,\n  scale,\n  annotation,\n  scrollbar,\n  limitInPlot,\n  state,\n} from '../../adaptor/common';\nimport { conversionTag } from '../../adaptor/conversion-tag';\nimport { connectedArea } from '../../adaptor/connected-area';\nimport { interval } from '../../adaptor/geometries';\nimport { pattern } from '../../adaptor/pattern';\nimport { brushInteraction } from '../../adaptor/brush';\nimport { flow, transformLabel, deepAssign, findGeometry, adjustYMetaByZero, pick } from '../../utils';\nimport { getDataWhetherPecentage, getDeepPercent } from '../../utils/transform/percent';\nimport { Datum } from '../../types';\nimport { ColumnOptions } from './types';\n\n/**\n * defaultOptions\n * @param params\n */\nfunction defaultOptions(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { options } = params;\n  //  legend \n  let { legend } = options;\n  const { seriesField, isStack } = options;\n\n  if (seriesField) {\n    if (legend !== false) {\n      legend = {\n        position: isStack ? 'right-top' : 'top-left',\n        ...legend,\n      };\n    }\n  } else {\n    legend = false;\n  }\n\n  // @ts-ignore \n  params.options.legend = legend;\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { chart, options } = params;\n  const {\n    data,\n    columnStyle,\n    color,\n    columnWidthRatio,\n    isPercent,\n    isGroup,\n    isStack,\n    xField,\n    yField,\n    seriesField,\n    groupField,\n    tooltip,\n    shape,\n  } = options;\n\n  const percentData =\n    isPercent && isGroup && isStack\n      ? getDeepPercent(data, yField, [xField, groupField], yField)\n      : getDataWhetherPecentage(data, yField, xField, yField, isPercent);\n\n  let chartData = [];\n\n  // ,seriesField \n  if (isStack && seriesField && !isGroup) {\n    percentData.forEach((item) => {\n      const stackedItem = chartData.find((v) => v[xField] === item[xField] && v[seriesField] === item[seriesField]);\n      if (stackedItem) {\n        stackedItem[yField] += item[yField] || 0;\n      } else {\n        chartData.push({ ...item });\n      }\n    });\n  } else {\n    chartData = percentData;\n  }\n\n  chart.data(chartData);\n\n  //  % , \n  const tooltipOptions = isPercent\n    ? {\n        formatter: (datum: Datum) => ({\n          name:\n            isGroup && isStack ? `${datum[seriesField]} - ${datum[groupField]}` : datum[seriesField] || datum[xField],\n          value: (Number(datum[yField]) * 100).toFixed(2) + '%',\n        }),\n        ...tooltip,\n      }\n    : tooltip;\n\n  const p = deepAssign({}, params, {\n    options: {\n      data: chartData,\n      widthRatio: columnWidthRatio,\n      tooltip: tooltipOptions,\n      interval: {\n        shape,\n        style: columnStyle,\n        color,\n      },\n    },\n  });\n  interval(p);\n\n  return p;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField, data, isPercent } = options;\n\n  const percentYMeta = isPercent ? { max: 1, min: 0, minLimit: 0, maxLimit: 1 } : {};\n\n  return flow(\n    scale(\n      {\n        [xField]: xAxis,\n        [yField]: yAxis,\n      },\n      {\n        [xField]: {\n          type: 'cat',\n        },\n        [yField]: {\n          ...adjustYMetaByZero(data, yField),\n          ...percentYMeta,\n        },\n      }\n    )\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(yField, false);\n  } else {\n    chart.axis(yField, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { chart, options } = params;\n  const { legend, seriesField } = options;\n\n  if (legend && seriesField) {\n    chart.legend(seriesField, legend);\n  } else if (legend === false) {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { chart, options } = params;\n  const { label, yField, isRange } = options;\n\n  const geometry = findGeometry(chart, 'interval');\n\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: [yField],\n      callback,\n      cfg: {\n        //  label layout  layout  position  layout\n        layout: cfg?.position\n          ? undefined\n          : [\n              { type: 'interval-adjust-position' },\n              { type: 'interval-hide-overlap' },\n              { type: 'adjust-color' },\n              { type: 'limit-in-plot', cfg: { action: 'hide' } },\n            ],\n        ...transformLabel(\n          isRange\n            ? {\n                content: (item: object) => {\n                  return item[yField]?.join('-');\n                },\n                ...cfg,\n              }\n            : cfg\n        ),\n      },\n    });\n  }\n\n  return params;\n}\n\n/**\n *  tooltip  ()\n * @param params\n */\nfunction columnTooltip(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { chart, options } = params;\n  const { tooltip, isGroup, isStack, groupField, data, xField, yField, seriesField } = options;\n\n  if (tooltip === false) {\n    chart.tooltip(false);\n  } else {\n    let tooltipOptions = tooltip;\n    // fix: https://github.com/antvis/G2Plot/issues/2572\n    if (isGroup && isStack) {\n      const tooltipFormatter =\n        tooltipOptions?.formatter ||\n        ((datum: Datum) => ({ name: `${datum[seriesField]} - ${datum[groupField]}`, value: datum[yField] }));\n      tooltipOptions = {\n        ...tooltipOptions,\n        customItems: (originalItems: Types.TooltipItem[]) => {\n          const items: Types.TooltipItem[] = [];\n          each(originalItems, (item: Types.TooltipItem) => {\n            // Find datas in same cluster\n            const datas = filter(data, (d) => isMatch(d, pick(item.data, [xField, seriesField])));\n            datas.forEach((datum) => {\n              items.push({\n                ...item,\n                value: datum[yField],\n                data: datum,\n                mappingData: { _origin: datum },\n                ...tooltipFormatter(datum),\n              });\n            });\n          });\n          return items;\n        },\n      };\n    }\n    chart.tooltip(tooltipOptions);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function adaptor(params: Params<ColumnOptions>, isBar = false) {\n  const { options } = params;\n  const { seriesField } = options;\n  return flow(\n    defaultOptions, // \n    theme, // theme  geometry \n    pattern('columnStyle'),\n    state,\n    geometry,\n    meta,\n    axis,\n    legend,\n    columnTooltip,\n    slider,\n    scrollbar,\n    label,\n    brushInteraction,\n    interaction,\n    animation,\n    annotation(),\n    conversionTag<ColumnOptions>(options.yField, !isBar, !!seriesField), // \n    connectedArea<ColumnOptions>(!options.isStack),\n    limitInPlot\n  )(params);\n}\n","import { get } from '@antv/util';\n\nexport const X_FIELD = 'x';\nexport const Y_FIELD = 'y';\n\nexport const DEFAULT_TOOLTIP_OPTIONS = {\n  showTitle: false,\n  shared: true,\n  showMarkers: false,\n  customContent: (x: string, data: any[]) => `${get(data, [0, 'data', 'y'], 0)}`, // \n  containerTpl: '<div class=\"g2-tooltip\"><div class=\"g2-tooltip-list\"></div></div>',\n  itemTpl: '<span>{value}</span>',\n  domStyles: {\n    'g2-tooltip': {\n      padding: '2px 4px',\n      fontSize: '10px',\n    },\n  },\n  showCrosshairs: true,\n  crosshairs: {\n    type: 'x' as const,\n  },\n};\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  appendPadding: 2,\n  tooltip: {\n    ...DEFAULT_TOOLTIP_OPTIONS,\n  },\n  animation: {},\n};\n","import { VennOptions } from './types';\n\n// \nexport const ID_FIELD = 'id';\nexport const PATH_FIELD = 'path';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS: Partial<VennOptions> = {\n  appendPadding: [10, 0, 20, 0],\n  blendMode: 'multiply',\n  tooltip: {\n    showTitle: false,\n    showMarkers: false,\n    fields: ['id', 'size'],\n    formatter: (datum) => {\n      return { name: datum.id, value: datum.size };\n    },\n  },\n  legend: { position: 'top-left' },\n  label: {\n    style: {\n      textAlign: 'center',\n      fill: '#fff',\n    },\n  },\n  //  \n  interactions: [{ type: 'legend-filter', enable: false }],\n  state: {\n    active: {\n      style: {\n        stroke: '#000',\n      },\n    },\n    selected: {\n      style: {\n        stroke: '#000',\n        lineWidth: 2,\n      },\n    },\n    inactive: {\n      style: {\n        fillOpacity: 0.3,\n        strokeOpacity: 0.3,\n      },\n    },\n  },\n  // \n  defaultInteractions: ['tooltip', 'venn-legend-active'],\n};\n","import { isArray, isString, filter } from '@antv/util';\n\n/** export  */\n/**  */\nexport const NODE_INDEX_FIELD = 'nodeIndex';\n/** child  */\nexport const CHILD_NODE_COUNT = 'childNodeCount';\n/**  */\nexport const NODE_ANCESTORS_FIELD = 'nodeAncestor';\n\nconst INVALID_FIELD_ERR_MSG = 'Invalid field: it must be a string!';\n\ninterface Options {\n  field?: string | string[];\n  fields?: string | string[];\n}\n\nexport function getField(options: Options, defaultField?: string): string {\n  const { field, fields } = options;\n  if (isString(field)) {\n    return field;\n  }\n  if (isArray(field)) {\n    console.warn(INVALID_FIELD_ERR_MSG);\n    return field[0];\n  }\n  console.warn(`${INVALID_FIELD_ERR_MSG} will try to get fields instead.`);\n  if (isString(fields)) {\n    return fields;\n  }\n  if (isArray(fields) && fields.length) {\n    return fields[0];\n  }\n  if (defaultField) {\n    return defaultField;\n  }\n  throw new TypeError(INVALID_FIELD_ERR_MSG);\n}\n\nexport function getAllNodes(root: any) {\n  const nodes: any[] = [];\n  if (root && root.each) {\n    let parent;\n    let index;\n    // d3-hierarchy: Invokes the specified function for node and each descendant in **breadth-first order**\n    root.each((node: any) => {\n      if (node.parent !== parent) {\n        parent = node.parent;\n        index = 0;\n      } else {\n        index += 1;\n      }\n      const ancestors = filter(\n        (node.ancestors?.() || []).map((d: any) => nodes.find((n) => n.name === d.name) || d),\n        ({ depth }) => depth > 0 && depth < node.depth\n      );\n\n      node[NODE_ANCESTORS_FIELD] = ancestors;\n      node[CHILD_NODE_COUNT] = node.children?.length || 0;\n      node[NODE_INDEX_FIELD] = index;\n\n      nodes.push(node);\n    });\n  } else if (root && root.eachNode) {\n    // @antv/hierarchy\n    root.eachNode((node: any) => {\n      nodes.push(node);\n    });\n  }\n  return nodes;\n}\n",null,"import { get } from '@antv/util';\nimport { Locale } from '../types/locale';\nimport { template } from '../utils';\nimport { GLOBAL } from './global';\n\nconst LocaleMap = {};\n\n/**\n * register a locale\n * @param locale\n * @param localeObj\n */\nexport function registerLocale(locale: string, localeObj: Locale) {\n  LocaleMap[locale] = localeObj;\n}\n\n/**\n * get locale of specific language\n * @param lang\n * @returns\n */\nexport function getLocale(locale: string) {\n  return {\n    get: (key: string | string[], obj?: Record<string, any>) => {\n      return template(\n        get(LocaleMap[locale], key) || get(LocaleMap[GLOBAL.locale], key) || get(LocaleMap['en-US'], key) || key,\n        obj\n      );\n    },\n  };\n}\n","import { get, isNumber, filter } from '@antv/util';\nimport { Data, Datum, Meta, Options } from '../types';\nimport { Node, NodeLinkData } from '../types/relation-data';\nimport { LEVEL, log } from './invariant';\nimport { pick } from './pick';\n\n/**\n * \n * @param data\n * @param field\n */\nexport function adjustYMetaByZero(data: Data, field: string): Meta {\n  if (!data) return {};\n  // \n  const numberData = data.filter((datum: Datum) => {\n    const v = get(datum, [field]);\n    return isNumber(v) && !isNaN(v);\n  });\n\n  const gtZero = numberData.every((datum: Datum) => get(datum, [field]) >= 0);\n  const ltZero = numberData.every((datum: Datum) => get(datum, [field]) <= 0);\n\n  //  { min: 0, max: undefined }  update({ max: 0 })  { min: 0, max: 0 }\n  if (gtZero) {\n    return { min: 0 };\n  }\n  if (ltZero) {\n    return { max: 0 };\n  }\n  return {};\n}\n\n/**\n * \n * @param data\n * @param sourceField\n * @param targetField\n * @param weightField\n * @param rawFields \n */\nexport function transformDataToNodeLinkData(\n  data: Data,\n  sourceField: string,\n  targetField: string,\n  weightField: string,\n  rawFields: string[] = []\n): NodeLinkData {\n  if (!Array.isArray(data)) {\n    return {\n      nodes: [],\n      links: [],\n    };\n  }\n\n  //   const nodes = [];\n  const links = [];\n  // \n  const nodesMap: Record<string, Node> = {};\n  let nodesIndex = -1;\n  //  chord layout \n  data.forEach((datum: Datum) => {\n    const source = datum[sourceField];\n    const target = datum[targetField];\n    const weight = datum[weightField];\n\n    const rawData = pick(datum, rawFields);\n\n    // source node\n    if (!nodesMap[source]) {\n      nodesMap[source] = {\n        id: ++nodesIndex,\n        name: source,\n        ...rawData,\n      };\n    }\n    if (!nodesMap[target]) {\n      nodesMap[target] = {\n        id: ++nodesIndex,\n        name: target,\n        ...rawData,\n      };\n    }\n    // links\n    links.push({\n      source: nodesMap[source].id,\n      target: nodesMap[target].id,\n      // sourceName: source,\n      // targetName: target,\n      value: weight,\n      ...rawData,\n    });\n  });\n  return {\n    //  id \n    nodes: Object.values(nodesMap).sort((a, b) => a.id - b.id),\n    links,\n  };\n}\n\n/**\n * (   NaN null)\n * @param data\n * @param angleField\n */\nexport function processIllegalData(data: Options['data'], field: string) {\n  const processData = filter(data, (d) => {\n    const v = d[field];\n    return v === null || (typeof v === 'number' && !isNaN(v));\n  });\n\n  // \n  log(LEVEL.WARN, processData.length === data.length, 'illegal data existed in chart data.');\n\n  return processData;\n}\n","import { theme, scale, animation, annotation, tooltip, pattern } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { flow, deepAssign } from '../../utils';\nimport { area, line, point } from '../../adaptor/geometries';\nimport { X_FIELD, Y_FIELD } from '../tiny-line/constants';\nimport { getTinyData } from '../tiny-line/utils';\nimport { adjustYMetaByZero } from '../../utils/data';\nimport { TinyAreaOptions } from './types';\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<TinyAreaOptions>): Params<TinyAreaOptions> {\n  const { chart, options } = params;\n  const { data, color, areaStyle, point: pointOptions, line: lineOptions } = options;\n  const pointState = pointOptions?.state;\n\n  const seriesData = getTinyData(data);\n\n  chart.data(seriesData);\n\n  const primary = deepAssign({}, params, {\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      area: { color, style: areaStyle },\n      line: lineOptions,\n      point: pointOptions,\n    },\n  });\n  const second = deepAssign({}, primary, { options: { tooltip: false } });\n  const pointParams = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n\n  // area geometry \n  area(primary);\n  line(second);\n  point(pointParams);\n\n  chart.axis(false);\n  chart.legend(false);\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<TinyAreaOptions>): Params<TinyAreaOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, data } = options;\n  const seriesData = getTinyData(data);\n\n  return flow(\n    scale(\n      {\n        [X_FIELD]: xAxis,\n        [Y_FIELD]: yAxis,\n      },\n      {\n        [X_FIELD]: {\n          type: 'cat',\n        },\n        [Y_FIELD]: adjustYMetaByZero(seriesData, Y_FIELD),\n      }\n    )\n  )(params);\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<TinyAreaOptions>) {\n  return flow(pattern('areaStyle'), geometry, meta, tooltip, theme, animation, annotation())(params);\n}\n","import { Action, IGroup, Util } from '@antv/g2';\nimport { get, last, isNil, size } from '@antv/util';\nimport { Data } from '../../types';\nimport { DrillDownCfg } from '../../types/drill-down';\nimport { deepAssign } from '../../utils/deep-assign';\n\n// '/'\nconst PADDING = 4;\n// \nconst PADDING_LEFT = 0;\n// \nexport const PADDING_TOP = 5;\n\n/** Group name of breadCrumb:  */\nexport const BREAD_CRUMB_NAME = 'drilldown-bread-crumb';\n\n// \nexport const DEFAULT_BREAD_CRUMB_CONFIG: DrillDownCfg['breadCrumb'] = {\n  /**  */\n  position: 'top-left',\n  dividerText: '/',\n  textStyle: {\n    fontSize: 12,\n    fill: 'rgba(0, 0, 0, 0.65)',\n    cursor: 'pointer',\n  },\n  activeTextStyle: {\n    fill: '#87B5FF',\n  },\n};\n\n/**\n * hierarchy \n */\nexport const HIERARCHY_DATA_TRANSFORM_PARAMS = 'hierarchy-data-transform-params';\n\n/**\n * Hierarchy plot \n */\nexport type HierarchyNode<N = any /**  */> = {\n  /** todo  key  origin */\n  data: { name: string; value?: any; children: { name: string; value?: any }[] };\n  /** ,  transformData  */\n  [HIERARCHY_DATA_TRANSFORM_PARAMS]: object;\n  /** .  unique */\n  depth: number;\n  /** depth + height =  */\n  height: number;\n  parent: N;\n  children: N[];\n};\n\ntype HistoryCache = {\n  name: string;\n  id: string;\n  children: Data;\n}[];\n\n/**\n * @description  action\n * @author liuzhenying\n *\n * hierarchy plot\n */\nexport class DrillDownAction extends Action {\n  /** Action name */\n  public name = 'drill-down';\n\n  // \n  protected historyCache: HistoryCache = [];\n  //  group\n  private breadCrumbGroup: IGroup = null;\n  // \n  private breadCrumbCfg: DrillDownCfg['breadCrumb'] = DEFAULT_BREAD_CRUMB_CONFIG;\n\n  /**\n   * , \n   */\n  public click() {\n    const data = get(this.context, ['event', 'data', 'data']);\n    if (!data) return false;\n\n    this.drill(data);\n    this.drawBreadCrumb();\n  }\n\n  /**\n   *  chart  afterchangesize \n   */\n  public resetPosition() {\n    //  changedata  resetPosition  this.breadCrumbGroup \n    if (!this.breadCrumbGroup) return;\n    const coordinate = this.context.view.getCoordinate();\n    const breadCrumbGroup = this.breadCrumbGroup;\n    const bbox = breadCrumbGroup.getBBox();\n\n    const { position } = this.getButtonCfg();\n\n    // @todo  margin  padding \n    //  polar  coordinate\n    let point = { x: coordinate.start.x, y: coordinate.end.y - (bbox.height + PADDING_TOP * 2) };\n    if (coordinate.isPolar) {\n      // \n      point = { x: 0, y: 0 };\n    }\n    if (position === 'bottom-left') {\n      // \n      point = { x: coordinate.start.x, y: coordinate.start.y };\n    }\n    /** PADDING_LEFT, PADDING_TOP  */\n    const matrix = Util.transform(null, [['t', point.x + PADDING_LEFT, point.y + bbox.height + PADDING_TOP]]);\n    breadCrumbGroup.setMatrix(matrix);\n  }\n\n  /**\n   * \n   */\n  public back(): void {\n    if (size(this.historyCache)) {\n      this.backTo(this.historyCache.slice(0, -1));\n    }\n  }\n\n  /**\n   * \n   */\n  public reset(): void {\n    if (this.historyCache[0]) {\n      this.backTo(this.historyCache.slice(0, 1));\n    }\n    // \n    this.historyCache = [];\n    this.hideCrumbGroup();\n  }\n\n  /**\n   *  view \n   * @param nodeInfo \n   */\n  protected drill(nodeInfo: HierarchyNode) {\n    const { view } = this.context;\n    const transformData = get(view, ['interactions', 'drill-down', 'cfg', 'transformData'], (v) => v);\n\n    //  update \n    const drillData = transformData({ data: nodeInfo.data, ...nodeInfo[HIERARCHY_DATA_TRANSFORM_PARAMS] });\n    view.changeData(drillData);\n\n    // \n    const historyCache: HistoryCache = [];\n\n    let node = nodeInfo;\n    while (node) {\n      const nodeData = node.data;\n      historyCache.unshift({\n        id: `${nodeData.name}_${node.height}_${node.depth}`,\n        name: nodeData.name,\n        // children \n        children: transformData({ data: nodeData, ...nodeInfo[HIERARCHY_DATA_TRANSFORM_PARAMS] }),\n      });\n      node = node.parent;\n    }\n\n    this.historyCache = (this.historyCache || []).slice(0, -1).concat(historyCache);\n  }\n\n  /**\n   * \n   * @param historyCache \n   */\n  protected backTo(historyCache: HistoryCache) {\n    if (!historyCache || historyCache.length <= 0) {\n      return;\n    }\n\n    const { view } = this.context;\n    const data = last(historyCache).children; // \n    view.changeData(data);\n\n    if (historyCache.length > 1) {\n      this.historyCache = historyCache;\n      this.drawBreadCrumb();\n    } else {\n      // \n      this.historyCache = [];\n      this.hideCrumbGroup();\n    }\n  }\n\n  /**\n   *  mix \n   */\n  private getButtonCfg() {\n    const { view } = this.context;\n    const drillDownConfig: DrillDownCfg = get(view, ['interactions', 'drill-down', 'cfg', 'drillDownConfig']);\n\n    return deepAssign(this.breadCrumbCfg, drillDownConfig?.breadCrumb, this.cfg);\n  }\n\n  /**\n   * \n   */\n  private drawBreadCrumb() {\n    this.drawBreadCrumbGroup();\n    this.resetPosition();\n    this.breadCrumbGroup.show();\n  }\n\n  /**\n   *  Button  \n   */\n  private drawBreadCrumbGroup() {\n    const config = this.getButtonCfg();\n    const cache = this.historyCache;\n\n    //  group\n    if (!this.breadCrumbGroup) {\n      this.breadCrumbGroup = this.context.view.foregroundGroup.addGroup({\n        name: BREAD_CRUMB_NAME,\n      });\n    } else {\n      this.breadCrumbGroup.clear();\n    }\n\n    // \n    let left = 0;\n    cache.forEach((record, index) => {\n      // \n      const textShape = this.breadCrumbGroup.addShape({\n        type: 'text',\n        id: record.id,\n        name: `${BREAD_CRUMB_NAME}_${record.name}_text`,\n        attrs: {\n          text: index === 0 && !isNil(config.rootText) ? config.rootText : record.name,\n          ...config.textStyle,\n          x: left,\n          y: 0,\n        },\n      });\n\n      const textShapeBox = textShape.getBBox();\n      left += textShapeBox.width + PADDING;\n\n      // \n      textShape.on('click', (event) => {\n        const targetId = event.target.get('id');\n        if (targetId !== last(cache)?.id) {\n          const newHistoryCache = cache.slice(0, cache.findIndex((d) => d.id === targetId) + 1);\n          this.backTo(newHistoryCache);\n        }\n      });\n      // active \n      textShape.on('mouseenter', (event) => {\n        const targetId = event.target.get('id');\n        if (targetId !== last(cache)?.id) {\n          textShape.attr(config.activeTextStyle);\n        } else {\n          textShape.attr({ cursor: 'default' });\n        }\n      });\n      textShape.on('mouseleave', () => {\n        textShape.attr(config.textStyle);\n      });\n\n      if (index < cache.length - 1) {\n        // \n        const dividerShape = this.breadCrumbGroup.addShape({\n          type: 'text',\n          name: `${config.name}_${record.name}_divider`,\n          attrs: {\n            text: config.dividerText,\n            ...config.textStyle,\n            x: left,\n            y: 0,\n          },\n        });\n\n        const dividerBox = dividerShape.getBBox();\n        left += dividerBox.width + PADDING;\n      }\n    });\n  }\n\n  /**\n   * \n   */\n  private hideCrumbGroup() {\n    if (this.breadCrumbGroup) {\n      this.breadCrumbGroup.hide();\n    }\n  }\n\n  /**\n   * @override\n   * destroy: \n   */\n  public destroy() {\n    if (this.breadCrumbGroup) {\n      this.breadCrumbGroup.remove();\n    }\n    super.destroy();\n  }\n}\n","export const RANGE_VALUE = 'range';\nexport const RANGE_TYPE = 'type';\nexport const PERCENT = 'percent';\n\nexport const DEFAULT_COLOR = '#f0f0f0';\n\n/**    */\nexport const INDICATEOR_VIEW_ID = 'indicator-view';\nexport const RANGE_VIEW_ID = 'range-view';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  percent: 0, // \n  range: {\n    ticks: [],\n  }, // \n  innerRadius: 0.9,\n  radius: 0.95,\n  startAngle: (-7 / 6) * Math.PI,\n  endAngle: (1 / 6) * Math.PI,\n  syncViewPadding: true,\n  axis: {\n    line: null,\n    label: {\n      offset: -24,\n      style: {\n        textAlign: 'center' as const,\n        textBaseline: 'middle' as const,\n      },\n    },\n    subTickLine: {\n      length: -8,\n    },\n    tickLine: {\n      length: -12,\n    },\n    grid: null,\n  },\n  indicator: {\n    pointer: {\n      style: {\n        lineWidth: 5,\n        lineCap: 'round' as const,\n      },\n    },\n    pin: {\n      style: {\n        r: 9.75,\n        lineWidth: 4.5,\n        fill: '#fff',\n      },\n    },\n  },\n  statistic: {\n    title: false as const,\n  },\n  meta: {\n    //  view  scale  v \n    [RANGE_VALUE]: {\n      sync: 'v',\n    },\n    [PERCENT]: {\n      sync: 'v',\n      tickCount: 5,\n      tickInterval: 0.2,\n    },\n  },\n  animation: false as const,\n};\n",null,null,"import * as glMatrix from \"./common.js\";\n/**\n * 3 Dimensional Vector\n * @module vec3\n */\n\n/**\n * Creates a new, empty vec3\n *\n * @returns {vec3} a new 3D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(3);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec3 initialized with values from an existing vector\n *\n * @param {ReadonlyVec3} a vector to clone\n * @returns {vec3} a new 3D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Calculates the length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Creates a new vec3 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} a new 3D vector\n */\n\nexport function fromValues(x, y, z) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Copy the values from one vec3 to another\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the source vector\n * @returns {vec3} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Set the components of a vec3 to the given values\n *\n * @param {vec3} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} out\n */\n\nexport function set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Adds two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\n * Multiplies two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\n * Divides two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\n * Math.ceil the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to ceil\n * @returns {vec3} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\n * Math.floor the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to floor\n * @returns {vec3} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\n * Returns the minimum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\n * Returns the maximum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\n * Math.round the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to round\n * @returns {vec3} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\n * Scales a vec3 by a scalar number\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec3} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\n * Adds two vec3's after scaling the second operand by a scalar value\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec3} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Calculates the squared euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Calculates the squared length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Negates the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to negate\n * @returns {vec3} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to invert\n * @returns {vec3} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\n * Normalize a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to normalize\n * @returns {vec3} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  out[2] = a[2] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\n * Computes the cross product of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\n * Performs a hermite interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Performs a bezier interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec3} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec3} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat4.\n * 4th vector component is implicitly '1'\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec3} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat3.\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat3} m the 3x3 matrix to transform with\n * @returns {vec3} out\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\n * Transforms the vec3 with a quat\n * Can also be used for dual quaternions. (Multiply it with the real part)\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyQuat} q quaternion to transform with\n * @returns {vec3} out\n */\n\nexport function transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\n * Rotate a 3D vector around the x-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateX(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);\n  r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the y-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateY(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the z-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateZ(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);\n  r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Get the angle between two 3D vectors\n * @param {ReadonlyVec3} a The first operand\n * @param {ReadonlyVec3} b The second operand\n * @returns {Number} The angle in radians\n */\n\nexport function angle(a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      bx = b[0],\n      by = b[1],\n      bz = b[2],\n      mag1 = Math.sqrt(ax * ax + ay * ay + az * az),\n      mag2 = Math.sqrt(bx * bx + by * by + bz * bz),\n      mag = mag1 * mag2,\n      cosine = mag && dot(a, b) / mag;\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec3 to zero\n *\n * @param {vec3} out the receiving vector\n * @returns {vec3} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec3} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \")\";\n}\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\n * Alias for {@link vec3.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec3.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec3.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec3.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec3.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec3.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec3.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec3s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();",null,null,null,null,"var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar BrowserInfo = /** @class */ (function () {\n    function BrowserInfo(name, version, os) {\n        this.name = name;\n        this.version = version;\n        this.os = os;\n        this.type = 'browser';\n    }\n    return BrowserInfo;\n}());\nexport { BrowserInfo };\nvar NodeInfo = /** @class */ (function () {\n    function NodeInfo(version) {\n        this.version = version;\n        this.type = 'node';\n        this.name = 'node';\n        this.os = process.platform;\n    }\n    return NodeInfo;\n}());\nexport { NodeInfo };\nvar SearchBotDeviceInfo = /** @class */ (function () {\n    function SearchBotDeviceInfo(name, version, os, bot) {\n        this.name = name;\n        this.version = version;\n        this.os = os;\n        this.bot = bot;\n        this.type = 'bot-device';\n    }\n    return SearchBotDeviceInfo;\n}());\nexport { SearchBotDeviceInfo };\nvar BotInfo = /** @class */ (function () {\n    function BotInfo() {\n        this.type = 'bot';\n        this.bot = true; // NOTE: deprecated test name instead\n        this.name = 'bot';\n        this.version = null;\n        this.os = null;\n    }\n    return BotInfo;\n}());\nexport { BotInfo };\nvar ReactNativeInfo = /** @class */ (function () {\n    function ReactNativeInfo() {\n        this.type = 'react-native';\n        this.name = 'react-native';\n        this.version = null;\n        this.os = null;\n    }\n    return ReactNativeInfo;\n}());\nexport { ReactNativeInfo };\n// tslint:disable-next-line:max-line-length\nvar SEARCHBOX_UA_REGEX = /alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/;\nvar SEARCHBOT_OS_REGEX = /(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\\ Jeeves\\/Teoma|ia_archiver)/;\nvar REQUIRED_VERSION_PARTS = 3;\nvar userAgentRules = [\n    ['aol', /AOLShield\\/([0-9\\._]+)/],\n    ['edge', /Edge\\/([0-9\\._]+)/],\n    ['edge-ios', /EdgiOS\\/([0-9\\._]+)/],\n    ['yandexbrowser', /YaBrowser\\/([0-9\\._]+)/],\n    ['kakaotalk', /KAKAOTALK\\s([0-9\\.]+)/],\n    ['samsung', /SamsungBrowser\\/([0-9\\.]+)/],\n    ['silk', /\\bSilk\\/([0-9._-]+)\\b/],\n    ['miui', /MiuiBrowser\\/([0-9\\.]+)$/],\n    ['beaker', /BeakerBrowser\\/([0-9\\.]+)/],\n    ['edge-chromium', /EdgA?\\/([0-9\\.]+)/],\n    [\n        'chromium-webview',\n        /(?!Chrom.*OPR)wv\\).*Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/,\n    ],\n    ['chrome', /(?!Chrom.*OPR)Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/],\n    ['phantomjs', /PhantomJS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['crios', /CriOS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['firefox', /Firefox\\/([0-9\\.]+)(?:\\s|$)/],\n    ['fxios', /FxiOS\\/([0-9\\.]+)/],\n    ['opera-mini', /Opera Mini.*Version\\/([0-9\\.]+)/],\n    ['opera', /Opera\\/([0-9\\.]+)(?:\\s|$)/],\n    ['opera', /OPR\\/([0-9\\.]+)(:?\\s|$)/],\n    ['pie', /^Microsoft Pocket Internet Explorer\\/(\\d+\\.\\d+)$/],\n    ['pie', /^Mozilla\\/\\d\\.\\d+\\s\\(compatible;\\s(?:MSP?IE|MSInternet Explorer) (\\d+\\.\\d+);.*Windows CE.*\\)$/],\n    ['netfront', /^Mozilla\\/\\d\\.\\d+.*NetFront\\/(\\d.\\d)/],\n    ['ie', /Trident\\/7\\.0.*rv\\:([0-9\\.]+).*\\).*Gecko$/],\n    ['ie', /MSIE\\s([0-9\\.]+);.*Trident\\/[4-7].0/],\n    ['ie', /MSIE\\s(7\\.0)/],\n    ['bb10', /BB10;\\sTouch.*Version\\/([0-9\\.]+)/],\n    ['android', /Android\\s([0-9\\.]+)/],\n    ['ios', /Version\\/([0-9\\._]+).*Mobile.*Safari.*/],\n    ['safari', /Version\\/([0-9\\._]+).*Safari/],\n    ['facebook', /FB[AS]V\\/([0-9\\.]+)/],\n    ['instagram', /Instagram\\s([0-9\\.]+)/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Mobile/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Gecko\\)$/],\n    ['curl', /^curl\\/([0-9\\.]+)$/],\n    ['searchbot', SEARCHBOX_UA_REGEX],\n];\nvar operatingSystemRules = [\n    ['iOS', /iP(hone|od|ad)/],\n    ['Android OS', /Android/],\n    ['BlackBerry OS', /BlackBerry|BB10/],\n    ['Windows Mobile', /IEMobile/],\n    ['Amazon OS', /Kindle/],\n    ['Windows 3.11', /Win16/],\n    ['Windows 95', /(Windows 95)|(Win95)|(Windows_95)/],\n    ['Windows 98', /(Windows 98)|(Win98)/],\n    ['Windows 2000', /(Windows NT 5.0)|(Windows 2000)/],\n    ['Windows XP', /(Windows NT 5.1)|(Windows XP)/],\n    ['Windows Server 2003', /(Windows NT 5.2)/],\n    ['Windows Vista', /(Windows NT 6.0)/],\n    ['Windows 7', /(Windows NT 6.1)/],\n    ['Windows 8', /(Windows NT 6.2)/],\n    ['Windows 8.1', /(Windows NT 6.3)/],\n    ['Windows 10', /(Windows NT 10.0)/],\n    ['Windows ME', /Windows ME/],\n    ['Windows CE', /Windows CE|WinCE|Microsoft Pocket Internet Explorer/],\n    ['Open BSD', /OpenBSD/],\n    ['Sun OS', /SunOS/],\n    ['Chrome OS', /CrOS/],\n    ['Linux', /(Linux)|(X11)/],\n    ['Mac OS', /(Mac_PowerPC)|(Macintosh)/],\n    ['QNX', /QNX/],\n    ['BeOS', /BeOS/],\n    ['OS/2', /OS\\/2/],\n];\nexport function detect(userAgent) {\n    if (!!userAgent) {\n        return parseUserAgent(userAgent);\n    }\n    if (typeof document === 'undefined' &&\n        typeof navigator !== 'undefined' &&\n        navigator.product === 'ReactNative') {\n        return new ReactNativeInfo();\n    }\n    if (typeof navigator !== 'undefined') {\n        return parseUserAgent(navigator.userAgent);\n    }\n    return getNodeVersion();\n}\nfunction matchUserAgent(ua) {\n    // opted for using reduce here rather than Array#first with a regex.test call\n    // this is primarily because using the reduce we only perform the regex\n    // execution once rather than once for the test and for the exec again below\n    // probably something that needs to be benchmarked though\n    return (ua !== '' &&\n        userAgentRules.reduce(function (matched, _a) {\n            var browser = _a[0], regex = _a[1];\n            if (matched) {\n                return matched;\n            }\n            var uaMatch = regex.exec(ua);\n            return !!uaMatch && [browser, uaMatch];\n        }, false));\n}\nexport function browserName(ua) {\n    var data = matchUserAgent(ua);\n    return data ? data[0] : null;\n}\nexport function parseUserAgent(ua) {\n    var matchedRule = matchUserAgent(ua);\n    if (!matchedRule) {\n        return null;\n    }\n    var name = matchedRule[0], match = matchedRule[1];\n    if (name === 'searchbot') {\n        return new BotInfo();\n    }\n    // Do not use RegExp for split operation as some browser do not support it (See: http://blog.stevenlevithan.com/archives/cross-browser-split)\n    var versionParts = match[1] && match[1].split('.').join('_').split('_').slice(0, 3);\n    if (versionParts) {\n        if (versionParts.length < REQUIRED_VERSION_PARTS) {\n            versionParts = __spreadArray(__spreadArray([], versionParts, true), createVersionParts(REQUIRED_VERSION_PARTS - versionParts.length), true);\n        }\n    }\n    else {\n        versionParts = [];\n    }\n    var version = versionParts.join('.');\n    var os = detectOS(ua);\n    var searchBotMatch = SEARCHBOT_OS_REGEX.exec(ua);\n    if (searchBotMatch && searchBotMatch[1]) {\n        return new SearchBotDeviceInfo(name, version, os, searchBotMatch[1]);\n    }\n    return new BrowserInfo(name, version, os);\n}\nexport function detectOS(ua) {\n    for (var ii = 0, count = operatingSystemRules.length; ii < count; ii++) {\n        var _a = operatingSystemRules[ii], os = _a[0], regex = _a[1];\n        var match = regex.exec(ua);\n        if (match) {\n            return os;\n        }\n    }\n    return null;\n}\nexport function getNodeVersion() {\n    var isNode = typeof process !== 'undefined' && process.version;\n    return isNode ? new NodeInfo(process.version.slice(1)) : null;\n}\nfunction createVersionParts(count) {\n    var output = [];\n    for (var ii = 0; ii < count; ii++) {\n        output.push('0');\n    }\n    return output;\n}\n",null,"/**\n * \n * @param v\n */\nexport function isRealNumber(v: any) {\n  return typeof v === 'number' && !isNaN(v);\n}\n\n/**\n * @ignore\n * Determines whether between is\n * @param value\n * @param start\n * @param end\n * @returns true if between\n */\nexport function isBetween(value: number, start: number, end: number): boolean {\n  const min = Math.min(start, end);\n  const max = Math.max(start, end);\n\n  return value >= min && value <= max;\n}\n","import { Geometry } from '@antv/g2';\nimport { each, isArray } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport {\n  tooltip,\n  slider,\n  interaction,\n  animation,\n  theme,\n  scale,\n  annotation,\n  limitInPlot,\n  scrollbar,\n} from '../../adaptor/common';\nimport { findGeometry, transformLabel, deepAssign } from '../../utils';\nimport { point, line, area } from '../../adaptor/geometries';\nimport { flow } from '../../utils';\nimport { adjustYMetaByZero } from '../../utils/data';\nimport { LineOptions } from './types';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<LineOptions>): Params<LineOptions> {\n  const { chart, options } = params;\n  const { data, color, lineStyle, lineShape, point: pointMapping, area: areaMapping, seriesField } = options;\n  const pointState = pointMapping?.state;\n  const areaState = areaMapping?.state;\n\n  chart.data(data);\n\n  // line geometry \n  const primary = deepAssign({}, params, {\n    options: {\n      shapeField: seriesField,\n      line: {\n        color,\n        style: lineStyle,\n        shape: lineShape,\n      },\n      //  tooltip \n      // \n      point: pointMapping && {\n        color,\n        shape: 'circle',\n        ...pointMapping,\n      },\n      // \n      area: areaMapping && {\n        color,\n        ...areaMapping,\n      },\n      // label  geometry adaptor label adaptor \n      label: undefined,\n    },\n  });\n  const second = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n  const areaParams = deepAssign({}, primary, { options: { tooltip: false, state: areaState } });\n\n  line(primary);\n  point(second);\n  area(areaParams);\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<LineOptions>): Params<LineOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField, data } = options;\n\n  return flow(\n    scale(\n      {\n        [xField]: xAxis,\n        [yField]: yAxis,\n      },\n      {\n        [xField]: {\n          type: 'cat',\n        },\n        [yField]: adjustYMetaByZero(data, yField),\n      }\n    )\n  )(params);\n}\n\n/**\n * .  reflect \n * @param params\n */\nfunction coordinate(params: Params<LineOptions>): Params<LineOptions> {\n  const { chart, options } = params;\n  const { reflect } = options;\n  if (reflect) {\n    let p = reflect as any;\n    if (!isArray(p)) {\n      p = [p];\n    }\n    const actions = p.map((d) => ['reflect', d]);\n\n    chart.coordinate({ type: 'rect', actions });\n  }\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nexport function axis(params: Params<LineOptions>): Params<LineOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(yField, false);\n  } else {\n    chart.axis(yField, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<LineOptions>): Params<LineOptions> {\n  const { chart, options } = params;\n  const { legend, seriesField } = options;\n\n  if (legend && seriesField) {\n    chart.legend(seriesField, legend);\n  } else if (legend === false) {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<LineOptions>): Params<LineOptions> {\n  const { chart, options } = params;\n  const { label, yField } = options;\n\n  const lineGeometry = findGeometry(chart, 'line');\n\n  // label  false,   label\n  if (!label) {\n    lineGeometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    lineGeometry.label({\n      fields: [yField],\n      callback,\n      cfg: {\n        layout: [\n          { type: 'limit-in-plot' },\n          { type: 'path-adjust-position' },\n          { type: 'point-adjust-position' },\n          { type: 'limit-in-plot', cfg: { action: 'hide' } },\n        ],\n        ...transformLabel(cfg),\n      },\n    });\n  }\n\n  return params;\n}\n\n/**\n *  adjust\n * @param params\n */\nexport function adjust(params: Params<Pick<LineOptions, 'isStack'>>): Params<any> {\n  const { chart, options } = params;\n  const { isStack } = options;\n\n  if (isStack) {\n    each(chart.geometries, (g: Geometry) => {\n      g.adjust('stack');\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<LineOptions>) {\n  // flow  G2 API\n  return flow(\n    geometry,\n    meta,\n    adjust,\n    theme,\n    coordinate,\n    axis,\n    legend,\n    tooltip,\n    label,\n    slider,\n    scrollbar,\n    interaction,\n    animation,\n    annotation(),\n    limitInPlot\n  )(params);\n}\n","import { PatternCfg } from '../../types/pattern';\n\n/**\n * \n */\nexport function getPixelRatio(): number {\n  return typeof window === 'object' ? window?.devicePixelRatio : 2;\n}\n\n/**\n *  cavnas\n */\nexport function initCanvas(width: number, height: number = width): HTMLCanvasElement {\n  const canvas = document.createElement('canvas');\n\n  const pixelRatio = getPixelRatio();\n  // \n  canvas.width = width * pixelRatio;\n  canvas.height = height * pixelRatio;\n  // \n  canvas.style.width = `${width}px`;\n  canvas.style.height = `${height}px`;\n\n  const ctx = canvas.getContext('2d');\n  ctx.scale(pixelRatio, pixelRatio);\n\n  return canvas;\n}\n\n/**\n * \n *\n * @param context\n * @param cfg\n * @param width\n * @param height\n */\nexport function drawBackground(\n  context: CanvasRenderingContext2D,\n  cfg: PatternCfg,\n  width: number,\n  height: number = width\n) {\n  const { backgroundColor, opacity } = cfg;\n\n  context.globalAlpha = opacity;\n  context.fillStyle = backgroundColor;\n\n  context.beginPath();\n  context.fillRect(0, 0, width, height);\n  context.closePath();\n}\n\n/**\n * \n *\n * @param size \n * @param padding \n * @param isStagger \n * @reutrn \n */\nexport function getUnitPatternSize(size: number, padding: number, isStagger: boolean): number {\n  // , unitSize \n  const unitSize = size + padding;\n  return isStagger ? unitSize * 2 : unitSize;\n}\n\n/**\n * \n *\n * @param unitSize \n * @param isStagger \n * @reutrn  x,y \n */\nexport function getSymbolsPosition(unitSize: number, isStagger: boolean): number[][] {\n  // ,  dot\n  const symbolsPos = isStagger\n    ? [\n        [unitSize * (1 / 4), unitSize * (1 / 4)],\n        [unitSize * (3 / 4), unitSize * (3 / 4)],\n      ]\n    : [[unitSize * (1 / 2), unitSize * (1 / 2)]];\n  return symbolsPos;\n}\n\n/**\n *  pattern , \n *\n * @param pattern \n * @param dpr  \n * @param rotation \n */\nexport function transformMatrix(dpr: number, rotation: number) {\n  const radian = (rotation * Math.PI) / 180;\n  const matrix = {\n    a: Math.cos(radian) * (1 / dpr),\n    b: Math.sin(radian) * (1 / dpr),\n    c: -Math.sin(radian) * (1 / dpr),\n    d: Math.cos(radian) * (1 / dpr),\n    e: 0,\n    f: 0,\n  };\n  return matrix;\n}\n","import { Options, ShapeAttr, SizeAttr, StyleAttr } from '../../types';\nimport { LineOptions } from '../line/types';\nimport { ColumnOptions } from '../column/types';\n\nexport enum AxisType {\n  Left = 'Left',\n  Right = 'Right',\n}\n\nexport enum DualAxesGeometry {\n  Line = 'line',\n  Column = 'column',\n}\n\nexport interface PointConfig {\n  readonly shape?: ShapeAttr;\n  readonly size?: SizeAttr;\n  readonly style?: StyleAttr;\n}\n\ntype CommonGeometryOption = {\n  /**\n   * @title \n   */\n  readonly geometry?: string;\n  /**\n   * @title \n   */\n  readonly label?: Options['label'];\n  /**\n   * @title legend\n   */\n  readonly legend?: Options['legend'];\n  /**\n   * @title \n   */\n  readonly color?: Options['color'];\n  /**\n   * @title \n   * @default false\n   */\n  readonly isGroup?: boolean;\n  /**\n   * @title \n   * @description  seriesField\n   */\n  readonly groupField?: string;\n};\n\n// ,  LineOption \nexport type GeometryLineOption = Pick<\n  LineOptions,\n  'seriesField' | 'smooth' | 'connectNulls' | 'lineStyle' | 'point' | 'isStack' | 'stepType'\n> &\n  CommonGeometryOption;\n\n// \nexport type GeometryColumnOption = Pick<\n  ColumnOptions,\n  | 'seriesField'\n  | 'isGroup'\n  | 'isStack'\n  | 'isRange'\n  | 'isPercent'\n  | 'columnWidthRatio'\n  | 'marginRatio'\n  | 'columnStyle'\n  | 'pattern'\n> &\n  CommonGeometryOption;\n\nexport type GeometryOption = GeometryColumnOption | GeometryLineOption;\n\nexport type DualAxesOptions = Omit<Options, 'data' | 'yAxis' | 'color' | 'annotations'> & {\n  /**\n   * @title \n   * @description \n   */\n  readonly data: Array<Record<string, any>[]>;\n  /**\n   * @title  x \n   * @description x \n   */\n  readonly xField: string;\n  /**\n   * @title  y \n   * @description \n   */\n  readonly yField: string[];\n  /**\n   * @title  yAxis \n   * @description  object key  y \n   */\n  readonly yAxis?: Options['yAxis'][] | Record<string, Options['yAxis']>;\n  /**\n   * @title \n   */\n  readonly geometryOptions?: GeometryOption[];\n  /**\n   * @title  annotation \n   * @description object  field \n   */\n  readonly annotations?: Options['annotations'][] | Record<string, Options['annotations']>;\n};\n","import { get, isArray } from '@antv/util';\nimport { Axis } from '../../../types/axis';\nimport { deepAssign } from '../../../utils';\nimport {\n  DualAxesOptions,\n  GeometryOption,\n  DualAxesGeometry,\n  GeometryLineOption,\n  GeometryColumnOption,\n  AxisType,\n} from '../types';\nimport { DEFAULT_LEFT_YAXIS_CONFIG, DEFAULT_RIGHT_YAXIS_CONFIG } from '../constant';\n\n/**\n *  GeometryOption  geometry  line\n */\nexport function isLine(geometryOption: GeometryOption): geometryOption is GeometryLineOption {\n  return get(geometryOption, 'geometry') === DualAxesGeometry.Line;\n}\n\n/**\n *  GeometryOption  geometry  Column\n */\nexport function isColumn(geometryOption: GeometryOption): geometryOption is GeometryColumnOption {\n  return get(geometryOption, 'geometry') === DualAxesGeometry.Column;\n}\n\n/**\n *  GeometryOption\n * @param geometryOption\n * @param axis\n */\nexport function getGeometryOption(xField: string, yField: string, geometryOption: GeometryOption): GeometryOption {\n  // \n  return isColumn(geometryOption)\n    ? deepAssign(\n        {},\n        {\n          geometry: DualAxesGeometry.Column,\n          label:\n            geometryOption.label && geometryOption.isRange\n              ? {\n                  content: (item: object) => {\n                    return item[yField]?.join('-');\n                  },\n                }\n              : undefined,\n        },\n        geometryOption\n      )\n    : {\n        geometry: DualAxesGeometry.Line,\n        ...geometryOption,\n      };\n}\n\n/**\n *   arr  obj   yAxisannotations\n *  yField  object \n * @param yField\n * @param transformAttribute\n */\nexport function transformObjectToArray(\n  yField: DualAxesOptions['yField'],\n  transformAttribute: Record<string, any> | any[]\n): any[] {\n  const [y1, y2] = yField;\n\n  if (isArray(transformAttribute)) {\n    // \n    const [a1, a2] = transformAttribute;\n    return [a1, a2];\n  }\n  const a1 = get(transformAttribute, y1);\n  const a2 = get(transformAttribute, y2);\n  return [a1, a2];\n}\n\n/**\n * \n * @param yAxis\n * @param axisType\n */\nexport function getYAxisWithDefault(yAxis: Axis, axisType: AxisType): Axis {\n  if (axisType === AxisType.Left) {\n    return yAxis === false ? false : deepAssign({}, DEFAULT_LEFT_YAXIS_CONFIG, yAxis);\n  } else if (axisType === AxisType.Right) {\n    return yAxis === false ? false : deepAssign({}, DEFAULT_RIGHT_YAXIS_CONFIG, yAxis);\n  }\n  return yAxis;\n}\n","import { isString } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { flow, deepAssign } from '../../utils';\nimport { scale, animation, theme, annotation } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { ProgressOptions } from './types';\nimport { DEFAULT_COLOR } from './constants';\nimport { getProgressData } from './utils';\n\n/**\n * \n * @param params\n */\nexport function geometry(params: Params<ProgressOptions>): Params<ProgressOptions> {\n  const { chart, options } = params;\n  const { percent, progressStyle, color, barWidthRatio } = options;\n\n  chart.data(getProgressData(percent));\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: '1',\n      yField: 'percent',\n      seriesField: 'type',\n      isStack: true,\n      widthRatio: barWidthRatio,\n      interval: {\n        style: progressStyle,\n        color: isString(color) ? [color, DEFAULT_COLOR[1]] : color,\n      },\n      args: {\n        zIndexReversed: true,\n        sortZIndex: true,\n      },\n    },\n  });\n\n  interval(p);\n\n  // \n  chart.tooltip(false);\n  chart.axis(false);\n  chart.legend(false);\n\n  return params;\n}\n\n/**\n * other \n * @param params\n */\nfunction coordinate(params: Params<ProgressOptions>): Params<ProgressOptions> {\n  const { chart } = params;\n\n  chart.coordinate('rect').transpose();\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<ProgressOptions>) {\n  // @ts-ignore\n  return flow(geometry, scale({}), coordinate, animation, theme, annotation())(params);\n}\n","import { clamp } from '@antv/util';\nimport { isRealNumber } from '../../utils/number';\n\n/**\n * \n */\nexport function getProgressData(percent: number) {\n  const clampPercent = clamp(isRealNumber(percent) ? percent : 0, 0, 1);\n  return [\n    {\n      type: 'current',\n      percent: clampPercent,\n    },\n    {\n      type: 'target',\n      percent: 1 - clampPercent,\n    },\n  ];\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\nexport const BOX_RANGE = '$$range$$';\nexport const BOX_RANGE_ALIAS = 'low-q1-median-q3-high';\n\nexport const BOX_SYNC_NAME = '$$y_outliers$$';\n\nexport const OUTLIERS_VIEW_ID = 'outliers_view';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  meta: {\n    [BOX_RANGE]: { min: 0, alias: BOX_RANGE_ALIAS },\n  },\n\n  // \n  interactions: [{ type: 'active-region' }],\n\n  //  tooltips  markers\n  tooltip: {\n    showMarkers: false,\n    shared: true,\n  },\n  boxStyle: {\n    lineWidth: 1,\n  },\n});\n","import { View } from '@antv/g2';\n\n/** tofront:   */\nexport function placeElementsOrdered(view: View) {\n  if (!view) {\n    return;\n  }\n  const elements = view.geometries[0].elements;\n  elements.forEach((elem) => {\n    elem.shape.toFront();\n  });\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\nexport const Y_FIELD = '$$stock-range$$';\n\nexport const TREND_FIELD = 'trend';\nexport const TREND_UP = 'up';\nexport const TREND_DOWN = 'down';\n\n/** tooltip  */\nexport const DEFAULT_TOOLTIP_OPTIONS = {\n  showMarkers: false,\n  showCrosshairs: true,\n  shared: true,\n  crosshairs: {\n    type: 'xy',\n    follow: true,\n    text: (type, defaultContent, items) => {\n      let textContent;\n      if (type === 'x') {\n        const item = items[0];\n        textContent = item ? item.title : defaultContent;\n      } else {\n        textContent = defaultContent;\n      }\n      return {\n        position: type === 'y' ? 'start' : 'end',\n        content: textContent,\n        style: {\n          fill: '#dfdfdf',\n        },\n      };\n    },\n    //  crosshairs textBackground \n    textBackground: {\n      padding: [2, 4],\n      style: {\n        fill: '#666',\n      },\n    },\n  },\n};\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  //  tooltips\n  tooltip: DEFAULT_TOOLTIP_OPTIONS,\n  interactions: [{ type: 'tooltip' }],\n  legend: {\n    position: 'top-left',\n  },\n  risingFill: '#ef5350',\n  fallingFill: '#26a69a',\n});\n","import { Types } from '@antv/g2';\nimport { isFunction, map, isNumber, maxBy, get } from '@antv/util';\nimport { Datum, Data } from '../../../types/common';\nimport { FUNNEL_PERCENT, FUNNEL_CONVERSATION, FUNNEL_MAPPING_VALUE } from '../constant';\nimport { Params } from '../../../core/adaptor';\nimport { FunnelOptions } from '../types';\n\n/**\n *  transform\n * @param geometry\n */\nexport function transformData(\n  data: FunnelOptions['data'],\n  originData: FunnelOptions['data'],\n  options: Pick<FunnelOptions, 'yField' | 'maxSize' | 'minSize'>\n): FunnelOptions['data'] {\n  let formatData = [];\n  const { yField, maxSize, minSize } = options;\n  const maxYFieldValue = get(maxBy(originData, yField), [yField]);\n  const max = isNumber(maxSize) ? maxSize : 1;\n  const min = isNumber(minSize) ? minSize : 0;\n\n  // format \n  formatData = map(data, (row, index) => {\n    const percent = (row[yField] || 0) / maxYFieldValue;\n    row[FUNNEL_PERCENT] = percent;\n    row[FUNNEL_MAPPING_VALUE] = (max - min) * percent + min;\n    // \n    row[FUNNEL_CONVERSATION] = [get(data, [index - 1, yField]), row[yField]];\n    return row;\n  });\n\n  return formatData;\n}\n\n/**\n * \n * @param getLineCoordinate  line \n */\nexport function conversionTagComponent(\n  getLineCoordinate: (\n    datum: Datum,\n    datumIndex: number,\n    data: Data,\n    initLineOption: Record<string, any>\n  ) => Types.LineOption\n) {\n  return function (params: Params<FunnelOptions>): Params<FunnelOptions> {\n    const { chart, options } = params;\n    const { conversionTag } = options;\n\n    const { data } = chart.getOptions();\n\n    if (conversionTag) {\n      const { formatter } = conversionTag;\n      data.forEach((obj, index) => {\n        if (index <= 0 || Number.isNaN(obj[FUNNEL_MAPPING_VALUE])) return;\n        const lineOption = getLineCoordinate(obj, index, data, {\n          top: true,\n          text: {\n            content: isFunction(formatter) ? formatter(obj, data) : formatter,\n            offsetX: conversionTag.offsetX,\n            offsetY: conversionTag.offsetY,\n            position: 'end',\n            autoRotate: false,\n            style: {\n              textAlign: 'start',\n              textBaseline: 'middle',\n              ...conversionTag.style,\n            },\n          },\n        });\n\n        chart.annotation().line(lineOption);\n      });\n    }\n    return params;\n  };\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\nimport { CHILD_NODE_COUNT, NODE_ANCESTORS_FIELD, NODE_INDEX_FIELD } from '../../utils/hierarchy/util';\nimport { SunburstOptions } from './types';\n\n/**\n *  root \n */\nexport const SUNBURST_ANCESTOR_FIELD = 'ancestor-node';\nexport const SUNBURST_Y_FIELD = 'value';\nexport const SUNBURST_PATH_FIELD = 'path';\n\n/**  */\nexport const RAW_FIELDS = [\n  SUNBURST_PATH_FIELD,\n  NODE_INDEX_FIELD,\n  NODE_ANCESTORS_FIELD,\n  CHILD_NODE_COUNT,\n  'name',\n  'depth',\n  'height',\n];\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS: Partial<SunburstOptions> = deepAssign({}, Plot.getDefaultOptions(), {\n  innerRadius: 0,\n  radius: 0.85,\n\n  // \n  hierarchyConfig: {\n    //  value\n    field: 'value',\n  },\n\n  // \n  tooltip: {\n    shared: true,\n    showMarkers: false,\n    offset: 20,\n    showTitle: false,\n  },\n  legend: false,\n\n  // \n  sunburstStyle: {\n    lineWidth: 0.5,\n    stroke: '#FFF',\n  },\n\n  // \n  drilldown: { enabled: true },\n});\n","import { registerInteraction, registerAction } from '@antv/g2';\nimport { get, isArray } from '@antv/util';\nimport { DrillDownAction } from './actions/drill-down';\n\n/**\n * \n */\nexport function isParentNode(context) {\n  const data = get(context, ['event', 'data', 'data'], {});\n  return isArray(data.children) && data.children.length > 0;\n}\n\n/**\n * \n */\nfunction inCenter(context) {\n  const coordinate = context.view.getCoordinate();\n  const { innerRadius } = coordinate;\n  if (innerRadius) {\n    const { x, y } = context.event;\n    const { x: centerX, y: centerY } = coordinate.center;\n    const r = coordinate.getRadius() * innerRadius;\n    const distance = Math.sqrt((centerX - x) ** 2 + (centerY - y) ** 2);\n    return distance < r;\n  }\n  return false;\n}\n\nregisterAction('drill-down-action', DrillDownAction);\nregisterInteraction('drill-down', {\n  showEnable: [\n    { trigger: 'element:mouseenter', action: 'cursor:pointer', isEnable: isParentNode },\n    { trigger: 'element:mouseleave', action: 'cursor:default' },\n    //  element:mouseleave \n    { trigger: 'element:mouseleave', action: 'cursor:pointer', isEnable: inCenter },\n  ],\n  start: [\n    {\n      trigger: 'element:click',\n      isEnable: isParentNode,\n      action: ['drill-down-action:click'],\n    },\n    {\n      trigger: 'afterchangesize',\n      action: ['drill-down-action:resetPosition'],\n    },\n    {\n      // \n      trigger: 'click',\n      isEnable: inCenter,\n      action: ['drill-down-action:back'],\n    },\n  ],\n});\n","export const Y_FIELD = '$$yField$$';\nexport const DIFF_FIELD = '$$diffField$$';\nexport const ABSOLUTE_FIELD = '$$absoluteField$$';\nexport const IS_TOTAL = '$$isTotal$$';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = {\n  /** default: show label */\n  label: {},\n  /** default: show leaderLine */\n  leaderLine: {\n    style: {\n      lineWidth: 1,\n      stroke: '#8c8c8c',\n      lineDash: [4, 2],\n    },\n  },\n  /** default: show total */\n  total: {\n    style: {\n      fill: 'rgba(0, 0, 0, 0.25)',\n    },\n  },\n  interactions: [{ type: 'element-active' }],\n  risingFill: '#f4664a',\n  fallingFill: '#30bf78',\n  waterfallStyle: {\n    fill: 'rgba(0, 0, 0, 0.25)',\n  },\n  yAxis: {\n    grid: {\n      line: {\n        style: {\n          lineDash: [4, 2],\n        },\n      },\n    },\n  },\n};\n","export const X_FIELD = 'x';\nexport const Y_FIELD = 'y';\nexport const COLOR_FIELD = 'name';\nexport const NODES_VIEW_ID = 'nodes';\nexport const EDGES_VIEW_ID = 'edges';\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { MixOptions } from './types';\nimport { adaptor } from './adaptor';\nimport './interactions';\n\nexport type { MixOptions };\n\n/**\n *  G2 80% \n * 1. \n *   -  + \n *   - \n *   - ...\n * 2. \n *   - \n *   - \n *   - ...\n */\nexport class Mix extends Plot<MixOptions> {\n  /**  */\n  public type: string = 'mix';\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<MixOptions> {\n    return adaptor;\n  }\n}\n","function defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\nfunction meanX(children) {\n  return children.reduce(meanXReduce, 0) / children.length;\n}\n\nfunction meanXReduce(x, c) {\n  return x + c.x;\n}\n\nfunction maxY(children) {\n  return 1 + children.reduce(maxYReduce, 0);\n}\n\nfunction maxYReduce(y, c) {\n  return Math.max(y, c.y);\n}\n\nfunction leafLeft(node) {\n  var children;\n  while (children = node.children) node = children[0];\n  return node;\n}\n\nfunction leafRight(node) {\n  var children;\n  while (children = node.children) node = children[children.length - 1];\n  return node;\n}\n\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = false;\n\n  function cluster(root) {\n    var previousNode,\n        x = 0;\n\n    // First walk, computing the initial x & y values.\n    root.eachAfter(function(node) {\n      var children = node.children;\n      if (children) {\n        node.x = meanX(children);\n        node.y = maxY(children);\n      } else {\n        node.x = previousNode ? x += separation(node, previousNode) : 0;\n        node.y = 0;\n        previousNode = node;\n      }\n    });\n\n    var left = leafLeft(root),\n        right = leafRight(root),\n        x0 = left.x - separation(left, right) / 2,\n        x1 = right.x + separation(right, left) / 2;\n\n    // Second walk, normalizing x & y to the desired size.\n    return root.eachAfter(nodeSize ? function(node) {\n      node.x = (node.x - root.x) * dx;\n      node.y = (root.y - node.y) * dy;\n    } : function(node) {\n      node.x = (node.x - x0) / (x1 - x0) * dx;\n      node.y = (1 - (root.y ? node.y / root.y : 1)) * dy;\n    });\n  }\n\n  cluster.separation = function(x) {\n    return arguments.length ? (separation = x, cluster) : separation;\n  };\n\n  cluster.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], cluster) : (nodeSize ? null : [dx, dy]);\n  };\n\n  cluster.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], cluster) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return cluster;\n}\n","function count(node) {\n  var sum = 0,\n      children = node.children,\n      i = children && children.length;\n  if (!i) sum = 1;\n  else while (--i >= 0) sum += children[i].value;\n  node.value = sum;\n}\n\nexport default function() {\n  return this.eachAfter(count);\n}\n","export default function() {\n  var node = this, nodes = [node];\n  while (node = node.parent) {\n    nodes.push(node);\n  }\n  return nodes;\n}\n","export default function*() {\n  var node = this, current, next = [node], children, i, n;\n  do {\n    current = next.reverse(), next = [];\n    while (node = current.pop()) {\n      yield node;\n      if (children = node.children) {\n        for (i = 0, n = children.length; i < n; ++i) {\n          next.push(children[i]);\n        }\n      }\n    }\n  } while (next.length);\n}\n","import node_count from \"./count.js\";\nimport node_each from \"./each.js\";\nimport node_eachBefore from \"./eachBefore.js\";\nimport node_eachAfter from \"./eachAfter.js\";\nimport node_find from \"./find.js\";\nimport node_sum from \"./sum.js\";\nimport node_sort from \"./sort.js\";\nimport node_path from \"./path.js\";\nimport node_ancestors from \"./ancestors.js\";\nimport node_descendants from \"./descendants.js\";\nimport node_leaves from \"./leaves.js\";\nimport node_links from \"./links.js\";\nimport node_iterator from \"./iterator.js\";\n\nexport default function hierarchy(data, children) {\n  if (data instanceof Map) {\n    data = [undefined, data];\n    if (children === undefined) children = mapChildren;\n  } else if (children === undefined) {\n    children = objectChildren;\n  }\n\n  var root = new Node(data),\n      node,\n      nodes = [root],\n      child,\n      childs,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if ((childs = children(node.data)) && (n = (childs = Array.from(childs)).length)) {\n      node.children = childs;\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = childs[i] = new Node(childs[i]));\n        child.parent = node;\n        child.depth = node.depth + 1;\n      }\n    }\n  }\n\n  return root.eachBefore(computeHeight);\n}\n\nfunction node_copy() {\n  return hierarchy(this).eachBefore(copyData);\n}\n\nfunction objectChildren(d) {\n  return d.children;\n}\n\nfunction mapChildren(d) {\n  return Array.isArray(d) ? d[1] : null;\n}\n\nfunction copyData(node) {\n  if (node.data.value !== undefined) node.value = node.data.value;\n  node.data = node.data.data;\n}\n\nexport function computeHeight(node) {\n  var height = 0;\n  do node.height = height;\n  while ((node = node.parent) && (node.height < ++height));\n}\n\nexport function Node(data) {\n  this.data = data;\n  this.depth =\n  this.height = 0;\n  this.parent = null;\n}\n\nNode.prototype = hierarchy.prototype = {\n  constructor: Node,\n  count: node_count,\n  each: node_each,\n  eachAfter: node_eachAfter,\n  eachBefore: node_eachBefore,\n  find: node_find,\n  sum: node_sum,\n  sort: node_sort,\n  path: node_path,\n  ancestors: node_ancestors,\n  descendants: node_descendants,\n  leaves: node_leaves,\n  links: node_links,\n  copy: node_copy,\n  [Symbol.iterator]: node_iterator\n};\n","export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n","export default function(callback, that) {\n  var node = this, nodes = [node], next = [], children, i, n, index = -1;\n  while (node = nodes.pop()) {\n    next.push(node);\n    if (children = node.children) {\n      for (i = 0, n = children.length; i < n; ++i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  while (node = next.pop()) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n","export default function(callback, that) {\n  var node = this, nodes = [node], children, i, index = -1;\n  while (node = nodes.pop()) {\n    callback.call(that, node, ++index, this);\n    if (children = node.children) {\n      for (i = children.length - 1; i >= 0; --i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  return this;\n}\n","export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    if (callback.call(that, node, ++index, this)) {\n      return node;\n    }\n  }\n}\n","export default function(value) {\n  return this.eachAfter(function(node) {\n    var sum = +value(node.data) || 0,\n        children = node.children,\n        i = children && children.length;\n    while (--i >= 0) sum += children[i].value;\n    node.value = sum;\n  });\n}\n","export default function(compare) {\n  return this.eachBefore(function(node) {\n    if (node.children) {\n      node.children.sort(compare);\n    }\n  });\n}\n","export default function(end) {\n  var start = this,\n      ancestor = leastCommonAncestor(start, end),\n      nodes = [start];\n  while (start !== ancestor) {\n    start = start.parent;\n    nodes.push(start);\n  }\n  var k = nodes.length;\n  while (end !== ancestor) {\n    nodes.splice(k, 0, end);\n    end = end.parent;\n  }\n  return nodes;\n}\n\nfunction leastCommonAncestor(a, b) {\n  if (a === b) return a;\n  var aNodes = a.ancestors(),\n      bNodes = b.ancestors(),\n      c = null;\n  a = aNodes.pop();\n  b = bNodes.pop();\n  while (a === b) {\n    c = a;\n    a = aNodes.pop();\n    b = bNodes.pop();\n  }\n  return c;\n}\n","export default function() {\n  return Array.from(this);\n}\n","export default function() {\n  var leaves = [];\n  this.eachBefore(function(node) {\n    if (!node.children) {\n      leaves.push(node);\n    }\n  });\n  return leaves;\n}\n","export default function() {\n  var root = this, links = [];\n  root.each(function(node) {\n    if (node !== root) { // Dont include the roots parent, if any.\n      links.push({source: node.parent, target: node});\n    }\n  });\n  return links;\n}\n","import {shuffle} from \"../array.js\";\n\nexport default function(circles) {\n  var i = 0, n = (circles = shuffle(Array.from(circles))).length, B = [], p, e;\n\n  while (i < n) {\n    p = circles[i];\n    if (e && enclosesWeak(e, p)) ++i;\n    else e = encloseBasis(B = extendBasis(B, p)), i = 0;\n  }\n\n  return e;\n}\n\nfunction extendBasis(B, p) {\n  var i, j;\n\n  if (enclosesWeakAll(p, B)) return [p];\n\n  // If we get here then B must have at least one element.\n  for (i = 0; i < B.length; ++i) {\n    if (enclosesNot(p, B[i])\n        && enclosesWeakAll(encloseBasis2(B[i], p), B)) {\n      return [B[i], p];\n    }\n  }\n\n  // If we get here then B must have at least two elements.\n  for (i = 0; i < B.length - 1; ++i) {\n    for (j = i + 1; j < B.length; ++j) {\n      if (enclosesNot(encloseBasis2(B[i], B[j]), p)\n          && enclosesNot(encloseBasis2(B[i], p), B[j])\n          && enclosesNot(encloseBasis2(B[j], p), B[i])\n          && enclosesWeakAll(encloseBasis3(B[i], B[j], p), B)) {\n        return [B[i], B[j], p];\n      }\n    }\n  }\n\n  // If we get here then something is very wrong.\n  throw new Error;\n}\n\nfunction enclosesNot(a, b) {\n  var dr = a.r - b.r, dx = b.x - a.x, dy = b.y - a.y;\n  return dr < 0 || dr * dr < dx * dx + dy * dy;\n}\n\nfunction enclosesWeak(a, b) {\n  var dr = a.r - b.r + Math.max(a.r, b.r, 1) * 1e-9, dx = b.x - a.x, dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction enclosesWeakAll(a, B) {\n  for (var i = 0; i < B.length; ++i) {\n    if (!enclosesWeak(a, B[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n\nfunction encloseBasis(B) {\n  switch (B.length) {\n    case 1: return encloseBasis1(B[0]);\n    case 2: return encloseBasis2(B[0], B[1]);\n    case 3: return encloseBasis3(B[0], B[1], B[2]);\n  }\n}\n\nfunction encloseBasis1(a) {\n  return {\n    x: a.x,\n    y: a.y,\n    r: a.r\n  };\n}\n\nfunction encloseBasis2(a, b) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x21 = x2 - x1, y21 = y2 - y1, r21 = r2 - r1,\n      l = Math.sqrt(x21 * x21 + y21 * y21);\n  return {\n    x: (x1 + x2 + x21 / l * r21) / 2,\n    y: (y1 + y2 + y21 / l * r21) / 2,\n    r: (l + r1 + r2) / 2\n  };\n}\n\nfunction encloseBasis3(a, b, c) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x3 = c.x, y3 = c.y, r3 = c.r,\n      a2 = x1 - x2,\n      a3 = x1 - x3,\n      b2 = y1 - y2,\n      b3 = y1 - y3,\n      c2 = r2 - r1,\n      c3 = r3 - r1,\n      d1 = x1 * x1 + y1 * y1 - r1 * r1,\n      d2 = d1 - x2 * x2 - y2 * y2 + r2 * r2,\n      d3 = d1 - x3 * x3 - y3 * y3 + r3 * r3,\n      ab = a3 * b2 - a2 * b3,\n      xa = (b2 * d3 - b3 * d2) / (ab * 2) - x1,\n      xb = (b3 * c2 - b2 * c3) / ab,\n      ya = (a3 * d2 - a2 * d3) / (ab * 2) - y1,\n      yb = (a2 * c3 - a3 * c2) / ab,\n      A = xb * xb + yb * yb - 1,\n      B = 2 * (r1 + xa * xb + ya * yb),\n      C = xa * xa + ya * ya - r1 * r1,\n      r = -(A ? (B + Math.sqrt(B * B - 4 * A * C)) / (2 * A) : C / B);\n  return {\n    x: x1 + xa + xb * r,\n    y: y1 + ya + yb * r,\n    r: r\n  };\n}\n","export default function(x) {\n  return typeof x === \"object\" && \"length\" in x\n    ? x // Array, TypedArray, NodeList, array-like\n    : Array.from(x); // Map, Set, iterable, string, or anything else\n}\n\nexport function shuffle(array) {\n  var m = array.length,\n      t,\n      i;\n\n  while (m) {\n    i = Math.random() * m-- | 0;\n    t = array[m];\n    array[m] = array[i];\n    array[i] = t;\n  }\n\n  return array;\n}\n","import array from \"../array.js\";\nimport enclose from \"./enclose.js\";\n\nfunction place(b, a, c) {\n  var dx = b.x - a.x, x, a2,\n      dy = b.y - a.y, y, b2,\n      d2 = dx * dx + dy * dy;\n  if (d2) {\n    a2 = a.r + c.r, a2 *= a2;\n    b2 = b.r + c.r, b2 *= b2;\n    if (a2 > b2) {\n      x = (d2 + b2 - a2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, b2 / d2 - x * x));\n      c.x = b.x - x * dx - y * dy;\n      c.y = b.y - x * dy + y * dx;\n    } else {\n      x = (d2 + a2 - b2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, a2 / d2 - x * x));\n      c.x = a.x + x * dx - y * dy;\n      c.y = a.y + x * dy + y * dx;\n    }\n  } else {\n    c.x = a.x + c.r;\n    c.y = a.y;\n  }\n}\n\nfunction intersects(a, b) {\n  var dr = a.r + b.r - 1e-6, dx = b.x - a.x, dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction score(node) {\n  var a = node._,\n      b = node.next._,\n      ab = a.r + b.r,\n      dx = (a.x * b.r + b.x * a.r) / ab,\n      dy = (a.y * b.r + b.y * a.r) / ab;\n  return dx * dx + dy * dy;\n}\n\nfunction Node(circle) {\n  this._ = circle;\n  this.next = null;\n  this.previous = null;\n}\n\nexport function packEnclose(circles) {\n  if (!(n = (circles = array(circles)).length)) return 0;\n\n  var a, b, c, n, aa, ca, i, j, k, sj, sk;\n\n  // Place the first circle.\n  a = circles[0], a.x = 0, a.y = 0;\n  if (!(n > 1)) return a.r;\n\n  // Place the second circle.\n  b = circles[1], a.x = -b.r, b.x = a.r, b.y = 0;\n  if (!(n > 2)) return a.r + b.r;\n\n  // Place the third circle.\n  place(b, a, c = circles[2]);\n\n  // Initialize the front-chain using the first three circles a, b and c.\n  a = new Node(a), b = new Node(b), c = new Node(c);\n  a.next = c.previous = b;\n  b.next = a.previous = c;\n  c.next = b.previous = a;\n\n  // Attempt to place each remaining circle\n  pack: for (i = 3; i < n; ++i) {\n    place(a._, b._, c = circles[i]), c = new Node(c);\n\n    // Find the closest intersecting circle on the front-chain, if any.\n    // Closeness is determined by linear distance along the front-chain.\n    // Ahead or behind is likewise determined by linear distance.\n    j = b.next, k = a.previous, sj = b._.r, sk = a._.r;\n    do {\n      if (sj <= sk) {\n        if (intersects(j._, c._)) {\n          b = j, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sj += j._.r, j = j.next;\n      } else {\n        if (intersects(k._, c._)) {\n          a = k, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sk += k._.r, k = k.previous;\n      }\n    } while (j !== k.next);\n\n    // Success! Insert the new circle c between a and b.\n    c.previous = a, c.next = b, a.next = b.previous = b = c;\n\n    // Compute the new closest circle pair to the centroid.\n    aa = score(a);\n    while ((c = c.next) !== b) {\n      if ((ca = score(c)) < aa) {\n        a = c, aa = ca;\n      }\n    }\n    b = a.next;\n  }\n\n  // Compute the enclosing circle of the front chain.\n  a = [b._], c = b; while ((c = c.next) !== b) a.push(c._); c = enclose(a);\n\n  // Translate the circles to put the enclosing circle around the origin.\n  for (i = 0; i < n; ++i) a = circles[i], a.x -= c.x, a.y -= c.y;\n\n  return c.r;\n}\n\nexport default function(circles) {\n  packEnclose(circles);\n  return circles;\n}\n","export function optional(f) {\n  return f == null ? null : required(f);\n}\n\nexport function required(f) {\n  if (typeof f !== \"function\") throw new Error;\n  return f;\n}\n","export function constantZero() {\n  return 0;\n}\n\nexport default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {packEnclose} from \"./siblings.js\";\nimport {optional} from \"../accessors.js\";\nimport constant, {constantZero} from \"../constant.js\";\n\nfunction defaultRadius(d) {\n  return Math.sqrt(d.value);\n}\n\nexport default function() {\n  var radius = null,\n      dx = 1,\n      dy = 1,\n      padding = constantZero;\n\n  function pack(root) {\n    root.x = dx / 2, root.y = dy / 2;\n    if (radius) {\n      root.eachBefore(radiusLeaf(radius))\n          .eachAfter(packChildren(padding, 0.5))\n          .eachBefore(translateChild(1));\n    } else {\n      root.eachBefore(radiusLeaf(defaultRadius))\n          .eachAfter(packChildren(constantZero, 1))\n          .eachAfter(packChildren(padding, root.r / Math.min(dx, dy)))\n          .eachBefore(translateChild(Math.min(dx, dy) / (2 * root.r)));\n    }\n    return root;\n  }\n\n  pack.radius = function(x) {\n    return arguments.length ? (radius = optional(x), pack) : radius;\n  };\n\n  pack.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], pack) : [dx, dy];\n  };\n\n  pack.padding = function(x) {\n    return arguments.length ? (padding = typeof x === \"function\" ? x : constant(+x), pack) : padding;\n  };\n\n  return pack;\n}\n\nfunction radiusLeaf(radius) {\n  return function(node) {\n    if (!node.children) {\n      node.r = Math.max(0, +radius(node) || 0);\n    }\n  };\n}\n\nfunction packChildren(padding, k) {\n  return function(node) {\n    if (children = node.children) {\n      var children,\n          i,\n          n = children.length,\n          r = padding(node) * k || 0,\n          e;\n\n      if (r) for (i = 0; i < n; ++i) children[i].r += r;\n      e = packEnclose(children);\n      if (r) for (i = 0; i < n; ++i) children[i].r -= r;\n      node.r = e + r;\n    }\n  };\n}\n\nfunction translateChild(k) {\n  return function(node) {\n    var parent = node.parent;\n    node.r *= k;\n    if (parent) {\n      node.x = parent.x + k * node.x;\n      node.y = parent.y + k * node.y;\n    }\n  };\n}\n","export default function(node) {\n  node.x0 = Math.round(node.x0);\n  node.y0 = Math.round(node.y0);\n  node.x1 = Math.round(node.x1);\n  node.y1 = Math.round(node.y1);\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (x1 - x0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.y0 = y0, node.y1 = y1;\n    node.x0 = x0, node.x1 = x0 += node.value * k;\n  }\n}\n","import roundNode from \"./treemap/round.js\";\nimport treemapDice from \"./treemap/dice.js\";\n\nexport default function() {\n  var dx = 1,\n      dy = 1,\n      padding = 0,\n      round = false;\n\n  function partition(root) {\n    var n = root.height + 1;\n    root.x0 =\n    root.y0 = padding;\n    root.x1 = dx;\n    root.y1 = dy / n;\n    root.eachBefore(positionNode(dy, n));\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(dy, n) {\n    return function(node) {\n      if (node.children) {\n        treemapDice(node, node.x0, dy * (node.depth + 1) / n, node.x1, dy * (node.depth + 2) / n);\n      }\n      var x0 = node.x0,\n          y0 = node.y0,\n          x1 = node.x1 - padding,\n          y1 = node.y1 - padding;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      node.x0 = x0;\n      node.y0 = y0;\n      node.x1 = x1;\n      node.y1 = y1;\n    };\n  }\n\n  partition.round = function(x) {\n    return arguments.length ? (round = !!x, partition) : round;\n  };\n\n  partition.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], partition) : [dx, dy];\n  };\n\n  partition.padding = function(x) {\n    return arguments.length ? (padding = +x, partition) : padding;\n  };\n\n  return partition;\n}\n","import {required} from \"./accessors.js\";\nimport {Node, computeHeight} from \"./hierarchy/index.js\";\n\nvar preroot = {depth: -1},\n    ambiguous = {};\n\nfunction defaultId(d) {\n  return d.id;\n}\n\nfunction defaultParentId(d) {\n  return d.parentId;\n}\n\nexport default function() {\n  var id = defaultId,\n      parentId = defaultParentId;\n\n  function stratify(data) {\n    var nodes = Array.from(data),\n        n = nodes.length,\n        d,\n        i,\n        root,\n        parent,\n        node,\n        nodeId,\n        nodeKey,\n        nodeByKey = new Map;\n\n    for (i = 0; i < n; ++i) {\n      d = nodes[i], node = nodes[i] = new Node(d);\n      if ((nodeId = id(d, i, data)) != null && (nodeId += \"\")) {\n        nodeKey = node.id = nodeId;\n        nodeByKey.set(nodeKey, nodeByKey.has(nodeKey) ? ambiguous : node);\n      }\n      if ((nodeId = parentId(d, i, data)) != null && (nodeId += \"\")) {\n        node.parent = nodeId;\n      }\n    }\n\n    for (i = 0; i < n; ++i) {\n      node = nodes[i];\n      if (nodeId = node.parent) {\n        parent = nodeByKey.get(nodeId);\n        if (!parent) throw new Error(\"missing: \" + nodeId);\n        if (parent === ambiguous) throw new Error(\"ambiguous: \" + nodeId);\n        if (parent.children) parent.children.push(node);\n        else parent.children = [node];\n        node.parent = parent;\n      } else {\n        if (root) throw new Error(\"multiple roots\");\n        root = node;\n      }\n    }\n\n    if (!root) throw new Error(\"no root\");\n    root.parent = preroot;\n    root.eachBefore(function(node) { node.depth = node.parent.depth + 1; --n; }).eachBefore(computeHeight);\n    root.parent = null;\n    if (n > 0) throw new Error(\"cycle\");\n\n    return root;\n  }\n\n  stratify.id = function(x) {\n    return arguments.length ? (id = required(x), stratify) : id;\n  };\n\n  stratify.parentId = function(x) {\n    return arguments.length ? (parentId = required(x), stratify) : parentId;\n  };\n\n  return stratify;\n}\n","import {Node} from \"./hierarchy/index.js\";\n\nfunction defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\n// function radialSeparation(a, b) {\n//   return (a.parent === b.parent ? 1 : 2) / a.depth;\n// }\n\n// This function is used to traverse the left contour of a subtree (or\n// subforest). It returns the successor of v on this contour. This successor is\n// either given by the leftmost child of v or by the thread of v. The function\n// returns null if and only if v is on the highest level of its subtree.\nfunction nextLeft(v) {\n  var children = v.children;\n  return children ? children[0] : v.t;\n}\n\n// This function works analogously to nextLeft.\nfunction nextRight(v) {\n  var children = v.children;\n  return children ? children[children.length - 1] : v.t;\n}\n\n// Shifts the current subtree rooted at w+. This is done by increasing\n// prelim(w+) and mod(w+) by shift.\nfunction moveSubtree(wm, wp, shift) {\n  var change = shift / (wp.i - wm.i);\n  wp.c -= change;\n  wp.s += shift;\n  wm.c += change;\n  wp.z += shift;\n  wp.m += shift;\n}\n\n// All other shifts, applied to the smaller subtrees between w- and w+, are\n// performed by this function. To prepare the shifts, we have to adjust\n// change(w+), shift(w+), and change(w-).\nfunction executeShifts(v) {\n  var shift = 0,\n      change = 0,\n      children = v.children,\n      i = children.length,\n      w;\n  while (--i >= 0) {\n    w = children[i];\n    w.z += shift;\n    w.m += shift;\n    shift += w.s + (change += w.c);\n  }\n}\n\n// If vi-s ancestor is a sibling of v, returns vi-s ancestor. Otherwise,\n// returns the specified (default) ancestor.\nfunction nextAncestor(vim, v, ancestor) {\n  return vim.a.parent === v.parent ? vim.a : ancestor;\n}\n\nfunction TreeNode(node, i) {\n  this._ = node;\n  this.parent = null;\n  this.children = null;\n  this.A = null; // default ancestor\n  this.a = this; // ancestor\n  this.z = 0; // prelim\n  this.m = 0; // mod\n  this.c = 0; // change\n  this.s = 0; // shift\n  this.t = null; // thread\n  this.i = i; // number\n}\n\nTreeNode.prototype = Object.create(Node.prototype);\n\nfunction treeRoot(root) {\n  var tree = new TreeNode(root, 0),\n      node,\n      nodes = [tree],\n      child,\n      children,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if (children = node._.children) {\n      node.children = new Array(n = children.length);\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = node.children[i] = new TreeNode(children[i], i));\n        child.parent = node;\n      }\n    }\n  }\n\n  (tree.parent = new TreeNode(null, 0)).children = [tree];\n  return tree;\n}\n\n// Node-link tree diagram using the Reingold-Tilford \"tidy\" algorithm\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = null;\n\n  function tree(root) {\n    var t = treeRoot(root);\n\n    // Compute the layout using Buchheim et al.s algorithm.\n    t.eachAfter(firstWalk), t.parent.m = -t.z;\n    t.eachBefore(secondWalk);\n\n    // If a fixed node size is specified, scale x and y.\n    if (nodeSize) root.eachBefore(sizeNode);\n\n    // If a fixed tree size is specified, scale x and y based on the extent.\n    // Compute the left-most, right-most, and depth-most nodes for extents.\n    else {\n      var left = root,\n          right = root,\n          bottom = root;\n      root.eachBefore(function(node) {\n        if (node.x < left.x) left = node;\n        if (node.x > right.x) right = node;\n        if (node.depth > bottom.depth) bottom = node;\n      });\n      var s = left === right ? 1 : separation(left, right) / 2,\n          tx = s - left.x,\n          kx = dx / (right.x + s + tx),\n          ky = dy / (bottom.depth || 1);\n      root.eachBefore(function(node) {\n        node.x = (node.x + tx) * kx;\n        node.y = node.depth * ky;\n      });\n    }\n\n    return root;\n  }\n\n  // Computes a preliminary x-coordinate for v. Before that, FIRST WALK is\n  // applied recursively to the children of v, as well as the function\n  // APPORTION. After spacing out the children by calling EXECUTE SHIFTS, the\n  // node v is placed to the midpoint of its outermost children.\n  function firstWalk(v) {\n    var children = v.children,\n        siblings = v.parent.children,\n        w = v.i ? siblings[v.i - 1] : null;\n    if (children) {\n      executeShifts(v);\n      var midpoint = (children[0].z + children[children.length - 1].z) / 2;\n      if (w) {\n        v.z = w.z + separation(v._, w._);\n        v.m = v.z - midpoint;\n      } else {\n        v.z = midpoint;\n      }\n    } else if (w) {\n      v.z = w.z + separation(v._, w._);\n    }\n    v.parent.A = apportion(v, w, v.parent.A || siblings[0]);\n  }\n\n  // Computes all real x-coordinates by summing up the modifiers recursively.\n  function secondWalk(v) {\n    v._.x = v.z + v.parent.m;\n    v.m += v.parent.m;\n  }\n\n  // The core of the algorithm. Here, a new subtree is combined with the\n  // previous subtrees. Threads are used to traverse the inside and outside\n  // contours of the left and right subtree up to the highest common level. The\n  // vertices used for the traversals are vi+, vi-, vo-, and vo+, where the\n  // superscript o means outside and i means inside, the subscript - means left\n  // subtree and + means right subtree. For summing up the modifiers along the\n  // contour, we use respective variables si+, si-, so-, and so+. Whenever two\n  // nodes of the inside contours conflict, we compute the left one of the\n  // greatest uncommon ancestors using the function ANCESTOR and call MOVE\n  // SUBTREE to shift the subtree and prepare the shifts of smaller subtrees.\n  // Finally, we add a new thread (if necessary).\n  function apportion(v, w, ancestor) {\n    if (w) {\n      var vip = v,\n          vop = v,\n          vim = w,\n          vom = vip.parent.children[0],\n          sip = vip.m,\n          sop = vop.m,\n          sim = vim.m,\n          som = vom.m,\n          shift;\n      while (vim = nextRight(vim), vip = nextLeft(vip), vim && vip) {\n        vom = nextLeft(vom);\n        vop = nextRight(vop);\n        vop.a = v;\n        shift = vim.z + sim - vip.z - sip + separation(vim._, vip._);\n        if (shift > 0) {\n          moveSubtree(nextAncestor(vim, v, ancestor), v, shift);\n          sip += shift;\n          sop += shift;\n        }\n        sim += vim.m;\n        sip += vip.m;\n        som += vom.m;\n        sop += vop.m;\n      }\n      if (vim && !nextRight(vop)) {\n        vop.t = vim;\n        vop.m += sim - sop;\n      }\n      if (vip && !nextLeft(vom)) {\n        vom.t = vip;\n        vom.m += sip - som;\n        ancestor = v;\n      }\n    }\n    return ancestor;\n  }\n\n  function sizeNode(node) {\n    node.x *= dx;\n    node.y = node.depth * dy;\n  }\n\n  tree.separation = function(x) {\n    return arguments.length ? (separation = x, tree) : separation;\n  };\n\n  tree.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], tree) : (nodeSize ? null : [dx, dy]);\n  };\n\n  tree.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], tree) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return tree;\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (y1 - y0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.x0 = x0, node.x1 = x1;\n    node.y0 = y0, node.y1 = y0 += node.value * k;\n  }\n}\n","import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\n\nexport var phi = (1 + Math.sqrt(5)) / 2;\n\nexport function squarifyRatio(ratio, parent, x0, y0, x1, y1) {\n  var rows = [],\n      nodes = parent.children,\n      row,\n      nodeValue,\n      i0 = 0,\n      i1 = 0,\n      n = nodes.length,\n      dx, dy,\n      value = parent.value,\n      sumValue,\n      minValue,\n      maxValue,\n      newRatio,\n      minRatio,\n      alpha,\n      beta;\n\n  while (i0 < n) {\n    dx = x1 - x0, dy = y1 - y0;\n\n    // Find the next non-empty node.\n    do sumValue = nodes[i1++].value; while (!sumValue && i1 < n);\n    minValue = maxValue = sumValue;\n    alpha = Math.max(dy / dx, dx / dy) / (value * ratio);\n    beta = sumValue * sumValue * alpha;\n    minRatio = Math.max(maxValue / beta, beta / minValue);\n\n    // Keep adding nodes while the aspect ratio maintains or improves.\n    for (; i1 < n; ++i1) {\n      sumValue += nodeValue = nodes[i1].value;\n      if (nodeValue < minValue) minValue = nodeValue;\n      if (nodeValue > maxValue) maxValue = nodeValue;\n      beta = sumValue * sumValue * alpha;\n      newRatio = Math.max(maxValue / beta, beta / minValue);\n      if (newRatio > minRatio) { sumValue -= nodeValue; break; }\n      minRatio = newRatio;\n    }\n\n    // Position and record the row orientation.\n    rows.push(row = {value: sumValue, dice: dx < dy, children: nodes.slice(i0, i1)});\n    if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += dy * sumValue / value : y1);\n    else treemapSlice(row, x0, y0, value ? x0 += dx * sumValue / value : x1, y1);\n    value -= sumValue, i0 = i1;\n  }\n\n  return rows;\n}\n\nexport default (function custom(ratio) {\n\n  function squarify(parent, x0, y0, x1, y1) {\n    squarifyRatio(ratio, parent, x0, y0, x1, y1);\n  }\n\n  squarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return squarify;\n})(phi);\n","import roundNode from \"./round.js\";\nimport squarify from \"./squarify.js\";\nimport {required} from \"../accessors.js\";\nimport constant, {constantZero} from \"../constant.js\";\n\nexport default function() {\n  var tile = squarify,\n      round = false,\n      dx = 1,\n      dy = 1,\n      paddingStack = [0],\n      paddingInner = constantZero,\n      paddingTop = constantZero,\n      paddingRight = constantZero,\n      paddingBottom = constantZero,\n      paddingLeft = constantZero;\n\n  function treemap(root) {\n    root.x0 =\n    root.y0 = 0;\n    root.x1 = dx;\n    root.y1 = dy;\n    root.eachBefore(positionNode);\n    paddingStack = [0];\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(node) {\n    var p = paddingStack[node.depth],\n        x0 = node.x0 + p,\n        y0 = node.y0 + p,\n        x1 = node.x1 - p,\n        y1 = node.y1 - p;\n    if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n    if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n    node.x0 = x0;\n    node.y0 = y0;\n    node.x1 = x1;\n    node.y1 = y1;\n    if (node.children) {\n      p = paddingStack[node.depth + 1] = paddingInner(node) / 2;\n      x0 += paddingLeft(node) - p;\n      y0 += paddingTop(node) - p;\n      x1 -= paddingRight(node) - p;\n      y1 -= paddingBottom(node) - p;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      tile(node, x0, y0, x1, y1);\n    }\n  }\n\n  treemap.round = function(x) {\n    return arguments.length ? (round = !!x, treemap) : round;\n  };\n\n  treemap.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], treemap) : [dx, dy];\n  };\n\n  treemap.tile = function(x) {\n    return arguments.length ? (tile = required(x), treemap) : tile;\n  };\n\n  treemap.padding = function(x) {\n    return arguments.length ? treemap.paddingInner(x).paddingOuter(x) : treemap.paddingInner();\n  };\n\n  treemap.paddingInner = function(x) {\n    return arguments.length ? (paddingInner = typeof x === \"function\" ? x : constant(+x), treemap) : paddingInner;\n  };\n\n  treemap.paddingOuter = function(x) {\n    return arguments.length ? treemap.paddingTop(x).paddingRight(x).paddingBottom(x).paddingLeft(x) : treemap.paddingTop();\n  };\n\n  treemap.paddingTop = function(x) {\n    return arguments.length ? (paddingTop = typeof x === \"function\" ? x : constant(+x), treemap) : paddingTop;\n  };\n\n  treemap.paddingRight = function(x) {\n    return arguments.length ? (paddingRight = typeof x === \"function\" ? x : constant(+x), treemap) : paddingRight;\n  };\n\n  treemap.paddingBottom = function(x) {\n    return arguments.length ? (paddingBottom = typeof x === \"function\" ? x : constant(+x), treemap) : paddingBottom;\n  };\n\n  treemap.paddingLeft = function(x) {\n    return arguments.length ? (paddingLeft = typeof x === \"function\" ? x : constant(+x), treemap) : paddingLeft;\n  };\n\n  return treemap;\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      i, n = nodes.length,\n      sum, sums = new Array(n + 1);\n\n  for (sums[0] = sum = i = 0; i < n; ++i) {\n    sums[i + 1] = sum += nodes[i].value;\n  }\n\n  partition(0, n, parent.value, x0, y0, x1, y1);\n\n  function partition(i, j, value, x0, y0, x1, y1) {\n    if (i >= j - 1) {\n      var node = nodes[i];\n      node.x0 = x0, node.y0 = y0;\n      node.x1 = x1, node.y1 = y1;\n      return;\n    }\n\n    var valueOffset = sums[i],\n        valueTarget = (value / 2) + valueOffset,\n        k = i + 1,\n        hi = j - 1;\n\n    while (k < hi) {\n      var mid = k + hi >>> 1;\n      if (sums[mid] < valueTarget) k = mid + 1;\n      else hi = mid;\n    }\n\n    if ((valueTarget - sums[k - 1]) < (sums[k] - valueTarget) && i + 1 < k) --k;\n\n    var valueLeft = sums[k] - valueOffset,\n        valueRight = value - valueLeft;\n\n    if ((x1 - x0) > (y1 - y0)) {\n      var xk = value ? (x0 * valueRight + x1 * valueLeft) / value : x1;\n      partition(i, k, valueLeft, x0, y0, xk, y1);\n      partition(k, j, valueRight, xk, y0, x1, y1);\n    } else {\n      var yk = value ? (y0 * valueRight + y1 * valueLeft) / value : y1;\n      partition(i, k, valueLeft, x0, y0, x1, yk);\n      partition(k, j, valueRight, x0, yk, x1, y1);\n    }\n  }\n}\n","import dice from \"./dice.js\";\nimport slice from \"./slice.js\";\n\nexport default function(parent, x0, y0, x1, y1) {\n  (parent.depth & 1 ? slice : dice)(parent, x0, y0, x1, y1);\n}\n","import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\nimport {phi, squarifyRatio} from \"./squarify.js\";\n\nexport default (function custom(ratio) {\n\n  function resquarify(parent, x0, y0, x1, y1) {\n    if ((rows = parent._squarify) && (rows.ratio === ratio)) {\n      var rows,\n          row,\n          nodes,\n          i,\n          j = -1,\n          n,\n          m = rows.length,\n          value = parent.value;\n\n      while (++j < m) {\n        row = rows[j], nodes = row.children;\n        for (i = row.value = 0, n = nodes.length; i < n; ++i) row.value += nodes[i].value;\n        if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += (y1 - y0) * row.value / value : y1);\n        else treemapSlice(row, x0, y0, value ? x0 += (x1 - x0) * row.value / value : x1, y1);\n        value -= row.value;\n      }\n    } else {\n      parent._squarify = rows = squarifyRatio(ratio, parent, x0, y0, x1, y1);\n      rows.ratio = ratio;\n    }\n  }\n\n  resquarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return resquarify;\n})(phi);\n",null,null,null,null,null,null,null,null,null,null,null,"module.exports = require(\"regenerator-runtime\");\n",null,null,"/**\n *  lodash.pick \n * @param obj\n * @param keys\n */\nexport function pick(obj: any, keys: string[]): object {\n  const r = {};\n\n  if (obj !== null && typeof obj === 'object') {\n    keys.forEach((key: string) => {\n      const v = obj[key];\n      if (v !== undefined) {\n        r[key] = v;\n      }\n    });\n  }\n  return r;\n}\n","/**\n * Simplified from https://github.com/zertosh/invariant.\n */\n\nexport enum LEVEL {\n  ERROR = 'error',\n  WARN = 'warn',\n  INFO = 'log',\n}\n\nconst BRAND = 'AntV/G2Plot';\n\n/**\n * \n * @param format\n * @param args\n */\nfunction getMessage(format: string, ...args: any[]): string {\n  let argIndex = 0;\n  return `${BRAND}: ${format.replace(/%s/g, (): string => `${args[argIndex++]}`)}`;\n}\n\n/**\n * invariant error\n * @param condition\n * @param format\n * @param args\n */\nexport function invariant(condition: boolean, format: string, ...args: any[]): void {\n  if (!condition) {\n    const error = new Error(getMessage(format, ...args));\n    error.name = BRAND;\n    // error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n}\n\n/**\n * \n * @param level\n * @param condition\n * @param format\n * @param args\n */\nexport function log(level: LEVEL, condition: boolean, format, ...args: any[]): void {\n  if (!condition) {\n    console[level](getMessage(format, ...args));\n  }\n}\n","import { View } from '@antv/g2';\n\n/**\n *  Chart  id  View\n * @param chart\n * @param id\n */\nexport function findViewById(chart: View, id: string): View {\n  return chart.views.find((view: View) => view.id === id);\n}\n\n/**\n *  view  views\n * @param view  view\n * @returns  views\n * @ignore\n */\nexport function getViews(view: View): View[] {\n  const parent = view.parent;\n  return parent ? parent.views : [];\n}\n\n/**\n *  view  views\n * @param view  view\n * @returns  views\n * @ignore\n */\nexport function getSiblingViews(view: View): View[] {\n  return getViews(view).filter((sub) => sub !== view);\n}\n","const MAX_MIX_LEVEL = 5; // \n\nconst toString = {}.toString;\n\n// \nconst isType = (value: any, type: string): boolean => toString.call(value) === '[object ' + type + ']';\n\nconst isArray = (value: any): value is Array<any> => {\n  return isType(value, 'Array');\n};\n\nconst isObjectLike = (value: any): value is object => {\n  /**\n   * isObjectLike({}) => true\n   * isObjectLike([1, 2, 3]) => true\n   * isObjectLike(Function) => false\n   */\n  return typeof value === 'object' && value !== null;\n};\n\nconst isPlainObject = (value: any): value is object => {\n  /**\n   * isObjectLike(new Foo) => false\n   * isObjectLike([1, 2, 3]) => false\n   * isObjectLike({ x: 0, y: 0 }) => true\n   */\n  if (!isObjectLike(value) || !isType(value, 'Object')) {\n    return false;\n  }\n  let proto = value;\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n  return Object.getPrototypeOf(value) === proto;\n};\n\n/***\n * @param {any} dist\n * @param {any} src\n * @param {number} level \n * @param {number} maxLevel \n */\nconst deep = (dist, src, level?, maxLevel?) => {\n  level = level || 0;\n  maxLevel = maxLevel || MAX_MIX_LEVEL;\n  for (const key in src) {\n    if (Object.prototype.hasOwnProperty.call(src, key)) {\n      const value = src[key];\n      if (!value) {\n        // null  undefined \n        dist[key] = value;\n      } else {\n        if (isPlainObject(value)) {\n          if (!isPlainObject(dist[key])) {\n            dist[key] = {};\n          }\n          if (level < maxLevel) {\n            deep(dist[key], value, level + 1, maxLevel);\n          } else {\n            // \n            dist[key] = src[key];\n          }\n        } else if (isArray(value)) {\n          dist[key] = [];\n          dist[key] = dist[key].concat(value);\n        } else {\n          dist[key] = value;\n        }\n      }\n    }\n  }\n};\n\n/**\n * deepAssign  deepMix\n *  deepAssign  null undefined  source\n *  __tests__/unit/utils/deep-assign-spec.ts\n */\nexport const deepAssign = (rst: any, ...args: any[]) => {\n  for (let i = 0; i < args.length; i += 1) {\n    deep(rst, args[i]);\n  }\n  return rst;\n};\n","import { View, IGroup } from '@antv/g2';\nimport { each, get, isNumber, isFunction, isString } from '@antv/util';\nimport { Datum, ShapeStyle, Statistic, StatisticText } from '../types';\nimport { pick, kebabCase } from '.';\n\n/**\n * @desc  html-statistic  style  ( canvas  shapeStyle  css)\n *\n * @param width\n * @param style\n */\nexport function adapteStyle(style?: StatisticText['style']): object {\n  const styleObject = {\n    overflow: 'hidden',\n    'white-space': 'nowrap',\n    'text-overflow': 'ellipsis',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n  };\n\n  const shapeStyleKeys = [\n    'stroke',\n    'lineWidth',\n    'shadowColor',\n    'strokeOpacity',\n    'shadowBlur',\n    'shadowOffsetX',\n    'shadowOffsetY',\n    'fill',\n  ];\n\n  //  shapeStyle   start\n  if (get(style, 'fill')) {\n    styleObject['color'] = style['fill'];\n  }\n  const {\n    shadowColor,\n    shadowBlur = 0,\n    shadowOffsetX = 0,\n    shadowOffsetY = 0,\n  } = pick(style, shapeStyleKeys) as ShapeStyle;\n  styleObject['text-shadow'] = `${[shadowColor, `${shadowOffsetX}px`, `${shadowOffsetY}px`, `${shadowBlur}px`].join(\n    ' '\n  )}`;\n\n  const { stroke, lineWidth = 0 } = pick(style, shapeStyleKeys) as ShapeStyle;\n  styleObject['-webkit-text-stroke'] = `${[`${lineWidth}px`, stroke].join(' ')}`;\n  //  shapeStyle   end\n\n  each(style, (v, k) => {\n    //   shapeStyle  fontSize \n    if (['fontSize'].includes(k) && isNumber(v)) {\n      styleObject[kebabCase(k)] = `${v}px`;\n    } else if (k && !shapeStyleKeys.includes(k)) {\n      styleObject[kebabCase(k)] = `${v}`;\n    }\n  });\n\n  return styleObject;\n}\n\n/**\n * @desc  html-statistic \n *\n * - \n */\nexport function setStatisticContainerStyle(container: HTMLElement, style: Partial<CSSStyleDeclaration>) {\n  container.style['pointer-events'] = 'none';\n  each(style, (v, k) => {\n    if (k && v) {\n      container.style[k] = v;\n    }\n  });\n}\n\n/**\n *  html-annotation position  [50%, 50%]\n * @param chart\n * @param options\n * @param meta \n * @param {optional} datum \n */\nexport const renderStatistic = (chart: View, options: { statistic: Statistic; plotType: string }, datum?: Datum) => {\n  const { statistic, plotType } = options;\n  const { title: titleOpt, content: contentOpt } = statistic;\n\n  [titleOpt, contentOpt].forEach((option, idx) => {\n    if (!option) {\n      return;\n    }\n    let transform = '';\n    if (idx === 0) {\n      transform = contentOpt ? 'translate(-50%, -100%)' : 'translate(-50%, -50%)';\n    } else {\n      transform = titleOpt ? 'translate(-50%, 0)' : 'translate(-50%, -50%)';\n    }\n    const style = isFunction(option.style) ? option.style(datum) : option.style;\n\n    chart.annotation().html({\n      position: ['50%', '50%'],\n      html: (container, view) => {\n        const coordinate = view.getCoordinate();\n        let containerW = 0;\n        if (plotType === 'pie' || plotType === 'ring-progress') {\n          containerW = coordinate.getRadius() * coordinate.innerRadius * 2;\n        } else if (plotType === 'liquid') {\n          const liquidShape = get(view.geometries, [0, 'elements', 0, 'shape']);\n          if (liquidShape) {\n            // \n            const path = (liquidShape as IGroup).find((t) => t.get('name') === 'wrap');\n            const { width } = path.getCanvasBBox();\n            containerW = width;\n          }\n        } else if (!containerW) {\n          // \n          containerW = coordinate.getWidth();\n        }\n        setStatisticContainerStyle(container, {\n          width: `${containerW}px`,\n          transform,\n          // user's style setting has high priority\n          ...adapteStyle(style),\n        });\n\n        const filteredData = view.getData();\n        if (option.customHtml) {\n          return option.customHtml(container, view, datum, filteredData);\n        }\n\n        let text = option.content;\n        if (option.formatter) {\n          text = option.formatter(datum, filteredData);\n        }\n        // todo G2  & G2  number\n        return text ? (isString(text) ? text : `${text}`) : '<div></div>';\n      },\n      // @ts-ignore\n      key: `${idx === 0 ? 'top' : 'bottom'}-statistic`,\n      ...pick(option, ['offsetX', 'offsetY', 'rotate', 'style', 'formatter']) /**  */,\n    });\n  });\n};\n\n/**\n *  html-annotation for gauge ( plot),  position  [50%, 100%]\n * @param chart\n * @param options\n * @param meta \n * @param {optional} datum \n */\nexport const renderGaugeStatistic = (chart: View, options: { statistic: Statistic }, datum?: Datum) => {\n  const { statistic } = options;\n  const { title: titleOpt, content: contentOpt } = statistic;\n\n  [titleOpt, contentOpt].forEach((option) => {\n    if (!option) {\n      return;\n    }\n    const style = isFunction(option.style) ? option.style(datum) : option.style;\n    chart.annotation().html({\n      position: ['50%', '100%'],\n      html: (container, view) => {\n        const coordinate = view.getCoordinate();\n        // \n        const polarCoord = view.views[0].getCoordinate();\n        const polarCenter = polarCoord.getCenter();\n        const polarRadius = polarCoord.getRadius();\n        const polarMaxY = Math.max(Math.sin(polarCoord.startAngle), Math.sin(polarCoord.endAngle)) * polarRadius;\n        const offsetY = polarCenter.y + polarMaxY - coordinate.y.start - parseFloat(get(style, 'fontSize', 0));\n\n        const containerWidth = coordinate.getRadius() * coordinate.innerRadius * 2;\n        setStatisticContainerStyle(container, {\n          width: `${containerWidth}px`,\n          transform: `translate(-50%, ${offsetY}px)`,\n          // user's style setting has high priority\n          ...adapteStyle(style),\n        });\n\n        const filteredData = view.getData();\n        if (option.customHtml) {\n          return option.customHtml(container, view, datum, filteredData);\n        }\n\n        let text = option.content;\n        if (option.formatter) {\n          text = option.formatter(datum, filteredData);\n        }\n\n        // todo G2  & G2  number\n        return text ? (isString(text) ? text : `${text}`) : '<div></div>';\n      },\n      ...pick(option, ['offsetX', 'offsetY', 'rotate', 'style', 'formatter']) /**  */,\n    });\n  });\n};\n","import { each } from '@antv/util';\n/**\n * @file ...\n */\nexport const GLOBAL = {\n  /**  */\n  locale: 'en-US',\n};\n\n/**\n * \n * @param key\n * @param value\n */\nexport function setGlobal(datum: Record<string, any>): void {\n  each(datum, (v, k) => (GLOBAL[k] = v));\n}\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\nvar _default = function _default(fn) {\n  var delay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 60;\n  var timer = null;\n  return function () {\n    var _this = this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    clearTimeout(timer);\n    timer = setTimeout(function () {\n      fn.apply(_this, args);\n    }, delay);\n  };\n};\n\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SensorTabIndex = exports.SensorClassName = exports.SizeSensorId = void 0;\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\nvar SizeSensorId = 'size-sensor-id';\nexports.SizeSensorId = SizeSensorId;\nvar SensorClassName = 'size-sensor-object';\nexports.SensorClassName = SensorClassName;\nvar SensorTabIndex = '-1';\nexports.SensorTabIndex = SensorTabIndex;","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { LineOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport './interactions';\n\nexport type { LineOptions };\n\nexport class Line extends Plot<LineOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<LineOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'line';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: LineOptions['data']) {\n    this.updateOption({ data });\n    const { chart, options } = this;\n    meta({ chart, options });\n    this.chart.changeData(data);\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Line.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<LineOptions> {\n    return adaptor;\n  }\n}\n","import { DotPatternCfg, LinePatternCfg, SquarePatternCfg } from '../../types/pattern';\nimport { createDotPattern } from './dot';\nimport { createLinePattern } from './line';\nimport { createSquarePattern } from './square';\n\nexport type PatternOption =\n  | {\n      type: 'dot';\n      cfg?: DotPatternCfg;\n    }\n  | {\n      type: 'line';\n      cfg?: LinePatternCfg;\n    }\n  | {\n      type: 'square';\n      cfg?: SquarePatternCfg;\n    };\n\n/**\n *  CanvasPattern \n * @param options\n * @returns\n */\nexport function getCanvasPattern(options: PatternOption): CanvasPattern | undefined {\n  const { type, cfg } = options;\n\n  let pattern;\n\n  switch (type) {\n    case 'dot':\n      pattern = createDotPattern(cfg);\n      break;\n    case 'line':\n      pattern = createLinePattern(cfg);\n      break;\n    case 'square':\n      pattern = createSquarePattern(cfg);\n      break;\n    default:\n      break;\n  }\n\n  return pattern;\n}\n","import { Params } from '../../core/adaptor';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { geometry, MappingOptions, GeometryOptions } from './base';\n\nexport interface PointGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /** size  */\n  readonly sizeField?: string;\n  /** shape  */\n  readonly shapeField?: string;\n  /** point  */\n  readonly point?: MappingOptions;\n}\n\n/**\n * point \n * @param params\n */\nexport function point<O extends PointGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { point, xField, yField, seriesField, sizeField, shapeField, tooltip } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField, sizeField, shapeField]);\n\n  return point\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'point',\n            colorField: seriesField,\n            shapeField: shapeField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...point,\n            },\n          },\n        })\n      )\n    : params;\n}\n","import { Params } from '../../core/adaptor';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { geometry, MappingOptions, GeometryOptions } from './base';\n\nexport interface PolygonGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /** point  */\n  readonly polygon?: MappingOptions;\n}\n\n/**\n * polygon \n * @param params\n */\nexport function polygon<O extends PolygonGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { polygon, xField, yField, seriesField, tooltip } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  return polygon\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'polygon',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...polygon,\n            },\n          },\n        })\n      )\n    : params;\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { getDataWhetherPecentage } from '../../utils/transform/percent';\nimport { AreaOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\n\nexport type { AreaOptions };\n\nexport class Area extends Plot<AreaOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<AreaOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'area';\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Area.getDefaultOptions();\n  }\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: AreaOptions['data']) {\n    this.updateOption({ data });\n    const { isPercent, xField, yField } = this.options;\n    const { chart, options } = this;\n    meta({ chart, options });\n    this.chart.changeData(getDataWhetherPecentage(data, yField, xField, yField, isPercent));\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<AreaOptions> {\n    return adaptor;\n  }\n}\n","import { Geometry } from '@antv/g2';\nimport { each, omit } from '@antv/util';\nimport { tooltip, slider, interaction, animation, theme, annotation, limitInPlot, pattern } from '../../adaptor/common';\nimport { findGeometry } from '../../utils';\nimport { Params } from '../../core/adaptor';\nimport { area, point, line } from '../../adaptor/geometries';\nimport { flow, transformLabel, deepAssign } from '../../utils';\nimport { getDataWhetherPecentage } from '../../utils/transform/percent';\nimport { Datum } from '../../types';\nimport { meta, legend, axis } from '../line/adaptor';\nimport { AreaOptions } from './types';\n\nexport { meta };\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<AreaOptions>): Params<AreaOptions> {\n  const { chart, options } = params;\n  const {\n    data,\n    areaStyle,\n    color,\n    point: pointMapping,\n    line: lineMapping,\n    isPercent,\n    xField,\n    yField,\n    tooltip,\n    seriesField,\n    startOnZero,\n  } = options;\n  const pointState = pointMapping?.state;\n\n  const chartData = getDataWhetherPecentage(data, yField, xField, yField, isPercent);\n  chart.data(chartData);\n  //  % , \n  const tooltipOptions = isPercent\n    ? {\n        formatter: (datum: Datum) => ({\n          name: datum[seriesField] || datum[xField],\n          value: (Number(datum[yField]) * 100).toFixed(2) + '%',\n        }),\n        ...tooltip,\n      }\n    : tooltip;\n  const primary = deepAssign({}, params, {\n    options: {\n      area: { color, style: areaStyle },\n      point: pointMapping && {\n        color,\n        ...pointMapping,\n      },\n      tooltip: tooltipOptions,\n      // label  geometry adaptor label adaptor \n      label: undefined,\n      args: {\n        startOnZero,\n      },\n    },\n  });\n  //  2px ( state fill  stroke )\n  const lineParams = {\n    chart,\n    options: deepAssign({ line: { size: 2 } }, omit(options as any, ['state']), {\n      //  tooltip \n      // \n      line: lineMapping && {\n        color,\n        ...lineMapping,\n      },\n      sizeField: seriesField,\n      state: lineMapping?.state,\n      tooltip: false,\n      // label  geometry adaptor label adaptor \n      label: undefined,\n      args: {\n        startOnZero,\n      },\n    }),\n  };\n  const pointParams = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n\n  // area geometry \n  area(primary);\n  line(lineParams);\n  point(pointParams);\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<AreaOptions>): Params<AreaOptions> {\n  const { chart, options } = params;\n  const { label, yField } = options;\n\n  const areaGeometry = findGeometry(chart, 'area');\n\n  // label  false,   label\n  if (!label) {\n    areaGeometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    areaGeometry.label({\n      fields: [yField],\n      callback,\n      cfg: {\n        layout: [\n          { type: 'limit-in-plot' },\n          { type: 'path-adjust-position' },\n          { type: 'point-adjust-position' },\n          { type: 'limit-in-plot', cfg: { action: 'hide' } },\n        ],\n        ...transformLabel(cfg),\n      },\n    });\n  }\n\n  return params;\n}\n\n/**\n *  adjust\n * @param params\n */\nfunction adjust(params: Params<AreaOptions>): Params<AreaOptions> {\n  const { chart, options } = params;\n  const { isStack, isPercent, seriesField } = options;\n  if ((isPercent || isStack) && seriesField) {\n    each(chart.geometries, (g: Geometry) => {\n      g.adjust('stack');\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<AreaOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    pattern('areaStyle'),\n    geometry,\n    meta,\n    adjust,\n    axis,\n    legend,\n    tooltip,\n    label,\n    slider,\n    annotation(),\n    interaction,\n    animation,\n    limitInPlot\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { getDataWhetherPecentage } from '../../utils/transform/percent';\nimport { ColumnOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\n\nexport type { ColumnOptions };\n\n/**\n * \n */\nexport class Column extends Plot<ColumnOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<ColumnOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public readonly type: string = 'column';\n\n  /**\n   * @override\n   */\n  public changeData(data: ColumnOptions['data']) {\n    this.updateOption({ data });\n    const { yField, xField, isPercent } = this.options;\n    const { chart, options } = this;\n    meta({ chart, options });\n    this.chart.changeData(getDataWhetherPecentage(data, yField, xField, yField, isPercent));\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Column.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<ColumnOptions> {\n    return adaptor;\n  }\n}\n","import { isNumber } from '@antv/util';\n/**\n * \n * @param prev\n * @param next\n */\nexport function conversionTagFormatter(prev: number, next: number): string {\n  if (!isNumber(prev) || !isNumber(next)) {\n    return '-';\n  }\n\n  if (prev === next) {\n    return '100%';\n  }\n  if (prev === 0) {\n    return '';\n  }\n  if (next === 0) {\n    return '-';\n  }\n\n  return `${((100 * next) / prev).toFixed(2)}%`;\n}\n","import { filter } from '@antv/util';\nimport { Params } from '../core/adaptor';\nimport { getInteractionCfg } from '../interactions/brush';\nimport { deepAssign } from '../utils';\nimport { Options as BaseOptions, BrushCfg, Interaction, Writable } from '../types';\n\n/** brush  */\nimport '../interactions/brush';\n\ntype Options = Pick<BaseOptions, 'interactions'> & { brush?: BrushCfg };\n\nconst BRUSH_TYPES = ['brush', 'brush-x', 'brush-y', 'brush-highlight', 'brush-x-highlight', 'brush-y-highlight'];\n\n/**\n * brush \n */\nexport function brushInteraction<O extends Options = Options>(params: Params<O>): Params<O> {\n  const { options } = params;\n\n  const { brush } = options;\n\n  //  brush \n  const interactions = filter(options.interactions || [], (i) => BRUSH_TYPES.indexOf(i.type) === -1);\n\n  //  brush \n  if (brush?.enabled) {\n    BRUSH_TYPES.forEach((type) => {\n      let enable = false;\n      switch (brush.type) {\n        case 'x-rect':\n          enable = type === (brush.action === 'highlight' ? 'brush-x-highlight' : 'brush-x');\n          break;\n        case 'y-rect':\n          enable = type === (brush.action === 'highlight' ? 'brush-y-highlight' : 'brush-y');\n          break;\n        default:\n          enable = type === (brush.action === 'highlight' ? 'brush-highlight' : 'brush');\n          break;\n      }\n      const obj: Writable<Interaction> = { type, enable };\n\n      if (brush.mask?.style || brush.type) {\n        obj.cfg = getInteractionCfg(type, brush.type, brush.mask);\n      }\n      interactions.push(obj);\n    });\n\n    //  button  (G2Plot )\n    if (brush?.action !== 'highlight') {\n      interactions.push({\n        type: 'filter-action',\n        cfg: {\n          buttonConfig: brush.button,\n        },\n      });\n    }\n  }\n  return deepAssign({}, params, { options: { interactions } });\n}\n","import { registerAction, registerInteraction } from '@antv/g2';\nimport { BrushCfg } from '../types';\nimport { ButtonAction } from './actions/reset-button';\n\nregisterAction('brush-reset-button', ButtonAction, {\n  name: 'brush-reset-button',\n});\n\nregisterInteraction('filter-action', {});\n\n/**\n * G2  brushbrush-xbrush-y \n *\n * 1. element-range-highlight  brush-highlight(mask )\n * 2. brush-visible  brush \n */\n\nfunction isPointInView(context) {\n  return context.isInPlot();\n}\n\n/**\n *   start \n */\nexport function getInteractionCfg(interactionType: string, brushType?: string, mask?: BrushCfg['mask']) {\n  const maskType = brushType || 'rect';\n\n  switch (interactionType) {\n    case 'brush':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n        ],\n        start: [\n          {\n            trigger: 'mousedown',\n            isEnable: isPointInView,\n            action: ['brush:start', `${maskType}-mask:start`, `${maskType}-mask:show`],\n            // action\n            arg: [null, { maskStyle: mask?.style }],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'mousemove',\n            isEnable: isPointInView,\n            action: [`${maskType}-mask:resize`],\n          },\n        ],\n        end: [\n          {\n            trigger: 'mouseup',\n            isEnable: isPointInView,\n            action: [\n              'brush:filter',\n              'brush:end',\n              `${maskType}-mask:end`,\n              `${maskType}-mask:hide`,\n              'brush-reset-button:show',\n            ],\n          },\n        ],\n        rollback: [\n          {\n            trigger: 'brush-reset-button:click',\n            action: ['brush:reset', 'brush-reset-button:hide', 'cursor:crosshair'],\n          },\n        ],\n      };\n    case 'brush-highlight':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },\n          { trigger: 'mask:mouseenter', action: 'cursor:move' },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n          { trigger: 'mask:mouseleave', action: 'cursor:crosshair' },\n        ],\n        start: [\n          {\n            trigger: 'plot:mousedown',\n            isEnable(context) {\n              //  mask \n              return !context.isInShape('mask');\n            },\n            action: [`${maskType}-mask:start`, `${maskType}-mask:show`],\n            //  1 action\n            arg: [{ maskStyle: mask?.style }],\n          },\n          {\n            trigger: 'mask:dragstart',\n            action: [`${maskType}-mask:moveStart`],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'plot:mousemove',\n            action: [`${maskType}-mask:resize`],\n          },\n          {\n            trigger: 'mask:drag',\n            action: [`${maskType}-mask:move`],\n          },\n          {\n            trigger: 'mask:change',\n            action: ['element-range-highlight:highlight'],\n          },\n        ],\n        end: [\n          { trigger: 'plot:mouseup', action: [`${maskType}-mask:end`] },\n          { trigger: 'mask:dragend', action: [`${maskType}-mask:moveEnd`] },\n          {\n            trigger: 'document:mouseup',\n            isEnable(context) {\n              return !context.isInPlot();\n            },\n            action: ['element-range-highlight:clear', `${maskType}-mask:end`, `${maskType}-mask:hide`],\n          },\n        ],\n        rollback: [{ trigger: 'dblclick', action: ['element-range-highlight:clear', `${maskType}-mask:hide`] }],\n      };\n    case 'brush-x':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n        ],\n        start: [\n          {\n            trigger: 'mousedown',\n            isEnable: isPointInView,\n            action: ['brush-x:start', `${maskType}-mask:start`, `${maskType}-mask:show`],\n            // action\n            arg: [null, { maskStyle: mask?.style }],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'mousemove',\n            isEnable: isPointInView,\n            action: [`${maskType}-mask:resize`],\n          },\n        ],\n        end: [\n          {\n            trigger: 'mouseup',\n            isEnable: isPointInView,\n            action: ['brush-x:filter', 'brush-x:end', `${maskType}-mask:end`, `${maskType}-mask:hide`],\n          },\n        ],\n        rollback: [{ trigger: 'dblclick', action: ['brush-x:reset'] }],\n      };\n    case 'brush-x-highlight':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },\n          { trigger: 'mask:mouseenter', action: 'cursor:move' },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n          { trigger: 'mask:mouseleave', action: 'cursor:crosshair' },\n        ],\n        start: [\n          {\n            trigger: 'plot:mousedown',\n            isEnable(context) {\n              //  mask \n              return !context.isInShape('mask');\n            },\n            action: [`${maskType}-mask:start`, `${maskType}-mask:show`],\n            //  1 action\n            arg: [{ maskStyle: mask?.style }],\n          },\n          {\n            trigger: 'mask:dragstart',\n            action: [`${maskType}-mask:moveStart`],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'plot:mousemove',\n            action: [`${maskType}-mask:resize`],\n          },\n          {\n            trigger: 'mask:drag',\n            action: [`${maskType}-mask:move`],\n          },\n          {\n            trigger: 'mask:change',\n            action: ['element-range-highlight:highlight'],\n          },\n        ],\n        end: [\n          { trigger: 'plot:mouseup', action: [`${maskType}-mask:end`] },\n          { trigger: 'mask:dragend', action: [`${maskType}-mask:moveEnd`] },\n          {\n            trigger: 'document:mouseup',\n            isEnable(context) {\n              return !context.isInPlot();\n            },\n            action: ['element-range-highlight:clear', `${maskType}-mask:end`, `${maskType}-mask:hide`],\n          },\n        ],\n        rollback: [{ trigger: 'dblclick', action: ['element-range-highlight:clear', `${maskType}-mask:hide`] }],\n      };\n    case 'brush-y':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n        ],\n        start: [\n          {\n            trigger: 'mousedown',\n            isEnable: isPointInView,\n            action: ['brush-y:start', `${maskType}-mask:start`, `${maskType}-mask:show`],\n            // action\n            arg: [null, { maskStyle: mask?.style }],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'mousemove',\n            isEnable: isPointInView,\n            action: [`${maskType}-mask:resize`],\n          },\n        ],\n        end: [\n          {\n            trigger: 'mouseup',\n            isEnable: isPointInView,\n            action: ['brush-y:filter', 'brush-y:end', `${maskType}-mask:end`, `${maskType}-mask:hide`],\n          },\n        ],\n        rollback: [{ trigger: 'dblclick', action: ['brush-y:reset'] }],\n      };\n    case 'brush-y-highlight':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },\n          { trigger: 'mask:mouseenter', action: 'cursor:move' },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n          { trigger: 'mask:mouseleave', action: 'cursor:crosshair' },\n        ],\n        start: [\n          {\n            trigger: 'plot:mousedown',\n            isEnable(context) {\n              //  mask \n              return !context.isInShape('mask');\n            },\n            action: [`${maskType}-mask:start`, `${maskType}-mask:show`],\n            //  1 action\n            arg: [{ maskStyle: mask?.style }],\n          },\n          {\n            trigger: 'mask:dragstart',\n            action: [`${maskType}-mask:moveStart`],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'plot:mousemove',\n            action: [`${maskType}-mask:resize`],\n          },\n          {\n            trigger: 'mask:drag',\n            action: [`${maskType}-mask:move`],\n          },\n          {\n            trigger: 'mask:change',\n            action: ['element-range-highlight:highlight'],\n          },\n        ],\n        end: [\n          { trigger: 'plot:mouseup', action: [`${maskType}-mask:end`] },\n          { trigger: 'mask:dragend', action: [`${maskType}-mask:moveEnd`] },\n          {\n            trigger: 'document:mouseup',\n            isEnable(context) {\n              return !context.isInPlot();\n            },\n            action: ['element-range-highlight:clear', `${maskType}-mask:end`, `${maskType}-mask:hide`],\n          },\n        ],\n        rollback: [{ trigger: 'dblclick', action: ['element-range-highlight:clear', `${maskType}-mask:hide`] }],\n      };\n\n    default:\n      return {};\n  }\n}\n\n// \nregisterInteraction('brush', getInteractionCfg('brush'));\n//  element-range-highlight interaction\nregisterInteraction('brush-highlight', getInteractionCfg('brush-highlight'));\n// \nregisterInteraction('brush-x', getInteractionCfg('brush-x', 'x-rect'));\n// \nregisterInteraction('brush-y', getInteractionCfg('brush-y', 'y-rect'));\n// , x \nregisterInteraction('brush-x-highlight', getInteractionCfg('brush-x-highlight', 'x-rect'));\n// , y \nregisterInteraction('brush-y-highlight', getInteractionCfg('brush-y-highlight', 'y-rect'));\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { getDataWhetherPecentage } from '../../utils/transform/percent';\nimport { BarOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\n\nexport type { BarOptions };\n\n/**\n * \n */\nexport class Bar extends Plot<BarOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<BarOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public readonly type: string = 'bar';\n\n  /**\n   * @override\n   */\n  public changeData(data: BarOptions['data']) {\n    this.updateOption({ data });\n    const { chart, options } = this;\n    const { xField, yField, isPercent } = options;\n    const switchedFieldOptions = { ...options, xField: yField, yField: xField };\n    meta({ chart, options: switchedFieldOptions });\n    chart.changeData(getDataWhetherPecentage(data, xField, yField, xField, isPercent));\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Bar.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<BarOptions> {\n    return adaptor;\n  }\n}\n","import { Params } from '../../core/adaptor';\nimport { tooltip } from '../../adaptor/common';\nimport { deepAssign, flow } from '../../utils';\nimport { Axis } from '../../types';\nimport { adaptor as columnAdaptor } from '../column/adaptor';\nexport { meta } from '../column/adaptor';\nimport { BarOptions } from './types';\n\n/**\n * \n * 1. switch xField yField\n * 2. switch xAxis yAxis and adjust axis.position configuration\n */\nfunction defaultOptions(params: Params<BarOptions>): Params<BarOptions> {\n  const { options } = params;\n  const { xField, yField, xAxis, yAxis } = options;\n\n  const position = {\n    left: 'bottom',\n    right: 'top',\n    top: 'left',\n    bottom: 'right',\n  };\n\n  const verticalAxis =\n    yAxis !== false\n      ? {\n          position: position[yAxis?.position || 'left'],\n          ...yAxis,\n        }\n      : false;\n  const horizontalAxis =\n    xAxis !== false\n      ? {\n          position: position[xAxis?.position || 'bottom'],\n          ...xAxis,\n        }\n      : false;\n\n  return {\n    ...params,\n    options: {\n      ...options,\n      xField: yField,\n      yField: xField,\n      //  xAxisyAxis  deepAssign\n      xAxis: verticalAxis as Axis,\n      yAxis: horizontalAxis as Axis,\n    },\n  };\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<BarOptions>): Params<BarOptions> {\n  const { options } = params;\n  const { label } = options;\n  // label of bar charts default position is left, if plot has label\n  if (label && !label.position) {\n    label.position = 'left';\n    //  label layout  layout  position  layout\n    if (!label.layout) {\n      label.layout = [\n        { type: 'interval-adjust-position' },\n        { type: 'interval-hide-overlap' },\n        { type: 'adjust-color' },\n        { type: 'limit-in-plot', cfg: { action: 'hide' } },\n      ];\n    }\n  }\n\n  return deepAssign({}, params, { options: { label } });\n}\n\n/**\n * legend \n * @param params\n */\nfunction legend(params: Params<BarOptions>): Params<BarOptions> {\n  const { options } = params;\n\n  //  legend \n  const { seriesField, isStack } = options;\n  let { legend } = options;\n  if (seriesField) {\n    if (legend !== false) {\n      legend = {\n        position: isStack ? 'top-left' : 'right-top',\n        ...(legend || {}),\n      };\n    }\n  } else {\n    legend = false;\n  }\n\n  return deepAssign({}, params, { options: { legend } });\n}\n\n/**\n * coordinate \n * @param params\n */\nfunction coordinate(params: Params<BarOptions>): Params<BarOptions> {\n  const { chart } = params;\n  // transpose column to bar  & y \n  chart.coordinate({ actions: [['transpose'], ['reflect', 'y']] });\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function geometry(params: Params<BarOptions>) {\n  const { chart, options } = params;\n\n  const { barStyle, barWidthRatio, minBarWidth, maxBarWidth, barBackground } = options;\n\n  return columnAdaptor(\n    {\n      chart,\n      options: {\n        ...options,\n        // rename attrs as column\n        columnStyle: barStyle,\n        columnWidthRatio: barWidthRatio,\n        minColumnWidth: minBarWidth,\n        maxColumnWidth: maxBarWidth,\n        columnBackground: barBackground,\n      },\n    },\n    true\n  ) as Params<BarOptions>;\n}\n\n/**\n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<BarOptions>): Params<BarOptions> {\n  // flow  G2 API\n  return flow<Params<BarOptions>>(defaultOptions, label, legend, tooltip, coordinate, geometry)(params);\n}\n","import { VIEW_LIFE_CIRCLE, Event } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { processIllegalData } from '../../utils';\nimport { adaptor, pieAnnotation } from './adaptor';\nimport { DEFAULT_OPTIONS } from './contants';\nimport { PieOptions } from './types';\nimport { isAllZero } from './utils';\nimport './interactions';\n\nexport type { PieOptions };\n\nexport class Pie extends Plot<PieOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<PieOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'pie';\n\n  /**\n   * \n   * @param data\n   */\n  public changeData(data: PieOptions['data']) {\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null)\n    );\n    const prevOptions = this.options;\n    const { angleField } = this.options;\n    const prevData = processIllegalData(prevOptions.data, angleField);\n    const curData = processIllegalData(data, angleField);\n    //  0\n    if (isAllZero(prevData, angleField) || isAllZero(curData, angleField)) {\n      this.update({ data });\n    } else {\n      this.updateOption({ data });\n      this.chart.data(curData);\n      // todo  G2  afterrender  annotations\n      pieAnnotation({ chart: this.chart, options: this.options });\n      this.chart.render(true);\n    }\n\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null)\n    );\n  }\n\n  /**\n   *   ,  base \n   */\n  protected getDefaultOptions(): Partial<PieOptions> {\n    return Pie.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<PieOptions> {\n    return adaptor;\n  }\n}\n","import { isFunction, isString, isNil, get, isArray, isNumber, each, toString, isEmpty } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { legend, animation, theme, state, annotation } from '../../adaptor/common';\nimport { getMappingFunction } from '../../adaptor/geometries/base';\nimport { interval } from '../../adaptor/geometries';\nimport { pattern } from '../../adaptor/pattern';\nimport { getLocale } from '../../core/locale';\nimport { Interaction } from '../../types/interaction';\nimport { flow, template, transformLabel, deepAssign, renderStatistic, processIllegalData } from '../../utils';\nimport { Data, Datum } from '../../types';\nimport { DEFAULT_OPTIONS } from './contants';\nimport { adaptOffset, getTotalValue, isAllZero } from './utils';\nimport { PIE_STATISTIC } from './interactions';\nimport { PieOptions } from './types';\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { data, angleField, colorField, color, pieStyle } = options;\n\n  // \n  let processData = processIllegalData(data, angleField);\n\n  if (isAllZero(processData, angleField)) {\n    //  0  position \n    const percentageField = '$$percentage$$';\n    processData = processData.map((d) => ({ ...d, [percentageField]: 1 / processData.length }));\n    chart.data(processData);\n\n    const p = deepAssign({}, params, {\n      options: {\n        xField: '1',\n        yField: percentageField,\n        seriesField: colorField,\n        isStack: true,\n        interval: {\n          color,\n          style: pieStyle,\n        },\n        args: {\n          zIndexReversed: true,\n          sortZIndex: true,\n        },\n      },\n    });\n\n    interval(p);\n  } else {\n    chart.data(processData);\n\n    const p = deepAssign({}, params, {\n      options: {\n        xField: '1',\n        yField: angleField,\n        seriesField: colorField,\n        isStack: true,\n        interval: {\n          color,\n          style: pieStyle,\n        },\n        args: {\n          zIndexReversed: true,\n          sortZIndex: true,\n        },\n      },\n    });\n\n    interval(p);\n  }\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { meta, colorField } = options;\n\n  // meta  scale \n  const scales = deepAssign({}, meta);\n  chart.scale(scales, {\n    [colorField]: { type: 'cat' },\n  });\n\n  return params;\n}\n\n/**\n * coord \n * @param params\n */\nfunction coordinate(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { radius, innerRadius, startAngle, endAngle } = options;\n\n  chart.coordinate({\n    type: 'theta',\n    cfg: {\n      radius,\n      innerRadius,\n      startAngle,\n      endAngle,\n    },\n  });\n\n  return params;\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { label, colorField, angleField } = options;\n\n  const geometry = chart.geometries[0];\n  // label  false,   label\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    const labelCfg = transformLabel(cfg);\n\n    //   label content \n    if (labelCfg.content) {\n      const { content } = labelCfg;\n      labelCfg.content = (data: object, dataum: any, index: number) => {\n        const name = data[colorField];\n        const value = data[angleField];\n        // dymatic get scale, scale is ready this time\n        const angleScale = chart.getScaleByField(angleField);\n        const percent = angleScale?.scale(value);\n        return isFunction(content)\n          ? // append pecent (number) to data, users can get origin data from `dataum._origin`\n            content({ ...data, percent }, dataum, index)\n          : isString(content)\n          ? template(content as string, {\n              value,\n              name,\n              // percentage (string), default keep 2\n              percentage: isNumber(percent) && !isNil(value) ? `${(percent * 100).toFixed(2)}%` : null,\n            })\n          : content;\n      };\n    }\n\n    const LABEL_LAYOUT_TYPE_MAP = {\n      inner: '',\n      outer: 'pie-outer',\n      spider: 'pie-spider',\n    };\n    const labelLayoutType = labelCfg.type ? LABEL_LAYOUT_TYPE_MAP[labelCfg.type] : 'pie-outer';\n    const labelLayoutCfg = labelCfg.layout ? (!isArray(labelCfg.layout) ? [labelCfg.layout] : labelCfg.layout) : [];\n    labelCfg.layout = (labelLayoutType ? [{ type: labelLayoutType }] : []).concat(labelLayoutCfg);\n\n    geometry.label({\n      // fix: could not create scale, when field is undefinedattributes  fields  scale\n      fields: colorField ? [angleField, colorField] : [angleField],\n      callback,\n      cfg: {\n        ...labelCfg,\n        offset: adaptOffset(labelCfg.type, labelCfg.offset),\n        type: 'pie',\n      },\n    });\n  }\n  return params;\n}\n\n/**\n * statistic options \n * 1.  default options \n * 2.  meta  formatter\n */\nexport function transformStatisticOptions(options: PieOptions): PieOptions {\n  const { innerRadius, statistic, angleField, colorField, meta, locale } = options;\n\n  const i18n = getLocale(locale);\n\n  if (innerRadius && statistic) {\n    let { title: titleOpt, content: contentOpt } = deepAssign({}, DEFAULT_OPTIONS.statistic, statistic);\n    if (titleOpt !== false) {\n      titleOpt = deepAssign(\n        {},\n        {\n          formatter: (datum: Datum) => {\n            // \n            if (datum) {\n              return datum[colorField];\n            }\n            return !isNil(titleOpt.content) ? titleOpt.content : i18n.get(['statistic', 'total']);\n          },\n        },\n        titleOpt\n      );\n    }\n    if (contentOpt !== false) {\n      contentOpt = deepAssign(\n        {},\n        {\n          formatter: (datum: Datum, data: Data) => {\n            const dataValue = datum ? datum[angleField] : getTotalValue(data, angleField);\n            const metaFormatter = get(meta, [angleField, 'formatter']) || ((v) => v);\n            // \n            if (datum) {\n              return metaFormatter(dataValue);\n            }\n            return !isNil(contentOpt.content) ? contentOpt.content : metaFormatter(dataValue);\n          },\n        },\n        contentOpt\n      );\n    }\n\n    return deepAssign({}, { statistic: { title: titleOpt, content: contentOpt } }, options);\n  }\n  return options;\n}\n\n/**\n * statistic \n * @param params\n */\nexport function pieAnnotation(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { innerRadius, statistic } = transformStatisticOptions(options);\n  // \n  chart.getController('annotation').clear(true);\n\n  //  annotations\n  flow(annotation())(params);\n\n  /**   */\n  if (innerRadius && statistic) {\n    renderStatistic(chart, { statistic, plotType: 'pie' });\n  }\n\n  return params;\n}\n\n/**\n *  tooltip \n * 1.  tooltip.shared  false\n * @param params\n */\nfunction tooltip(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { tooltip, colorField, angleField, data } = options;\n\n  if (tooltip === false) {\n    chart.tooltip(tooltip);\n  } else {\n    chart.tooltip(deepAssign({}, tooltip, { shared: false }));\n\n    //  all zero  all zero \n    if (isAllZero(data, angleField)) {\n      let fields = get(tooltip, 'fields');\n      let formatter = get(tooltip, 'formatter');\n\n      if (isEmpty(get(tooltip, 'fields'))) {\n        fields = [colorField, angleField];\n        formatter = formatter || ((datum) => ({ name: datum[colorField], value: toString(datum[angleField]) }));\n      }\n      chart.geometries[0].tooltip(fields.join('*'), getMappingFunction(fields, formatter));\n    }\n  }\n\n  return params;\n}\n\n/**\n * Interaction  ( interaction, \n * @param params\n */\nexport function interaction(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { interactions, statistic, annotations } = transformStatisticOptions(options);\n\n  each(interactions, (i: Interaction) => {\n    if (i.enable === false) {\n      chart.removeInteraction(i.type);\n    } else if (i.type === 'pie-statistic-active') {\n      //  start \n      let startStages = [];\n      if (!i.cfg?.start) {\n        startStages = [\n          {\n            trigger: 'element:mouseenter',\n            action: `${PIE_STATISTIC}:change`,\n            arg: { statistic, annotations },\n          },\n        ];\n      }\n      each(i.cfg?.start, (stage) => {\n        startStages.push({ ...stage, arg: { statistic, annotations } });\n      });\n      chart.interaction(i.type, deepAssign({}, i.cfg, { start: startStages }));\n    } else {\n      chart.interaction(i.type, i.cfg || {});\n    }\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<PieOptions>) {\n  // flow  G2 API\n  return flow<Params<PieOptions>>(\n    pattern('pieStyle'),\n    geometry,\n    meta,\n    theme,\n    coordinate,\n    legend,\n    tooltip,\n    label,\n    state,\n    /**   */\n    pieAnnotation,\n    interaction,\n    animation\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  legend: {\n    position: 'right',\n    radio: {},\n  },\n  tooltip: {\n    shared: false,\n    showTitle: false,\n    showMarkers: false,\n  },\n  label: {\n    layout: { type: 'limit-in-plot', cfg: { action: 'ellipsis' } },\n  },\n  /** ,  */\n  pieStyle: {\n    stroke: 'white',\n    lineWidth: 1,\n  },\n  /**  */\n  statistic: {\n    title: {\n      style: { fontWeight: 300, color: '#4B535E', textAlign: 'center', fontSize: '20px', lineHeight: 1 },\n    },\n    content: {\n      style: {\n        fontWeight: 'bold',\n        color: 'rgba(44,53,66,0.85)',\n        textAlign: 'center',\n        fontSize: '32px',\n        lineHeight: 1,\n      },\n    },\n  },\n  /**  text-annotation  */\n  theme: {\n    components: {\n      annotation: {\n        text: {\n          animate: false,\n        },\n      },\n    },\n  },\n});\n","import { each, every, isString } from '@antv/util';\nimport { Data } from '../../types';\nimport { processIllegalData } from '../../utils';\nimport { PieOptions } from './types';\n\n/**\n * \n * @param data\n * @param field\n */\nexport function getTotalValue(data: Data, field: string) {\n  let total = null;\n  each(data, (item) => {\n    if (typeof item[field] === 'number') {\n      total += item[field];\n    }\n  });\n  return total;\n}\n\n/**\n * pie label offset adaptor\n */\nexport function adaptOffset(type: string, offset?: string | number): string | number {\n  let defaultOffset;\n  switch (type) {\n    case 'inner':\n      defaultOffset = '-30%';\n      if (isString(offset) && offset.endsWith('%')) {\n        return parseFloat(offset) * 0.01 > 0 ? defaultOffset : offset;\n      }\n      return offset < 0 ? offset : defaultOffset;\n    case 'outer':\n      defaultOffset = 12;\n      if (isString(offset) && offset.endsWith('%')) {\n        return parseFloat(offset) * 0.01 < 0 ? defaultOffset : offset;\n      }\n      return offset > 0 ? offset : defaultOffset;\n    default:\n      return offset;\n  }\n}\n\n/**\n *  0\n * @param data\n * @param angleField\n */\nexport function isAllZero(data: PieOptions['data'], angleField: string): boolean {\n  return every(processIllegalData(data, angleField), (d) => d[angleField] === 0);\n}\n","import { registerAction, registerInteraction } from '@antv/g2';\nimport { PieLegendAction } from './actions/legend-active';\nimport { StatisticAction } from './actions/statistic-active';\n\nexport const PIE_STATISTIC = 'pie-statistic';\n\nregisterAction(PIE_STATISTIC, StatisticAction);\nregisterInteraction('pie-statistic-active', {\n  start: [{ trigger: 'element:mouseenter', action: 'pie-statistic:change' }],\n  end: [{ trigger: 'element:mouseleave', action: 'pie-statistic:reset' }],\n});\n\nregisterAction('pie-legend', PieLegendAction);\nregisterInteraction('pie-legend-active', {\n  start: [{ trigger: 'legend-item:mouseenter', action: 'pie-legend:active' }],\n  end: [{ trigger: 'legend-item:mouseleave', action: 'pie-legend:reset' }],\n});\n","import { Util } from '@antv/g2';\n\nconst ORIGIN_MATRIX = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n\n/**\n * \n * @param actions\n * @param matrix\n */\nexport function transform(actions: any[][], matrix?: number[]) {\n  const ulMatrix = matrix ? [...matrix] : [...ORIGIN_MATRIX];\n  return Util.transform(ulMatrix, actions);\n}\n","import { Chart } from '@antv/g2';\r\nimport { Types } from '@antv/g2';\r\nimport { isArray, isFunction, isString } from '@antv/util';\r\nimport { normalPadding } from '../../utils/padding';\r\nimport { Params } from '../../core/adaptor';\r\nimport { Datum } from '../../types';\r\nimport { log, LEVEL, getContainerSize } from '../../utils';\r\nimport { functor, wordCloud } from '../../utils/transform/word-cloud';\r\nimport { Tag, Word, WordCloudOptions, WordStyle } from './types';\r\n\r\n/**\r\n *  DataSet \r\n * @param params\r\n */\r\nexport function transform(params: Params<WordCloudOptions>): Tag[] {\r\n  const { options: rawOptions, chart } = params;\r\n  const { width, height, padding: chartPadding, appendPadding, ele } = chart as Chart;\r\n  const {\r\n    data,\r\n    imageMask,\r\n    wordField,\r\n    weightField,\r\n    colorField,\r\n    wordStyle,\r\n    timeInterval,\r\n    random,\r\n    spiral,\r\n    autoFit = true,\r\n    placementStrategy,\r\n  } = rawOptions;\r\n  if (!data || !data.length) {\r\n    return [];\r\n  }\r\n  const { fontFamily, fontWeight, padding, fontSize } = wordStyle;\r\n  const arr = getSingleKeyValues(data, weightField);\r\n  const range = [min(arr), max(arr)] as [number, number];\r\n\r\n  //  text  value \r\n  const words = data.map(\r\n    (datum: Datum): Word => ({\r\n      text: datum[wordField],\r\n      value: datum[weightField],\r\n      color: datum[colorField],\r\n      datum, // \r\n    })\r\n  );\r\n\r\n  const options = {\r\n    imageMask: imageMask as HTMLImageElement,\r\n    font: fontFamily,\r\n    fontSize: getFontSizeMapping(fontSize, range),\r\n    fontWeight: fontWeight,\r\n    //  padding \r\n    size: getSize({\r\n      width,\r\n      height,\r\n      padding: chartPadding,\r\n      appendPadding,\r\n      autoFit,\r\n      container: ele,\r\n    }),\r\n    padding: padding,\r\n    timeInterval,\r\n    random,\r\n    spiral,\r\n    rotate: getRotate(rawOptions),\r\n  };\r\n\r\n  // \r\n  if (isFunction(placementStrategy)) {\r\n    const result = words.map((word: Word, index: number, words: Word[]) => ({\r\n      ...word,\r\n      hasText: !!word.text,\r\n      font: functor(options.font)(word, index, words),\r\n      weight: functor(options.fontWeight)(word, index, words),\r\n      rotate: functor(options.rotate)(word, index, words),\r\n      size: functor(options.fontSize)(word, index, words),\r\n      style: 'normal',\r\n      ...placementStrategy.call(chart, word, index, words),\r\n    }));\r\n\r\n    // \r\n    result.push({\r\n      text: '',\r\n      value: 0,\r\n      x: 0,\r\n      y: 0,\r\n      opacity: 0,\r\n    });\r\n    result.push({\r\n      text: '',\r\n      value: 0,\r\n      x: options.size[0],\r\n      y: options.size[1],\r\n      opacity: 0,\r\n    });\r\n\r\n    return result;\r\n  }\r\n\r\n  // wordCloud \r\n  return wordCloud(words, options);\r\n}\r\n\r\n/**\r\n * [width, height]\r\n * @param chart\r\n */\r\nexport function getSize(options: {\r\n  width: number;\r\n  height: number;\r\n  padding: Types.ViewPadding;\r\n  appendPadding: Types.ViewAppendPadding;\r\n  autoFit: boolean;\r\n  container: HTMLElement;\r\n}): [number, number] {\r\n  let { width, height } = options;\r\n  const { container, autoFit, padding, appendPadding } = options;\r\n\r\n  //  DataSet \r\n  //  DataSet \r\n  //  DataSet \r\n  // \r\n  if (autoFit) {\r\n    const containerSize = getContainerSize(container);\r\n    width = containerSize.width;\r\n    height = containerSize.height;\r\n  }\r\n\r\n  //  0\r\n  width = width || 400;\r\n  height = height || 400;\r\n\r\n  const [top, right, bottom, left] = resolvePadding({ padding, appendPadding });\r\n  const result = [width - (left + right), height - (top + bottom)];\r\n\r\n  return result as [number, number];\r\n}\r\n\r\n/**\r\n *  padding  appendPadding  padding\r\n * @param chart\r\n */\r\nfunction resolvePadding(options: { padding: Types.ViewPadding; appendPadding: Types.ViewAppendPadding }) {\r\n  const padding = normalPadding(options.padding);\r\n  const appendPadding = normalPadding(options.appendPadding);\r\n  const top = padding[0] + appendPadding[0];\r\n  const right = padding[1] + appendPadding[1];\r\n  const bottom = padding[2] + appendPadding[2];\r\n  const left = padding[3] + appendPadding[3];\r\n\r\n  return [top, right, bottom, left];\r\n}\r\n\r\n/**\r\n *  imageMask  url \r\n * @param  {HTMLImageElement | string} img\r\n * @return {Promise}\r\n */\r\nexport function processImageMask(img: HTMLImageElement | string): Promise<HTMLImageElement> {\r\n  return new Promise((res, rej) => {\r\n    if (img instanceof HTMLImageElement) {\r\n      res(img);\r\n      return;\r\n    }\r\n    if (isString(img)) {\r\n      const image = new Image();\r\n      image.crossOrigin = 'anonymous';\r\n      image.src = img;\r\n      image.onload = () => {\r\n        res(image);\r\n      };\r\n      image.onerror = () => {\r\n        log(LEVEL.ERROR, false, 'image %s load failed !!!', img);\r\n        rej();\r\n      };\r\n      return;\r\n    }\r\n    log(LEVEL.WARN, img === undefined, 'The type of imageMask option must be String or HTMLImageElement.');\r\n    rej();\r\n  });\r\n}\r\n\r\n/**\r\n *  fontSize  DataSet \r\n * @param options\r\n * @param range\r\n */\r\nexport function getFontSizeMapping(fontSize: WordStyle['fontSize'], range?: [number, number]) {\r\n  if (isFunction(fontSize)) {\r\n    return fontSize;\r\n  }\r\n  if (isArray(fontSize)) {\r\n    const [fMin, fMax] = fontSize;\r\n    if (!range) {\r\n      return () => (fMax + fMin) / 2;\r\n    }\r\n    const [min, max] = range;\r\n    if (max === min) {\r\n      return () => (fMax + fMin) / 2;\r\n    }\r\n    return function fontSize({ value }) {\r\n      return ((fMax - fMin) / (max - min)) * (value - min) + fMin;\r\n    };\r\n  }\r\n  return () => fontSize;\r\n}\r\n\r\nexport function getSingleKeyValues(data: Datum[], key: string) {\r\n  return data\r\n    .map((v) => v[key])\r\n    .filter((v) => {\r\n      //  number\r\n      if (typeof v === 'number' && !isNaN(v)) return true;\r\n      return false;\r\n    });\r\n}\r\n\r\n/**\r\n *  DataSet \r\n * @param options\r\n */\r\nfunction getRotate(options: WordCloudOptions) {\r\n  const { rotation, rotationSteps } = resolveRotate(options);\r\n  if (!isArray(rotation)) return rotation;\r\n  const min = rotation[0];\r\n  const max = rotation[1];\r\n  //  1  0\r\n  const perSize = rotationSteps === 1 ? 0 : (max - min) / (rotationSteps - 1);\r\n  return function rotate() {\r\n    if (max === min) return max;\r\n    return Math.floor(Math.random() * rotationSteps) * perSize;\r\n  };\r\n}\r\n\r\n/**\r\n * \r\n * @param options\r\n */\r\nfunction resolveRotate(options: WordCloudOptions) {\r\n  let { rotationSteps } = options.wordStyle;\r\n  if (rotationSteps < 1) {\r\n    log(LEVEL.WARN, false, 'The rotationSteps option must be greater than or equal to 1.');\r\n    rotationSteps = 1;\r\n  }\r\n  return {\r\n    rotation: options.wordStyle.rotation,\r\n    rotationSteps,\r\n  };\r\n}\r\n\r\n/**\r\n * \r\n * \r\n * @param numbers\r\n */\r\nfunction min(numbers: number[]) {\r\n  return Math.min(...numbers);\r\n}\r\n\r\n/**\r\n * \r\n * \r\n * @param numbers\r\n */\r\nfunction max(numbers: number[]) {\r\n  return Math.max(...numbers);\r\n}\r\n","import { Plot } from '../../core/plot';\nimport { Datum } from '../../types';\nimport { deepAssign } from '../../utils';\n\n/**  color  */\nexport const WORD_CLOUD_COLOR_FIELD = 'color';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  timeInterval: 2000,\n  legend: false,\n  tooltip: {\n    showTitle: false,\n    showMarkers: false,\n    showCrosshairs: false,\n    fields: ['text', 'value', WORD_CLOUD_COLOR_FIELD],\n    formatter: (datum: Datum) => {\n      return { name: datum.text, value: datum.value };\n    },\n  },\n  wordStyle: {\n    fontFamily: 'Verdana',\n    fontWeight: 'normal',\n    padding: 1,\n    fontSize: [12, 60],\n    rotation: [0, 90],\n    rotationSteps: 2,\n    rotateRatio: 0.5,\n  },\n});\n","import { BRUSH_FILTER_EVENTS, VIEW_LIFE_CIRCLE } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { deepAssign } from '../../utils';\nimport { ScatterOptions } from './types';\nimport { adaptor, transformOptions, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport './interactions';\n\nexport type { ScatterOptions };\n\nexport class Scatter extends Plot<ScatterOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<ScatterOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'scatter';\n\n  constructor(container: string | HTMLElement, options: ScatterOptions) {\n    super(container, options);\n\n    //  brush  meta\n    this.on(VIEW_LIFE_CIRCLE.BEFORE_RENDER, (evt) => {\n      //  option\n      const { options, chart } = this;\n      if (evt.data?.source === BRUSH_FILTER_EVENTS.FILTER) {\n        const filteredData = this.chart.filterData(this.chart.getData());\n        meta({ chart, options: { ...options, data: filteredData } });\n      }\n\n      if (evt.data?.source === BRUSH_FILTER_EVENTS.RESET) {\n        meta({ chart, options });\n      }\n    });\n  }\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: ScatterOptions['data']) {\n    this.updateOption(transformOptions(deepAssign({}, this.options, { data })));\n    const { options, chart } = this;\n    meta({ chart, options });\n    this.chart.changeData(data);\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<ScatterOptions> {\n    return adaptor;\n  }\n\n  protected getDefaultOptions() {\n    return Scatter.getDefaultOptions();\n  }\n}\n","import { isNumber } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { flow, deepAssign, pick } from '../../utils';\nimport { point } from '../../adaptor/geometries';\nimport { brushInteraction } from '../../adaptor/brush';\nimport { interaction, animation, theme, scale, annotation, slider, scrollbar } from '../../adaptor/common';\nimport { findGeometry, transformLabel } from '../../utils';\nimport { getQuadrantDefaultConfig, getPath, getMeta } from './util';\nimport { ScatterOptions } from './types';\n\n/**\n * \n *  data.length === 1   y    x \n * @param params\n * @returns params\n */\nexport function transformOptions(options: ScatterOptions): ScatterOptions {\n  const { data = [], xField, yField } = options;\n\n  if (data.length) {\n    // x y \n    let isOneX = true;\n    let isOneY = true;\n\n    let prev = data[0];\n    let curr;\n\n    for (let i = 1; i < data.length; i++) {\n      curr = data[i];\n\n      if (prev[xField] !== curr[xField]) {\n        isOneX = false;\n      }\n\n      if (prev[yField] !== curr[yField]) {\n        isOneY = false;\n      }\n\n      //  oneValue\n      if (!isOneX && !isOneY) {\n        break;\n      }\n\n      prev = curr;\n    }\n\n    const keys = [];\n    isOneX && keys.push(xField);\n    isOneY && keys.push(yField);\n\n    const meta = pick(getMeta(options), keys);\n\n    return deepAssign({}, options, { meta });\n  }\n\n  return options;\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { chart, options } = params;\n  const { data, type, color, shape, pointStyle, shapeField, colorField, xField, yField, sizeField } = options;\n  let { size } = options;\n\n  let { tooltip } = options;\n\n  if (sizeField) {\n    if (!size) {\n      size = [2, 8];\n    }\n    if (isNumber(size)) {\n      size = [size, size];\n    }\n  }\n\n  if (tooltip && !tooltip.fields) {\n    tooltip = {\n      ...tooltip,\n      fields: [xField, yField, colorField, sizeField, shapeField],\n    };\n  }\n  // \n  chart.data(data);\n\n  // geometry\n  point(\n    deepAssign({}, params, {\n      options: {\n        seriesField: colorField,\n        point: {\n          color,\n          shape,\n          size,\n          style: pointStyle,\n        },\n        tooltip,\n      },\n    })\n  );\n\n  const geometry = findGeometry(chart, 'point');\n\n  // \n  if (type) {\n    geometry.adjust(type);\n  }\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  const newOptions = transformOptions(options);\n  return flow(\n    scale({\n      [xField]: xAxis,\n      [yField]: yAxis,\n    })\n  )(deepAssign({}, params, { options: newOptions }));\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  chart.axis(xField, xAxis);\n  chart.axis(yField, yAxis);\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nfunction legend(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { chart, options } = params;\n  const { legend, colorField, shapeField, sizeField, shapeLegend, sizeLegend } = options;\n\n  /** legend  false, ,  color  */\n  const showLegend = legend !== false;\n\n  if (colorField) {\n    chart.legend(colorField, showLegend ? legend : false);\n  }\n\n  //  shapeLegend,  legend\n  if (shapeField) {\n    if (shapeLegend) {\n      chart.legend(shapeField, shapeLegend);\n    } else {\n      chart.legend(shapeField, shapeLegend === false ? false : legend);\n    }\n  }\n\n  if (sizeField) {\n    chart.legend(sizeField, sizeLegend ? sizeLegend : false);\n  }\n\n  /**  shape  shapeLegend  undefined  */\n  /**  sizeField */\n  if (!showLegend && !shapeLegend && !sizeLegend) {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { chart, options } = params;\n  const { label, yField } = options;\n\n  const scatterGeometry = findGeometry(chart, 'point');\n\n  // label  false,   label\n  if (!label) {\n    scatterGeometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    scatterGeometry.label({\n      fields: [yField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * annotation \n * -  annotation: quadrant()\n * @param params\n */\nfunction scatterAnnotation(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { options } = params;\n  const { quadrant } = options;\n\n  const annotationOptions = [];\n\n  if (quadrant) {\n    const { xBaseline = 0, yBaseline = 0, labels, regionStyle, lineStyle } = quadrant;\n    const defaultConfig = getQuadrantDefaultConfig(xBaseline, yBaseline);\n    // \n    const quadrants = new Array(4).join(',').split(',');\n    quadrants.forEach((_: string, index: number) => {\n      annotationOptions.push(\n        {\n          type: 'region',\n          top: false,\n          ...defaultConfig.regionStyle[index].position,\n          style: deepAssign({}, defaultConfig.regionStyle[index].style, regionStyle?.[index]),\n        },\n        {\n          type: 'text',\n          top: true,\n          ...deepAssign({}, defaultConfig.labelStyle[index], labels?.[index]),\n        }\n      );\n    });\n    // \n    annotationOptions.push(\n      {\n        type: 'line',\n        top: false,\n        start: ['min', yBaseline],\n        end: ['max', yBaseline],\n        style: deepAssign({}, defaultConfig.lineStyle, lineStyle),\n      },\n      {\n        type: 'line',\n        top: false,\n        start: [xBaseline, 'min'],\n        end: [xBaseline, 'max'],\n        style: deepAssign({}, defaultConfig.lineStyle, lineStyle),\n      }\n    );\n  }\n\n  return flow(annotation(annotationOptions))(params);\n}\n\n// \nfunction regressionLine(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { options, chart } = params;\n  const { regressionLine } = options;\n  if (regressionLine) {\n    const { style, top = false } = regressionLine;\n    const defaultStyle = {\n      stroke: '#9ba29a',\n      lineWidth: 2,\n      opacity: 0.5,\n    };\n    chart.annotation().shape({\n      top,\n      render: (container, view) => {\n        const group = container.addGroup({\n          id: `${chart.id}-regression-line`,\n          name: 'regression-line-group',\n        });\n        const path = getPath({\n          view,\n          options,\n        });\n        group.addShape('path', {\n          name: 'regression-line',\n          attrs: {\n            path,\n            ...defaultStyle,\n            ...style,\n          },\n        });\n      },\n    });\n  }\n\n  return params;\n}\n\n/**\n * tooltip \n * @param params\n */\nexport function tooltip(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip) {\n    chart.tooltip(tooltip);\n  } else if (tooltip === false) {\n    chart.tooltip(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<ScatterOptions>) {\n  // flow  G2 API\n  return flow(\n    geometry,\n    meta,\n    axis,\n    legend,\n    tooltip,\n    label,\n    //  interaction \n    brushInteraction,\n    slider,\n    scrollbar,\n    interaction,\n    scatterAnnotation,\n    animation,\n    theme,\n    regressionLine\n  )(params);\n}\n","import { registerInteraction } from '@antv/g2';\n\nregisterInteraction('drag-move', {\n  start: [{ trigger: 'plot:mousedown', action: 'scale-translate:start' }],\n  processing: [\n    {\n      trigger: 'plot:mousemove',\n      action: 'scale-translate:translate',\n      throttle: { wait: 100, leading: true, trailing: false },\n    },\n  ],\n  end: [{ trigger: 'plot:mouseup', action: 'scale-translate:end' }],\n});\n","export const LEFT_AXES_VIEW = 'left-axes-view';\nexport const RIGHT_AXES_VIEW = 'right-axes-view';\n\nexport const DEFAULT_YAXIS_CONFIG = {\n  nice: true,\n  label: {\n    autoHide: true,\n    autoRotate: false,\n  },\n};\n\nexport const DEFAULT_LEFT_YAXIS_CONFIG = {\n  ...DEFAULT_YAXIS_CONFIG,\n  position: 'left',\n};\n\nexport const DEFAULT_RIGHT_YAXIS_CONFIG = {\n  ...DEFAULT_YAXIS_CONFIG,\n  position: 'right',\n  grid: null,\n};\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { TinyLineOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { getTinyData } from './utils';\n\nexport type { TinyLineOptions };\n\nexport class TinyLine extends Plot<TinyLineOptions> {\n  /**\n   * \n   * \n   */\n  static getDefaultOptions(): Partial<TinyLineOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'tiny-line';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: TinyLineOptions['data']) {\n    this.updateOption({ data });\n    const { chart, options } = this;\n    meta({ chart, options });\n    chart.changeData(getTinyData(data));\n  }\n\n  protected getDefaultOptions() {\n    return TinyLine.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<TinyLineOptions> {\n    return adaptor;\n  }\n}\n","import { Params } from '../../core/adaptor';\nimport { flow, deepAssign } from '../../utils';\nimport { theme, animation, annotation, tooltip } from '../../adaptor/common';\nimport { line, point } from '../../adaptor/geometries';\nimport { meta } from '../tiny-area/adaptor';\nimport { getTinyData } from './utils';\nimport { TinyLineOptions } from './types';\nimport { X_FIELD, Y_FIELD } from './constants';\n\nexport { meta };\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<TinyLineOptions>): Params<TinyLineOptions> {\n  const { chart, options } = params;\n  const { data, color, lineStyle, point: pointMapping } = options;\n\n  const pointState = pointMapping?.state;\n\n  const seriesData = getTinyData(data);\n\n  chart.data(seriesData);\n\n  // line geometry \n  const primary = deepAssign({}, params, {\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      line: {\n        color,\n        style: lineStyle,\n      },\n      point: pointMapping,\n    },\n  });\n  const pointParams = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n\n  line(primary);\n  point(pointParams);\n\n  chart.axis(false);\n  chart.legend(false);\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<TinyLineOptions>) {\n  return flow(geometry, meta, theme, tooltip, animation, annotation())(params);\n}\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { getTinyData } from '../tiny-line/utils';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { TinyColumnOptions } from './types';\n\nexport type { TinyColumnOptions };\n\nexport class TinyColumn extends Plot<TinyColumnOptions> {\n  /**\n   * \n   * \n   */\n  static getDefaultOptions(): Partial<TinyColumnOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'tiny-column';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: TinyColumnOptions['data']) {\n    this.updateOption({ data });\n    const { chart, options } = this;\n    meta({ chart, options });\n    chart.changeData(getTinyData(data));\n  }\n\n  protected getDefaultOptions() {\n    return TinyColumn.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<TinyColumnOptions> {\n    return adaptor;\n  }\n}\n","import { theme, animation, annotation, tooltip, pattern } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { flow, deepAssign } from '../../utils';\nimport { interval } from '../../adaptor/geometries';\nimport { X_FIELD, Y_FIELD } from '../tiny-line/constants';\nimport { getTinyData } from '../tiny-line/utils';\nimport { meta } from '../tiny-area/adaptor';\nimport { TinyColumnOptions } from './types';\n\nexport { meta };\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<TinyColumnOptions>): Params<TinyColumnOptions> {\n  const { chart, options } = params;\n  const { data, color, columnStyle, columnWidthRatio } = options;\n\n  const seriesData = getTinyData(data);\n\n  chart.data(seriesData);\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      widthRatio: columnWidthRatio,\n      interval: {\n        style: columnStyle,\n        color,\n      },\n    },\n  });\n  interval(p);\n\n  chart.axis(false);\n  chart.legend(false);\n  chart.interaction('element-active');\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<TinyColumnOptions>) {\n  return flow(theme, pattern('columnStyle'), geometry, meta, tooltip, animation, annotation())(params);\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { getTinyData } from '../tiny-line/utils';\nimport { TinyAreaOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\n\nexport type { TinyAreaOptions };\n\nexport class TinyArea extends Plot<TinyAreaOptions> {\n  /**\n   * \n   * \n   */\n  static getDefaultOptions(): Partial<TinyAreaOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'tiny-area';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: TinyAreaOptions['data']) {\n    this.updateOption({ data });\n    const { chart, options } = this;\n    meta({ chart, options });\n    chart.changeData(getTinyData(data));\n  }\n\n  protected getDefaultOptions() {\n    return TinyArea.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<TinyAreaOptions> {\n    return adaptor;\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { binHistogram } from '../../utils/transform/histogram';\nimport { HistogramOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\n\nexport type { HistogramOptions };\n\nexport class Histogram extends Plot<HistogramOptions> {\n  /**\n   *  \n   * \n   */\n  static getDefaultOptions(): Partial<HistogramOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'histogram';\n\n  public changeData(data: HistogramOptions['data']) {\n    this.updateOption({ data });\n\n    const { binField, binNumber, binWidth, stackField } = this.options;\n    this.chart.changeData(binHistogram(data, binField, binWidth, binNumber, stackField));\n  }\n\n  /**\n   * \n   */\n  protected getDefaultOptions() {\n    return Histogram.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<HistogramOptions> {\n    return adaptor;\n  }\n}\n","import { clone, sortBy, valuesOfKey, getRange, each, hasKey, groupBy, isEmpty } from '@antv/util';\nimport { Data } from '../../types';\n\ntype StatisticData = {\n  range: Array<number>;\n  count: number;\n};\ntype StatisticBin = {\n  [key: string]: StatisticData;\n};\n\n//  range\nfunction getBinKey(value: number, binWidth: number, binNumber?: number): [number, number] {\n  // \n  if (binNumber === 1) {\n    return [0, binWidth];\n  }\n  const index = Math.floor(value / binWidth);\n  return [binWidth * index, binWidth * (index + 1)];\n}\n\n//  sturges \nfunction sturges(values: Array<number>): number {\n  return Math.ceil(Math.log(values.length) / Math.LN2) + 1;\n}\n/**\n * \n * @param data\n * @param binField\n * @param binWidth\n * @param binNumber\n * @param stackField\n */\nexport function binHistogram(data: Data, binField: string, binWidth: number, binNumber?: number, stackField?: string) {\n  const originData_copy = clone(data);\n\n  //  binField \n  sortBy(originData_copy, binField);\n\n  //  binField  range\n  const values = valuesOfKey(originData_copy, binField);\n  const range = getRange(values);\n  const rangeWidth = range.max - range.min;\n\n  //  binWidth binNumber  binWidth \n  let _binWidth = binWidth;\n  if (!binWidth && binNumber) {\n    _binWidth = binNumber > 1 ? rangeWidth / (binNumber - 1) : range.max;\n  }\n  //  binWidth  binNumber  Sturges formula  binWidth\n  if (!binWidth && !binNumber) {\n    const _defaultBinNumber = sturges(values);\n    _binWidth = rangeWidth / _defaultBinNumber;\n  }\n  //  key - StatisticData \n  const bins: StatisticBin = {};\n  const groups = groupBy(originData_copy, stackField);\n  //  stackField \n  if (isEmpty(groups)) {\n    each(originData_copy, (data: any) => {\n      const value = data[binField];\n      const bin = getBinKey(value, _binWidth, binNumber);\n      const binKey = `${bin[0]}-${bin[1]}`;\n      if (!hasKey(bins, binKey)) {\n        bins[binKey] = { range: bin, count: 0 };\n      }\n      bins[binKey].count += 1;\n    });\n  } else {\n    Object.keys(groups).forEach((groupKey: string) => {\n      each(groups[groupKey], (data: any) => {\n        const value = data[binField];\n        const bin = getBinKey(value, _binWidth, binNumber);\n        const binKey = `${bin[0]}-${bin[1]}`;\n        const groupKeyBinKey = `${binKey}-${groupKey}`;\n        if (!hasKey(bins, groupKeyBinKey)) {\n          bins[groupKeyBinKey] = { range: bin, count: 0 };\n          bins[groupKeyBinKey][stackField] = groupKey;\n        }\n        bins[groupKeyBinKey].count += 1;\n      });\n    });\n  }\n  //  plotData \n  const plotData: Array<StatisticData> = [];\n  each(bins, (bin: StatisticData) => {\n    plotData.push(bin);\n  });\n  return plotData;\n}\n","import { Params } from '../../core/adaptor';\nimport { tooltip, interaction, animation, theme, scale, state } from '../../adaptor/common';\nimport { pattern } from '../../adaptor/pattern';\nimport { findGeometry, deepAssign } from '../../utils';\nimport { flow, transformLabel } from '../../utils';\nimport { interval } from '../../adaptor/geometries';\nimport { binHistogram } from '../../utils/transform/histogram';\nimport { HistogramOptions } from './types';\nimport { HISTOGRAM_X_FIELD, HISTOGRAM_Y_FIELD } from './constant';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<HistogramOptions>): Params<HistogramOptions> {\n  const { chart, options } = params;\n  const { data, binField, binNumber, binWidth, color, stackField, legend, columnStyle } = options;\n\n  // \n  const plotData = binHistogram(data, binField, binWidth, binNumber, stackField);\n\n  chart.data(plotData);\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: HISTOGRAM_X_FIELD,\n      yField: HISTOGRAM_Y_FIELD,\n      seriesField: stackField,\n      isStack: true,\n      interval: {\n        color,\n        style: columnStyle,\n      },\n    },\n  });\n\n  interval(p);\n\n  // \n  if (legend && stackField) {\n    chart.legend(stackField, legend);\n  }\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<HistogramOptions>): Params<HistogramOptions> {\n  const { options } = params;\n  const { xAxis, yAxis } = options;\n\n  return flow(\n    scale({\n      [HISTOGRAM_X_FIELD]: xAxis,\n      [HISTOGRAM_Y_FIELD]: yAxis,\n    })\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<HistogramOptions>): Params<HistogramOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(HISTOGRAM_X_FIELD, false);\n  } else {\n    chart.axis(HISTOGRAM_X_FIELD, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(HISTOGRAM_Y_FIELD, false);\n  } else {\n    chart.axis(HISTOGRAM_Y_FIELD, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<HistogramOptions>): Params<HistogramOptions> {\n  const { chart, options } = params;\n  const { label } = options;\n\n  const geometry = findGeometry(chart, 'interval');\n\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: [HISTOGRAM_Y_FIELD],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<HistogramOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    pattern('columnStyle'),\n    geometry,\n    meta,\n    axis,\n    state,\n    label,\n    tooltip,\n    interaction,\n    animation\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**  xField */\nexport const HISTOGRAM_X_FIELD = 'range';\n/**  yField */\nexport const HISTOGRAM_Y_FIELD = 'count';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  columnStyle: {\n    stroke: '#FFFFFF',\n  },\n  tooltip: {\n    shared: true,\n    showMarkers: false,\n  },\n  interactions: [{ type: 'active-region' }],\n});\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { ProgressOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { getProgressData } from './utils';\n\nexport type { ProgressOptions };\n\nexport class Progress extends Plot<ProgressOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<ProgressOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'process';\n\n  /**\n   * \n   * @param percent\n   */\n  public changeData(percent: number) {\n    this.updateOption({ percent });\n    this.chart.changeData(getProgressData(percent));\n  }\n\n  protected getDefaultOptions() {\n    return Progress.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<ProgressOptions> {\n    return adaptor;\n  }\n}\n","export const DEFAULT_COLOR = ['#FAAD14', '#E8EDF3'];\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  percent: 0.2,\n  color: DEFAULT_COLOR,\n  animation: {},\n};\n","import { VIEW_LIFE_CIRCLE, Event } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { getProgressData } from '../progress/utils';\nimport { RingProgressOptions } from './types';\nimport { adaptor, statistic } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\n\nexport type { RingProgressOptions };\n\nexport class RingProgress extends Plot<RingProgressOptions> {\n  /**\n   * \n   * \n   */\n  static getDefaultOptions(): Partial<RingProgressOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'ring-process';\n\n  /**\n   * \n   * @param percent\n   */\n  public changeData(percent: number) {\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null)\n    );\n    this.updateOption({ percent });\n\n    this.chart.data(getProgressData(percent));\n    // todo  G2  afterrender  annotations\n    statistic({ chart: this.chart, options: this.options }, true);\n\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null)\n    );\n  }\n\n  protected getDefaultOptions() {\n    return RingProgress.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<RingProgressOptions> {\n    return adaptor;\n  }\n}\n","import { get, isNil } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, flow, renderStatistic } from '../../utils';\nimport { scale, animation, theme, annotation } from '../../adaptor/common';\nimport { geometry } from '../progress/adaptor';\nimport { RingProgressOptions } from './types';\n\n/**\n * coordinate \n * @param params\n */\nfunction coordinate(params: Params<RingProgressOptions>): Params<RingProgressOptions> {\n  const { chart, options } = params;\n  const { innerRadius, radius } = options;\n\n  // coordinate\n  chart.coordinate('theta', {\n    innerRadius,\n    radius,\n  });\n\n  return params;\n}\n\n/**\n * statistic \n * @param params\n */\nexport function statistic(params: Params<RingProgressOptions>, updated?: boolean): Params<RingProgressOptions> {\n  const { chart, options } = params;\n  const { innerRadius, statistic, percent, meta } = options;\n\n  // \n  chart.getController('annotation').clear(true);\n\n  /**   */\n  if (innerRadius && statistic) {\n    const metaFormatter = get(meta, ['percent', 'formatter']) || ((v) => `${(v * 100).toFixed(2)}%`);\n    let contentOpt = statistic.content;\n    if (contentOpt) {\n      contentOpt = deepAssign({}, contentOpt, {\n        content: !isNil(contentOpt.content) ? contentOpt.content : metaFormatter(percent),\n      });\n    }\n    renderStatistic(\n      chart,\n      { statistic: { ...statistic, content: contentOpt }, plotType: 'ring-progress' },\n      { percent }\n    );\n  }\n\n  if (updated) {\n    chart.render(true);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<RingProgressOptions>) {\n  return flow(geometry, scale({}), coordinate, statistic, animation, theme, annotation())(params);\n}\n","import { map } from '@antv/util';\nimport { BOX_RANGE } from './constant';\nimport { BoxOptions } from './types';\n\n/**\n * @desc  box ,yField,datadata,data\n * @param data\n * @param yField\n */\nexport const transformData = (data: BoxOptions['data'], yField: BoxOptions['yField']) => {\n  let newData = data;\n  // formate data when `yField` is Array\n  if (Array.isArray(yField)) {\n    const [low, q1, median, q3, high] = yField;\n    newData = map(data, (obj) => {\n      obj[BOX_RANGE] = [obj[low], obj[q1], obj[median], obj[q3], obj[high]];\n      return obj;\n    });\n  }\n\n  return newData;\n};\n","import { groupBy, min, max } from '@antv/util';\nimport pdf from 'pdfast';\nimport { quantile } from '../../utils/transform/quantile';\nimport { ViolinOptions } from './types';\n\nexport type ViolinData = {\n  /** X */\n  x: string;\n\n  /**  size  */\n  violinSize: number[];\n  /**  y  */\n  violinY: number[];\n\n  // \n  /**  */\n  high: number;\n  /**  */\n  low: number;\n  /**  */\n  q1: number;\n  /**  */\n  q3: number;\n  /**  */\n  median: number[];\n\n  /**  */\n  minMax: number[];\n  /**  */\n  quantile: number[];\n};\n\nexport type PdfOptions = {\n  min: number;\n  max: number;\n  size: number;\n  width: number;\n};\n\nexport const toBoxValue = (values: number[]) => {\n  return {\n    low: min(values),\n    high: max(values),\n    q1: quantile(values, 0.25),\n    q3: quantile(values, 0.75),\n    median: quantile(values, [0.5]),\n    minMax: [min(values), max(values)],\n    quantile: [quantile(values, 0.25), quantile(values, 0.75)],\n  };\n};\n\nexport const toViolinValue = (values: number[], pdfOptions: PdfOptions) => {\n  const pdfResults: Array<{ x: number; y: number }> = pdf.create(values, pdfOptions);\n  return {\n    violinSize: pdfResults.map((result) => result.y),\n    violinY: pdfResults.map((result) => result.x),\n  };\n};\n\nexport const transformViolinData = (options: ViolinOptions): ViolinData[] => {\n  const { xField, yField, seriesField, data, kde } = options;\n\n  /**  */\n  const pdfOptions: PdfOptions = {\n    min: kde.min,\n    max: kde.max,\n    size: kde.sampleSize,\n    width: kde.width,\n  };\n\n  // \n  if (!seriesField) {\n    const group = groupBy(data, xField);\n    return Object.keys(group).map((x) => {\n      const records = group[x];\n      const values = records.map((record) => record[yField]);\n      return {\n        x,\n        ...toViolinValue(values, pdfOptions),\n        ...toBoxValue(values),\n      };\n    });\n  }\n\n  // \n  const resultList: ViolinData[] = [];\n  const seriesGroup = groupBy(data, seriesField);\n  Object.keys(seriesGroup).forEach((series) => {\n    const group = groupBy(seriesGroup[series], xField);\n    return Object.keys(group).forEach((key) => {\n      const records = group[key];\n      const values = records.map((record) => record[yField]);\n      resultList.push({\n        x: key,\n        [seriesField]: series,\n        ...toViolinValue(values, pdfOptions),\n        ...toBoxValue(values),\n      });\n    });\n  });\n  return resultList;\n};\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\nimport { ViolinOptions } from './types';\n\nexport const X_FIELD = 'x';\nexport const VIOLIN_Y_FIELD = 'violinY';\nexport const VIOLIN_SIZE_FIELD = 'violinSize';\nexport const MIN_MAX_FIELD = 'minMax';\nexport const QUANTILE_FIELD = 'quantile';\nexport const MEDIAN_FIELD = 'median';\n\nexport const VIOLIN_VIEW_ID = 'violin_view';\nexport const MIN_MAX_VIEW_ID = 'min_max_view';\nexport const QUANTILE_VIEW_ID = 'quantile_view';\nexport const MEDIAN_VIEW_ID = 'median_view';\n\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  //  view  view padding \n  syncViewPadding: true,\n  // \n  kde: {\n    type: 'triangular',\n    sampleSize: 32,\n    width: 3,\n  },\n\n  // \n  violinStyle: {\n    lineWidth: 1,\n    fillOpacity: 0.3,\n    strokeOpacity: 0.75,\n  },\n  // \n  xAxis: {\n    grid: {\n      line: null,\n    },\n    tickLine: {\n      alignTick: false,\n    },\n  },\n  yAxis: {\n    grid: {\n      line: {\n        style: {\n          lineWidth: 0.5,\n          lineDash: [4, 4],\n        },\n      },\n    },\n  },\n  // \n  legend: {\n    position: 'top-left',\n  },\n  // Tooltip\n  tooltip: {\n    showMarkers: false,\n  },\n  // \n  // interactions: [{ type: 'active-region' }],\n} as Partial<ViolinOptions>);\n","(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n    typeof define === 'function' && define.amd ? define(['exports'], factory) :\n    (factory((global.fmin = global.fmin || {})));\n}(this, function (exports) { 'use strict';\n\n    /** finds the zeros of a function, given two starting points (which must\n     * have opposite signs */\n    function bisect(f, a, b, parameters) {\n        parameters = parameters || {};\n        var maxIterations = parameters.maxIterations || 100,\n            tolerance = parameters.tolerance || 1e-10,\n            fA = f(a),\n            fB = f(b),\n            delta = b - a;\n\n        if (fA * fB > 0) {\n            throw \"Initial bisect points must have opposite signs\";\n        }\n\n        if (fA === 0) return a;\n        if (fB === 0) return b;\n\n        for (var i = 0; i < maxIterations; ++i) {\n            delta /= 2;\n            var mid = a + delta,\n                fMid = f(mid);\n\n            if (fMid * fA >= 0) {\n                a = mid;\n            }\n\n            if ((Math.abs(delta) < tolerance) || (fMid === 0)) {\n                return mid;\n            }\n        }\n        return a + delta;\n    }\n\n    // need some basic operations on vectors, rather than adding a dependency,\n    // just define here\n    function zeros(x) { var r = new Array(x); for (var i = 0; i < x; ++i) { r[i] = 0; } return r; }\n    function zerosM(x,y) { return zeros(x).map(function() { return zeros(y); }); }\n\n    function dot(a, b) {\n        var ret = 0;\n        for (var i = 0; i < a.length; ++i) {\n            ret += a[i] * b[i];\n        }\n        return ret;\n    }\n\n    function norm2(a)  {\n        return Math.sqrt(dot(a, a));\n    }\n\n    function scale(ret, value, c) {\n        for (var i = 0; i < value.length; ++i) {\n            ret[i] = value[i] * c;\n        }\n    }\n\n    function weightedSum(ret, w1, v1, w2, v2) {\n        for (var j = 0; j < ret.length; ++j) {\n            ret[j] = w1 * v1[j] + w2 * v2[j];\n        }\n    }\n\n    /** minimizes a function using the downhill simplex method */\n    function nelderMead(f, x0, parameters) {\n        parameters = parameters || {};\n\n        var maxIterations = parameters.maxIterations || x0.length * 200,\n            nonZeroDelta = parameters.nonZeroDelta || 1.05,\n            zeroDelta = parameters.zeroDelta || 0.001,\n            minErrorDelta = parameters.minErrorDelta || 1e-6,\n            minTolerance = parameters.minErrorDelta || 1e-5,\n            rho = (parameters.rho !== undefined) ? parameters.rho : 1,\n            chi = (parameters.chi !== undefined) ? parameters.chi : 2,\n            psi = (parameters.psi !== undefined) ? parameters.psi : -0.5,\n            sigma = (parameters.sigma !== undefined) ? parameters.sigma : 0.5,\n            maxDiff;\n\n        // initialize simplex.\n        var N = x0.length,\n            simplex = new Array(N + 1);\n        simplex[0] = x0;\n        simplex[0].fx = f(x0);\n        simplex[0].id = 0;\n        for (var i = 0; i < N; ++i) {\n            var point = x0.slice();\n            point[i] = point[i] ? point[i] * nonZeroDelta : zeroDelta;\n            simplex[i+1] = point;\n            simplex[i+1].fx = f(point);\n            simplex[i+1].id = i+1;\n        }\n\n        function updateSimplex(value) {\n            for (var i = 0; i < value.length; i++) {\n                simplex[N][i] = value[i];\n            }\n            simplex[N].fx = value.fx;\n        }\n\n        var sortOrder = function(a, b) { return a.fx - b.fx; };\n\n        var centroid = x0.slice(),\n            reflected = x0.slice(),\n            contracted = x0.slice(),\n            expanded = x0.slice();\n\n        for (var iteration = 0; iteration < maxIterations; ++iteration) {\n            simplex.sort(sortOrder);\n\n            if (parameters.history) {\n                // copy the simplex (since later iterations will mutate) and\n                // sort it to have a consistent order between iterations\n                var sortedSimplex = simplex.map(function (x) {\n                    var state = x.slice();\n                    state.fx = x.fx;\n                    state.id = x.id;\n                    return state;\n                });\n                sortedSimplex.sort(function(a,b) { return a.id - b.id; });\n\n                parameters.history.push({x: simplex[0].slice(),\n                                         fx: simplex[0].fx,\n                                         simplex: sortedSimplex});\n            }\n\n            maxDiff = 0;\n            for (i = 0; i < N; ++i) {\n                maxDiff = Math.max(maxDiff, Math.abs(simplex[0][i] - simplex[1][i]));\n            }\n\n            if ((Math.abs(simplex[0].fx - simplex[N].fx) < minErrorDelta) &&\n                (maxDiff < minTolerance)) {\n                break;\n            }\n\n            // compute the centroid of all but the worst point in the simplex\n            for (i = 0; i < N; ++i) {\n                centroid[i] = 0;\n                for (var j = 0; j < N; ++j) {\n                    centroid[i] += simplex[j][i];\n                }\n                centroid[i] /= N;\n            }\n\n            // reflect the worst point past the centroid  and compute loss at reflected\n            // point\n            var worst = simplex[N];\n            weightedSum(reflected, 1+rho, centroid, -rho, worst);\n            reflected.fx = f(reflected);\n\n            // if the reflected point is the best seen, then possibly expand\n            if (reflected.fx < simplex[0].fx) {\n                weightedSum(expanded, 1+chi, centroid, -chi, worst);\n                expanded.fx = f(expanded);\n                if (expanded.fx < reflected.fx) {\n                    updateSimplex(expanded);\n                }  else {\n                    updateSimplex(reflected);\n                }\n            }\n\n            // if the reflected point is worse than the second worst, we need to\n            // contract\n            else if (reflected.fx >= simplex[N-1].fx) {\n                var shouldReduce = false;\n\n                if (reflected.fx > worst.fx) {\n                    // do an inside contraction\n                    weightedSum(contracted, 1+psi, centroid, -psi, worst);\n                    contracted.fx = f(contracted);\n                    if (contracted.fx < worst.fx) {\n                        updateSimplex(contracted);\n                    } else {\n                        shouldReduce = true;\n                    }\n                } else {\n                    // do an outside contraction\n                    weightedSum(contracted, 1-psi * rho, centroid, psi*rho, worst);\n                    contracted.fx = f(contracted);\n                    if (contracted.fx < reflected.fx) {\n                        updateSimplex(contracted);\n                    } else {\n                        shouldReduce = true;\n                    }\n                }\n\n                if (shouldReduce) {\n                    // if we don't contract here, we're done\n                    if (sigma >= 1) break;\n\n                    // do a reduction\n                    for (i = 1; i < simplex.length; ++i) {\n                        weightedSum(simplex[i], 1 - sigma, simplex[0], sigma, simplex[i]);\n                        simplex[i].fx = f(simplex[i]);\n                    }\n                }\n            } else {\n                updateSimplex(reflected);\n            }\n        }\n\n        simplex.sort(sortOrder);\n        return {fx : simplex[0].fx,\n                x : simplex[0]};\n    }\n\n    /// searches along line 'pk' for a point that satifies the wolfe conditions\n    /// See 'Numerical Optimization' by Nocedal and Wright p59-60\n    /// f : objective function\n    /// pk : search direction\n    /// current: object containing current gradient/loss\n    /// next: output: contains next gradient/loss\n    /// returns a: step size taken\n    function wolfeLineSearch(f, pk, current, next, a, c1, c2) {\n        var phi0 = current.fx, phiPrime0 = dot(current.fxprime, pk),\n            phi = phi0, phi_old = phi0,\n            phiPrime = phiPrime0,\n            a0 = 0;\n\n        a = a || 1;\n        c1 = c1 || 1e-6;\n        c2 = c2 || 0.1;\n\n        function zoom(a_lo, a_high, phi_lo) {\n            for (var iteration = 0; iteration < 16; ++iteration) {\n                a = (a_lo + a_high)/2;\n                weightedSum(next.x, 1.0, current.x, a, pk);\n                phi = next.fx = f(next.x, next.fxprime);\n                phiPrime = dot(next.fxprime, pk);\n\n                if ((phi > (phi0 + c1 * a * phiPrime0)) ||\n                    (phi >= phi_lo)) {\n                    a_high = a;\n\n                } else  {\n                    if (Math.abs(phiPrime) <= -c2 * phiPrime0) {\n                        return a;\n                    }\n\n                    if (phiPrime * (a_high - a_lo) >=0) {\n                        a_high = a_lo;\n                    }\n\n                    a_lo = a;\n                    phi_lo = phi;\n                }\n            }\n\n            return 0;\n        }\n\n        for (var iteration = 0; iteration < 10; ++iteration) {\n            weightedSum(next.x, 1.0, current.x, a, pk);\n            phi = next.fx = f(next.x, next.fxprime);\n            phiPrime = dot(next.fxprime, pk);\n            if ((phi > (phi0 + c1 * a * phiPrime0)) ||\n                (iteration && (phi >= phi_old))) {\n                return zoom(a0, a, phi_old);\n            }\n\n            if (Math.abs(phiPrime) <= -c2 * phiPrime0) {\n                return a;\n            }\n\n            if (phiPrime >= 0 ) {\n                return zoom(a, a0, phi);\n            }\n\n            phi_old = phi;\n            a0 = a;\n            a *= 2;\n        }\n\n        return a;\n    }\n\n    function conjugateGradient(f, initial, params) {\n        // allocate all memory up front here, keep out of the loop for perfomance\n        // reasons\n        var current = {x: initial.slice(), fx: 0, fxprime: initial.slice()},\n            next = {x: initial.slice(), fx: 0, fxprime: initial.slice()},\n            yk = initial.slice(),\n            pk, temp,\n            a = 1,\n            maxIterations;\n\n        params = params || {};\n        maxIterations = params.maxIterations || initial.length * 20;\n\n        current.fx = f(current.x, current.fxprime);\n        pk = current.fxprime.slice();\n        scale(pk, current.fxprime,-1);\n\n        for (var i = 0; i < maxIterations; ++i) {\n            a = wolfeLineSearch(f, pk, current, next, a);\n\n            // todo: history in wrong spot?\n            if (params.history) {\n                params.history.push({x: current.x.slice(),\n                                     fx: current.fx,\n                                     fxprime: current.fxprime.slice(),\n                                     alpha: a});\n            }\n\n            if (!a) {\n                // faiiled to find point that satifies wolfe conditions.\n                // reset direction for next iteration\n                scale(pk, current.fxprime, -1);\n\n            } else {\n                // update direction using PolakRibiere CG method\n                weightedSum(yk, 1, next.fxprime, -1, current.fxprime);\n\n                var delta_k = dot(current.fxprime, current.fxprime),\n                    beta_k = Math.max(0, dot(yk, next.fxprime) / delta_k);\n\n                weightedSum(pk, beta_k, pk, -1, next.fxprime);\n\n                temp = current;\n                current = next;\n                next = temp;\n            }\n\n            if (norm2(current.fxprime) <= 1e-5) {\n                break;\n            }\n        }\n\n        if (params.history) {\n            params.history.push({x: current.x.slice(),\n                                 fx: current.fx,\n                                 fxprime: current.fxprime.slice(),\n                                 alpha: a});\n        }\n\n        return current;\n    }\n\n    function gradientDescent(f, initial, params) {\n        params = params || {};\n        var maxIterations = params.maxIterations || initial.length * 100,\n            learnRate = params.learnRate || 0.001,\n            current = {x: initial.slice(), fx: 0, fxprime: initial.slice()};\n\n        for (var i = 0; i < maxIterations; ++i) {\n            current.fx = f(current.x, current.fxprime);\n            if (params.history) {\n                params.history.push({x: current.x.slice(),\n                                     fx: current.fx,\n                                     fxprime: current.fxprime.slice()});\n            }\n\n            weightedSum(current.x, 1, current.x, -learnRate, current.fxprime);\n            if (norm2(current.fxprime) <= 1e-5) {\n                break;\n            }\n        }\n\n        return current;\n    }\n\n    function gradientDescentLineSearch(f, initial, params) {\n        params = params || {};\n        var current = {x: initial.slice(), fx: 0, fxprime: initial.slice()},\n            next = {x: initial.slice(), fx: 0, fxprime: initial.slice()},\n            maxIterations = params.maxIterations || initial.length * 100,\n            learnRate = params.learnRate || 1,\n            pk = initial.slice(),\n            c1 = params.c1 || 1e-3,\n            c2 = params.c2 || 0.1,\n            temp,\n            functionCalls = [];\n\n        if (params.history) {\n            // wrap the function call to track linesearch samples\n            var inner = f;\n            f = function(x, fxprime) {\n                functionCalls.push(x.slice());\n                return inner(x, fxprime);\n            };\n        }\n\n        current.fx = f(current.x, current.fxprime);\n        for (var i = 0; i < maxIterations; ++i) {\n            scale(pk, current.fxprime, -1);\n            learnRate = wolfeLineSearch(f, pk, current, next, learnRate, c1, c2);\n\n            if (params.history) {\n                params.history.push({x: current.x.slice(),\n                                     fx: current.fx,\n                                     fxprime: current.fxprime.slice(),\n                                     functionCalls: functionCalls,\n                                     learnRate: learnRate,\n                                     alpha: learnRate});\n                functionCalls = [];\n            }\n\n\n            temp = current;\n            current = next;\n            next = temp;\n\n            if ((learnRate === 0) || (norm2(current.fxprime) < 1e-5)) break;\n        }\n\n        return current;\n    }\n\n    exports.bisect = bisect;\n    exports.nelderMead = nelderMead;\n    exports.conjugateGradient = conjugateGradient;\n    exports.gradientDescent = gradientDescent;\n    exports.gradientDescentLineSearch = gradientDescentLineSearch;\n    exports.zeros = zeros;\n    exports.zerosM = zerosM;\n    exports.norm2 = norm2;\n    exports.weightedSum = weightedSum;\n    exports.scale = scale;\n\n}));","const SMALL = 1e-10;\n\n/** Returns the intersection area of a bunch of circles (where each circle\n is an object having an x,y and radius property) */\nexport function intersectionArea(circles, stats?: any) {\n  // get all the intersection points of the circles\n  const intersectionPoints = getIntersectionPoints(circles);\n\n  // filter out points that aren't included in all the circles\n  const innerPoints = intersectionPoints.filter(function (p) {\n    return containedInCircles(p, circles);\n  });\n\n  let arcArea = 0,\n    polygonArea = 0,\n    i;\n  const arcs = [];\n  // if we have intersection points that are within all the circles,\n  // then figure out the area contained by them\n  if (innerPoints.length > 1) {\n    // sort the points by angle from the center of the polygon, which lets\n    // us just iterate over points to get the edges\n    const center = getCenter(innerPoints);\n    for (i = 0; i < innerPoints.length; ++i) {\n      const p = innerPoints[i];\n      p.angle = Math.atan2(p.x - center.x, p.y - center.y);\n    }\n    innerPoints.sort(function (a, b) {\n      return b.angle - a.angle;\n    });\n\n    // iterate over all points, get arc between the points\n    // and update the areas\n    let p2 = innerPoints[innerPoints.length - 1];\n    for (i = 0; i < innerPoints.length; ++i) {\n      const p1 = innerPoints[i];\n\n      // polygon area updates easily ...\n      polygonArea += (p2.x + p1.x) * (p1.y - p2.y);\n\n      // updating the arc area is a little more involved\n      const midPoint = { x: (p1.x + p2.x) / 2, y: (p1.y + p2.y) / 2 };\n      let arc = null;\n\n      for (let j = 0; j < p1.parentIndex.length; ++j) {\n        if (p2.parentIndex.indexOf(p1.parentIndex[j]) > -1) {\n          // figure out the angle halfway between the two points\n          // on the current circle\n          const circle = circles[p1.parentIndex[j]],\n            a1 = Math.atan2(p1.x - circle.x, p1.y - circle.y),\n            a2 = Math.atan2(p2.x - circle.x, p2.y - circle.y);\n\n          let angleDiff = a2 - a1;\n          if (angleDiff < 0) {\n            angleDiff += 2 * Math.PI;\n          }\n\n          // and use that angle to figure out the width of the\n          // arc\n          const a = a2 - angleDiff / 2;\n          let width = distance(midPoint, {\n            x: circle.x + circle.radius * Math.sin(a),\n            y: circle.y + circle.radius * Math.cos(a),\n          });\n\n          // clamp the width to the largest is can actually be\n          // (sometimes slightly overflows because of FP errors)\n          if (width > circle.radius * 2) {\n            width = circle.radius * 2;\n          }\n\n          // pick the circle whose arc has the smallest width\n          if (arc === null || arc.width > width) {\n            arc = { circle: circle, width: width, p1: p1, p2: p2 };\n          }\n        }\n      }\n\n      if (arc !== null) {\n        arcs.push(arc);\n        arcArea += circleArea(arc.circle.radius, arc.width);\n        p2 = p1;\n      }\n    }\n  } else {\n    // no intersection points, is either disjoint - or is completely\n    // overlapped. figure out which by examining the smallest circle\n    let smallest = circles[0];\n    for (i = 1; i < circles.length; ++i) {\n      if (circles[i].radius < smallest.radius) {\n        smallest = circles[i];\n      }\n    }\n\n    // make sure the smallest circle is completely contained in all\n    // the other circles\n    let disjoint = false;\n    for (i = 0; i < circles.length; ++i) {\n      if (distance(circles[i], smallest) > Math.abs(smallest.radius - circles[i].radius)) {\n        disjoint = true;\n        break;\n      }\n    }\n\n    if (disjoint) {\n      arcArea = polygonArea = 0;\n    } else {\n      arcArea = smallest.radius * smallest.radius * Math.PI;\n      arcs.push({\n        circle: smallest,\n        p1: { x: smallest.x, y: smallest.y + smallest.radius },\n        p2: { x: smallest.x - SMALL, y: smallest.y + smallest.radius },\n        width: smallest.radius * 2,\n      });\n    }\n  }\n\n  polygonArea /= 2;\n  if (stats) {\n    stats.area = arcArea + polygonArea;\n    stats.arcArea = arcArea;\n    stats.polygonArea = polygonArea;\n    stats.arcs = arcs;\n    stats.innerPoints = innerPoints;\n    stats.intersectionPoints = intersectionPoints;\n  }\n\n  return arcArea + polygonArea;\n}\n\n/** returns whether a point is contained by all of a list of circles */\nexport function containedInCircles(point, circles) {\n  for (let i = 0; i < circles.length; ++i) {\n    if (distance(point, circles[i]) > circles[i].radius + SMALL) {\n      return false;\n    }\n  }\n  return true;\n}\n\n/** Gets all intersection points between a bunch of circles */\nfunction getIntersectionPoints(circles) {\n  const ret = [];\n  for (let i = 0; i < circles.length; ++i) {\n    for (let j = i + 1; j < circles.length; ++j) {\n      const intersect = circleCircleIntersection(circles[i], circles[j]);\n      for (let k = 0; k < intersect.length; ++k) {\n        const p: any = intersect[k];\n        p.parentIndex = [i, j];\n        ret.push(p);\n      }\n    }\n  }\n  return ret;\n}\n\n/** Circular segment area calculation. See http://mathworld.wolfram.com/CircularSegment.html */\nexport function circleArea(r, width) {\n  return r * r * Math.acos(1 - width / r) - (r - width) * Math.sqrt(width * (2 * r - width));\n}\n\n/** euclidean distance between two points */\nexport function distance(p1, p2) {\n  return Math.sqrt((p1.x - p2.x) * (p1.x - p2.x) + (p1.y - p2.y) * (p1.y - p2.y));\n}\n\n/** Returns the overlap area of two circles of radius r1 and r2 - that\nhave their centers separated by distance d. Simpler faster\ncircle intersection for only two circles */\nexport function circleOverlap(r1, r2, d) {\n  // no overlap\n  if (d >= r1 + r2) {\n    return 0;\n  }\n\n  // completely overlapped\n  if (d <= Math.abs(r1 - r2)) {\n    return Math.PI * Math.min(r1, r2) * Math.min(r1, r2);\n  }\n\n  const w1 = r1 - (d * d - r2 * r2 + r1 * r1) / (2 * d),\n    w2 = r2 - (d * d - r1 * r1 + r2 * r2) / (2 * d);\n  return circleArea(r1, w1) + circleArea(r2, w2);\n}\n\n/** Given two circles (containing a x/y/radius attributes),\nreturns the intersecting points if possible.\nnote: doesn't handle cases where there are infinitely many\nintersection points (circles are equivalent):, or only one intersection point*/\nexport function circleCircleIntersection(p1, p2) {\n  const d = distance(p1, p2),\n    r1 = p1.radius,\n    r2 = p2.radius;\n\n  // if to far away, or self contained - can't be done\n  if (d >= r1 + r2 || d <= Math.abs(r1 - r2)) {\n    return [];\n  }\n\n  const a = (r1 * r1 - r2 * r2 + d * d) / (2 * d),\n    h = Math.sqrt(r1 * r1 - a * a),\n    x0 = p1.x + (a * (p2.x - p1.x)) / d,\n    y0 = p1.y + (a * (p2.y - p1.y)) / d,\n    rx = -(p2.y - p1.y) * (h / d),\n    ry = -(p2.x - p1.x) * (h / d);\n\n  return [\n    { x: x0 + rx, y: y0 - ry },\n    { x: x0 - rx, y: y0 + ry },\n  ];\n}\n\n/** Returns the center of a bunch of points */\nexport function getCenter(points) {\n  const center = { x: 0, y: 0 };\n  for (let i = 0; i < points.length; ++i) {\n    center.x += points[i].x;\n    center.y += points[i].y;\n  }\n  center.x /= points.length;\n  center.y /= points.length;\n  return center;\n}\n","import { isArray, map } from '@antv/util';\nimport { TREND_FIELD, TREND_DOWN, TREND_UP, Y_FIELD } from './constant';\n\n/**\n * @desc \n * @param data\n * @param yField\n */\nexport function getStockData(data, yField) {\n  return map(data, (obj) => {\n    if (isArray(yField)) {\n      const [open, close, high, low] = yField;\n      obj[TREND_FIELD] = obj[open] <= obj[close] ? TREND_UP : TREND_DOWN;\n      obj[Y_FIELD] = [obj[open], obj[close], obj[high], obj[low]];\n    }\n    return obj;\n  });\n}\n","import { each } from '@antv/util';\nimport { Element } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { StateName, StateCondition, StateObject } from '../..';\nimport { getAllElementsRecursively } from '../../utils';\nimport { FunnelOptions } from './types';\nimport { adaptor } from './adaptor';\nimport {\n  DEFAULT_OPTIONS,\n  FUNNEL_CONVERSATION as FUNNEL_CONVERSATION_FIELD,\n  FUNNEL_PERCENT,\n  FUNNEL_TOTAL_PERCENT,\n} from './constant';\n\nexport type { FunnelOptions };\n\nexport { FUNNEL_CONVERSATION_FIELD };\n\nexport class Funnel extends Plot<FunnelOptions> {\n  /**  */\n  public type: string = 'funnel';\n\n  static getDefaultOptions(): Partial<FunnelOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  // \n  /**    */\n  static CONVERSATION_FIELD = FUNNEL_CONVERSATION_FIELD;\n  /**    */\n  static PERCENT_FIELD = FUNNEL_PERCENT;\n  /**    */\n  static TOTAL_PERCENT_FIELD = FUNNEL_TOTAL_PERCENT;\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<FunnelOptions> {\n    //  defaultOption  core.getDefaultOptions funnel  defaulOption  adaptor  defaultOption \n    return Funnel.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<FunnelOptions> {\n    return adaptor;\n  }\n\n  /**\n   * \n   * @param type  'active' | 'inactive' | 'selected' \n   * @param conditions \n   * @param status  true\n   */\n  public setState(type: StateName, condition: StateCondition, status: boolean = true) {\n    const elements = getAllElementsRecursively(this.chart);\n\n    each(elements, (ele: Element) => {\n      if (condition(ele.getData())) {\n        ele.setState(type, status);\n      }\n    });\n  }\n\n  /**\n   * \n   */\n  public getStates(): StateObject[] {\n    const elements = getAllElementsRecursively(this.chart);\n\n    const stateObjects: StateObject[] = [];\n    each(elements, (element: Element) => {\n      const data = element.getData();\n      const states = element.getStates();\n      each(states, (state) => {\n        stateObjects.push({ data, state, geometry: element.geometry, element });\n      });\n    });\n\n    return stateObjects;\n  }\n}\n","import { isFunction, clone } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { interaction, animation, theme, scale, annotation, tooltip } from '../../adaptor/common';\nimport { getLocale } from '../../core/locale';\nimport { Datum } from '../../types';\nimport { flow, deepAssign } from '../../utils';\nimport { conversionTagFormatter } from '../../utils/conversion';\nimport { FunnelOptions } from './types';\nimport { basicFunnel } from './geometries/basic';\nimport { compareFunnel } from './geometries/compare';\nimport { facetFunnel } from './geometries/facet';\nimport { dynamicHeightFunnel } from './geometries/dynamic-height';\nimport { FUNNEL_CONVERSATION, FUNNEL_PERCENT } from './constant';\n\n/**\n *\n * geometry,\n * 1. interval.shape('funnel')\n * 2. \n * 3. polypon\n * 4.  + list \n* /\n\n/**\n * options \n * @param params\n */\nfunction defaultOptions(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { options } = params;\n  const { compareField, xField, yField, locale, funnelStyle, data } = options;\n  const i18n = getLocale(locale);\n\n  const defaultOption = {\n    label: compareField\n      ? {\n          fields: [xField, yField, compareField, FUNNEL_PERCENT, FUNNEL_CONVERSATION],\n          formatter: (datum) => `${datum[yField]}`,\n        }\n      : {\n          fields: [xField, yField, FUNNEL_PERCENT, FUNNEL_CONVERSATION],\n          offset: 0,\n          position: 'middle',\n          formatter: (datum) => `${datum[xField]} ${datum[yField]}`,\n        },\n    tooltip: {\n      title: xField,\n      formatter: (datum) => {\n        return { name: datum[xField], value: datum[yField] };\n      },\n    },\n    conversionTag: {\n      // conversionTag \n      formatter: (datum) =>\n        `${i18n.get(['conversionTag', 'label'])}: ${conversionTagFormatter(\n          ...(datum[FUNNEL_CONVERSATION] as [number, number])\n        )}`,\n    },\n  };\n\n  // \n  let style;\n  if (compareField || funnelStyle) {\n    style = (datum: Datum) => {\n      return deepAssign(\n        {},\n        // \n        compareField && { lineWidth: 1, stroke: '#fff' },\n        isFunction(funnelStyle) ? funnelStyle(datum) : funnelStyle\n      );\n    };\n  }\n\n  return deepAssign({ options: defaultOption }, params, { options: { funnelStyle: style, data: clone(data) } });\n}\n\n/**\n * geometry\n * @param params\n */\nfunction geometry(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { options } = params;\n  const { compareField, dynamicHeight, seriesField } = options;\n  if (seriesField) {\n    return facetFunnel(params);\n  }\n  if (compareField) {\n    return compareFunnel(params);\n  }\n  if (dynamicHeight) {\n    return dynamicHeightFunnel(params);\n  }\n\n  return basicFunnel(params);\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  return flow(\n    scale({\n      [xField]: xAxis,\n      [yField]: yAxis,\n    })\n  )(params);\n}\n\n/**\n * \n * @param params\n */\nfunction axis(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart } = params;\n  chart.axis(false);\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nfunction legend(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { legend } = options;\n\n  if (legend === false) {\n    chart.legend(false);\n  } else {\n    chart.legend(legend);\n    // TODO FIX: legend-click \n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<FunnelOptions>) {\n  return flow(\n    defaultOptions,\n    geometry,\n    meta,\n    axis,\n    tooltip,\n    interaction,\n    legend,\n    animation,\n    theme,\n    annotation()\n  )(params);\n}\n","import { Types } from '@antv/g2';\nimport { isArray } from '@antv/util';\nimport { flow, findGeometry } from '../../../utils';\nimport { getTooltipMapping } from '../../../utils/tooltip';\nimport { Params } from '../../../core/adaptor';\nimport { Datum, Data } from '../../../types/common';\nimport { geometry as baseGeometry } from '../../../adaptor/geometries/base';\nimport { FunnelOptions } from '../types';\nimport { FUNNEL_CONVERSATION, FUNNEL_PERCENT, FUNNEL_MAPPING_VALUE } from '../constant';\nimport { conversionTagComponent, transformData } from './common';\n\n/**\n * \n * @param params\n */\nfunction field(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { data = [], yField, maxSize, minSize } = options;\n  const formatData = transformData(data, data, {\n    yField,\n    maxSize,\n    minSize,\n  });\n\n  // \n  chart.data(formatData);\n  return params;\n}\n\n/**\n * geometry\n * @param params\n */\nfunction geometry(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { xField, yField, color, tooltip, label, shape = 'funnel', funnelStyle, state } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField]);\n\n  baseGeometry({\n    chart,\n    options: {\n      type: 'interval',\n      xField: xField,\n      yField: FUNNEL_MAPPING_VALUE,\n      colorField: xField,\n      tooltipFields: isArray(fields) && fields.concat([FUNNEL_PERCENT, FUNNEL_CONVERSATION]),\n      mapping: {\n        shape,\n        tooltip: formatter,\n        color,\n        style: funnelStyle,\n      },\n      label,\n      state,\n    },\n  });\n\n  const geo = findGeometry(params.chart, 'interval');\n  geo.adjust('symmetric');\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction transpose(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { isTransposed } = options;\n  chart.coordinate({\n    type: 'rect',\n    actions: !isTransposed ? [['transpose'], ['scale', 1, -1]] : [],\n  });\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction conversionTag(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { options } = params;\n  const { maxSize } = options;\n\n  const getLineCoordinate = (\n    datum: Datum,\n    datumIndex: number,\n    data: Data,\n    initLineOption: Record<string, any>\n  ): Types.LineOption => {\n    const percent = maxSize - (maxSize - datum[FUNNEL_MAPPING_VALUE]) / 2;\n    return {\n      ...initLineOption,\n      start: [datumIndex - 0.5, percent],\n      end: [datumIndex - 0.5, percent + 0.05],\n    };\n  };\n\n  conversionTagComponent(getLineCoordinate)(params);\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function basicFunnel(params: Params<FunnelOptions>) {\n  return flow(field, geometry, transpose, conversionTag)(params);\n}\n","const CAT_VALUE = 'liquid';\n\n/**\n * \n */\nexport function getLiquidData(percent: number) {\n  return [{ percent, type: CAT_VALUE }];\n}\n","import { registerShape } from '@antv/g2';\nimport { IGroup, IShape } from '@antv/g-base';\nimport { reduce, isNumber, mix } from '@antv/util';\nimport { transform } from '../../../utils/matrix';\nimport { Point, ShapeStyle } from '../../../types';\nimport { LiquidOptions, CustomInfo } from '../types';\n\nconst DURATION = 5000;\n\n/**\n * \n * @param min\n * @param max\n * @param factor\n */\nfunction lerp(min: number, max: number, factor: number) {\n  return min + (max - min) * factor;\n}\n\n/**\n *  attrs\n * @param cfg\n */\nfunction getFillAttrs(cfg: ShapeStyle) {\n  const attrs = { opacity: 1, ...cfg.style };\n\n  if (cfg.color && !attrs.fill) {\n    attrs.fill = cfg.color;\n  }\n\n  return attrs;\n}\n\n/**\n * shape  attrs\n * @param cfg\n */\nfunction getLineAttrs(cfg: ShapeStyle) {\n  const defaultAttrs = {\n    fill: '#fff',\n    fillOpacity: 0,\n    lineWidth: 4,\n  };\n  const attrs = mix({}, defaultAttrs, cfg.style);\n\n  if (cfg.color && !attrs.stroke) {\n    attrs.stroke = cfg.color;\n  }\n  if (isNumber(cfg.opacity)) {\n    attrs.opacity = attrs.strokeOpacity = cfg.opacity;\n  }\n\n  return attrs;\n}\n\n/**\n * \n * Using Bezier curves to fit sine wave.\n * There is 4 control points for each curve of wave,\n * which is at 1/4 wave length of the sine wave.\n *\n * The control points for a wave from (a) to (d) are a-b-c-d:\n *          c *----* d\n *     b *\n *       |\n * ... a * ..................\n *\n * whose positions are a: (0, 0), b: (0.5, 0.5), c: (1, 1), d: (PI / 2, 1)\n *\n * @param x          x position of the left-most point (a)\n * @param stage      0-3, stating which part of the wave it is\n * @param waveLength wave length of the sine wave\n * @param amplitude  wave amplitude\n * @return \n */\nfunction getWaterWavePositions(x: number, stage: number, waveLength: number, amplitude: number) {\n  if (stage === 0) {\n    return [\n      [x + ((1 / 2) * waveLength) / Math.PI / 2, amplitude / 2],\n      [x + ((1 / 2) * waveLength) / Math.PI, amplitude],\n      [x + waveLength / 4, amplitude],\n    ];\n  }\n  if (stage === 1) {\n    return [\n      [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 2), amplitude],\n      [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 1), amplitude / 2],\n      [x + waveLength / 4, 0],\n    ];\n  }\n  if (stage === 2) {\n    return [\n      [x + ((1 / 2) * waveLength) / Math.PI / 2, -amplitude / 2],\n      [x + ((1 / 2) * waveLength) / Math.PI, -amplitude],\n      [x + waveLength / 4, -amplitude],\n    ];\n  }\n  return [\n    [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 2), -amplitude],\n    [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 1), -amplitude / 2],\n    [x + waveLength / 4, 0],\n  ];\n}\n/**\n * \n * @param radius          \n * @param waterLevel      \n * @param waveLength      \n * @param phase           \n * @param amplitude       \n * @param cx              x\n * @param cy              y\n * @return path            \n * @reference http://gitlab.alipay-inc.com/datavis/g6/blob/1.2.0/src/graph/utils/path.js#L135\n */\nfunction getWaterWavePath(\n  radius: number,\n  waterLevel: number,\n  waveLength: number,\n  phase: number,\n  amplitude: number,\n  cx: number,\n  cy: number\n) {\n  const curves = Math.ceil(((2 * radius) / waveLength) * 4) * 4;\n  const path = [];\n  let _phase = phase;\n\n  // map phase to [-Math.PI * 2, 0]\n  while (_phase < -Math.PI * 2) {\n    _phase += Math.PI * 2;\n  }\n  while (_phase > 0) {\n    _phase -= Math.PI * 2;\n  }\n  _phase = (_phase / Math.PI / 2) * waveLength;\n\n  const left = cx - radius + _phase - radius * 2;\n  /**\n   * top-left corner as start point\n   *\n   * draws this point\n   *  |\n   * \\|/\n   *  ~~~~~~~~\n   *  |      |\n   *  +------+\n   */\n  path.push(['M', left, waterLevel]);\n\n  /**\n   * top wave\n   *\n   * ~~~~~~~~ <- draws this sine wave\n   * |      |\n   * +------+\n   */\n  let waveRight = 0;\n  for (let c = 0; c < curves; ++c) {\n    const stage = c % 4;\n    const pos = getWaterWavePositions((c * waveLength) / 4, stage, waveLength, amplitude);\n    path.push([\n      'C',\n      pos[0][0] + left,\n      -pos[0][1] + waterLevel,\n      pos[1][0] + left,\n      -pos[1][1] + waterLevel,\n      pos[2][0] + left,\n      -pos[2][1] + waterLevel,\n    ]);\n\n    if (c === curves - 1) {\n      waveRight = pos[2][0];\n    }\n  }\n\n  /**\n   * top-right corner\n   *\n   *                       ~~~~~~~~\n   * 3. draws this line -> |      | <- 1. draws this line\n   *                       +------+\n   *                          ^\n   *                          |\n   *                  2. draws this line\n   */\n  path.push(['L', waveRight + left, cy + radius]);\n  path.push(['L', left, cy + radius]);\n  path.push(['Z']);\n  // path.push(['L', left, waterLevel]);\n  return path;\n}\n\n/**\n * \n * @param x           x\n * @param y           y\n * @param level        01\n * @param waveCount   \n * @param waveAttrs      \n * @param group       \n * @param clip        \n * @param radius      \n * @param waveLength  \n */\nexport function addWaterWave(\n  x: number,\n  y: number,\n  level: number,\n  waveCount: number,\n  waveAttrs: ShapeStyle,\n  group: IGroup,\n  clip: IShape,\n  radius: number,\n  waveLength: number,\n  animation: LiquidOptions['animation']\n) {\n  //   \n  const { fill, opacity } = waveAttrs;\n  const bbox = clip.getBBox();\n  const width = bbox.maxX - bbox.minX;\n  const height = bbox.maxY - bbox.minY;\n\n  //  waveCount \n  for (let idx = 0; idx < waveCount; idx++) {\n    const factor = waveCount <= 1 ? 0 : idx / (waveCount - 1);\n\n    // \n    const wave = group.addShape('path', {\n      name: `waterwave-path`,\n      attrs: {\n        // \n        path: getWaterWavePath(\n          radius,\n          bbox.minY + height * level,\n          waveLength,\n          0,\n          width / 32, // \n          x,\n          y\n        ),\n        fill,\n        opacity: lerp(0.2, 0.9, factor) * opacity,\n      },\n    });\n\n    try {\n      //  underfind \n      if (animation === false) return;\n      const matrix = transform([['t', waveLength, 0]]);\n\n      wave.stopAnimate();\n      wave.animate(\n        { matrix },\n        {\n          duration: lerp(0.5 * DURATION, DURATION, factor),\n          repeat: true,\n        }\n      );\n    } catch (e) {\n      // TODO off-screen canvas  canvas\n      console.warn('off-screen group animate error!');\n    }\n  }\n}\n\n/**\n *\n * @param x  x\n * @param y  y\n * @param width \n * @param height \n */\nfunction pin(x: number, y: number, width: number, height: number) {\n  const w = (width * 2) / 3;\n  const h = Math.max(w, height);\n  const r = w / 2;\n\n  // attrs of the upper circle\n  const cx = x;\n  const cy = r + y - h / 2;\n  const theta = Math.asin(r / ((h - r) * 0.85));\n  const dy = Math.sin(theta) * r;\n  const dx = Math.cos(theta) * r;\n\n  // the start point of the path\n  const x0 = cx - dx;\n  const y0 = cy + dy;\n\n  // control point\n  const cpX = x;\n  const cpY = cy + r / Math.sin(theta);\n\n  return `\n      M ${x0} ${y0}\n      A ${r} ${r} 0 1 1 ${x0 + dx * 2} ${y0}\n      Q ${cpX} ${cpY} ${x} ${y + h / 2}\n      Q ${cpX} ${cpY} ${x0} ${y0}\n      Z \n    `;\n}\n\n/**\n *\n * @param x  x\n * @param y  y\n * @param width \n * @param height \n */\nfunction circle(x: number, y: number, width: number, height: number) {\n  const rx = width / 2;\n  const ry = height / 2;\n  return `\n      M ${x} ${y - ry} \n      a ${rx} ${ry} 0 1 0 0 ${ry * 2}\n      a ${rx} ${ry} 0 1 0 0 ${-ry * 2}\n      Z\n    `;\n}\n\n/**\n *\n * @param x  x\n * @param y  y\n * @param width \n * @param height \n */\nfunction diamond(x: number, y: number, width: number, height: number) {\n  const h = height / 2;\n  const w = width / 2;\n  return `\n      M ${x} ${y - h}\n      L ${x + w} ${y}\n      L ${x} ${y + h}\n      L ${x - w} ${y}\n      Z\n    `;\n}\n\n/**\n *\n * @param x  x\n * @param y  y\n * @param width \n * @param height \n */\nfunction triangle(x: number, y: number, width: number, height: number) {\n  const h = height / 2;\n  const w = width / 2;\n  return `\n      M ${x} ${y - h}\n      L ${x + w} ${y + h}\n      L ${x - w} ${y + h}\n      Z\n    `;\n}\n\n/**\n *\n * @param x  x\n * @param y  y\n * @param width \n * @param height \n */\nfunction rect(x: number, y: number, width: number, height: number) {\n  const GOLDEN_SECTION_RATIO = 0.618;\n  const h = height / 2;\n  const w = (width / 2) * GOLDEN_SECTION_RATIO;\n  return `\n      M ${x - w} ${y - h}\n      L ${x + w} ${y - h}\n      L ${x + w} ${y + h}\n      L ${x - w} ${y + h}\n      Z\n    `;\n}\n\nconst builtInShapeByName = {\n  pin,\n  circle,\n  diamond,\n  triangle,\n  rect,\n};\n\nregisterShape('interval', 'liquid-fill-gauge', {\n  draw(cfg: any, container: IGroup) {\n    const cx = 0.5;\n    const cy = 0.5;\n\n    const { customInfo } = cfg;\n    const { radius: radio, shape, background, animation } = customInfo as CustomInfo;\n    const outline: LiquidOptions['outline'] = customInfo.outline;\n    const wave: LiquidOptions['wave'] = customInfo.wave;\n    const { border, distance } = outline;\n    const { count: waveCount, length: waveLength } = wave;\n\n    //  minX\n    const minX = reduce(\n      cfg.points as Point[],\n      (r: number, p: Point) => {\n        return Math.min(r, p.x);\n      },\n      Infinity\n    );\n\n    const center = this.parsePoint({ x: cx, y: cy });\n    const minXPoint = this.parsePoint({ x: minX, y: cy });\n    const halfWidth = center.x - minXPoint.x;\n\n    //   radius \n    const radius = Math.min(halfWidth, minXPoint.y * radio);\n    const waveAttrs = getFillAttrs(cfg);\n    const outlineAttrs = getLineAttrs(mix({}, cfg, outline));\n    const innerRadius = radius - border / 2;\n\n    const buildPath = typeof shape === 'function' ? shape : builtInShapeByName[shape] || builtInShapeByName['circle'];\n    const shapePath = buildPath(center.x, center.y, innerRadius * 2, innerRadius * 2);\n\n    // 1. \n    const waves = container.addGroup({\n      name: 'waves',\n    });\n\n    // 3.  clip \n    const clipPath = waves.setClip({\n      type: 'path',\n      attrs: {\n        path: shapePath,\n      },\n    });\n\n    // 4. \n    addWaterWave(\n      center.x,\n      center.y,\n      1 - (cfg.points[1] as Point).y,\n      waveCount,\n      waveAttrs,\n      waves,\n      clipPath,\n      radius * 2,\n      waveLength,\n      animation\n    );\n\n    // 2.  distance  border\n    container.addShape('path', {\n      name: 'distance',\n      attrs: {\n        path: shapePath,\n        fill: 'transparent',\n        lineWidth: border + distance * 2,\n        stroke: background === 'transparent' ? '#fff' : background,\n      },\n    });\n\n    // 3.  border  border\n    container.addShape('path', {\n      name: 'wrap',\n      attrs: mix(outlineAttrs, {\n        path: shapePath,\n        fill: 'transparent',\n        lineWidth: border,\n      }),\n    });\n\n    return container;\n  },\n});\n","import { BulletOptions } from './types';\n\ntype TransformData = {\n  min: number;\n  max: number;\n  ds: any[];\n};\n/**\n * bullet \n * @param options\n */\nexport function transformData(options: BulletOptions): TransformData {\n  const { data, xField, measureField, rangeField, targetField, layout } = options;\n  const ds: any[] = [];\n  const scales: number[] = [];\n  data.forEach((item: any, index: number) => {\n    //  title * range\n    item[rangeField].sort((a: number, b: number) => a - b);\n    item[rangeField].forEach((d: number, i: number) => {\n      const range = i === 0 ? d : item[rangeField][i] - item[rangeField][i - 1];\n      ds.push({\n        rKey: `${rangeField}_${i}`,\n        [xField]: xField ? item[xField] : String(index), // xField\n        [rangeField]: range,\n      });\n    });\n    //  title * measure\n    item[measureField].forEach((d: number, i: number) => {\n      ds.push({\n        mKey: item[measureField].length > 1 ? `${measureField}_${i}` : `${measureField}`, // \n        [xField]: xField ? item[xField] : String(index),\n        [measureField]: d,\n      });\n    });\n    //  title * target\n    ds.push({\n      tKey: `${targetField}`,\n      [xField]: xField ? item[xField] : String(index),\n      [targetField]: item[targetField],\n    });\n    // \n    scales.push(item[rangeField], item[measureField], item[targetField]);\n  });\n  // scales \n  let min = Math.min(...scales.flat(Infinity));\n  const max = Math.max(...scales.flat(Infinity));\n  // min  0  0 \n  min = min > 0 ? 0 : min;\n\n  // \n  if (layout === 'vertical') {\n    ds.reverse();\n  }\n  return { min, max, ds };\n}\n","import * as d3Hierarchy from 'd3-hierarchy';\nimport { assign, isArray } from '@antv/util';\nimport { HierarchyOption } from './types';\nimport { getField, getAllNodes } from './util';\n\nconst DEFAULT_OPTIONS: HierarchyOption = {\n  field: 'value',\n  tile: 'treemapSquarify', // treemapBinary, treemapDice, treemapSlice, treemapSliceDice, treemapSquarify, treemapResquarify\n  size: [1, 1], // width, height\n  round: false,\n  ignoreParentValue: true,\n  padding: 0,\n  paddingInner: 0,\n  paddingOuter: 0,\n  paddingTop: 0,\n  paddingRight: 0,\n  paddingBottom: 0,\n  paddingLeft: 0,\n  as: ['x', 'y'],\n  // \n  sort: (a, b) => b.value - a.value,\n  // , treemapSquarify \n  ratio: 0.5 * (1 + Math.sqrt(5)),\n};\n\nexport function getTileMethod(tile: string, ratio: number) {\n  return tile === 'treemapSquarify' ? d3Hierarchy[tile].ratio(ratio) : d3Hierarchy[tile];\n}\n\nexport function treemap(data: any, options: HierarchyOption): any[] {\n  options = assign({} as HierarchyOption, DEFAULT_OPTIONS, options);\n  const as = options.as;\n  if (!isArray(as) || as.length !== 2) {\n    throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ \"x\", \"y\" ])!');\n  }\n\n  let field;\n  try {\n    field = getField(options);\n  } catch (e) {\n    console.warn(e);\n  }\n\n  const tileMethod = getTileMethod(options.tile, options.ratio);\n\n  const partition = (data) =>\n    d3Hierarchy\n      .treemap()\n      .tile(tileMethod)\n      .size(options.size)\n      .round(options.round)\n      .padding(options.padding)\n      .paddingInner(options.paddingInner)\n      .paddingOuter(options.paddingOuter)\n      .paddingTop(options.paddingTop)\n      .paddingRight(options.paddingRight)\n      .paddingBottom(options.paddingBottom)\n      .paddingLeft(options.paddingLeft)(\n      /**\n       * d3Hierarchy  sum  node  node  post-order traversal  value  node\n       * for example:\n       * { node: 'parent', value: 10, children: [{node: 'child1', value: 5}, {node: 'child2', value: 5}, ]}\n       * parent  sum(node(parent)) + sum(node(child1)) + sum(node(child2))\n       * ignoreParentValue  true()  0 + 5 + 5 = 10\n       * ignoreParentValue  false   10 + 5 + 5 = 20\n       * sum d  data, children \n       */\n      d3Hierarchy\n        .hierarchy(data)\n        .sum((d) => (options.ignoreParentValue && d.children ? 0 : d[field]))\n        .sort(options.sort)\n    );\n  const root = partition(data);\n\n  /*\n   * points:\n   *   3  2\n   *   0  1\n   */\n  const x = as[0];\n  const y = as[1];\n  root.each((node) => {\n    node[x] = [node.x0, node.x1, node.x1, node.x0];\n    node[y] = [node.y1, node.y1, node.y0, node.y0];\n    ['x0', 'x1', 'y0', 'y1'].forEach((prop) => {\n      if (as.indexOf(prop) === -1) {\n        delete node[prop];\n      }\n    });\n  });\n\n  return getAllNodes(root);\n}\n","import { VIEW_LIFE_CIRCLE, Event } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { GaugeOptions } from './types';\nimport { adaptor, statistic } from './adaptor';\nimport { INDICATEOR_VIEW_ID, RANGE_VIEW_ID, DEFAULT_OPTIONS } from './constants';\nimport { getIndicatorData, getRangeData } from './utils';\n\n//  shape\nimport './shapes/indicator';\nimport './shapes/meter-gauge';\n\nexport type { GaugeOptions };\n\n/**\n * \n */\nexport class Gauge extends Plot<GaugeOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<GaugeOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'gauge';\n\n  /**\n   * \n   * @param percent\n   */\n  public changeData(percent: number) {\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null)\n    );\n\n    this.updateOption({ percent });\n    const indicatorView = this.chart.views.find((v) => v.id === INDICATEOR_VIEW_ID);\n    if (indicatorView) {\n      indicatorView.data(getIndicatorData(percent));\n    }\n\n    const rangeView = this.chart.views.find((v) => v.id === RANGE_VIEW_ID);\n    if (rangeView) {\n      rangeView.data(getRangeData(percent, this.options.range));\n    }\n    // todo  G2  afterrender  annotations\n    statistic({ chart: this.chart, options: this.options }, true);\n\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null)\n    );\n  }\n\n  /**\n   * \n   *  base \n   */\n  protected getDefaultOptions() {\n    return Gauge.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<GaugeOptions> {\n    return adaptor;\n  }\n}\n","import { Geometry } from '@antv/g2';\nimport { get, isString } from '@antv/util';\nimport { interaction, animation, theme, scale, annotation } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, flow, pick, renderGaugeStatistic } from '../../utils';\nimport { RANGE_TYPE, RANGE_VALUE, PERCENT, DEFAULT_COLOR, INDICATEOR_VIEW_ID, RANGE_VIEW_ID } from './constants';\nimport { GaugeOptions } from './types';\nimport { getIndicatorData, getRangeData } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<GaugeOptions>): Params<GaugeOptions> {\n  const { chart, options } = params;\n  const { percent, range, radius, innerRadius, startAngle, endAngle, axis, indicator, gaugeStyle, type, meter } =\n    options;\n  const { color, width: rangeWidth } = range;\n\n  //  & \n  // \n  if (indicator) {\n    const indicatorData = getIndicatorData(percent);\n\n    const v1 = chart.createView({ id: INDICATEOR_VIEW_ID });\n    v1.data(indicatorData);\n\n    v1.point()\n      .position(`${PERCENT}*1`)\n      .shape(indicator.shape || 'gauge-indicator')\n      //  shape \n      .customInfo({\n        defaultColor: chart.getTheme().defaultColor,\n        indicator,\n      });\n\n    v1.coordinate('polar', {\n      startAngle,\n      endAngle,\n      radius: innerRadius * radius, //  innerRadius * radius =  radius\n    });\n\n    v1.axis(PERCENT, axis);\n    //  scale \n    v1.scale(PERCENT, pick(axis, AXIS_META_CONFIG_KEYS));\n  }\n\n  //  range\n  // [{ range: 1, type: '0', percent:  }]\n  const rangeData = getRangeData(percent, options.range);\n  const v2 = chart.createView({ id: RANGE_VIEW_ID });\n  v2.data(rangeData);\n\n  const rangeColor = isString(color) ? [color, DEFAULT_COLOR] : color;\n\n  const { ext } = interval({\n    chart: v2,\n    options: {\n      xField: '1',\n      yField: RANGE_VALUE,\n      seriesField: RANGE_TYPE,\n      rawFields: [PERCENT],\n      isStack: true,\n      interval: {\n        color: rangeColor,\n        style: gaugeStyle,\n        shape: type === 'meter' ? 'meter-gauge' : null,\n      },\n      args: {\n        zIndexReversed: true,\n        sortZIndex: true,\n      },\n      minColumnWidth: rangeWidth,\n      maxColumnWidth: rangeWidth,\n    },\n  });\n\n  const geometry = ext.geometry as Geometry;\n  //  shape \n  geometry.customInfo({ meter });\n\n  v2.coordinate('polar', {\n    innerRadius,\n    radius,\n    startAngle,\n    endAngle,\n  }).transpose();\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<GaugeOptions>): Params<GaugeOptions> {\n  return flow(\n    scale({\n      range: {\n        min: 0,\n        max: 1,\n        maxLimit: 1,\n        minLimit: 0,\n      },\n      [PERCENT]: {},\n    })\n  )(params);\n}\n\n/**\n * \n * @param params\n */\nfunction statistic(params: Params<GaugeOptions>, updated?: boolean): Params<GaugeOptions> {\n  const { chart, options } = params;\n  const { statistic, percent } = options;\n\n  // \n  chart.getController('annotation').clear(true);\n  if (statistic) {\n    const { content: contentOption } = statistic;\n    let transformContent;\n    //  content \n    if (contentOption) {\n      transformContent = deepAssign(\n        {},\n        {\n          content: `${(percent * 100).toFixed(2)}%`,\n          style: {\n            opacity: 0.75,\n            fontSize: '30px',\n            lineHeight: 1,\n            textAlign: 'center',\n            color: 'rgba(44,53,66,0.85)',\n          },\n        },\n        contentOption\n      );\n    }\n    renderGaugeStatistic(chart, { statistic: { ...statistic, content: transformContent } }, { percent });\n  }\n\n  if (updated) {\n    chart.render(true);\n  }\n\n  return params;\n}\n\n/**\n * tooltip \n */\nfunction tooltip(params: Params<GaugeOptions>): Params<GaugeOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip) {\n    chart.tooltip(\n      deepAssign(\n        {\n          showTitle: false,\n          showMarkers: false,\n          containerTpl: '<div class=\"g2-tooltip\"><div class=\"g2-tooltip-list\"></div></div>',\n          domStyles: {\n            'g2-tooltip': {\n              padding: '4px 8px',\n              fontSize: '10px',\n            },\n          },\n          customContent: (x: string, data: any[]) => {\n            const percent = get(data, [0, 'data', PERCENT], 0);\n            return `${(percent * 100).toFixed(2)}%`;\n          },\n        },\n        tooltip\n      )\n    );\n  } else {\n    //  tooltip\n    chart.tooltip(false);\n  }\n\n  return params;\n}\n\n/**\n * other \n * @param params\n */\nfunction other(params: Params<GaugeOptions>): Params<GaugeOptions> {\n  const { chart } = params;\n\n  chart.legend(false);\n\n  return params;\n}\n\n/**\n *  adaptor\n */\nexport { statistic };\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<GaugeOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    // animation  createView  View \n    animation,\n    geometry,\n    meta,\n    tooltip,\n    statistic,\n    interaction,\n    annotation(),\n    other\n    // ...  adaptor flow\n  )(params);\n}\n","import { clamp, get, size } from '@antv/util';\nimport { Data, Datum } from '../../types';\nimport { RANGE_VALUE, RANGE_TYPE, PERCENT } from './constants';\nimport { GaugeOptions, GaugeRangeData } from './types';\n\n/**\n *  range  data \n * @param range\n * @param key\n * @returns {GaugeRangeData}\n */\nexport function processRangeData(range: number[], percent: GaugeOptions['percent']): GaugeRangeData {\n  return (\n    range\n      //  stack \n      .map((r: number, idx: number) => {\n        return { [RANGE_VALUE]: r - (range[idx - 1] || 0), [RANGE_TYPE]: `${idx}`, [PERCENT]: percent };\n      })\n      //  0 \n      .filter((d: Datum) => !!d[RANGE_VALUE])\n  );\n}\n\n/**\n *   \n * @param percent\n */\nexport function getIndicatorData(percent: GaugeOptions['percent']): Data {\n  return [{ [PERCENT]: clamp(percent, 0, 1) }];\n}\n\n/**\n *  \n * @param percent\n * @param range\n */\nexport function getRangeData(percent: GaugeOptions['percent'], range?: GaugeOptions['range']): GaugeRangeData {\n  const ticks = get(range, ['ticks'], []);\n\n  const clampTicks = size(ticks) ? ticks : [0, clamp(percent, 0, 1), 1];\n  return processRangeData(clampTicks as number[], percent);\n}\n","import { isUndefined, isNumber, get, reduce, isObject } from '@antv/util';\nimport { Options } from '../../types';\nimport { LEVEL, log } from '../../utils';\nimport { ABSOLUTE_FIELD, DIFF_FIELD, IS_TOTAL, Y_FIELD } from './constant';\n\n/**\n * @desc [start, end]\n * @param data\n * @param xField\n * @param yField\n * @param totalLabel\n */\nexport function processData(\n  data: Options['data'],\n  xField: string,\n  yField: string,\n  newYField: string,\n  total?: false | { label?: string }\n) {\n  const newData = [];\n  reduce(\n    data,\n    (r, d) => {\n      // \n      log(LEVEL.WARN, isNumber(d[yField]), `${d[yField]} is not a valid number`);\n      const value = isUndefined(d[yField]) ? null : d[yField];\n      newData.push({ ...d, [newYField]: [r, r + value] });\n\n      return r + value;\n    },\n    0\n  );\n  // \n  if (newData.length && total) {\n    const sum = get(newData, [[data.length - 1], newYField, [1]]);\n    newData.push({\n      [xField]: total.label,\n      [yField]: sum,\n      [newYField]: [0, sum],\n    });\n  }\n  return newData;\n}\n\n/**\n *   \n */\nexport function transformData(\n  data: Options['data'],\n  xField: string,\n  yField: string,\n  total?: false | { label?: string }\n) {\n  const processed = processData(data, xField, yField, Y_FIELD, total);\n  return processed.map((d, dIdx) => {\n    if (!isObject(d)) {\n      return d;\n    }\n    return {\n      ...d,\n      [ABSOLUTE_FIELD]: d[Y_FIELD][1],\n      [DIFF_FIELD]: d[Y_FIELD][1] - d[Y_FIELD][0],\n      [IS_TOTAL]: dIdx === data.length,\n    };\n  });\n}\n","export const FIRST_AXES_VIEW = 'first-axes-view';\nexport const SECOND_AXES_VIEW = 'second-axes-view';\n/**  key  */\nexport const SERIES_FIELD_KEY = 'series-field-key';\n","import { groupBy } from '@antv/util';\nimport { Types } from '@antv/g2';\nimport { Datum } from '../../types';\nimport { BidirectionalBarOptions } from './types';\n\ntype TransformData = {\n  [key: string]: string | number;\n}[];\n\n/**\n * bidirectional-bar ,  SERIES_FIELD_KEY \n * @param xField\n * @param yField\n * @param data\n */\nexport function transformData(\n  xField: string,\n  yField: string[],\n  seriesField: string,\n  data: Datum,\n  reverse?: boolean\n): Types.Data[] {\n  const hopeData: TransformData = [];\n  yField.forEach((d: string) => {\n    data.forEach((k: any) => {\n      const obj = {\n        [xField]: k[xField],\n        [seriesField]: d,\n        [d]: k[d],\n      };\n      hopeData.push(obj);\n    });\n  });\n  const groupData = Object.values(groupBy(hopeData, seriesField));\n  const [data1 = [], data2 = []] = groupData;\n  return reverse ? [data1.reverse(), data2.reverse()] : [data1, data2];\n}\n\n/**\n * \n * @param layout\n */\nexport function isHorizontal(layout: BidirectionalBarOptions['layout']) {\n  return layout !== 'vertical';\n}\n\n/**\n *  view  padding \n * @param chart\n * @param views\n * @param p\n */\nexport function syncViewPadding(chart: any, views: any, p: any) {\n  const [v1, v2] = views;\n  const p1 = v1.autoPadding;\n  const p2 = v2.autoPadding;\n  const { layout, position } = chart.__axisPosition;\n  //  layout\n  if (isHorizontal(layout) && position === 'top') {\n    /**\n     *  v1  left  v2 right  v1 \n     * position top  v1  0\n     */\n    v1.autoPadding = p.instance(p1.top, 0, p1.bottom, p1.left);\n    v2.autoPadding = p.instance(p2.top, p1.left, p2.bottom, 0);\n  }\n  if (isHorizontal(layout) && position === 'bottom') {\n    /**\n     *  v1  left  v2 right  v1 \n     * position bottom  v1 v1 right = right / 2  v2 left = right / 2\n     * + 5  \n     */\n    v1.autoPadding = p.instance(p1.top, p1.right / 2 + 5, p1.bottom, p1.left);\n    v2.autoPadding = p.instance(p2.top, p2.right, p2.bottom, p1.right / 2 + 5);\n  }\n  if (!isHorizontal(layout) && position === 'bottom') {\n    /**\n     *  v1  left  v2 left  left \n     * position bottom  v1 v1 bottom = bottom / 2  v2 top = bottom / 2\n     * + 5  \n     */\n    const left = p1.left >= p2.left ? p1.left : p2.left;\n    v1.autoPadding = p.instance(p1.top, p1.right, p1.bottom / 2 + 5, left);\n    v2.autoPadding = p.instance(p1.bottom / 2 + 5, p2.right, p2.bottom, left);\n  }\n  // position  top \n  if (!isHorizontal(layout) && position === 'top') {\n    const left = p1.left >= p2.left ? p1.left : p2.left;\n    v1.autoPadding = p.instance(p1.top, p1.right, 0, left);\n    v2.autoPadding = p.instance(0, p2.right, p1.top, left);\n  }\n}\n","import { isArray, get } from '@antv/util';\nimport { View } from '@antv/g2';\nimport { HIERARCHY_DATA_TRANSFORM_PARAMS } from '../../interactions/actions/drill-down';\nimport { Interaction } from '../../types/interaction';\nimport { treemap } from '../../utils/hierarchy/treemap';\nimport { TreemapOptions } from './types';\n\nexport function findInteraction(\n  interactions: TreemapOptions['interactions'],\n  interactionType: string\n): undefined | Interaction {\n  if (!isArray(interactions)) return undefined;\n  return interactions.find((i) => i.type === interactionType);\n}\n\nexport function enableInteraction(interactions: TreemapOptions['interactions'], interactionType: string): boolean {\n  const interaction = findInteraction(interactions, interactionType);\n  return interaction && interaction.enable !== false;\n}\n\n/**\n * \n * @param interactions\n * @param interactionType\n * @returns\n */\nexport function enableDrillInteraction(options: TreemapOptions): boolean {\n  const { interactions, drilldown } = options;\n  // , treemap-drill-down\n  return get(drilldown, 'enabled') || enableInteraction(interactions, 'treemap-drill-down');\n}\n\nexport function resetDrillDown(chart: View) {\n  const drillDownInteraction = chart.interactions['drill-down'];\n\n  if (!drillDownInteraction) return;\n\n  // @ts-ignore\n  const drillDownAction = drillDownInteraction.context.actions.find((i) => i.name === 'drill-down-action');\n\n  drillDownAction.reset();\n}\n\ninterface TransformDataOptions {\n  data: TreemapOptions['data'];\n  colorField: TreemapOptions['colorField'];\n  enableDrillDown: boolean;\n  hierarchyConfig: TreemapOptions['hierarchyConfig'];\n}\n\nexport function transformData(options: TransformDataOptions) {\n  const { data, colorField, enableDrillDown, hierarchyConfig } = options;\n\n  const nodes = treemap(data, {\n    ...hierarchyConfig,\n    // @ts-ignore\n    type: 'hierarchy.treemap',\n    field: 'value',\n    as: ['x', 'y'],\n  });\n\n  const result = [];\n  nodes.forEach((node) => {\n    if (node.depth === 0) {\n      return null;\n    }\n\n    //  depth === 1 \n    if (enableDrillDown && node.depth !== 1) {\n      return null;\n    }\n\n    // \n    if (!enableDrillDown && node.children) {\n      return null;\n    }\n\n    // path (x, y), ( depth)\n    const curPath = node.ancestors().map((n) => ({\n      data: n.data,\n      height: n.height,\n      value: n.value,\n    }));\n    // data.path) \n    const path = enableDrillDown && isArray(data.path) ? curPath.concat(data.path.slice(1)) : curPath;\n\n    const nodeInfo = Object.assign({}, node.data, {\n      x: node.x,\n      y: node.y,\n      depth: node.depth,\n      value: node.value,\n      path,\n      ...node,\n    });\n    if (!node.data[colorField] && node.parent) {\n      const ancestorNode = node.ancestors().find((n) => n.data[colorField]);\n      nodeInfo[colorField] = ancestorNode?.data[colorField];\n    } else {\n      nodeInfo[colorField] = node.data[colorField];\n    }\n\n    nodeInfo[HIERARCHY_DATA_TRANSFORM_PARAMS] = { hierarchyConfig, colorField, enableDrillDown };\n    result.push(nodeInfo);\n  });\n  return result;\n}\n","import { isRealNumber, pick } from '../../utils';\nimport { transformDataToNodeLinkData } from '../../utils/data';\nimport { Data } from '../../types';\nimport { sankeyLayout, SankeyLayoutInputData } from './layout';\nimport { cutoffCircle } from './circle';\nimport { SankeyOptions } from './types';\n\n/**\n *  node-link \n * @param dataTyp\n * @returns\n */\nfunction isNodeLink(dataType: string) {\n  return dataType === 'node-link';\n}\n\nexport function getNodeWidthRatio(nodeWidth: number, nodeWidthRatio: number, width: number) {\n  return isRealNumber(nodeWidth) ? nodeWidth / width : nodeWidthRatio;\n}\n\nexport function getNodePaddingRatio(nodePadding: number, nodePaddingRatio: number, height: number) {\n  return isRealNumber(nodePadding) ? nodePadding / height : nodePaddingRatio;\n}\n\n/**\n *  layout view \n * @param options\n * @param width\n * @param height\n */\nexport function transformToViewsData(options: SankeyOptions, width: number, height: number) {\n  const {\n    dataType,\n    data,\n    sourceField,\n    targetField,\n    weightField,\n    nodeAlign,\n    nodeSort,\n    nodePadding,\n    nodePaddingRatio,\n    nodeWidth,\n    nodeWidthRatio,\n    nodeDepth,\n    rawFields = [],\n  } = options;\n\n  let sankeyLayoutInputData: unknown;\n\n  if (!isNodeLink(dataType)) {\n    sankeyLayoutInputData = transformDataToNodeLinkData(\n      cutoffCircle(data as Data, sourceField, targetField),\n      sourceField,\n      targetField,\n      weightField,\n      rawFields\n    );\n  } else {\n    sankeyLayoutInputData = data;\n  }\n\n  // 3. layout \n  const { nodes, links } = sankeyLayout(\n    {\n      nodeAlign,\n      nodePadding: getNodePaddingRatio(nodePadding, nodePaddingRatio, height),\n      nodeWidth: getNodeWidthRatio(nodeWidth, nodeWidthRatio, width),\n      nodeSort,\n      nodeDepth,\n    },\n    sankeyLayoutInputData as SankeyLayoutInputData\n  );\n\n  // 4. \n  return {\n    nodes: nodes.map((node) => {\n      return {\n        ...pick(node, ['x', 'y', 'name', ...rawFields]),\n        isNode: true,\n      };\n    }),\n    edges: links.map((link) => {\n      return {\n        source: link.source.name,\n        target: link.target.name,\n        name: link.source.name || link.target.name,\n        ...pick(link, ['x', 'y', 'value', ...rawFields]),\n        isNode: false,\n      };\n    }),\n  };\n}\n","import { minBy } from '@antv/util';\n\nfunction targetDepth(d) {\n  return d.target.depth;\n}\n\nexport function left(node) {\n  return node.depth;\n}\n\nexport function right(node, n) {\n  return n - 1 - node.height;\n}\n\nexport function justify(node, n) {\n  return node.sourceLinks.length ? node.depth : n - 1;\n}\n\nexport function center(node) {\n  return node.targetLinks.length ? node.depth : node.sourceLinks.length ? minBy(node.sourceLinks, targetDepth) - 1 : 0;\n}\n","import { get } from '@antv/util';\nimport { Datum } from '../../types';\n\nexport const X_FIELD = 'x';\nexport const Y_FIELD = 'y';\nexport const NODE_COLOR_FIELD = 'name';\nexport const EDGE_COLOR_FIELD = 'source';\n\nexport const DEFAULT_OPTIONS = {\n  nodeStyle: {\n    opacity: 1,\n    fillOpacity: 1,\n    lineWidth: 1,\n  },\n  edgeStyle: {\n    opacity: 0.5,\n    lineWidth: 2,\n  },\n  label: {\n    fields: ['x', 'name'],\n    callback: (x: number[], name: string) => {\n      const centerX = (x[0] + x[1]) / 2;\n      const offsetX = centerX > 0.5 ? -4 : 4;\n      return {\n        labelEmit: true,\n        style: {\n          fill: '#8c8c8c',\n        },\n        offsetX,\n        content: name,\n      };\n    },\n  },\n  tooltip: {\n    showTitle: false,\n    showMarkers: false,\n    fields: ['source', 'target', 'value', 'isNode'],\n    // node  tooltip ()edge  tooltip\n    showContent: (items) => {\n      return !get(items, [0, 'data', 'isNode']);\n    },\n    formatter: (datum: Datum) => {\n      const { source, target, value } = datum;\n      return {\n        name: `${source} -> ${target}`,\n        value,\n      };\n    },\n  },\n  interactions: [\n    {\n      type: 'element-active',\n    },\n  ],\n  weight: true,\n  nodePaddingRatio: 0.1,\n  nodeWidthRatio: 0.05,\n};\n","import { CirclePackingOptions } from './types';\n\n/**  */\nexport const RAW_FIELDS = ['x', 'y', 'r', 'name', 'value', 'path', 'depth'];\n\nexport const DEFAULT_OPTIONS: Partial<CirclePackingOptions> = {\n  //  name \n  colorField: 'name',\n  autoFit: true,\n  pointStyle: {\n    lineWidth: 0,\n    stroke: '#fff',\n  },\n  // \n  legend: false,\n  hierarchyConfig: {\n    size: [1, 1] as [number, number], // width, height\n    padding: 0,\n  },\n  label: {\n    fields: ['name'],\n    layout: {\n      type: 'limit-in-shape',\n    },\n  },\n  tooltip: {\n    showMarkers: false,\n    showTitle: false,\n  },\n  // \n  drilldown: { enabled: false },\n};\n","import { View } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { deepAssign } from '../../utils';\nimport { adaptor as lineAdaptor } from '../line/adaptor';\nimport { adaptor as pieAdaptor } from '../pie/adaptor';\nimport { adaptor as columnAdaptor } from '../column/adaptor';\nimport { adaptor as barAdaptor } from '../bar/adaptor';\nimport { adaptor as areaAdaptor } from '../area/adaptor';\nimport { adaptor as gaugeAdaptor } from '../gauge/adaptor';\nimport { adaptor as tinyLineAdaptor } from '../tiny-line/adaptor';\nimport { adaptor as tinyColumnAdaptor } from '../tiny-column/adaptor';\nimport { adaptor as tinyAreadaptor } from '../tiny-area/adaptor';\nimport { adaptor as ringProgressAdaptor } from '../ring-progress/adaptor';\nimport { adaptor as progressAdaptor } from '../progress/adaptor';\nimport { adaptor as scatterAdaptor } from '../scatter/adaptor';\nimport { adaptor as histogramAdaptor } from '../histogram/adaptor';\nimport { adaptor as funnelAdaptor } from '../funnel/adaptor';\nimport { Line, LineOptions } from '../line';\nimport { Pie, PieOptions } from '../pie';\nimport { Bar, BarOptions } from '../bar';\nimport { Column, ColumnOptions } from '../column';\nimport { Area, AreaOptions } from '../area';\nimport { Gauge, GaugeOptions } from '../gauge';\nimport { TinyLine, TinyLineOptions } from '../tiny-line';\nimport { TinyArea, TinyAreaOptions } from '../tiny-area';\nimport { TinyColumn, TinyColumnOptions } from '../tiny-column';\nimport { RingProgress, RingProgressOptions } from '../ring-progress';\nimport { Progress, ProgressOptions } from '../progress';\nimport { Scatter, ScatterOptions } from '../scatter';\nimport { Histogram, HistogramOptions } from '../histogram';\nimport { Funnel, FunnelOptions } from '../funnel';\n\n/**\n *  options  widthheight \n */\ntype OmitSize<T> = Omit<T, 'width' | 'height'>;\n\n/**\n * multi-view  plots  options \n */\nexport type IPlotTypes =\n  | {\n      /**\n       * plot \n       */\n      readonly type: 'line';\n      /**\n       * plot \n       */\n      readonly options: OmitSize<LineOptions>;\n    }\n  | {\n      readonly type: 'pie';\n      readonly options: OmitSize<PieOptions>;\n    }\n  | {\n      readonly type: 'bar';\n      readonly options: OmitSize<BarOptions>;\n    }\n  | {\n      readonly type: 'column';\n      readonly options: OmitSize<ColumnOptions>;\n    }\n  | {\n      readonly type: 'area';\n      readonly options: OmitSize<AreaOptions>;\n    }\n  | {\n      readonly type: 'gauge';\n      readonly options: OmitSize<GaugeOptions>;\n    }\n  | {\n      readonly type: 'tiny-line';\n      readonly options: OmitSize<TinyLineOptions>;\n    }\n  | {\n      readonly type: 'tiny-area';\n      readonly options: OmitSize<TinyAreaOptions>;\n    }\n  | {\n      readonly type: 'tiny-column';\n      readonly options: OmitSize<TinyColumnOptions>;\n    }\n  | {\n      readonly type: 'ring-progress';\n      readonly options: OmitSize<RingProgressOptions>;\n    }\n  | {\n      readonly type: 'progress';\n      readonly options: OmitSize<ProgressOptions>;\n    }\n  | {\n      readonly type: 'histogram';\n      readonly options: OmitSize<HistogramOptions>;\n    }\n  | {\n      readonly type: 'scatter';\n      readonly options: OmitSize<ScatterOptions>;\n    }\n  | {\n      readonly type: 'funnel';\n      readonly options: OmitSize<FunnelOptions>;\n    };\n\n/**\n *  multi-view  plots\n */\nconst PLOT_ADAPTORS = {\n  line: lineAdaptor,\n  pie: pieAdaptor,\n  column: columnAdaptor,\n  bar: barAdaptor,\n  area: areaAdaptor,\n  gauge: gaugeAdaptor,\n  'tiny-line': tinyLineAdaptor,\n  'tiny-column': tinyColumnAdaptor,\n  'tiny-area': tinyAreadaptor,\n  'ring-progress': ringProgressAdaptor,\n  progress: progressAdaptor,\n  scatter: scatterAdaptor,\n  histogram: histogramAdaptor,\n  funnel: funnelAdaptor,\n};\n\n/**\n *  plot  class contructor\n * @param {string} plot\n */\nconst PLOT_CONSTRUCTOR = {\n  line: Line,\n  pie: Pie,\n  column: Column,\n  bar: Bar,\n  area: Area,\n  gauge: Gauge,\n  'tiny-line': TinyLine,\n  'tiny-column': TinyColumn,\n  'tiny-area': TinyArea,\n  'ring-progress': RingProgress,\n  progress: Progress,\n  scatter: Scatter,\n  histogram: Histogram,\n  funnel: Funnel,\n};\n\n/**\n *  mix  facet defaultOptions \n */\nconst DEFAULT_OPTIONS_MAP = {\n  pie: { label: false },\n  column: { tooltip: { showMarkers: false } },\n  bar: { tooltip: { showMarkers: false } },\n};\n\n/**\n *  plot  adaptor,  defaultOptions\n * @param {string} plot\n */\nexport function execPlotAdaptor<T extends IPlotTypes['type']>(\n  plot: T,\n  view: View,\n  options: IPlotTypes['options']\n): void {\n  const cls = PLOT_CONSTRUCTOR[plot];\n  if (!cls) {\n    console.error(`could not find ${plot} plot`);\n    return;\n  }\n  const module = PLOT_ADAPTORS[plot];\n  module({\n    chart: view,\n    options: deepAssign({}, cls.getDefaultOptions(), get(DEFAULT_OPTIONS_MAP, plot, {}), options),\n  });\n}\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend weve set an alarm, if we havent already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(null, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","export function linear(t) {\n  return +t;\n}\n","export function quadIn(t) {\n  return t * t;\n}\n\nexport function quadOut(t) {\n  return t * (2 - t);\n}\n\nexport function quadInOut(t) {\n  return ((t *= 2) <= 1 ? t * t : --t * (2 - t) + 1) / 2;\n}\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","var exponent = 3;\n\nexport var polyIn = (function custom(e) {\n  e = +e;\n\n  function polyIn(t) {\n    return Math.pow(t, e);\n  }\n\n  polyIn.exponent = custom;\n\n  return polyIn;\n})(exponent);\n\nexport var polyOut = (function custom(e) {\n  e = +e;\n\n  function polyOut(t) {\n    return 1 - Math.pow(1 - t, e);\n  }\n\n  polyOut.exponent = custom;\n\n  return polyOut;\n})(exponent);\n\nexport var polyInOut = (function custom(e) {\n  e = +e;\n\n  function polyInOut(t) {\n    return ((t *= 2) <= 1 ? Math.pow(t, e) : 2 - Math.pow(2 - t, e)) / 2;\n  }\n\n  polyInOut.exponent = custom;\n\n  return polyInOut;\n})(exponent);\n","var pi = Math.PI,\n    halfPi = pi / 2;\n\nexport function sinIn(t) {\n  return (+t === 1) ? 1 : 1 - Math.cos(t * halfPi);\n}\n\nexport function sinOut(t) {\n  return Math.sin(t * halfPi);\n}\n\nexport function sinInOut(t) {\n  return (1 - Math.cos(pi * t)) / 2;\n}\n","// tpmt is two power minus ten times t scaled to [0,1]\nexport function tpmt(x) {\n  return (Math.pow(2, -10 * x) - 0.0009765625) * 1.0009775171065494;\n}\n","import {tpmt} from \"./math.js\";\n\nexport function expIn(t) {\n  return tpmt(1 - +t);\n}\n\nexport function expOut(t) {\n  return 1 - tpmt(t);\n}\n\nexport function expInOut(t) {\n  return ((t *= 2) <= 1 ? tpmt(1 - t) : 2 - tpmt(t - 1)) / 2;\n}\n","export function circleIn(t) {\n  return 1 - Math.sqrt(1 - t * t);\n}\n\nexport function circleOut(t) {\n  return Math.sqrt(1 - --t * t);\n}\n\nexport function circleInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - Math.sqrt(1 - t * t) : Math.sqrt(1 - (t -= 2) * t) + 1) / 2;\n}\n","var b1 = 4 / 11,\n    b2 = 6 / 11,\n    b3 = 8 / 11,\n    b4 = 3 / 4,\n    b5 = 9 / 11,\n    b6 = 10 / 11,\n    b7 = 15 / 16,\n    b8 = 21 / 22,\n    b9 = 63 / 64,\n    b0 = 1 / b1 / b1;\n\nexport function bounceIn(t) {\n  return 1 - bounceOut(1 - t);\n}\n\nexport function bounceOut(t) {\n  return (t = +t) < b1 ? b0 * t * t : t < b3 ? b0 * (t -= b2) * t + b4 : t < b6 ? b0 * (t -= b5) * t + b7 : b0 * (t -= b8) * t + b9;\n}\n\nexport function bounceInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - bounceOut(1 - t) : bounceOut(t - 1) + 1) / 2;\n}\n","var overshoot = 1.70158;\n\nexport var backIn = (function custom(s) {\n  s = +s;\n\n  function backIn(t) {\n    return (t = +t) * t * (s * (t - 1) + t);\n  }\n\n  backIn.overshoot = custom;\n\n  return backIn;\n})(overshoot);\n\nexport var backOut = (function custom(s) {\n  s = +s;\n\n  function backOut(t) {\n    return --t * t * ((t + 1) * s + t) + 1;\n  }\n\n  backOut.overshoot = custom;\n\n  return backOut;\n})(overshoot);\n\nexport var backInOut = (function custom(s) {\n  s = +s;\n\n  function backInOut(t) {\n    return ((t *= 2) < 1 ? t * t * ((s + 1) * t - s) : (t -= 2) * t * ((s + 1) * t + s) + 2) / 2;\n  }\n\n  backInOut.overshoot = custom;\n\n  return backInOut;\n})(overshoot);\n","import {tpmt} from \"./math.js\";\n\nvar tau = 2 * Math.PI,\n    amplitude = 1,\n    period = 0.3;\n\nexport var elasticIn = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticIn(t) {\n    return a * tpmt(-(--t)) * Math.sin((s - t) / p);\n  }\n\n  elasticIn.amplitude = function(a) { return custom(a, p * tau); };\n  elasticIn.period = function(p) { return custom(a, p); };\n\n  return elasticIn;\n})(amplitude, period);\n\nexport var elasticOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticOut(t) {\n    return 1 - a * tpmt(t = +t) * Math.sin((t + s) / p);\n  }\n\n  elasticOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticOut.period = function(p) { return custom(a, p); };\n\n  return elasticOut;\n})(amplitude, period);\n\nexport var elasticInOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticInOut(t) {\n    return ((t = t * 2 - 1) < 0\n        ? a * tpmt(-t) * Math.sin((s - t) / p)\n        : 2 - a * tpmt(t) * Math.sin((s + t) / p)) / 2;\n  }\n\n  elasticInOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticInOut.period = function(p) { return custom(a, p); };\n\n  return elasticInOut;\n})(amplitude, period);\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy: function(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n}\n\nfunction rgb_formatRgb() {\n  var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n  return (a === 1 ? \"rgb(\" : \"rgba(\")\n      + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n      + (a === 1 ? \")\" : \", \" + a + \")\");\n}\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"hsl(\" : \"hsla(\")\n        + (this.h || 0) + \", \"\n        + (this.s || 0) * 100 + \"%, \"\n        + (this.l || 0) * 100 + \"%\"\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n","import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"export const version = '2.4.12';\n\n// G2 \nimport * as G2 from '@antv/g2';\nexport { G2 };\n\n// \nimport { registerLocale } from './core/locale';\nimport { EN_US_LOCALE } from './locales/en_US';\nimport { ZH_CN_LOCALE } from './locales/zh_CN';\n/** default locale register */\nregisterLocale('en-US', EN_US_LOCALE);\nregisterLocale('zh-CN', ZH_CN_LOCALE);\n/**    */\nexport { registerLocale };\n\n/**  */\nexport { setGlobal } from './core/global';\n\n/** G2Plot  Plot  */\nexport { Plot } from './core/plot';\n\n/** Adaptor  */\nexport type { Adaptor, Params } from './core/adaptor';\n\n// \nexport * from './types';\n\n//  | author by [hustcc](https://github.com/hustcc)\nexport { Line } from './plots/line';\nexport type { LineOptions } from './plots/line';\n\n//  | author by [hustcc](https://github.com/hustcc)\nexport { Area } from './plots/area';\nexport type { AreaOptions } from './plots/area';\n\n//  | author by [zqlu](https://github.com/zqlu)\nexport { Column } from './plots/column';\nexport type { ColumnOptions } from './plots/column';\n\n//  | author by [BBSQQ](https://github.com/BBSQQ)\nexport { Bar } from './plots/bar';\nexport type { BarOptions } from './plots/bar';\n\n//  | author by [visiky](https://github.com/visiky)\nexport { Pie } from './plots/pie';\nexport type { PieOptions } from './plots/pie';\n\n//  | author by [zhangzhonghe](https://github.com/zhangzhonghe)\nexport { Rose } from './plots/rose';\nexport type { RoseOptions } from './plots/rose';\n\n//  | author by [zhangzhonghe](https://github.com/zhangzhonghe)\nexport { WordCloud } from './plots/word-cloud';\nexport type { WordCloudOptions } from './plots/word-cloud';\n\n//  | author by [lxfu1](https://github.com/lxfu1)\nexport { Scatter } from './plots/scatter';\nexport type { ScatterOptions } from './plots/scatter';\n\n//  | author by [visiky](https://github.com/visiky)\nexport { Radar } from './plots/radar';\nexport type { RadarOptions } from './plots/radar';\n\n//  | author by [liuzhenying](https://github.com/liuzhenying)\nexport { DualAxes } from './plots/dual-axes';\nexport type { DualAxesOptions } from './plots/dual-axes';\n\n//  | author by [connono](https://github.com/connono)\nexport { TinyLine } from './plots/tiny-line';\nexport type { TinyLineOptions } from './plots/tiny-line';\n\n//  | author by [connono](https://github.com/connono)\nexport { TinyColumn } from './plots/tiny-column';\nexport type { TinyColumnOptions } from './plots/tiny-column';\n\n//  | author by [connono](https://github.com/connono)\nexport { TinyArea } from './plots/tiny-area';\nexport type { TinyAreaOptions } from './plots/tiny-area';\n\n//  | author by [arcsin1](https://github.com/arcsin1), [visiky](https://github.com/visiky)\nexport { Histogram } from './plots/histogram';\nexport type { HistogramOptions } from './plots/histogram';\n\n//  | author by [connono](https://github.com/connono)\nexport { Progress } from './plots/progress';\nexport type { ProgressOptions } from './plots/progress';\n\n//  | author by [connono](https://github.com/connono)\nexport { RingProgress } from './plots/ring-progress';\nexport type { RingProgressOptions } from './plots/ring-progress';\n\n//  | author by [jiazhewang](https://github.com/jiazhewang)\nexport { Heatmap } from './plots/heatmap';\nexport type { HeatmapOptions } from './plots/heatmap';\n\n//  | author by [BBSQQ](https://github.com/BBSQQ), [visiky](https://github.com/visiky)\nexport { Box } from './plots/box';\nexport type { BoxOptions } from './plots/box';\n\n//  | author by [YiSiWang](https://github.com/YiSiWang), [visiky](https://github.com/visiky)\nexport { Violin } from './plots/violin';\nexport type { ViolinOptions } from './plots/violin';\n\n//  | author by [visiky](https://github.com/visiky)\nexport { Venn } from './plots/venn';\nexport type { VennOptions } from './plots/venn';\n\n// K | author by [jhwong](https://github.com/jinhuiWong), [visiky](https://github.com/visiky)\nexport { Stock } from './plots/stock';\nexport type { StockOptions } from './plots/stock';\n\n// \nexport { Funnel, FUNNEL_CONVERSATION_FIELD } from './plots/funnel';\nexport type { FunnelOptions } from './plots/funnel';\n\n//  | author by [CarisL](https://github.com/CarisL), [hustcc](https://github.com/hustcc), [pearmini](https://github.com/pearmini)\nexport { Liquid, addWaterWave } from './plots/liquid';\nexport type { LiquidOptions } from './plots/liquid';\n\n//  | author by [arcsin1](https://github.com/arcsin1)\nexport { Bullet } from './plots/bullet';\nexport type { BulletOptions } from './plots/bullet';\n\n//  | author by [lxfu1](https://github.com/lxfu1), [visiky](https://github.com/visiky)\nexport { Sunburst } from './plots/sunburst';\nexport type { SunburstOptions } from './plots/sunburst';\n\n//  | author by [hustcc](https://github.com/hustcc)\nexport { Gauge } from './plots/gauge';\nexport type { GaugeOptions } from './plots/gauge';\n\n//  | author by [visiky](https://github.com/visiky)\nexport { Waterfall } from './plots/waterfall';\nexport type { WaterfallOptions } from './plots/waterfall';\n\n//  | author by [yujs](https://github.com/yujs) | updated by [visiky](https://github.com/visiky)\nexport { RadialBar } from './plots/radial-bar';\nexport type { RadialBarOptions } from './plots/radial-bar';\n\n//  | author by [arcsin1](https://github.com/arcsin1)\nexport { BidirectionalBar } from './plots/bidirectional-bar';\nexport type { BidirectionalBarOptions } from './plots/bidirectional-bar';\n\n// \nexport { Treemap } from './plots/treemap';\nexport type { TreemapOptions } from './plots/treemap';\n\n//  | author by [hustcc](https://github.com/hustcc)\nexport { Sankey } from './plots/sankey';\nexport type { SankeyOptions } from './plots/sankey';\n\n//  | author by [MrSmallLiu](https://github.com/MrSmallLiu), [visiky](https://github.com/visiky)\nexport { Chord } from './plots/chord';\nexport type { ChordOptions } from './plots/chord';\n\n// circle-packing  | author by [visiky](https://github.com/visiky), [Angeli](https://github.com/Angelii)\nexport { CirclePacking } from './plots/circle-packing';\nexport type { CirclePackingOptions } from './plots/circle-packing';\n\n// \n/**  G2Plot.P  G2Plot.P  */\nexport { P } from './plugin';\n\n/**  getCanvasPatterng  */\nexport { getCanvasPattern } from './utils/pattern';\n\n//  Mix\nexport { Mix as MultiView } from './plots/mix';\nexport type { MixOptions as MultiViewOptions } from './plots/mix';\n/**  (mix) */\nexport { Mix as Mix } from './plots/mix';\nexport type { MixOptions } from './plots/mix';\n\n//  | author by [visiky](https://github.com/visiky)\nexport { Facet } from './plots/facet';\nexport type { FacetOptions } from './plots/facet';\n\n/**  adaptor  */\nexport { flow, measureTextWidth } from './utils';\n\n/**  geometry  adaptor */\nexport { line, interval, area, point, polygon, schema } from './adaptor/geometries';\nexport type {\n  LineGeometryOptions,\n  IntervalGeometryOptions,\n  AreaGeometryOptions,\n  PointGeometryOptions,\n  PolygonGeometryOptions,\n  SchemaGeometryOptions,\n} from './adaptor/geometries';\n/**  adaptor  */\nimport { scale, legend, tooltip, annotation, interaction, theme, animation } from './adaptor/common';\nexport const adaptors = { scale, legend, tooltip, annotation, interaction, theme, animation };\n\n/**  Lab  export */\nexport { Lab } from './lab';\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","type FlowFunction<P> = (param: P) => P;\n\n/**\n *  lodash.flow \n * @param flows\n */\nexport function flow<P>(...flows: FlowFunction<P>[]): FlowFunction<P> {\n  return (param: P) => {\n    return flows.reduce((result: P, f: FlowFunction<P>) => {\n      return f(result);\n    }, param);\n  };\n}\n","import { reduce } from '@antv/util';\n/**\n * \n * template('hello, {name}', { name: 'AntV' }); // hello, AntV\n * @param string\n * @param options\n */\nexport function template(source: string, data?: object): string {\n  if (!data) {\n    return source;\n  }\n  return reduce(\n    // @ts-ignore\n    data,\n    (r: string, v: string, k: string) => r.replace(new RegExp(`{\\\\s*${k}\\\\s*}`, 'g'), v),\n    source\n  );\n}\n","import { Size } from '../types';\n\n/**\n * get the element's bounding size\n * @param ele dom element\n * @returns the element width and height\n */\nexport function getContainerSize(ele: HTMLElement): Size {\n  if (!ele) {\n    return { width: 0, height: 0 };\n  }\n  const style = getComputedStyle(ele);\n\n  return {\n    width:\n      (ele.clientWidth || parseInt(style.width, 10)) -\n      parseInt(style.paddingLeft, 10) -\n      parseInt(style.paddingRight, 10),\n    height:\n      (ele.clientHeight || parseInt(style.height, 10)) -\n      parseInt(style.paddingTop, 10) -\n      parseInt(style.paddingBottom, 10),\n  };\n}\n","import { Geometry, View, Element } from '@antv/g2';\nimport { reduce, get } from '@antv/util';\n\n/**\n *  View  type  geometry\n * @param view\n * @param type\n */\nexport function findGeometry(view: View, type: string): Geometry {\n  return view.geometries.find((g: Geometry) => g.type === type);\n}\n\n/**\n *  View   elements\n */\nexport function getAllElements(view: View): Element[] {\n  return reduce(\n    view.geometries,\n    (r: Element[], geometry: Geometry) => {\n      return r.concat(geometry.elements);\n    },\n    []\n  );\n}\n\n/**\n *  View   elements,  View  View\n */\nexport function getAllElementsRecursively(view: View): Element[] {\n  if (get(view, ['views', 'length'], 0) <= 0) {\n    return getAllElements(view);\n  }\n\n  return reduce(\n    view.views,\n    (ele: Element[], subView: View) => {\n      return ele.concat(getAllElementsRecursively(subView));\n    },\n    getAllElements(view)\n  );\n}\n\n/**\n *  View   geometries,  View  View\n */\nexport function getAllGeometriesRecursively(view: View): Geometry[] {\n  if (get(view, ['views', 'length'], 0) <= 0) {\n    return view.geometries;\n  }\n\n  return reduce(\n    view.views,\n    (ele: Geometry[], subView: View) => {\n      return ele.concat(subView.geometries);\n    },\n    view.geometries\n  );\n}\n","import { isType } from '@antv/util';\n/**\n *  v1 label formatter\n * @param labelOptions\n */\nexport function transformLabel(labelOptions: any) {\n  if (!isType(labelOptions, 'Object')) {\n    return labelOptions;\n  }\n  const label = { ...labelOptions };\n  if (label.formatter && !label.content) {\n    label.content = label.formatter;\n  }\n  return label;\n}\n","import { vec2 } from '@antv/matrix-util';\nimport { Position, Point } from '../types/common';\n\nexport function points2Path(points: Point[], isInCircle: boolean) {\n  const path = [];\n  if (points.length) {\n    path.push(['M', points[0].x, points[0].y]);\n    for (let i = 1, length = points.length; i < length; i += 1) {\n      const item = points[i];\n      path.push(['L', item.x, item.y]);\n    }\n    if (isInCircle) {\n      path.push(['Z']);\n    }\n  }\n  return path;\n}\n\n/**\n * @ignore\n * \n */\nexport const smoothBezier = (\n  points: Position[],\n  smooth: number,\n  isLoop: boolean,\n  constraint: Position[]\n): Position[] => {\n  const cps = [];\n  let prevPoint: Position;\n  let nextPoint: Position;\n  const hasConstraint = !!constraint;\n  let min: Position;\n  let max: Position;\n  if (hasConstraint) {\n    min = [Infinity, Infinity];\n    max = [-Infinity, -Infinity];\n\n    for (let i = 0, l = points.length; i < l; i++) {\n      const point = points[i];\n      min = vec2.min([0, 0], min, point) as [number, number];\n      max = vec2.max([0, 0], max, point) as [number, number];\n    }\n    min = vec2.min([0, 0], min, constraint[0]) as [number, number];\n    max = vec2.max([0, 0], max, constraint[1]) as [number, number];\n  }\n\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (isLoop) {\n      prevPoint = points[i ? i - 1 : len - 1];\n      nextPoint = points[(i + 1) % len];\n    } else {\n      if (i === 0 || i === len - 1) {\n        cps.push(point);\n        continue;\n      } else {\n        prevPoint = points[i - 1];\n        nextPoint = points[i + 1];\n      }\n    }\n    let v: [number, number] = [0, 0];\n    v = vec2.sub(v, nextPoint, prevPoint) as [number, number];\n    v = vec2.scale(v, v, smooth) as [number, number];\n\n    let d0 = vec2.distance(point, prevPoint);\n    let d1 = vec2.distance(point, nextPoint);\n\n    const sum = d0 + d1;\n    if (sum !== 0) {\n      d0 /= sum;\n      d1 /= sum;\n    }\n\n    const v1 = vec2.scale([0, 0], v, -d0);\n    const v2 = vec2.scale([0, 0], v, d1);\n\n    let cp0 = vec2.add([0, 0], point, v1);\n    let cp1 = vec2.add([0, 0], point, v2);\n\n    if (hasConstraint) {\n      cp0 = vec2.max([0, 0], cp0, min);\n      cp0 = vec2.min([0, 0], cp0, max);\n      cp1 = vec2.max([0, 0], cp1, min);\n      cp1 = vec2.min([0, 0], cp1, max);\n    }\n\n    cps.push(cp0);\n    cps.push(cp1);\n  }\n\n  if (isLoop) {\n    cps.push(cps.shift());\n  }\n  return cps;\n};\n\n/**\n * @ignore\n * \n */\nexport function catmullRom2bezier(crp: number[], z: boolean, constraint: Position[]) {\n  const isLoop = !!z;\n  const pointList = [];\n  for (let i = 0, l = crp.length; i < l; i += 2) {\n    pointList.push([crp[i], crp[i + 1]]);\n  }\n\n  const controlPointList = smoothBezier(pointList, 0.4, isLoop, constraint);\n  const len = pointList.length;\n  const d1 = [];\n\n  let cp1: Position;\n  let cp2: Position;\n  let p: Position;\n\n  for (let i = 0; i < len - 1; i++) {\n    cp1 = controlPointList[i * 2];\n    cp2 = controlPointList[i * 2 + 1];\n    p = pointList[i + 1];\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n\n  if (isLoop) {\n    cp1 = controlPointList[len];\n    cp2 = controlPointList[len + 1];\n    p = pointList[0];\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n  return d1;\n}\n\n/**\n * @ignore\n * \n */\nexport function getSplinePath(points: Point[], isInCircle?: boolean, constaint?: Position[]) {\n  const data = [];\n  const first = points[0];\n  let prePoint = null;\n  if (points.length <= 2) {\n    // \n    return points2Path(points, isInCircle);\n  }\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (!prePoint || !(prePoint.x === point.x && prePoint.y === point.y)) {\n      data.push(point.x);\n      data.push(point.y);\n      prePoint = point;\n    }\n  }\n  const constraint = constaint || [\n    // \n    [0, 0],\n    [1, 1],\n  ];\n  const splinePath = catmullRom2bezier(data, isInCircle, constraint);\n  splinePath.unshift(['M', first.x, first.y]);\n  return splinePath;\n}\n","/**\n * @desc simple kebabCase like lodash\n *\n * kebabCase('fooBar'); => 'foo-bar'\n */\nexport function kebabCase(word: string) {\n  if (!word) {\n    return word;\n  }\n  const result = word.match(/(([A-Z]{0,1}[a-z]*[^A-Z])|([A-Z]{1}))/g);\n  return result.map((s: string) => s.toLowerCase()).join('-');\n}\n","import { isString, memoize, values } from '@antv/util';\nimport { getCanvasContext } from './context';\n\n/**\n * \n * @param text \n * @param font \n */\nexport const measureTextWidth = memoize(\n  (text: string, font: any = {}): number => {\n    const { fontSize, fontFamily = 'sans-serif', fontWeight, fontStyle, fontVariant } = font;\n    const ctx = getCanvasContext();\n    // @see https://developer.mozilla.org/zh-CN/docs/Web/CSS/font\n    ctx.font = [fontStyle, fontWeight, fontVariant, `${fontSize}px`, fontFamily].join(' ');\n    const metrics = ctx.measureText(isString(text) ? text : '');\n    return metrics.width;\n  },\n  (text: string, font = {}) => [text, ...values(font)].join('')\n);\n","let ctx: CanvasRenderingContext2D;\n\n/**\n *  canvas context\n */\nexport function getCanvasContext() {\n  if (!ctx) {\n    ctx = document.createElement('canvas').getContext('2d');\n  }\n\n  return ctx;\n}\n","import { Locale } from '../types/locale';\n\nexport const EN_US_LOCALE: Locale = {\n  locale: 'en-US',\n\n  // General\n  general: {\n    increase: 'Increase',\n    decrease: 'Decrease',\n    root: 'Root',\n  },\n\n  // Plot Components\n  /** statistic text component */\n  statistic: {\n    total: 'Total',\n  },\n  /** conversionTag component */\n  conversionTag: {\n    label: 'Rate',\n  },\n  legend: {},\n  tooltip: {},\n  slider: {},\n  scrollbar: {},\n\n  // Plots\n  waterfall: {\n    total: 'Total',\n  },\n};\n","import { Locale } from '../types/locale';\n\nexport const ZH_CN_LOCALE: Locale = {\n  locale: 'zh-CN',\n\n  // \n  general: {\n    increase: '',\n    decrease: '',\n    root: '',\n  },\n\n  // \n  /**  */\n  statistic: {\n    total: '',\n  },\n  /**  */\n  conversionTag: {\n    label: '',\n  },\n  legend: {},\n  tooltip: {},\n  slider: {},\n  scrollbar: {},\n\n  // \n  waterfall: {\n    total: '',\n  },\n};\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ver = exports.clear = exports.bind = void 0;\n\nvar _sensorPool = require(\"./sensorPool\");\n\n/**\n * Created by hustcc on 18/6/9.[]\n * Contract: i@hust.cc\n */\n\n/**\n * bind an element with resize callback function\n * @param {*} element\n * @param {*} cb\n */\nvar bind = function bind(element, cb) {\n  var sensor = (0, _sensorPool.getSensor)(element); // listen with callback\n\n  sensor.bind(cb); // return unbind function\n\n  return function () {\n    sensor.unbind(cb);\n  };\n};\n/**\n * clear all the listener and sensor of an element\n * @param element\n */\n\n\nexports.bind = bind;\n\nvar clear = function clear(element) {\n  var sensor = (0, _sensorPool.getSensor)(element);\n  (0, _sensorPool.removeSensor)(sensor);\n};\n\nexports.clear = clear;\nvar ver = \"1.0.1\";\nexports.ver = ver;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.removeSensor = exports.getSensor = void 0;\n\nvar _id = _interopRequireDefault(require(\"./id\"));\n\nvar _sensors = require(\"./sensors\");\n\nvar _constant = require(\"./constant\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\n\n/**\n * all the sensor objects.\n * sensor pool\n */\nvar Sensors = {};\n/**\n * get one sensor\n * @param element\n * @returns {*}\n */\n\nvar getSensor = function getSensor(element) {\n  var sensorId = element.getAttribute(_constant.SizeSensorId); // 1. if the sensor exists, then use it\n\n  if (sensorId && Sensors[sensorId]) {\n    return Sensors[sensorId];\n  } // 2. not exist, then create one\n\n\n  var newId = (0, _id[\"default\"])();\n  element.setAttribute(_constant.SizeSensorId, newId);\n  var sensor = (0, _sensors.createSensor)(element); // add sensor into pool\n\n  Sensors[newId] = sensor;\n  return sensor;\n};\n/**\n *  sensor\n * @param sensor\n */\n\n\nexports.getSensor = getSensor;\n\nvar removeSensor = function removeSensor(sensor) {\n  var sensorId = sensor.element.getAttribute(_constant.SizeSensorId); // remove attribute\n\n  sensor.element.removeAttribute(_constant.SizeSensorId); // remove event, dom of the sensor used\n\n  sensor.destroy(); // exist, then remove from pool\n\n  if (sensorId && Sensors[sensorId]) {\n    delete Sensors[sensorId];\n  }\n};\n\nexports.removeSensor = removeSensor;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\nvar id = 1;\n/**\n * generate unique id in application\n * @return {string}\n */\n\nvar _default = function _default() {\n  return \"\".concat(id++);\n};\n\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createSensor = void 0;\n\nvar _object = require(\"./object\");\n\nvar _resizeObserver = require(\"./resizeObserver\");\n\n/**\n * Created by hustcc on 18/7/5.\n * Contract: i@hust.cc\n */\n\n/**\n * sensor strategies\n */\n// export const createSensor = createObjectSensor;\nvar createSensor = typeof ResizeObserver !== 'undefined' ? _resizeObserver.createSensor : _object.createSensor;\nexports.createSensor = createSensor;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createSensor = void 0;\n\nvar _debounce = _interopRequireDefault(require(\"../debounce\"));\n\nvar _constant = require(\"../constant\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\nvar createSensor = function createSensor(element) {\n  var sensor = undefined; // callback\n\n  var listeners = [];\n  /**\n   * create object DOM of sensor\n   * @returns {HTMLObjectElement}\n   */\n\n  var newSensor = function newSensor() {\n    // adjust style\n    if (getComputedStyle(element).position === 'static') {\n      element.style.position = 'relative';\n    }\n\n    var obj = document.createElement('object');\n\n    obj.onload = function () {\n      obj.contentDocument.defaultView.addEventListener('resize', resizeListener); //  resize\n\n      resizeListener();\n    };\n\n    obj.style.display = 'block';\n    obj.style.position = 'absolute';\n    obj.style.top = '0';\n    obj.style.left = '0';\n    obj.style.height = '100%';\n    obj.style.width = '100%';\n    obj.style.overflow = 'hidden';\n    obj.style.pointerEvents = 'none';\n    obj.style.zIndex = '-1';\n    obj.style.opacity = '0';\n    obj.setAttribute('class', _constant.SensorClassName);\n    obj.setAttribute('tabindex', _constant.SensorTabIndex);\n    obj.type = 'text/html'; // append into dom\n\n    element.appendChild(obj); // for ie, should set data attribute delay, or will be white screen\n\n    obj.data = 'about:blank';\n    return obj;\n  };\n  /**\n   * trigger listeners\n   */\n\n\n  var resizeListener = (0, _debounce[\"default\"])(function () {\n    // trigger all listener\n    listeners.forEach(function (listener) {\n      listener(element);\n    });\n  });\n  /**\n   * listen with one callback function\n   * @param cb\n   */\n\n  var bind = function bind(cb) {\n    // if not exist sensor, then create one\n    if (!sensor) {\n      sensor = newSensor();\n    }\n\n    if (listeners.indexOf(cb) === -1) {\n      listeners.push(cb);\n    }\n  };\n  /**\n   * destroy all\n   */\n\n\n  var destroy = function destroy() {\n    if (sensor && sensor.parentNode) {\n      if (sensor.contentDocument) {\n        // remote event\n        sensor.contentDocument.defaultView.removeEventListener('resize', resizeListener);\n      } // remove dom\n\n\n      sensor.parentNode.removeChild(sensor); // initial variable\n\n      sensor = undefined;\n      listeners = [];\n    }\n  };\n  /**\n   * cancel listener bind\n   * @param cb\n   */\n\n\n  var unbind = function unbind(cb) {\n    var idx = listeners.indexOf(cb);\n\n    if (idx !== -1) {\n      listeners.splice(idx, 1);\n    } // no listener, and sensor is exist\n    // then destroy the sensor\n\n\n    if (listeners.length === 0 && sensor) {\n      destroy();\n    }\n  };\n\n  return {\n    element: element,\n    bind: bind,\n    destroy: destroy,\n    unbind: unbind\n  };\n};\n\nexports.createSensor = createSensor;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createSensor = void 0;\n\nvar _debounce = _interopRequireDefault(require(\"../debounce\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/**\n * Created by hustcc on 18/7/5.\n * Contract: i@hust.cc\n */\nvar createSensor = function createSensor(element) {\n  var sensor = undefined; // callback\n\n  var listeners = [];\n  /**\n   * trigger listeners\n   */\n\n  var resizeListener = (0, _debounce[\"default\"])(function () {\n    // trigger all\n    listeners.forEach(function (listener) {\n      listener(element);\n    });\n  });\n  /**\n   * create ResizeObserver sensor\n   * @returns\n   */\n\n  var newSensor = function newSensor() {\n    var s = new ResizeObserver(resizeListener); // listen element\n\n    s.observe(element); // trigger once\n\n    resizeListener();\n    return s;\n  };\n  /**\n   * listen with callback\n   * @param cb\n   */\n\n\n  var bind = function bind(cb) {\n    if (!sensor) {\n      sensor = newSensor();\n    }\n\n    if (listeners.indexOf(cb) === -1) {\n      listeners.push(cb);\n    }\n  };\n  /**\n   * destroy\n   */\n\n\n  var destroy = function destroy() {\n    sensor.disconnect();\n    listeners = [];\n    sensor = undefined;\n  };\n  /**\n   * cancel bind\n   * @param cb\n   */\n\n\n  var unbind = function unbind(cb) {\n    var idx = listeners.indexOf(cb);\n\n    if (idx !== -1) {\n      listeners.splice(idx, 1);\n    } // no listener, and sensor is exist\n    // then destroy the sensor\n\n\n    if (listeners.length === 0 && sensor) {\n      destroy();\n    }\n  };\n\n  return {\n    element: element,\n    bind: bind,\n    destroy: destroy,\n    unbind: unbind\n  };\n};\n\nexports.createSensor = createSensor;","export * from './common';\nexport * from './tooltip';\nexport * from './state';\nexport * from './attr';\nexport * from './statistic';\nexport * from './meta';\nexport * from './axis';\nexport * from './interaction';\nexport * from './annotation';\nexport * from './locale';\nexport * from './button';\n\n/**  readonly  */\nexport type Writable<T> = { -readonly [P in keyof T]: T[P] };\n","import { DotPatternCfg } from '../../types/pattern';\nimport { deepAssign } from '../../utils';\nimport {\n  getUnitPatternSize,\n  initCanvas,\n  drawBackground,\n  getSymbolsPosition,\n  transformMatrix,\n  getPixelRatio,\n} from './util';\n\n/**\n * dotPattern\n */\nexport const defaultDotPatternCfg = {\n  size: 6,\n  padding: 2,\n  backgroundColor: 'transparent',\n  opacity: 1,\n  rotation: 0,\n  fill: '#fff',\n  fillOpacity: 0.5,\n  stroke: 'transparent',\n  lineWidth: 0,\n  isStagger: true,\n};\n\n/**\n * \n *\n * @param context\n * @param cfg\n * @param x x\n * @param y y\n */\nexport function drawDot(context: CanvasRenderingContext2D, cfg: DotPatternCfg, x: number, y: number) {\n  const { size, fill, lineWidth, stroke, fillOpacity } = cfg;\n\n  context.beginPath();\n  context.globalAlpha = fillOpacity;\n  context.fillStyle = fill;\n  context.strokeStyle = stroke;\n  context.lineWidth = lineWidth;\n  context.arc(x, y, size / 2, 0, 2 * Math.PI, false);\n  context.fill();\n  if (lineWidth) {\n    context.stroke();\n  }\n  context.closePath();\n}\n\n/**\n *  dot pattern HTMLCanvasElement\n *\n * @param cfg\n * @returns HTMLCanvasElement\n */\nexport function createDotPattern(cfg?: DotPatternCfg): CanvasPattern {\n  const dotCfg = deepAssign({}, defaultDotPatternCfg, cfg);\n\n  const { size, padding, isStagger, rotation } = dotCfg;\n\n  //  dots\n  const unitSize = getUnitPatternSize(size, padding, isStagger);\n  const dots = getSymbolsPosition(unitSize, isStagger);\n\n  //  patternCanvas\n  const canvas = initCanvas(unitSize, unitSize);\n  const ctx = canvas.getContext('2d');\n\n  //  backgrounddots\n  drawBackground(ctx, dotCfg, unitSize);\n  for (const [x, y] of dots) {\n    drawDot(ctx, dotCfg, x, y);\n  }\n\n  const pattern = ctx.createPattern(canvas, 'repeat');\n\n  if (pattern) {\n    const dpr = getPixelRatio();\n    const matrix = transformMatrix(dpr, rotation);\n    pattern.setTransform(matrix);\n  }\n\n  return pattern;\n}\n","import { LinePatternCfg } from '../../types/pattern';\nimport { deepAssign } from '../../utils';\nimport { initCanvas, drawBackground, transformMatrix, getPixelRatio } from './util';\n\n/**\n * linePattern  \n */\nexport const defaultLinePatternCfg = {\n  rotation: 45,\n  spacing: 5,\n  opacity: 1,\n  backgroundColor: 'transparent',\n  strokeOpacity: 0.5,\n  stroke: '#fff',\n  lineWidth: 2,\n};\n\n/**\n * line\n *\n * @param context canvasContext\n * @param cfg linePattern \n * @param d  path  d\n */\nexport function drawLine(context: CanvasRenderingContext2D, cfg: LinePatternCfg, d: string) {\n  const { stroke, lineWidth, strokeOpacity } = cfg;\n  const path = new Path2D(d);\n\n  context.globalAlpha = strokeOpacity;\n  context.lineCap = 'square';\n  context.strokeStyle = lineWidth ? stroke : 'transparent';\n  context.lineWidth = lineWidth;\n  context.stroke(path);\n}\n\n/**\n *  linePattern\n */\nexport function createLinePattern(cfg?: LinePatternCfg): CanvasPattern {\n  const lineCfg = deepAssign({}, defaultLinePatternCfg, cfg);\n\n  const { spacing, rotation, lineWidth } = lineCfg;\n\n  //  pattern  path  d\n  const width = spacing + lineWidth || 1;\n  const height = spacing + lineWidth || 1;\n  const d = `\n            M 0 0 L ${width} 0\n            M 0 ${height} L ${width} ${height}\n            `;\n\n  //  patternCanvas\n  const canvas = initCanvas(width, height);\n  const ctx = canvas.getContext('2d');\n\n  //  backgroundline\n  drawBackground(ctx, lineCfg, width, height);\n  drawLine(ctx, lineCfg, d);\n\n  const pattern = ctx.createPattern(canvas, 'repeat');\n\n  if (pattern) {\n    const dpr = getPixelRatio();\n    const matrix = transformMatrix(dpr, rotation);\n    pattern.setTransform(matrix);\n  }\n\n  //  Pattern \n  return pattern;\n}\n","import { SquarePatternCfg } from '../../types/pattern';\nimport { deepAssign } from '../../utils';\nimport {\n  getUnitPatternSize,\n  initCanvas,\n  drawBackground,\n  getSymbolsPosition,\n  transformMatrix,\n  getPixelRatio,\n} from './util';\n\n/**\n * squarePattern  \n */\nexport const defaultSquarePatternCfg = {\n  size: 6,\n  padding: 1,\n  isStagger: true,\n  backgroundColor: 'transparent',\n  opacity: 1,\n  rotation: 0,\n  fill: '#fff',\n  fillOpacity: 0.5,\n  stroke: 'transparent',\n  lineWidth: 0,\n};\n\n/**\n * square\n *\n * @param context canvasContext\n * @param cfg squarePattern \n * @param xy square\n */\nexport function drawSquare(context: CanvasRenderingContext2D, cfg: SquarePatternCfg, x: number, y: number) {\n  const { stroke, size, fill, lineWidth, fillOpacity } = cfg;\n\n  context.globalAlpha = fillOpacity;\n  context.strokeStyle = stroke;\n  context.lineWidth = lineWidth;\n  context.fillStyle = fill;\n  // xy\n  context.strokeRect(x - size / 2, y - size / 2, size, size);\n  context.fillRect(x - size / 2, y - size / 2, size, size);\n}\n\n/**\n *  squarePattern\n */\nexport function createSquarePattern(cfg?: SquarePatternCfg): CanvasPattern {\n  const squareCfg = deepAssign({}, defaultSquarePatternCfg, cfg);\n\n  const { size, padding, isStagger, rotation } = squareCfg;\n\n  //  squares\n  const unitSize = getUnitPatternSize(size, padding, isStagger);\n  const squares = getSymbolsPosition(unitSize, isStagger); //  dots \n\n  //  patternCanvas\n  const canvas = initCanvas(unitSize, unitSize);\n  const ctx = canvas.getContext('2d');\n\n  //  backgroundsquares\n  drawBackground(ctx, squareCfg, unitSize);\n  for (const [x, y] of squares) {\n    drawSquare(ctx, squareCfg, x, y);\n  }\n\n  const pattern = ctx.createPattern(canvas, 'repeat');\n\n  if (pattern) {\n    const dpr = getPixelRatio();\n    const matrix = transformMatrix(dpr, rotation);\n    pattern.setTransform(matrix);\n  }\n\n  return pattern;\n}\n","import { Params } from '../../core/adaptor';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { GeometryOptions, geometry, MappingOptions } from './base';\n\nexport interface AreaGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /**  */\n  readonly smooth?: boolean;\n  /** area  */\n  readonly area?: MappingOptions;\n}\n\n/**\n * area geometry \n * @param params\n */\nexport function area<O extends AreaGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { area, xField, yField, seriesField, smooth, tooltip } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  // \n  return area\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'area',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              shape: smooth ? 'smooth' : 'area',\n              tooltip: formatter,\n              ...area,\n            },\n          },\n        })\n      )\n    : params;\n}\n","import { deepMix } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { GeometryOptions, geometry, MappingOptions } from './base';\n\nexport interface LineGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /**  */\n  readonly smooth?: boolean;\n  /**  */\n  readonly connectNulls?: boolean;\n  /** line  */\n  readonly line?: MappingOptions;\n  /**  */\n  readonly stepType?: string;\n}\n\n/**\n * line \n * @param params\n */\nexport function line<O extends LineGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { line, stepType, xField, yField, seriesField, smooth, connectNulls, tooltip } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  // \n  return line\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'line',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: deepMix(\n              {\n                shape: stepType || (smooth ? 'smooth' : 'line'),\n                tooltip: formatter,\n              },\n              line\n            ),\n            args: { connectNulls },\n          },\n        })\n      )\n    : params;\n}\n","import { Geometry, getTheme, ShapeAttrs } from '@antv/g2';\nimport { isNil, isObject } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign } from '../../utils';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { GeometryOptions, MappingOptions, geometry } from './base';\n\nexport interface IntervalGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField: string;\n  /** y  */\n  readonly yField: string;\n  /**  groupFieldcolorField stackFieldcolorField  */\n  readonly seriesField?: string;\n  /**  */\n  readonly isGroup?: boolean;\n  /**  */\n  readonly isStack?: boolean;\n  /**  [0-1] */\n  readonly widthRatio?: number;\n  /** () */\n  readonly intervalPadding?: number;\n  /**  [0-1] */\n  readonly marginRatio?: number;\n  /** () */\n  readonly dodgePadding?: number;\n  /**  */\n  readonly minColumnWidth?: number;\n  /**  */\n  readonly maxColumnWidth?: number;\n  /**  */\n  readonly columnBackground?: { style: ShapeAttrs };\n  /**  colorshapesizestyletooltip */\n  readonly interval?: MappingOptions;\n  /**  seriesField , isGroup: true  groupField */\n  readonly groupField?: string;\n}\n\n/**\n *  adaptor\n * @param params\n */\nfunction otherAdaptor<O extends IntervalGeometryOptions>(params: Params<O>): Params<O> {\n  const { chart, options, ext } = params;\n  const { seriesField, isGroup, isStack, marginRatio, widthRatio, groupField, theme } = options;\n\n  /**\n   * adjust\n   */\n  const adjust = [];\n  if (seriesField) {\n    // group\n    if (isGroup) {\n      adjust.push({\n        type: 'dodge',\n        dodgeBy: groupField || seriesField,\n        marginRatio,\n      });\n    }\n    // stack\n    if (isStack) {\n      adjust.push({\n        type: 'stack',\n        marginRatio,\n      });\n    }\n  }\n\n  if (adjust.length && ext?.geometry) {\n    const g = ext?.geometry as Geometry;\n    g.adjust(adjust);\n  }\n\n  // widthRatio\n  if (!isNil(widthRatio)) {\n    chart.theme(\n      deepAssign({}, isObject(theme) ? theme : getTheme(theme), {\n        // columWidthRatio  theme \n        columnWidthRatio: widthRatio,\n      })\n    );\n  }\n\n  return params;\n}\n\nexport function interval<O extends IntervalGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const {\n    xField,\n    yField,\n    interval,\n    seriesField,\n    tooltip,\n    minColumnWidth,\n    maxColumnWidth,\n    columnBackground,\n    dodgePadding,\n    intervalPadding,\n  } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  //  interval \n  const { ext } = interval\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'interval',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...interval,\n            },\n            args: { dodgePadding, intervalPadding, minColumnWidth, maxColumnWidth, background: columnBackground },\n          },\n        })\n      )\n    : params;\n\n  return otherAdaptor({\n    ...params,\n    ext,\n  });\n}\n","import { Params } from '../../core/adaptor';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { geometry, MappingOptions, GeometryOptions } from './base';\n\nexport interface EdgeGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /** edge  */\n  readonly edge?: MappingOptions;\n}\n\n/**\n * edge \n * @param params\n */\nexport function edge<O extends EdgeGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { edge, xField, yField, seriesField, tooltip } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  return edge\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'edge',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...edge,\n            },\n          },\n        })\n      )\n    : params;\n}\n","import { Params } from '../../core/adaptor';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { geometry, MappingOptions, GeometryOptions } from './base';\n\nexport interface SchemaGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /** point  */\n  readonly schema?: MappingOptions;\n}\n\n/**\n * schema \n * @param params\n */\nexport function schema<O extends SchemaGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { schema, xField, yField, seriesField, tooltip } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  return schema\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'schema',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...schema,\n            },\n          },\n        })\n      )\n    : params;\n}\n","import { Params } from '../../core/adaptor';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { geometry, MappingOptions, GeometryOptions } from './base';\n\nexport interface ViolinGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y Y */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /** size  */\n  readonly sizeField?: string;\n  /** violin  */\n  readonly violin?: MappingOptions;\n}\n\n/**\n * violin \n * @param params\n */\nexport function violin<O extends ViolinGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { violin, xField, yField, seriesField, sizeField, tooltip } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField, sizeField]);\n\n  return violin\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'violin',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...violin,\n            },\n          },\n        })\n      )\n    : params;\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  tooltip: {\n    shared: true,\n    showMarkers: true,\n    showCrosshairs: true,\n    crosshairs: {\n      type: 'x',\n    },\n  },\n  legend: {\n    position: 'top-left',\n    radio: {},\n  },\n  isStack: false,\n});\n","import { registerAction, registerInteraction } from '@antv/g2';\nimport { MarkerActiveAction } from './marker-active';\n\nregisterAction('marker-active', MarkerActiveAction);\nregisterInteraction('marker-active', {\n  start: [\n    {\n      trigger: 'tooltip:show',\n      action: 'marker-active:active',\n    },\n  ],\n  end: [\n    {\n      trigger: 'tooltip:hide',\n      action: 'marker-active:reset',\n    },\n  ],\n});\n","import { each, findIndex } from '@antv/util';\nimport { InteractionAction, View, Geometry } from '@antv/g2';\n\nexport class MarkerActiveAction extends InteractionAction {\n  public active() {\n    const view = this.getView();\n    const evt = this.context.event;\n    if (evt.data) {\n      // items:  tooltip \n      const { items } = evt.data;\n      const points = view.geometries.filter((geom) => geom.type === 'point');\n      each(points, (point: Geometry) => {\n        each(point.elements, (element) => {\n          const active = findIndex(items, (item) => (item as any).data === element.data) !== -1;\n          element.setState('active', active);\n        });\n      });\n    }\n  }\n\n  public reset() {\n    const view = this.getView();\n    const points = view.geometries.filter((geom) => geom.type === 'point');\n    each(points, (point: Geometry) => {\n      each(point.elements, (element) => {\n        element.setState('active', false);\n      });\n    });\n  }\n\n  private getView(): View {\n    return this.context.view;\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  tooltip: {\n    shared: true,\n    showMarkers: true,\n    showCrosshairs: true,\n    crosshairs: {\n      type: 'x',\n    },\n  },\n  isStack: true,\n  // \n  line: {},\n  legend: {\n    position: 'top-left',\n    radio: {},\n  },\n});\n","import { map, find, each, isObject } from '@antv/util';\nimport { Coordinate, IGroup, ShapeAttrs, Element, Geometry, View, getTheme } from '@antv/g2';\nimport { Params } from '../core/adaptor';\nimport { deepAssign } from '../utils';\nimport { conversionTagFormatter } from '../utils/conversion';\nimport { Options } from '../types';\n\n/**  */\nexport interface ConversionTagOptions {\n  /** tag  */\n  size?: number;\n  /** tag  */\n  spacing?: number;\n  /** tag  */\n  offset?: number;\n  /**  */\n  arrow?:\n    | {\n        /**  */\n        headSize?: number;\n        /**  */\n        style?: ShapeAttrs;\n      }\n    | false;\n  /**  */\n  text?:\n    | {\n        /**  */\n        size?: number;\n        /**  */\n        style?: ShapeAttrs;\n        /**  */\n        formatter?: (prev: number, next: number) => string;\n      }\n    | false;\n}\n\nexport interface OptionWithConversionTag {\n  conversionTag?: ConversionTagOptions | false;\n}\n\n/**  */\ntype TagRenderConfig = {\n  /**  View */\n  view: View;\n  /**  geometry */\n  geometry: Geometry;\n  /**  group */\n  group: IGroup;\n  /**  */\n  options: ConversionTagOptions;\n  /**  */\n  field: string;\n  /** / */\n  horizontal: boolean;\n};\n\nfunction getConversionTagOptionsWithDefaults(options: ConversionTagOptions, horizontal: boolean): ConversionTagOptions {\n  return deepAssign(\n    {\n      size: horizontal ? 32 : 80,\n      spacing: horizontal ? 8 : 12,\n      offset: horizontal ? 32 : 0,\n      arrow: options.arrow !== false && {\n        headSize: 12,\n        style: {\n          fill: 'rgba(0, 0, 0, 0.05)',\n        },\n      },\n      text: options.text !== false && {\n        style: {\n          fontSize: 12,\n          fill: 'rgba(0, 0, 0, 0.85)',\n          textAlign: 'center',\n          textBaseline: 'middle',\n        },\n        formatter: conversionTagFormatter,\n      },\n    },\n    options\n  );\n}\n\nfunction parsePoints(coordinate: Coordinate, element: Element): { x: number; y: number }[] {\n  // @ts-ignore\n  return map(element.getModel().points, (point) => coordinate.convertPoint(point));\n}\n\nfunction renderArrowTag(config: TagRenderConfig, elemPrev: Element, elemNext: Element): void {\n  const { view, geometry, group, options, horizontal } = config;\n  const { offset, size, arrow } = options;\n  const coordinate = view.getCoordinate();\n  const pointPrev = parsePoints(coordinate, elemPrev)[3];\n  const pointNext = parsePoints(coordinate, elemNext)[0];\n  const totalHeight = pointNext.y - pointPrev.y;\n  const totalWidth = pointNext.x - pointPrev.x;\n\n  if (typeof arrow === 'boolean') {\n    return;\n  }\n  const { headSize } = arrow;\n  let spacing = options.spacing;\n  let points;\n\n  if (horizontal) {\n    if ((totalWidth - headSize) / 2 < spacing) {\n      // \n      spacing = Math.max(1, (totalWidth - headSize) / 2);\n      points = [\n        [pointPrev.x + spacing, pointPrev.y - offset],\n        [pointPrev.x + spacing, pointPrev.y - offset - size],\n        [pointNext.x - spacing, pointNext.y - offset - size / 2],\n      ];\n    } else {\n      // \n      points = [\n        [pointPrev.x + spacing, pointPrev.y - offset],\n        [pointPrev.x + spacing, pointPrev.y - offset - size],\n        [pointNext.x - spacing - headSize, pointNext.y - offset - size],\n        [pointNext.x - spacing, pointNext.y - offset - size / 2],\n        [pointNext.x - spacing - headSize, pointNext.y - offset],\n      ];\n    }\n  } else {\n    if ((totalHeight - headSize) / 2 < spacing) {\n      // \n      spacing = Math.max(1, (totalHeight - headSize) / 2);\n      points = [\n        [pointPrev.x + offset, pointPrev.y + spacing],\n        [pointPrev.x + offset + size, pointPrev.y + spacing],\n        [pointNext.x + offset + size / 2, pointNext.y - spacing],\n      ];\n    } else {\n      // \n      points = [\n        [pointPrev.x + offset, pointPrev.y + spacing],\n        [pointPrev.x + offset + size, pointPrev.y + spacing],\n        [pointNext.x + offset + size, pointNext.y - spacing - headSize],\n        [pointNext.x + offset + size / 2, pointNext.y - spacing],\n        [pointNext.x + offset, pointNext.y - spacing - headSize],\n      ];\n    }\n  }\n\n  group.addShape('polygon', {\n    id: `${view.id}-conversion-tag-arrow-${geometry.getElementId(elemPrev.getModel().mappingData)}`,\n    name: 'conversion-tag-arrow',\n    origin: {\n      element: elemPrev,\n      nextElement: elemNext,\n    },\n    attrs: {\n      ...(arrow.style || {}),\n      points,\n    },\n  });\n}\n\nfunction renderTextTag(config: TagRenderConfig, elemPrev: Element, elemNext: Element): void {\n  const { view, geometry, group, options, field, horizontal } = config;\n  const { offset, size } = options;\n  if (typeof options.text === 'boolean') {\n    return;\n  }\n  const coordinate = view.getCoordinate();\n  const text = options.text?.formatter && options.text?.formatter(elemPrev.getData()[field], elemNext.getData()[field]);\n\n  const pointPrev = parsePoints(coordinate, elemPrev)[horizontal ? 3 : 0];\n  const pointNext = parsePoints(coordinate, elemNext)[horizontal ? 0 : 3];\n\n  const textShape = group.addShape('text', {\n    id: `${view.id}-conversion-tag-text-${geometry.getElementId(elemPrev.getModel().mappingData)}`,\n    name: 'conversion-tag-text',\n    origin: {\n      element: elemPrev,\n      nextElement: elemNext,\n    },\n    attrs: {\n      ...(options.text?.style || {}),\n      text,\n      x: horizontal ? (pointPrev.x + pointNext.x) / 2 : pointPrev.x + offset + size / 2,\n      y: horizontal ? pointPrev.y - offset - size / 2 : (pointPrev.y + pointNext.y) / 2,\n    },\n  });\n\n  if (horizontal) {\n    const totalWidth = pointNext.x - pointPrev.x;\n    const { width: textWidth } = textShape.getBBox();\n    if (textWidth > totalWidth) {\n      const cWidth = textWidth / text.length;\n      const cEnd = Math.max(1, Math.ceil(totalWidth / cWidth) - 1);\n      const textAdjusted = `${text.slice(0, cEnd)}...`;\n      textShape.attr('text', textAdjusted);\n    }\n  }\n}\n\nfunction renderTag(options: TagRenderConfig, elemPrev: Element, elemNext: Element): void {\n  renderArrowTag(options, elemPrev, elemNext);\n  renderTextTag(options, elemPrev, elemNext);\n}\n\n/**\n *  adaptor/\n * @param field \n * @param horizontal \n * @param disabled \n */\nexport function conversionTag<O extends OptionWithConversionTag & Options>(\n  field: string,\n  horizontal = true,\n  disabled = false\n) {\n  return function (params: Params<O>): Params<O> {\n    const { options, chart } = params;\n    const { conversionTag, theme } = options;\n\n    if (conversionTag && !disabled) {\n      //  1/3\n      chart.theme(\n        deepAssign({}, isObject(theme) ? theme : getTheme(theme), {\n          columnWidthRatio: 1 / 3,\n        })\n      );\n      //   shape annotation \n      chart.annotation().shape({\n        render: (container, view) => {\n          const group = container.addGroup({\n            id: `${chart.id}-conversion-tag-group`,\n            name: 'conversion-tag-group',\n          });\n          const interval = find(chart.geometries, (geom: Geometry) => geom.type === 'interval');\n          const config: TagRenderConfig = {\n            view,\n            geometry: interval,\n            group,\n            field,\n            horizontal,\n            options: getConversionTagOptionsWithDefaults(conversionTag, horizontal),\n          };\n          const elements = interval.elements;\n          each(elements, (elem: Element, idx: number) => {\n            if (idx > 0) {\n              renderTag(config, elements[idx - 1], elem);\n            }\n          });\n        },\n      });\n    }\n\n    return params;\n  };\n}\n","import { registerInteraction, ShapeAttrs, Element } from '@antv/g2';\nimport { Params } from '../core/adaptor';\n\nexport interface ConnectedAreaOptions {\n  /** ,  hover */\n  trigger?: 'hover' | 'click';\n  /**  */\n  style?: ShapeAttrs | ((style: ShapeAttrs, element: Element) => ShapeAttrs);\n}\n\n/**  */\nexport interface OptionWithConnectedArea {\n  connectedArea?: ConnectedAreaOptions | false;\n}\n\nconst INTERACTION_MAP = {\n  hover: '__interval-connected-area-hover__',\n  click: '__interval-connected-area-click__',\n};\n\nconst getStartStages = (trigger: string, style?: ConnectedAreaOptions['style']) => {\n  if (trigger === 'hover') {\n    return [\n      {\n        trigger: `interval:mouseenter`,\n        action: ['element-highlight-by-color:highlight', 'element-link-by-color:link'],\n        arg: [null, { style }],\n      },\n    ];\n  }\n  return [\n    {\n      trigger: `interval:click`,\n      action: [\n        'element-highlight-by-color:clear',\n        'element-highlight-by-color:highlight',\n        'element-link-by-color:clear',\n        'element-link-by-color:unlink',\n        'element-link-by-color:link',\n      ],\n      arg: [null, null, null, null, { style }],\n    },\n  ];\n};\n\n/** hover  */\nregisterInteraction(INTERACTION_MAP.hover, {\n  start: getStartStages(INTERACTION_MAP.hover),\n  end: [\n    {\n      trigger: 'interval:mouseleave',\n      action: ['element-highlight-by-color:reset', 'element-link-by-color:unlink'],\n    },\n  ],\n});\n\n/** click  */\nregisterInteraction(INTERACTION_MAP.click, {\n  start: getStartStages(INTERACTION_MAP.click),\n  end: [\n    {\n      trigger: 'document:mousedown',\n      action: ['element-highlight-by-color:clear', 'element-link-by-color:clear'],\n    },\n  ],\n});\n\n/**\n *  adaptor/\n * @param disable\n */\nexport function connectedArea<O extends OptionWithConnectedArea>(disable = false) {\n  return function (params: Params<O>): Params<O> {\n    const { chart, options } = params;\n    const { connectedArea } = options;\n\n    const clear = () => {\n      chart.removeInteraction(INTERACTION_MAP.hover);\n      chart.removeInteraction(INTERACTION_MAP.click);\n    };\n\n    if (!disable && connectedArea) {\n      const trigger = connectedArea.trigger || 'hover';\n      clear();\n      chart.interaction(INTERACTION_MAP[trigger], {\n        start: getStartStages(trigger, connectedArea.style),\n      });\n    } else {\n      clear();\n    }\n\n    return params;\n  };\n}\n","import { Action, IGroup, Util } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { BBox, ButtonCfg } from '../../types';\nimport { deepAssign, normalPadding } from '../../utils';\n\nconst PADDING_RIGHT = 10;\nconst PADDING_TOP = 5;\n\n/**\n * Action  Button \n *\n * brush filter\n */\nexport const BUTTON_ACTION_CONFIG: ButtonCfg = {\n  padding: [8, 10],\n  text: 'reset',\n  textStyle: {\n    default: {\n      x: 0,\n      y: 0,\n      fontSize: 12,\n      fill: '#333333',\n      cursor: 'pointer',\n    },\n  },\n  buttonStyle: {\n    default: {\n      fill: '#f7f7f7',\n      stroke: '#cccccc',\n      cursor: 'pointer',\n    },\n    active: {\n      fill: '#e6e6e6',\n    },\n  },\n};\n\n/**\n * @override  G2 Button Action,  GUI\n */\nclass ButtonAction extends Action {\n  private buttonGroup: IGroup = null;\n  private buttonCfg = {\n    name: 'button',\n    ...BUTTON_ACTION_CONFIG,\n  };\n\n  /**\n   *  mix \n   */\n  private getButtonCfg(): ButtonCfg & { name: string } {\n    const { view } = this.context;\n    const buttonCfg: ButtonCfg = get(view, ['interactions', 'filter-action', 'cfg', 'buttonConfig']);\n\n    return deepAssign(this.buttonCfg, buttonCfg, this.cfg);\n  }\n\n  /**\n   *  Button  \n   */\n  private drawButton() {\n    const config = this.getButtonCfg();\n    const group = this.context.view.foregroundGroup.addGroup({\n      name: config.name,\n    });\n    const textShape = this.drawText(group);\n    this.drawBackground(group, textShape.getBBox());\n\n    this.buttonGroup = group;\n  }\n\n  /**\n   * \n   */\n  private drawText(group: IGroup) {\n    const config = this.getButtonCfg();\n    // \n    return group.addShape({\n      type: 'text',\n      name: 'button-text',\n      attrs: {\n        text: config.text,\n        ...config.textStyle?.default,\n      },\n    });\n  }\n\n  private drawBackground(group: IGroup, bbox: BBox) {\n    const config = this.getButtonCfg();\n    const padding = normalPadding(config.padding);\n    // \n    const buttonShape = group.addShape({\n      type: 'rect',\n      name: 'button-rect',\n      attrs: {\n        x: bbox.x - padding[3],\n        y: bbox.y - padding[0],\n        width: bbox.width + padding[1] + padding[3],\n        height: bbox.height + padding[0] + padding[2],\n        ...config.buttonStyle?.default,\n      },\n    });\n    buttonShape.toBack(); // \n\n    // active \n    group.on('mouseenter', () => {\n      buttonShape.attr(config.buttonStyle?.active);\n    });\n    group.on('mouseleave', () => {\n      buttonShape.attr(config.buttonStyle?.default);\n    });\n\n    return buttonShape;\n  }\n\n  // \n  private resetPosition() {\n    const view = this.context.view;\n    const coord = view.getCoordinate();\n    const point = coord.convert({ x: 1, y: 1 }); // \n    const buttonGroup = this.buttonGroup;\n    const bbox = buttonGroup.getBBox();\n    const matrix = Util.transform(null, [\n      ['t', point.x - bbox.width - PADDING_RIGHT, point.y + bbox.height + PADDING_TOP],\n    ]);\n    buttonGroup.setMatrix(matrix);\n  }\n\n  /**\n   * \n   */\n  public show() {\n    if (!this.buttonGroup) {\n      this.drawButton();\n    }\n    this.resetPosition();\n    this.buttonGroup.show();\n  }\n\n  /**\n   * \n   */\n  public hide() {\n    if (this.buttonGroup) {\n      this.buttonGroup.hide();\n    }\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    const buttonGroup = this.buttonGroup;\n    if (buttonGroup) {\n      buttonGroup.remove();\n    }\n    super.destroy();\n  }\n}\n\nexport { ButtonAction };\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  columnWidthRatio: 0.6,\n  marginRatio: 1 / 32,\n  tooltip: {\n    shared: true,\n    showMarkers: false,\n    offset: 20,\n  },\n  legend: {\n    radio: {},\n  },\n  interactions: [{ type: 'active-region' }],\n});\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  barWidthRatio: 0.6,\n  marginRatio: 1 / 32,\n  tooltip: {\n    shared: true,\n    showMarkers: false,\n    offset: 20,\n  },\n  legend: {\n    radio: {},\n  },\n  interactions: [{ type: 'active-region' }],\n});\n","import { IElement, IGroup } from '@antv/g-base';\nimport { Util, Element, Action } from '@antv/g2';\nimport { isEqual } from '@antv/util';\nimport { transform } from '../../../../utils/matrix';\n\n/**\n *   action\n */\nexport class PieLegendAction extends Action {\n  /**\n   * \n   */\n  private getActiveElements(): Element[] {\n    const delegateObject = Util.getDelegationObject(this.context);\n    if (delegateObject) {\n      const view = this.context.view;\n      const { component, item } = delegateObject;\n      const field = component.get('field');\n      if (field) {\n        const elements = view.geometries[0].elements;\n        return elements.filter((ele) => ele.getModel().data[field] === item.value);\n      }\n    }\n    return [];\n  }\n\n  /**\n   * \n   */\n  private getActiveElementLabels(): (IElement | IGroup)[] {\n    const view = this.context.view;\n    const elements = this.getActiveElements();\n    const labels = view.geometries[0].labelsContainer.getChildren();\n    return labels.filter((label) => elements.find((ele) => isEqual(ele.getData(), label.get('data'))));\n  }\n\n  protected transfrom(offset: number = 7.5) {\n    const elements = this.getActiveElements();\n    const elementLabels = this.getActiveElementLabels();\n    elements.forEach((element, idx) => {\n      const labelShape = elementLabels[idx];\n      const coordinate = element.geometry.coordinate;\n      if (coordinate.isPolar && coordinate.isTransposed) {\n        const { startAngle, endAngle } = Util.getAngle(element.getModel(), coordinate);\n        const middleAngle = (startAngle + endAngle) / 2;\n        const r = offset;\n        const x = r * Math.cos(middleAngle);\n        const y = r * Math.sin(middleAngle);\n        element.shape.setMatrix(transform([['t', x, y]]));\n        labelShape.setMatrix(transform([['t', x, y]]));\n      }\n    });\n  }\n\n  public active() {\n    this.transfrom();\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.transfrom(0);\n  }\n}\n","import { View, Action, Util, Types } from '@antv/g2';\nimport { each, get } from '@antv/util';\nimport { Annotation } from '../../../../types/annotation';\nimport { renderStatistic } from '../../../../utils/statistic';\nimport { PieOptions } from '../../types';\nimport { getCurrentElement } from '../util';\n\n/**\n * Pie  Action\n */\nexport class StatisticAction extends Action {\n  private initialAnnotation;\n\n  private getAnnotations(_view?: View): object[] {\n    const view = _view || this.context.view;\n    // @ts-ignore\n    return view.getController('annotation').option;\n  }\n\n  private getInitialAnnotation(): Types.ComponentOption[] | null {\n    return this.initialAnnotation;\n  }\n\n  init() {\n    const { view } = this.context;\n    view.removeInteraction('tooltip');\n\n    view.on('afterchangesize', () => {\n      const annotations = this.getAnnotations(view);\n      this.initialAnnotation = annotations;\n    });\n  }\n\n  public change(arg?: Pick<PieOptions, 'annotations' | 'statistic'>) {\n    const { view, event } = this.context;\n    if (!this.initialAnnotation) {\n      this.initialAnnotation = this.getAnnotations();\n    }\n\n    let data = get(event, ['data', 'data']);\n    if (event.type.match('legend-item')) {\n      const delegateObject = Util.getDelegationObject(this.context);\n      // @ts-ignore\n      const colorField = view.getGroupedFields()[0];\n      if (delegateObject && colorField) {\n        const { item } = delegateObject;\n        data = view.getData().find((d) => d[colorField] === item.value);\n      }\n    }\n\n    if (data) {\n      const annotations = get(arg, 'annotations', []);\n      const statistic = get(arg, 'statistic', {});\n      // \n      view.getController('annotation').clear(true);\n      //  annotations\n      each(annotations, (annotation: Annotation) => {\n        if (typeof annotation === 'object') {\n          view.annotation()[annotation.type](annotation);\n        }\n      });\n      renderStatistic(view, { statistic, plotType: 'pie' }, data);\n      view.render(true);\n    }\n\n    //  shape \n    const ele = getCurrentElement(this.context);\n    if (ele) {\n      ele.shape.toFront();\n    }\n  }\n\n  public reset() {\n    const { view } = this.context;\n    const annotationController = view.getController('annotation');\n    annotationController.clear(true);\n    const initialStatistic = this.getInitialAnnotation();\n    each(initialStatistic, (a) => {\n      view.annotation()[a.type](a);\n    });\n    view.render(true);\n  }\n}\n","import { Element } from '@antv/g2';\n\n/**\n * \n * @param context \n * @ignore\n */\nexport function getCurrentElement(context): Element | undefined {\n  const event = context.event;\n  let element;\n  const target = event.target;\n  if (target) {\n    element = target.get('element');\n  }\n  return element;\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { RoseOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\n\nexport type { RoseOptions };\n\nexport class Rose extends Plot<RoseOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<RoseOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'rose';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    this.updateOption({ data });\n    this.chart.changeData(data);\n  }\n\n  /**\n   *  options \n   */\n  protected getDefaultOptions(): Partial<RoseOptions> {\n    return Rose.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<RoseOptions> {\n    return adaptor;\n  }\n}\n","import { filter, isObject, isArray } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { flow, findGeometry, log, LEVEL, transformLabel, deepAssign } from '../../utils';\nimport { tooltip, interaction, animation, theme, scale, annotation, state, pattern } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { RoseOptions } from './types';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { chart, options } = params;\n  const { data, sectorStyle, color } = options;\n\n  // \n  chart.data(data);\n\n  flow(interval)(\n    deepAssign({}, params, {\n      options: {\n        marginRatio: 1,\n        interval: {\n          style: sectorStyle,\n          color,\n        },\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { chart, options } = params;\n  const { label, xField } = options;\n  const geometry = findGeometry(chart, 'interval');\n\n  // label  false  label\n  if (label === false) {\n    geometry.label(false);\n  } else if (isObject(label)) {\n    const { callback, fields, ...cfg } = label;\n    const { offset } = cfg;\n    let layout = cfg.layout;\n\n    //  label  shape  'limit-in-shape' \n    //  label \n    if (offset === undefined || offset >= 0) {\n      layout = layout ? (isArray(layout) ? layout : [layout]) : [];\n      cfg.layout = filter(layout, (v) => v.type !== 'limit-in-shape');\n      cfg.layout.length || delete cfg.layout;\n    }\n\n    geometry.label({\n      fields: fields || [xField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  } else {\n    log(LEVEL.WARN, label === null, 'the label option must be an Object.');\n    geometry.label({ fields: [xField] });\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { chart, options } = params;\n  const { legend, seriesField } = options;\n\n  if (legend === false) {\n    chart.legend(false);\n  } else if (seriesField) {\n    chart.legend(seriesField, legend);\n  }\n\n  return params;\n}\n\n/**\n * coord \n * @param params\n */\nfunction coordinate(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { chart, options } = params;\n  const { radius, innerRadius, startAngle, endAngle } = options;\n\n  chart.coordinate({\n    type: 'polar',\n    cfg: {\n      radius,\n      innerRadius,\n      startAngle,\n      endAngle,\n    },\n  });\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  return flow(\n    scale({\n      [xField]: xAxis,\n      [yField]: yAxis,\n    })\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  //  falsy \n  if (!xAxis) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (!yAxis) {\n    chart.axis(yField, false);\n  } else {\n    chart.axis(yField, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<RoseOptions>) {\n  // flow  G2 API\n  flow(\n    pattern('sectorStyle'),\n    geometry,\n    meta,\n    label,\n    coordinate,\n    axis,\n    legend,\n    tooltip,\n    interaction,\n    animation,\n    theme,\n    annotation(),\n    state\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  xAxis: false,\n  yAxis: false,\n  legend: {\n    position: 'right',\n    radio: {},\n  },\n  sectorStyle: {\n    stroke: '#fff',\n    lineWidth: 1,\n  },\n  label: {\n    layout: {\n      type: 'limit-in-shape',\n    },\n  },\n  tooltip: {\n    shared: true,\n    showMarkers: false,\n  },\n  interactions: [{ type: 'active-region' }],\n});\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { WordCloudOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { processImageMask, transform } from './utils';\n// shape\nimport './shapes/word-cloud';\n\nexport type { WordCloudOptions };\n\nexport class WordCloud extends Plot<WordCloudOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<WordCloudOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'word-cloud';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    this.updateOption({ data });\n    if (this.options.imageMask) {\n      this.render();\n    } else {\n      this.chart.changeData(transform({ chart: this.chart, options: this.options }));\n    }\n  }\n\n  /**\n   *  options \n   */\n  protected getDefaultOptions(): Partial<WordCloudOptions> {\n    return WordCloud.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  public render() {\n    return new Promise<void>((res) => {\n      const { imageMask } = this.options;\n\n      if (!imageMask) {\n        // \n        super.render();\n        res();\n        return;\n      }\n\n      const handler = (img: HTMLImageElement) => {\n        this.options = {\n          ...this.options,\n          imageMask: img || null,\n        };\n\n        // \n        super.render();\n        res();\n      };\n\n      processImageMask(imageMask).then(handler).catch(handler);\n    });\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<WordCloudOptions> {\n    return adaptor;\n  }\n\n  /**\n   *   \n   */\n  protected triggerResize() {\n    if (!this.chart.destroyed) {\n      // \n      //  adaptor\n      // \n      this.execAdaptor();\n\n      // \n      // TODO: \n      window.setTimeout(() => {\n        // \n        super.triggerResize();\n      });\n    }\n  }\n}\n","import { isFunction, get } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { tooltip, interaction, animation, theme, scale, state } from '../../adaptor/common';\nimport { flow, deepAssign } from '../../utils';\nimport { point } from '../../adaptor/geometries';\nimport { WordCloudOptions } from './types';\nimport { transform } from './utils';\nimport { WORD_CLOUD_COLOR_FIELD } from './constant';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<WordCloudOptions>): Params<WordCloudOptions> {\n  const { chart, options } = params;\n  const { colorField, color } = options;\n  const data = transform(params);\n\n  chart.data(data);\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: 'x',\n      yField: 'y',\n      seriesField: colorField && WORD_CLOUD_COLOR_FIELD,\n      rawFields: isFunction(color) && [...get(options, 'rawFields', []), 'datum'],\n      point: {\n        color,\n        shape: 'word-cloud',\n      },\n    },\n  });\n\n  const { ext } = point(p);\n  ext.geometry.label(false);\n\n  chart.coordinate().reflect('y');\n  chart.axis(false);\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<WordCloudOptions>): Params<WordCloudOptions> {\n  return flow(\n    scale({\n      x: { nice: false },\n      y: { nice: false },\n    })\n  )(params);\n}\n\n/**\n *  legend \n * @param params\n */\nexport function legend(params: Params<WordCloudOptions>): Params<WordCloudOptions> {\n  const { chart, options } = params;\n  const { legend, colorField } = options;\n\n  if (legend === false) {\n    chart.legend(false);\n  } else if (colorField) {\n    chart.legend(WORD_CLOUD_COLOR_FIELD, legend);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<WordCloudOptions>) {\n  // flow  G2 API\n  flow(geometry, meta, tooltip, legend, interaction, animation, theme, state)(params);\n}\n","import { isNil, isFunction, assign } from '@antv/util';\r\nimport { Tag, Word } from '../../plots/word-cloud/types';\r\n\r\ntype FontWeight = number | 'normal' | 'bold' | 'bolder' | 'lighter';\r\n\r\nexport interface Options {\r\n  size: [number, number];\r\n  font?: string | ((row: Word, index?: number, words?: Word[]) => string);\r\n  fontSize?: number | ((row: Word, index?: number, words?: Word[]) => number);\r\n  fontWeight?: FontWeight | ((row: Word, index?: number, words?: Word[]) => FontWeight);\r\n  rotate?: number | ((row: Word, index?: number, words?: Word[]) => number);\r\n  padding?: number | ((row: Word, index?: number, words?: Word[]) => number);\r\n  spiral?: 'archimedean' | 'rectangular' | ((size: [number, number]) => (t: number) => number[]);\r\n  random?: number | (() => number);\r\n  timeInterval?: number;\r\n  imageMask?: HTMLImageElement;\r\n}\r\n\r\nconst DEFAULT_OPTIONS: Options = {\r\n  font: () => 'serif',\r\n  padding: 1,\r\n  size: [500, 500],\r\n  spiral: 'archimedean', // 'archimedean' || 'rectangular' || {function}\r\n  // timeInterval: Infinity // max execute time\r\n  timeInterval: 3000, // max execute time\r\n  // imageMask: '', // instance of Image, must be loaded\r\n};\r\n\r\n/**\r\n * \r\n * \r\n * \r\n * @param words\r\n * @param options\r\n */\r\nexport function wordCloud(words: Word[], options?: Partial<Options>): Tag[] {\r\n  // \r\n  options = assign({} as Options, DEFAULT_OPTIONS, options);\r\n  return transform(words, options as Options);\r\n}\r\n\r\n/**\r\n * \r\n * @param words\r\n * @param options\r\n */\r\nexport function transform(words: Word[], options: Options) {\r\n  // \r\n  const layout = tagCloud();\r\n  ['font', 'fontSize', 'fontWeight', 'padding', 'rotate', 'size', 'spiral', 'timeInterval', 'random'].forEach(\r\n    (key: string) => {\r\n      if (!isNil(options[key])) {\r\n        layout[key](options[key]);\r\n      }\r\n    }\r\n  );\r\n\r\n  layout.words(words);\r\n  if (options.imageMask) {\r\n    layout.createMask(options.imageMask);\r\n  }\r\n\r\n  const result = layout.start();\r\n  const tags: any[] = result._tags;\r\n\r\n  tags.forEach((tag) => {\r\n    tag.x += options.size[0] / 2;\r\n    tag.y += options.size[1] / 2;\r\n  });\r\n\r\n  const [w, h] = options.size;\r\n  // \r\n  // \r\n  // \r\n  // \r\n  tags.push({\r\n    text: '',\r\n    value: 0,\r\n    x: 0,\r\n    y: 0,\r\n    opacity: 0,\r\n  });\r\n  tags.push({\r\n    text: '',\r\n    value: 0,\r\n    x: w,\r\n    y: h,\r\n    opacity: 0,\r\n  });\r\n\r\n  return tags;\r\n}\r\n\r\n/*\r\n * Synchronous version of d3-cloud\r\n */\r\n// Word cloud layout by Jason Davies, https://www.jasondavies.com/wordcloud/\r\n// Algorithm due to Jonathan Feinberg, http://static.mrfeinberg.com/bv_ch03.pdf\r\n/* eslint-disable no-return-assign, no-cond-assign */\r\n\r\ninterface Item {\r\n  value: number;\r\n  text: string;\r\n  sprite: boolean;\r\n}\r\n\r\nconst cloudRadians = Math.PI / 180,\r\n  cw = (1 << 11) >> 5,\r\n  ch = 1 << 11;\r\n\r\nfunction cloudText(d: Item) {\r\n  return d.text;\r\n}\r\n\r\nfunction cloudFont() {\r\n  return 'serif';\r\n}\r\n\r\nfunction cloudFontNormal() {\r\n  return 'normal';\r\n}\r\n\r\nfunction cloudFontSize(d: Item) {\r\n  return d.value;\r\n}\r\n\r\nfunction cloudRotate() {\r\n  return ~~(Math.random() * 2) * 90;\r\n}\r\n\r\nfunction cloudPadding() {\r\n  return 1;\r\n}\r\n\r\n// Fetches a monochrome sprite bitmap for the specified text.\r\n// Load in batches for speed.\r\nfunction cloudSprite(contextAndRatio, d, data, di) {\r\n  if (d.sprite) return;\r\n  const c = contextAndRatio.context,\r\n    ratio = contextAndRatio.ratio;\r\n\r\n  c.clearRect(0, 0, (cw << 5) / ratio, ch / ratio);\r\n  let x = 0,\r\n    y = 0,\r\n    maxh = 0;\r\n  const n = data.length;\r\n  --di;\r\n  while (++di < n) {\r\n    d = data[di];\r\n    c.save();\r\n    c.font = d.style + ' ' + d.weight + ' ' + ~~((d.size + 1) / ratio) + 'px ' + d.font;\r\n    let w = c.measureText(d.text + 'm').width * ratio,\r\n      h = d.size << 1;\r\n    if (d.rotate) {\r\n      const sr = Math.sin(d.rotate * cloudRadians),\r\n        cr = Math.cos(d.rotate * cloudRadians),\r\n        wcr = w * cr,\r\n        wsr = w * sr,\r\n        hcr = h * cr,\r\n        hsr = h * sr;\r\n      w = ((Math.max(Math.abs(wcr + hsr), Math.abs(wcr - hsr)) + 0x1f) >> 5) << 5;\r\n      h = ~~Math.max(Math.abs(wsr + hcr), Math.abs(wsr - hcr));\r\n    } else {\r\n      w = ((w + 0x1f) >> 5) << 5;\r\n    }\r\n    if (h > maxh) maxh = h;\r\n    if (x + w >= cw << 5) {\r\n      x = 0;\r\n      y += maxh;\r\n      maxh = 0;\r\n    }\r\n    if (y + h >= ch) break;\r\n    c.translate((x + (w >> 1)) / ratio, (y + (h >> 1)) / ratio);\r\n    if (d.rotate) c.rotate(d.rotate * cloudRadians);\r\n    c.fillText(d.text, 0, 0);\r\n    if (d.padding) {\r\n      c.lineWidth = 2 * d.padding;\r\n      c.strokeText(d.text, 0, 0);\r\n    }\r\n    c.restore();\r\n    d.width = w;\r\n    d.height = h;\r\n    d.xoff = x;\r\n    d.yoff = y;\r\n    d.x1 = w >> 1;\r\n    d.y1 = h >> 1;\r\n    d.x0 = -d.x1;\r\n    d.y0 = -d.y1;\r\n    d.hasText = true;\r\n    x += w;\r\n  }\r\n  const pixels = c.getImageData(0, 0, (cw << 5) / ratio, ch / ratio).data,\r\n    sprite = [];\r\n  while (--di >= 0) {\r\n    d = data[di];\r\n    if (!d.hasText) continue;\r\n    const w = d.width,\r\n      w32 = w >> 5;\r\n    let h = d.y1 - d.y0;\r\n    // Zero the buffer\r\n    for (let i = 0; i < h * w32; i++) sprite[i] = 0;\r\n    x = d.xoff;\r\n    if (x == null) return;\r\n    y = d.yoff;\r\n    let seen = 0,\r\n      seenRow = -1;\r\n    for (let j = 0; j < h; j++) {\r\n      for (let i = 0; i < w; i++) {\r\n        const k = w32 * j + (i >> 5),\r\n          m = pixels[((y + j) * (cw << 5) + (x + i)) << 2] ? 1 << (31 - (i % 32)) : 0;\r\n        sprite[k] |= m;\r\n        seen |= m;\r\n      }\r\n      if (seen) seenRow = j;\r\n      else {\r\n        d.y0++;\r\n        h--;\r\n        j--;\r\n        y++;\r\n      }\r\n    }\r\n    d.y1 = d.y0 + seenRow;\r\n    d.sprite = sprite.slice(0, (d.y1 - d.y0) * w32);\r\n  }\r\n}\r\n\r\n// Use mask-based collision detection.\r\nfunction cloudCollide(tag, board, sw) {\r\n  sw >>= 5;\r\n  const sprite = tag.sprite,\r\n    w = tag.width >> 5,\r\n    lx = tag.x - (w << 4),\r\n    sx = lx & 0x7f,\r\n    msx = 32 - sx,\r\n    h = tag.y1 - tag.y0;\r\n  let x = (tag.y + tag.y0) * sw + (lx >> 5),\r\n    last;\r\n  for (let j = 0; j < h; j++) {\r\n    last = 0;\r\n    for (let i = 0; i <= w; i++) {\r\n      if (((last << msx) | (i < w ? (last = sprite[j * w + i]) >>> sx : 0)) & board[x + i]) return true;\r\n    }\r\n    x += sw;\r\n  }\r\n  return false;\r\n}\r\n\r\nfunction cloudBounds(bounds, d) {\r\n  const b0 = bounds[0],\r\n    b1 = bounds[1];\r\n  if (d.x + d.x0 < b0.x) b0.x = d.x + d.x0;\r\n  if (d.y + d.y0 < b0.y) b0.y = d.y + d.y0;\r\n  if (d.x + d.x1 > b1.x) b1.x = d.x + d.x1;\r\n  if (d.y + d.y1 > b1.y) b1.y = d.y + d.y1;\r\n}\r\n\r\nfunction collideRects(a, b) {\r\n  return a.x + a.x1 > b[0].x && a.x + a.x0 < b[1].x && a.y + a.y1 > b[0].y && a.y + a.y0 < b[1].y;\r\n}\r\n\r\nfunction archimedeanSpiral(size) {\r\n  const e = size[0] / size[1];\r\n  return function (t) {\r\n    return [e * (t *= 0.1) * Math.cos(t), t * Math.sin(t)];\r\n  };\r\n}\r\n\r\nfunction rectangularSpiral(size) {\r\n  const dy = 4,\r\n    dx = (dy * size[0]) / size[1];\r\n  let x = 0,\r\n    y = 0;\r\n  return function (t) {\r\n    const sign = t < 0 ? -1 : 1;\r\n    // See triangular numbers: T_n = n * (n + 1) / 2.\r\n    switch ((Math.sqrt(1 + 4 * sign * t) - sign) & 3) {\r\n      case 0:\r\n        x += dx;\r\n        break;\r\n      case 1:\r\n        y += dy;\r\n        break;\r\n      case 2:\r\n        x -= dx;\r\n        break;\r\n      default:\r\n        y -= dy;\r\n        break;\r\n    }\r\n    return [x, y];\r\n  };\r\n}\r\n\r\n// TODO reuse arrays?\r\nfunction zeroArray(n) {\r\n  const a = [];\r\n  let i = -1;\r\n  while (++i < n) a[i] = 0;\r\n  return a;\r\n}\r\n\r\nfunction cloudCanvas() {\r\n  return document.createElement('canvas');\r\n}\r\n\r\nexport function functor(d) {\r\n  return isFunction(d)\r\n    ? d\r\n    : function () {\r\n        return d;\r\n      };\r\n}\r\n\r\nconst spirals = {\r\n  archimedean: archimedeanSpiral,\r\n  rectangular: rectangularSpiral,\r\n};\r\n\r\nfunction tagCloud() {\r\n  let size = [256, 256],\r\n    font = cloudFont,\r\n    fontSize = cloudFontSize,\r\n    fontWeight = cloudFontNormal,\r\n    rotate = cloudRotate,\r\n    padding = cloudPadding,\r\n    spiral = archimedeanSpiral,\r\n    random = Math.random,\r\n    words = [],\r\n    timeInterval = Infinity;\r\n\r\n  const text = cloudText;\r\n  const fontStyle = cloudFontNormal;\r\n  const canvas = cloudCanvas;\r\n  const cloud: any = {};\r\n\r\n  cloud.start = function () {\r\n    const [width, height] = size;\r\n    const contextAndRatio = getContext(canvas()),\r\n      board = cloud.board ? cloud.board : zeroArray((size[0] >> 5) * size[1]),\r\n      n = words.length,\r\n      tags = [],\r\n      data = words\r\n        .map(function (d, i, data) {\r\n          d.text = text.call(this, d, i, data);\r\n          d.font = font.call(this, d, i, data);\r\n          d.style = fontStyle.call(this, d, i, data);\r\n          d.weight = fontWeight.call(this, d, i, data);\r\n          d.rotate = rotate.call(this, d, i, data);\r\n          d.size = ~~fontSize.call(this, d, i, data);\r\n          d.padding = padding.call(this, d, i, data);\r\n          return d;\r\n        })\r\n        .sort(function (a, b) {\r\n          return b.size - a.size;\r\n        });\r\n    let i = -1,\r\n      bounds = !cloud.board\r\n        ? null\r\n        : [\r\n            {\r\n              x: 0,\r\n              y: 0,\r\n            },\r\n            {\r\n              x: width,\r\n              y: height,\r\n            },\r\n          ];\r\n\r\n    step();\r\n\r\n    function step() {\r\n      const start = Date.now();\r\n      while (Date.now() - start < timeInterval && ++i < n) {\r\n        const d = data[i];\r\n        d.x = (width * (random() + 0.5)) >> 1;\r\n        d.y = (height * (random() + 0.5)) >> 1;\r\n        cloudSprite(contextAndRatio, d, data, i);\r\n        if (d.hasText && place(board, d, bounds)) {\r\n          tags.push(d);\r\n          if (bounds) {\r\n            if (!cloud.hasImage) {\r\n              // update bounds if image mask not set\r\n              cloudBounds(bounds, d);\r\n            }\r\n          } else {\r\n            bounds = [\r\n              { x: d.x + d.x0, y: d.y + d.y0 },\r\n              { x: d.x + d.x1, y: d.y + d.y1 },\r\n            ];\r\n          }\r\n          // Temporary hack\r\n          d.x -= size[0] >> 1;\r\n          d.y -= size[1] >> 1;\r\n        }\r\n      }\r\n      cloud._tags = tags;\r\n      cloud._bounds = bounds;\r\n    }\r\n\r\n    return cloud;\r\n  };\r\n\r\n  function getContext(canvas: HTMLCanvasElement) {\r\n    canvas.width = canvas.height = 1;\r\n    const ratio = Math.sqrt(canvas.getContext('2d')!.getImageData(0, 0, 1, 1).data.length >> 2);\r\n    canvas.width = (cw << 5) / ratio;\r\n    canvas.height = ch / ratio;\r\n\r\n    const context = canvas.getContext('2d') as CanvasRenderingContext2D;\r\n    context.fillStyle = context.strokeStyle = 'red';\r\n    context.textAlign = 'center';\r\n    return { context, ratio };\r\n  }\r\n\r\n  function place(board, tag, bounds) {\r\n    // const perimeter = [{ x: 0, y: 0 }, { x: size[0], y: size[1] }],\r\n    const startX = tag.x,\r\n      startY = tag.y,\r\n      maxDelta = Math.sqrt(size[0] * size[0] + size[1] * size[1]),\r\n      s = spiral(size),\r\n      dt = random() < 0.5 ? 1 : -1;\r\n    let dxdy,\r\n      t = -dt,\r\n      dx,\r\n      dy;\r\n\r\n    while ((dxdy = s((t += dt)))) {\r\n      dx = ~~dxdy[0];\r\n      dy = ~~dxdy[1];\r\n\r\n      if (Math.min(Math.abs(dx), Math.abs(dy)) >= maxDelta) break;\r\n\r\n      tag.x = startX + dx;\r\n      tag.y = startY + dy;\r\n\r\n      if (tag.x + tag.x0 < 0 || tag.y + tag.y0 < 0 || tag.x + tag.x1 > size[0] || tag.y + tag.y1 > size[1]) continue;\r\n      // TODO only check for collisions within current bounds.\r\n      if (!bounds || !cloudCollide(tag, board, size[0])) {\r\n        if (!bounds || collideRects(tag, bounds)) {\r\n          const sprite = tag.sprite,\r\n            w = tag.width >> 5,\r\n            sw = size[0] >> 5,\r\n            lx = tag.x - (w << 4),\r\n            sx = lx & 0x7f,\r\n            msx = 32 - sx,\r\n            h = tag.y1 - tag.y0;\r\n          let last,\r\n            x = (tag.y + tag.y0) * sw + (lx >> 5);\r\n          for (let j = 0; j < h; j++) {\r\n            last = 0;\r\n            for (let i = 0; i <= w; i++) {\r\n              board[x + i] |= (last << msx) | (i < w ? (last = sprite[j * w + i]) >>> sx : 0);\r\n            }\r\n            x += sw;\r\n          }\r\n          delete tag.sprite;\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  cloud.createMask = (img: HTMLImageElement) => {\r\n    const can: HTMLCanvasElement = document.createElement('canvas');\r\n    const [width, height] = size;\r\n\r\n    //  width  height  0  cxt.getImageData \r\n    if (!width || !height) {\r\n      return;\r\n    }\r\n    const w32 = width >> 5;\r\n    const board = zeroArray((width >> 5) * height);\r\n    can.width = width;\r\n    can.height = height;\r\n    const cxt = can.getContext('2d') as CanvasRenderingContext2D;\r\n    cxt.drawImage(img, 0, 0, img.width, img.height, 0, 0, width, height);\r\n    const imageData = cxt.getImageData(0, 0, width, height).data;\r\n    for (let j = 0; j < height; j++) {\r\n      for (let i = 0; i < width; i++) {\r\n        const k = w32 * j + (i >> 5);\r\n        const tmp = (j * width + i) << 2;\r\n        const flag = imageData[tmp] >= 250 && imageData[tmp + 1] >= 250 && imageData[tmp + 2] >= 250;\r\n        const m = flag ? 1 << (31 - (i % 32)) : 0;\r\n        board[k] |= m;\r\n      }\r\n    }\r\n    cloud.board = board;\r\n    cloud.hasImage = true;\r\n  };\r\n\r\n  cloud.timeInterval = function (_) {\r\n    timeInterval = _ == null ? Infinity : _;\r\n  };\r\n\r\n  cloud.words = function (_) {\r\n    words = _;\r\n  };\r\n\r\n  cloud.size = function (_) {\r\n    size = [+_[0], +_[1]];\r\n  };\r\n\r\n  cloud.font = function (_) {\r\n    font = functor(_);\r\n  };\r\n\r\n  cloud.fontWeight = function (_) {\r\n    fontWeight = functor(_);\r\n  };\r\n\r\n  cloud.rotate = function (_) {\r\n    rotate = functor(_);\r\n  };\r\n\r\n  cloud.spiral = function (_) {\r\n    spiral = spirals[_] || _;\r\n  };\r\n\r\n  cloud.fontSize = function (_) {\r\n    fontSize = functor(_);\r\n  };\r\n\r\n  cloud.padding = function (_) {\r\n    padding = functor(_);\r\n  };\r\n\r\n  cloud.random = function (_) {\r\n    random = functor(_);\r\n  };\r\n\r\n  return cloud;\r\n}\r\n","import { registerShape, Util, Types, IGroup, ShapeAttrs } from '@antv/g2';\nimport { Tag } from '../types';\n\ntype Config = Types.ShapeInfo & { data: Tag };\n\nregisterShape('point', 'word-cloud', {\n  draw(cfg: Config, group: IGroup) {\n    const cx = cfg.x as number;\n    const cy = cfg.y as number;\n\n    const shape = group.addShape('text', {\n      attrs: {\n        ...getTextAttrs(cfg),\n        x: cx,\n        y: cy,\n      },\n    });\n    const rotate = cfg.data.rotate;\n    if (typeof rotate === 'number') {\n      Util.rotate(shape, (rotate * Math.PI) / 180);\n    }\n\n    return shape;\n  },\n});\n\nfunction getTextAttrs(cfg: Config): ShapeAttrs {\n  return {\n    fontSize: cfg.data.size,\n    text: cfg.data.text,\n    textAlign: 'center',\n    fontFamily: cfg.data.font,\n    fontWeight: cfg.data.weight,\n    fill: cfg.color || cfg.defaultStyle.stroke,\n    textBaseline: 'alphabetic',\n  };\n}\n","import {\n  regressionLinear,\n  regressionExp,\n  regressionLoess,\n  regressionLog,\n  regressionPoly,\n  regressionPow,\n  regressionQuad,\n} from 'd3-regression';\nimport { isArray, get, isNumber } from '@antv/util';\nimport { View } from '@antv/g2';\nimport { getSplinePath } from '../../utils';\nimport { ScatterOptions } from './types';\n\nconst REGRESSION_MAP = {\n  exp: regressionExp,\n  linear: regressionLinear,\n  loess: regressionLoess,\n  log: regressionLog,\n  poly: regressionPoly,\n  pow: regressionPow,\n  quad: regressionQuad,\n};\n\ntype RenderOptions = {\n  view: View;\n  options: ScatterOptions;\n};\n\n/**\n * \n * @param {number} xBaseline\n * @param {number} yBaseline\n */\nexport function getQuadrantDefaultConfig(xBaseline: number, yBaseline: number) {\n  // \n  const textOffset = 10;\n  // \n  const defaultConfig: { [key: string]: any } = {\n    regionStyle: [\n      {\n        position: {\n          start: [xBaseline, 'max'],\n          end: ['max', yBaseline],\n        },\n        style: {\n          fill: '#d8d0c0',\n          opacity: 0.4,\n        },\n      },\n      {\n        position: {\n          start: ['min', 'max'],\n          end: [xBaseline, yBaseline],\n        },\n        style: {\n          fill: '#a3dda1',\n          opacity: 0.4,\n        },\n      },\n      {\n        position: {\n          start: ['min', yBaseline],\n          end: [xBaseline, 'min'],\n        },\n        style: {\n          fill: '#d8d0c0',\n          opacity: 0.4,\n        },\n      },\n      {\n        position: {\n          start: [xBaseline, yBaseline],\n          end: ['max', 'min'],\n        },\n        style: {\n          fill: '#a3dda1',\n          opacity: 0.4,\n        },\n      },\n    ],\n    lineStyle: {\n      stroke: '#9ba29a',\n      lineWidth: 1,\n    },\n    labelStyle: [\n      {\n        position: ['max', yBaseline],\n        offsetX: -textOffset,\n        offsetY: -textOffset,\n        style: {\n          textAlign: 'right',\n          textBaseline: 'bottom',\n          fontSize: 14,\n          fill: '#ccc',\n        },\n      },\n      {\n        position: ['min', yBaseline],\n        offsetX: textOffset,\n        offsetY: -textOffset,\n        style: {\n          textAlign: 'left',\n          textBaseline: 'bottom',\n          fontSize: 14,\n          fill: '#ccc',\n        },\n      },\n      {\n        position: ['min', yBaseline],\n        offsetX: textOffset,\n        offsetY: textOffset,\n        style: {\n          textAlign: 'left',\n          textBaseline: 'top',\n          fontSize: 14,\n          fill: '#ccc',\n        },\n      },\n      {\n        position: ['max', yBaseline],\n        offsetX: -textOffset,\n        offsetY: textOffset,\n        style: {\n          textAlign: 'right',\n          textBaseline: 'top',\n          fontSize: 14,\n          fill: '#ccc',\n        },\n      },\n    ],\n  };\n  return defaultConfig;\n}\n\nconst splinePath = (data: number[][], config: RenderOptions) => {\n  const {\n    view,\n    options: { xField, yField },\n  } = config;\n  const xScaleView = view.getScaleByField(xField);\n  const yScaleView = view.getScaleByField(yField);\n  const pathData = data.map((d: [number, number]) =>\n    view.getCoordinate().convert({ x: xScaleView.scale(d[0]), y: yScaleView.scale(d[1]) })\n  );\n  return getSplinePath(pathData, false);\n};\n\nexport const getPath = (config: RenderOptions) => {\n  const { options } = config;\n  const { xField, yField, data, regressionLine } = options;\n  const { type = 'linear', algorithm } = regressionLine;\n  let pathData: Array<[number, number]>;\n  if (algorithm) {\n    pathData = isArray(algorithm) ? algorithm : algorithm(data);\n  } else {\n    const reg = REGRESSION_MAP[type]()\n      .x((d) => d[xField])\n      .y((d) => d[yField]);\n    pathData = reg(data);\n  }\n  return splinePath(pathData, config);\n};\n\n/**\n *  meta: { min, max }  data.length === 1   y    x \n * @param options\n * @returns\n */\nexport const getMeta = (\n  options: Pick<ScatterOptions, 'meta' | 'xField' | 'yField' | 'data'>\n): ScatterOptions['meta'] => {\n  const { meta = {}, xField, yField, data } = options;\n  const xFieldValue = data[0][xField];\n  const yFieldValue = data[0][yField];\n  const xIsPositiveNumber = xFieldValue > 0;\n  const yIsPositiveNumber = yFieldValue > 0;\n\n  /**\n   *  min max scale \n   */\n  function getMetaMinMax(field: string, axis: 'x' | 'y') {\n    const fieldMeta = get(meta, [field]);\n\n    function getCustomValue(type: 'min' | 'max') {\n      return get(fieldMeta, type);\n    }\n\n    const range = {};\n\n    if (axis === 'x') {\n      if (isNumber(xFieldValue)) {\n        if (!isNumber(getCustomValue('min'))) {\n          range['min'] = xIsPositiveNumber ? 0 : xFieldValue * 2;\n        }\n\n        if (!isNumber(getCustomValue('max'))) {\n          range['max'] = xIsPositiveNumber ? xFieldValue * 2 : 0;\n        }\n      }\n\n      return range;\n    }\n\n    if (isNumber(yFieldValue)) {\n      if (!isNumber(getCustomValue('min'))) {\n        range['min'] = yIsPositiveNumber ? 0 : yFieldValue * 2;\n      }\n\n      if (!isNumber(getCustomValue('max'))) {\n        range['max'] = yIsPositiveNumber ? yFieldValue * 2 : 0;\n      }\n    }\n\n    return range;\n  }\n\n  return {\n    ...meta,\n    [xField]: {\n      ...meta[xField],\n      ...getMetaMinMax(xField, 'x'),\n    },\n    [yField]: {\n      ...meta[yField],\n      ...getMetaMinMax(yField, 'y'),\n    },\n  };\n};\n","// https://github.com/HarryStevens/d3-regression#readme Version 1.3.10. Copyright 2022 Harry Stevens.\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\n// Adapted from vega-statistics by Jeffrey Heer\n// License: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/LICENSE\n// Source: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/packages/vega-statistics/src/regression/points.js\nfunction points(data, x, y, sort) {\n  data = data.filter(function (d, i) {\n    var u = x(d, i),\n        v = y(d, i);\n    return u != null && isFinite(u) && v != null && isFinite(v);\n  });\n\n  if (sort) {\n    data.sort(function (a, b) {\n      return x(a) - x(b);\n    });\n  }\n\n  var n = data.length,\n      X = new Float64Array(n),\n      Y = new Float64Array(n); // extract values, calculate means\n\n  var ux = 0,\n      uy = 0,\n      xv,\n      yv,\n      d;\n\n  for (var i = 0; i < n;) {\n    d = data[i];\n    X[i] = xv = +x(d, i, data);\n    Y[i] = yv = +y(d, i, data);\n    ++i;\n    ux += (xv - ux) / i;\n    uy += (yv - uy) / i;\n  } // mean center the data\n\n\n  for (var _i = 0; _i < n; ++_i) {\n    X[_i] -= ux;\n    Y[_i] -= uy;\n  }\n\n  return [X, Y, ux, uy];\n}\nfunction visitPoints(data, x, y, cb) {\n  var iterations = 0;\n\n  for (var i = 0, n = data.length; i < n; i++) {\n    var d = data[i],\n        dx = +x(d, i, data),\n        dy = +y(d, i, data);\n\n    if (dx != null && isFinite(dx) && dy != null && isFinite(dy)) {\n      cb(dx, dy, iterations++);\n    }\n  }\n}\n\n// return the coefficient of determination, or R squared.\n\nfunction determination(data, x, y, uY, predict) {\n  var SSE = 0,\n      SST = 0;\n  visitPoints(data, x, y, function (dx, dy) {\n    var sse = dy - predict(dx),\n        sst = dy - uY;\n    SSE += sse * sse;\n    SST += sst * sst;\n  });\n  return 1 - SSE / SST;\n}\n\n// Returns the angle of a line in degrees.\nfunction angle(line) {\n  return Math.atan2(line[1][1] - line[0][1], line[1][0] - line[0][0]) * 180 / Math.PI;\n} // Returns the midpoint of a line.\n\nfunction midpoint(line) {\n  return [(line[0][0] + line[1][0]) / 2, (line[0][1] + line[1][1]) / 2];\n}\n\n// returns a smooth line.\n\nfunction interpose(xmin, xmax, predict) {\n  var l = Math.log(xmax - xmin) * Math.LOG10E + 1 | 0;\n  var precision = 1 * Math.pow(10, -l / 2 - 1),\n      maxIter = 1e4;\n  var points = [px(xmin), px(xmax)],\n      iter = 0;\n\n  while (find(points) && iter < maxIter) {\n  }\n\n  return points;\n\n  function px(x) {\n    return [x, predict(x)];\n  }\n\n  function find(points) {\n    iter++;\n    var n = points.length;\n    var found = false;\n\n    for (var i = 0; i < n - 1; i++) {\n      var p0 = points[i],\n          p1 = points[i + 1],\n          m = midpoint([p0, p1]),\n          mp = px(m[0]),\n          a0 = angle([p0, m]),\n          a1 = angle([p0, mp]),\n          a = Math.abs(a0 - a1);\n\n      if (a > precision) {\n        points.splice(i + 1, 0, mp);\n        found = true;\n      }\n    }\n\n    return found;\n  }\n}\n\n// Ordinary Least Squares from vega-statistics by Jeffrey Heer\n// License: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/LICENSE\n// Source: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/packages/vega-statistics/src/regression/ols.js\nfunction ols(uX, uY, uXY, uX2) {\n  var delta = uX2 - uX * uX,\n      slope = Math.abs(delta) < 1e-24 ? 0 : (uXY - uX * uY) / delta,\n      intercept = uY - slope * uX;\n  return [intercept, slope];\n}\n\nfunction exponential () {\n  var x = function x(d) {\n    return d[0];\n  },\n      y = function y(d) {\n    return d[1];\n  },\n      domain;\n\n  function exponential(data) {\n    var n = 0,\n        Y = 0,\n        YL = 0,\n        XY = 0,\n        XYL = 0,\n        X2Y = 0,\n        xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity;\n    visitPoints(data, x, y, function (dx, dy) {\n      var ly = Math.log(dy),\n          xy = dx * dy;\n      ++n;\n      Y += (dy - Y) / n;\n      XY += (xy - XY) / n;\n      X2Y += (dx * xy - X2Y) / n;\n      YL += (dy * ly - YL) / n;\n      XYL += (xy * ly - XYL) / n;\n\n      if (!domain) {\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;\n      }\n    });\n\n    var _ols = ols(XY / Y, YL / Y, XYL / Y, X2Y / Y),\n        _ols2 = _slicedToArray(_ols, 2),\n        a = _ols2[0],\n        b = _ols2[1];\n\n    a = Math.exp(a);\n\n    var fn = function fn(x) {\n      return a * Math.exp(b * x);\n    },\n        out = interpose(xmin, xmax, fn);\n\n    out.a = a;\n    out.b = b;\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, Y, fn);\n    return out;\n  }\n\n  exponential.domain = function (arr) {\n    return arguments.length ? (domain = arr, exponential) : domain;\n  };\n\n  exponential.x = function (fn) {\n    return arguments.length ? (x = fn, exponential) : x;\n  };\n\n  exponential.y = function (fn) {\n    return arguments.length ? (y = fn, exponential) : y;\n  };\n\n  return exponential;\n}\n\nfunction linear () {\n  var x = function x(d) {\n    return d[0];\n  },\n      y = function y(d) {\n    return d[1];\n  },\n      domain;\n\n  function linear(data) {\n    var n = 0,\n        X = 0,\n        // sum of x\n    Y = 0,\n        // sum of y\n    XY = 0,\n        // sum of x * y\n    X2 = 0,\n        // sum of x * x\n    xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity;\n    visitPoints(data, x, y, function (dx, dy) {\n      ++n;\n      X += (dx - X) / n;\n      Y += (dy - Y) / n;\n      XY += (dx * dy - XY) / n;\n      X2 += (dx * dx - X2) / n;\n\n      if (!domain) {\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;\n      }\n    });\n\n    var _ols = ols(X, Y, XY, X2),\n        _ols2 = _slicedToArray(_ols, 2),\n        intercept = _ols2[0],\n        slope = _ols2[1],\n        fn = function fn(x) {\n      return slope * x + intercept;\n    },\n        out = [[xmin, fn(xmin)], [xmax, fn(xmax)]];\n\n    out.a = slope;\n    out.b = intercept;\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, Y, fn);\n    return out;\n  }\n\n  linear.domain = function (arr) {\n    return arguments.length ? (domain = arr, linear) : domain;\n  };\n\n  linear.x = function (fn) {\n    return arguments.length ? (x = fn, linear) : x;\n  };\n\n  linear.y = function (fn) {\n    return arguments.length ? (y = fn, linear) : y;\n  };\n\n  return linear;\n}\n\n// Returns the medium value of an array of numbers.\nfunction median(arr) {\n  arr.sort(function (a, b) {\n    return a - b;\n  });\n  var i = arr.length / 2;\n  return i % 1 === 0 ? (arr[i - 1] + arr[i]) / 2 : arr[Math.floor(i)];\n}\n\nvar maxiters = 2,\n    epsilon = 1e-12;\nfunction loess () {\n  var x = function x(d) {\n    return d[0];\n  },\n      y = function y(d) {\n    return d[1];\n  },\n      bandwidth = .3;\n\n  function loess(data) {\n    var _points = points(data, x, y, true),\n        _points2 = _slicedToArray(_points, 4),\n        xv = _points2[0],\n        yv = _points2[1],\n        ux = _points2[2],\n        uy = _points2[3],\n        n = xv.length,\n        bw = Math.max(2, ~~(bandwidth * n)),\n        yhat = new Float64Array(n),\n        residuals = new Float64Array(n),\n        robustWeights = new Float64Array(n).fill(1);\n\n    for (var iter = -1; ++iter <= maxiters;) {\n      var interval = [0, bw - 1];\n\n      for (var i = 0; i < n; ++i) {\n        var dx = xv[i],\n            i0 = interval[0],\n            i1 = interval[1],\n            edge = dx - xv[i0] > xv[i1] - dx ? i0 : i1;\n        var W = 0,\n            X = 0,\n            Y = 0,\n            XY = 0,\n            X2 = 0,\n            denom = 1 / Math.abs(xv[edge] - dx || 1); // Avoid singularity\n\n        for (var k = i0; k <= i1; ++k) {\n          var xk = xv[k],\n              yk = yv[k],\n              w = tricube(Math.abs(dx - xk) * denom) * robustWeights[k],\n              xkw = xk * w;\n          W += w;\n          X += xkw;\n          Y += yk * w;\n          XY += yk * xkw;\n          X2 += xk * xkw;\n        } // Linear regression fit\n\n\n        var _ols = ols(X / W, Y / W, XY / W, X2 / W),\n            _ols2 = _slicedToArray(_ols, 2),\n            a = _ols2[0],\n            b = _ols2[1];\n\n        yhat[i] = a + b * dx;\n        residuals[i] = Math.abs(yv[i] - yhat[i]);\n        updateInterval(xv, i + 1, interval);\n      }\n\n      if (iter === maxiters) {\n        break;\n      }\n\n      var medianResidual = median(residuals);\n      if (Math.abs(medianResidual) < epsilon) break;\n\n      for (var _i = 0, arg, _w; _i < n; ++_i) {\n        arg = residuals[_i] / (6 * medianResidual); // Default to epsilon (rather than zero) for large deviations\n        // Keeping weights tiny but non-zero prevents singularites\n\n        robustWeights[_i] = arg >= 1 ? epsilon : (_w = 1 - arg * arg) * _w;\n      }\n    }\n\n    return output(xv, yhat, ux, uy);\n  }\n\n  loess.bandwidth = function (bw) {\n    return arguments.length ? (bandwidth = bw, loess) : bandwidth;\n  };\n\n  loess.x = function (fn) {\n    return arguments.length ? (x = fn, loess) : x;\n  };\n\n  loess.y = function (fn) {\n    return arguments.length ? (y = fn, loess) : y;\n  };\n\n  return loess;\n} // Weighting kernel for local regression\n\nfunction tricube(x) {\n  return (x = 1 - x * x * x) * x * x;\n} // Advance sliding window interval of nearest neighbors\n\n\nfunction updateInterval(xv, i, interval) {\n  var val = xv[i],\n      left = interval[0],\n      right = interval[1] + 1;\n  if (right >= xv.length) return; // Step right if distance to new right edge is <= distance to old left edge\n  // Step when distance is equal to ensure movement over duplicate x values\n\n  while (i > left && xv[right] - val <= val - xv[left]) {\n    interval[0] = ++left;\n    interval[1] = right;\n    ++right;\n  }\n} // Generate smoothed output points\n// Average points with repeated x values\n\n\nfunction output(xv, yhat, ux, uy) {\n  var n = xv.length,\n      out = [];\n  var i = 0,\n      cnt = 0,\n      prev = [],\n      v;\n\n  for (; i < n; ++i) {\n    v = xv[i] + ux;\n\n    if (prev[0] === v) {\n      // Average output values via online update\n      prev[1] += (yhat[i] - prev[1]) / ++cnt;\n    } else {\n      // Add new output point\n      cnt = 0;\n      prev[1] += uy;\n      prev = [v, yhat[i]];\n      out.push(prev);\n    }\n  }\n\n  prev[1] += uy;\n  return out;\n}\n\nfunction logarithmic () {\n  var x = function x(d) {\n    return d[0];\n  },\n      y = function y(d) {\n    return d[1];\n  },\n      base = Math.E,\n      domain;\n\n  function logarithmic(data) {\n    var n = 0,\n        X = 0,\n        Y = 0,\n        XY = 0,\n        X2 = 0,\n        xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity,\n        lb = Math.log(base);\n    visitPoints(data, x, y, function (dx, dy) {\n      var lx = Math.log(dx) / lb;\n      ++n;\n      X += (lx - X) / n;\n      Y += (dy - Y) / n;\n      XY += (lx * dy - XY) / n;\n      X2 += (lx * lx - X2) / n;\n\n      if (!domain) {\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;\n      }\n    });\n\n    var _ols = ols(X, Y, XY, X2),\n        _ols2 = _slicedToArray(_ols, 2),\n        intercept = _ols2[0],\n        slope = _ols2[1],\n        fn = function fn(x) {\n      return slope * Math.log(x) / lb + intercept;\n    },\n        out = interpose(xmin, xmax, fn);\n\n    out.a = slope;\n    out.b = intercept;\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, Y, fn);\n    return out;\n  }\n\n  logarithmic.domain = function (arr) {\n    return arguments.length ? (domain = arr, logarithmic) : domain;\n  };\n\n  logarithmic.x = function (fn) {\n    return arguments.length ? (x = fn, logarithmic) : x;\n  };\n\n  logarithmic.y = function (fn) {\n    return arguments.length ? (y = fn, logarithmic) : y;\n  };\n\n  logarithmic.base = function (n) {\n    return arguments.length ? (base = n, logarithmic) : base;\n  };\n\n  return logarithmic;\n}\n\nfunction quad () {\n  var x = function x(d) {\n    return d[0];\n  },\n      y = function y(d) {\n    return d[1];\n  },\n      domain;\n\n  function quadratic(data) {\n    var _points = points(data, x, y),\n        _points2 = _slicedToArray(_points, 4),\n        xv = _points2[0],\n        yv = _points2[1],\n        ux = _points2[2],\n        uy = _points2[3],\n        n = xv.length;\n\n    var X2 = 0,\n        X3 = 0,\n        X4 = 0,\n        XY = 0,\n        X2Y = 0,\n        i,\n        dx,\n        dy,\n        x2;\n\n    for (i = 0; i < n;) {\n      dx = xv[i];\n      dy = yv[i++];\n      x2 = dx * dx;\n      X2 += (x2 - X2) / i;\n      X3 += (x2 * dx - X3) / i;\n      X4 += (x2 * x2 - X4) / i;\n      XY += (dx * dy - XY) / i;\n      X2Y += (x2 * dy - X2Y) / i;\n    }\n\n    var Y = 0,\n        n0 = 0,\n        xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity;\n    visitPoints(data, x, y, function (dx, dy) {\n      n0++;\n      Y += (dy - Y) / n0;\n\n      if (!domain) {\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;\n      }\n    });\n\n    var X2X2 = X4 - X2 * X2,\n        d = X2 * X2X2 - X3 * X3,\n        a = (X2Y * X2 - XY * X3) / d,\n        b = (XY * X2X2 - X2Y * X3) / d,\n        c = -a * X2,\n        fn = function fn(x) {\n      x = x - ux;\n      return a * x * x + b * x + c + uy;\n    };\n\n    var out = interpose(xmin, xmax, fn);\n    out.a = a;\n    out.b = b - 2 * a * ux;\n    out.c = c - b * ux + a * ux * ux + uy;\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, Y, fn);\n    return out;\n  }\n\n  quadratic.domain = function (arr) {\n    return arguments.length ? (domain = arr, quadratic) : domain;\n  };\n\n  quadratic.x = function (fn) {\n    return arguments.length ? (x = fn, quadratic) : x;\n  };\n\n  quadratic.y = function (fn) {\n    return arguments.length ? (y = fn, quadratic) : y;\n  };\n\n  return quadratic;\n}\n\n// Source: https://github.com/Tom-Alexander/regression-js/blob/master/src/regression.js#L246\n// License: https://github.com/Tom-Alexander/regression-js/blob/master/LICENSE\n// ...with ideas from vega-statistics by Jeffrey Heer\n// Source: https://github.com/vega/vega/blob/f21cb8792b4e0cbe2b1a3fd44b0f5db370dbaadb/packages/vega-statistics/src/regression/poly.js\n// License: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/LICENSE\n\nfunction polynomial () {\n  var x = function x(d) {\n    return d[0];\n  },\n      y = function y(d) {\n    return d[1];\n  },\n      order = 3,\n      domain;\n\n  function polynomial(data) {\n    // Use more efficient methods for lower orders\n    if (order === 1) {\n      var o = linear().x(x).y(y).domain(domain)(data);\n      o.coefficients = [o.b, o.a];\n      delete o.a;\n      delete o.b;\n      return o;\n    }\n\n    if (order === 2) {\n      var _o = quad().x(x).y(y).domain(domain)(data);\n\n      _o.coefficients = [_o.c, _o.b, _o.a];\n      delete _o.a;\n      delete _o.b;\n      delete _o.c;\n      return _o;\n    }\n\n    var _points = points(data, x, y),\n        _points2 = _slicedToArray(_points, 4),\n        xv = _points2[0],\n        yv = _points2[1],\n        ux = _points2[2],\n        uy = _points2[3],\n        n = xv.length,\n        lhs = [],\n        rhs = [],\n        k = order + 1;\n\n    var Y = 0,\n        n0 = 0,\n        xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity;\n    visitPoints(data, x, y, function (dx, dy) {\n      ++n0;\n      Y += (dy - Y) / n0;\n\n      if (!domain) {\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;\n      }\n    });\n    var i, j, l, v, c;\n\n    for (i = 0; i < k; ++i) {\n      for (l = 0, v = 0; l < n; ++l) {\n        v += Math.pow(xv[l], i) * yv[l];\n      }\n\n      lhs.push(v);\n      c = new Float64Array(k);\n\n      for (j = 0; j < k; ++j) {\n        for (l = 0, v = 0; l < n; ++l) {\n          v += Math.pow(xv[l], i + j);\n        }\n\n        c[j] = v;\n      }\n\n      rhs.push(c);\n    }\n\n    rhs.push(lhs);\n\n    var coef = gaussianElimination(rhs),\n        fn = function fn(x) {\n      x -= ux;\n      var y = uy + coef[0] + coef[1] * x + coef[2] * x * x;\n\n      for (i = 3; i < k; ++i) {\n        y += coef[i] * Math.pow(x, i);\n      }\n\n      return y;\n    },\n        out = interpose(xmin, xmax, fn);\n\n    out.coefficients = uncenter(k, coef, -ux, uy);\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, Y, fn);\n    return out;\n  }\n\n  polynomial.domain = function (arr) {\n    return arguments.length ? (domain = arr, polynomial) : domain;\n  };\n\n  polynomial.x = function (fn) {\n    return arguments.length ? (x = fn, polynomial) : x;\n  };\n\n  polynomial.y = function (fn) {\n    return arguments.length ? (y = fn, polynomial) : y;\n  };\n\n  polynomial.order = function (n) {\n    return arguments.length ? (order = n, polynomial) : order;\n  };\n\n  return polynomial;\n}\n\nfunction uncenter(k, a, x, y) {\n  var z = Array(k);\n  var i, j, v, c; // initialize to zero\n\n  for (i = 0; i < k; ++i) {\n    z[i] = 0;\n  } // polynomial expansion\n\n\n  for (i = k - 1; i >= 0; --i) {\n    v = a[i];\n    c = 1;\n    z[i] += v;\n\n    for (j = 1; j <= i; ++j) {\n      c *= (i + 1 - j) / j; // binomial coefficent\n\n      z[i - j] += v * Math.pow(x, j) * c;\n    }\n  } // bias term\n\n\n  z[0] += y;\n  return z;\n} // Given an array for a two-dimensional matrix and the polynomial order,\n// solve A * x = b using Gaussian elimination.\n\n\nfunction gaussianElimination(matrix) {\n  var n = matrix.length - 1,\n      coef = [];\n  var i, j, k, r, t;\n\n  for (i = 0; i < n; ++i) {\n    r = i; // max row\n\n    for (j = i + 1; j < n; ++j) {\n      if (Math.abs(matrix[i][j]) > Math.abs(matrix[i][r])) {\n        r = j;\n      }\n    }\n\n    for (k = i; k < n + 1; ++k) {\n      t = matrix[k][i];\n      matrix[k][i] = matrix[k][r];\n      matrix[k][r] = t;\n    }\n\n    for (j = i + 1; j < n; ++j) {\n      for (k = n; k >= i; k--) {\n        matrix[k][j] -= matrix[k][i] * matrix[i][j] / matrix[i][i];\n      }\n    }\n  }\n\n  for (j = n - 1; j >= 0; --j) {\n    t = 0;\n\n    for (k = j + 1; k < n; ++k) {\n      t += matrix[k][j] * coef[k];\n    }\n\n    coef[j] = (matrix[n][j] - t) / matrix[j][j];\n  }\n\n  return coef;\n}\n\nfunction power () {\n  var x = function x(d) {\n    return d[0];\n  },\n      y = function y(d) {\n    return d[1];\n  },\n      domain;\n\n  function power(data) {\n    var n = 0,\n        X = 0,\n        Y = 0,\n        XY = 0,\n        X2 = 0,\n        YS = 0,\n        xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity;\n    visitPoints(data, x, y, function (dx, dy) {\n      var lx = Math.log(dx),\n          ly = Math.log(dy);\n      ++n;\n      X += (lx - X) / n;\n      Y += (ly - Y) / n;\n      XY += (lx * ly - XY) / n;\n      X2 += (lx * lx - X2) / n;\n      YS += (dy - YS) / n;\n\n      if (!domain) {\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;\n      }\n    });\n\n    var _ols = ols(X, Y, XY, X2),\n        _ols2 = _slicedToArray(_ols, 2),\n        a = _ols2[0],\n        b = _ols2[1];\n\n    a = Math.exp(a);\n\n    var fn = function fn(x) {\n      return a * Math.pow(x, b);\n    },\n        out = interpose(xmin, xmax, fn);\n\n    out.a = a;\n    out.b = b;\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, YS, fn);\n    return out;\n  }\n\n  power.domain = function (arr) {\n    return arguments.length ? (domain = arr, power) : domain;\n  };\n\n  power.x = function (fn) {\n    return arguments.length ? (x = fn, power) : x;\n  };\n\n  power.y = function (fn) {\n    return arguments.length ? (y = fn, power) : y;\n  };\n\n  return power;\n}\n\nexport { exponential as regressionExp, linear as regressionLinear, loess as regressionLoess, logarithmic as regressionLog, polynomial as regressionPoly, power as regressionPow, quad as regressionQuad };\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  size: 4,\n  tooltip: {\n    showTitle: false,\n    showMarkers: false,\n    showCrosshairs: true,\n    crosshairs: {\n      type: 'xy',\n    },\n  },\n});\n","import '../../../interactions/drag-move';\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\nimport { Adaptor } from '../../core/adaptor';\nimport { RadarOptions } from './types';\nimport { adaptor } from './adaptor';\nimport './interactions';\n\nexport type { RadarOptions };\n\nexport class Radar extends Plot<RadarOptions> {\n  /**  */\n  public type: string = 'radar';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    this.updateOption({ data });\n    this.chart.changeData(data);\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<RadarOptions> {\n    return deepAssign({}, super.getDefaultOptions(), {\n      xAxis: {\n        label: {\n          offset: 15,\n        },\n        grid: {\n          line: {\n            type: 'line',\n          },\n        },\n      },\n      yAxis: {\n        grid: {\n          line: {\n            type: 'circle',\n          },\n        },\n      },\n      legend: {\n        position: 'top',\n      },\n      tooltip: {\n        shared: true,\n        showCrosshairs: true,\n        showMarkers: true,\n        crosshairs: {\n          type: 'xy',\n          line: {\n            style: {\n              stroke: '#565656',\n              lineDash: [4],\n            },\n          },\n          follow: true,\n        },\n      },\n    });\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<RadarOptions> {\n    return adaptor;\n  }\n}\n","import { Params } from '../../core/adaptor';\nimport { tooltip, interaction, animation, theme, scale, annotation, legend } from '../../adaptor/common';\nimport { area, point, line } from '../../adaptor/geometries';\nimport { findGeometry, flow, transformLabel, deepAssign } from '../../utils';\nimport { RadarOptions } from './types';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<RadarOptions>): Params<RadarOptions> {\n  const { chart, options } = params;\n  const { data, lineStyle, color, point: pointOptions, area: areaOptions } = options;\n\n  chart.data(data);\n\n  //   geometry\n  const primary = deepAssign({}, params, {\n    options: {\n      line: {\n        style: lineStyle,\n        color,\n      },\n      point: pointOptions\n        ? {\n            color,\n            ...pointOptions,\n          }\n        : pointOptions,\n      area: areaOptions\n        ? {\n            color,\n            ...areaOptions,\n          }\n        : areaOptions,\n      // label  geometry adaptor label adaptor \n      label: undefined,\n    },\n  });\n  //  Geometry\n  const second = deepAssign({}, primary, {\n    options: {\n      tooltip: false,\n    },\n  });\n  //  point.state,  state \n  const pointState = pointOptions?.state || options.state;\n  const pointParams = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n\n  line(primary);\n  point(pointParams);\n  area(second);\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<RadarOptions>): Params<RadarOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  return flow(\n    scale({\n      [xField]: xAxis,\n      [yField]: yAxis,\n    })\n  )(params);\n}\n\n/**\n * coord \n * @param params\n */\nfunction coord(params: Params<RadarOptions>): Params<RadarOptions> {\n  const { chart, options } = params;\n  const { radius, startAngle, endAngle } = options;\n\n  chart.coordinate('polar', {\n    radius,\n    startAngle,\n    endAngle,\n  });\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<RadarOptions>): Params<RadarOptions> {\n  const { chart, options } = params;\n  const { xField, xAxis, yField, yAxis } = options;\n\n  chart.axis(xField, xAxis);\n  chart.axis(yField, yAxis);\n\n  return params;\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<RadarOptions>): Params<RadarOptions> {\n  const { chart, options } = params;\n  const { label, yField } = options;\n\n  const geometry = findGeometry(chart, 'line');\n\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: [yField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<RadarOptions>) {\n  // flow  G2 API\n  return flow(geometry, meta, theme, coord, axis, legend, tooltip, label, interaction, animation, annotation())(params);\n}\n","import { registerAction, registerInteraction } from '@antv/g2';\nimport { RadarTooltipAction } from './radar-tooltip-action';\n\nregisterAction('radar-tooltip', RadarTooltipAction);\nregisterInteraction('radar-tooltip', {\n  start: [{ trigger: 'plot:mousemove', action: 'radar-tooltip:show' }],\n  end: [{ trigger: 'plot:mouseleave', action: 'radar-tooltip:hide' }],\n});\n","import { registerComponentController, Util, TooltipController, Action } from '@antv/g2';\nimport { isNil } from '@antv/util';\nimport { Point } from '../../../types';\n\nexport class RadarTooltipController extends TooltipController {\n  public get name(): string {\n    return 'radar-tooltip';\n  }\n\n  public getTooltipItems(point: Point) {\n    const { shared, title: cfgTitle } = this.getTooltipCfg();\n    const hintItems = super.getTooltipItems(point);\n\n    if (hintItems.length > 0) {\n      const geometry = this.view.geometries[0];\n      const dataArray = geometry.dataArray;\n      const title = hintItems[0].name;\n      const result = [];\n      dataArray.forEach((mappingData) => {\n        mappingData.forEach((d) => {\n          const items = Util.getTooltipItems(d, geometry);\n          const item = items[0];\n          if (!shared && item && item.name === title) {\n            const displayTitle = isNil(cfgTitle) ? title : cfgTitle;\n            result.push({ ...item, name: item.title, title: displayTitle });\n          } else if (shared && item) {\n            const displayTitle = isNil(cfgTitle) ? item.name || title : cfgTitle;\n            result.push({ ...item, name: item.title, title: displayTitle });\n          }\n        });\n      });\n\n      return result;\n    }\n    return [];\n  }\n}\nregisterComponentController('radar-tooltip', RadarTooltipController);\n\n/**\n *  tooltip  action\n */\nexport class RadarTooltipAction extends Action {\n  init() {\n    const { view } = this.context;\n    view.removeInteraction('tooltip');\n  }\n\n  public show() {\n    const { event } = this.context;\n    const controller = this.getTooltipController();\n    controller.showTooltip({ x: event.x, y: event.y });\n  }\n\n  public hide() {\n    const controller = this.getTooltipController();\n    controller.hideTooltip();\n  }\n\n  private getTooltipController() {\n    const { view } = this.context;\n    return view.getController('radar-tooltip') as TooltipController;\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { deepAssign } from '../../utils';\nimport { DualAxesOptions } from './types';\nimport { adaptor } from './adaptor';\n\nexport type { DualAxesOptions };\n\nexport class DualAxes extends Plot<DualAxesOptions> {\n  /** :  */\n  public type: string = 'dual-axes';\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<DualAxesOptions> {\n    return deepAssign({}, super.getDefaultOptions(), {\n      yAxis: [],\n      syncViewPadding: true,\n    });\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<DualAxesOptions> {\n    return adaptor;\n  }\n}\n","import { each, findIndex, get, find, isObject, every, isEqual, isBoolean } from '@antv/util';\nimport { Scale, Types, Event } from '@antv/g2';\nimport {\n  theme as commonTheme,\n  animation as commonAnimation,\n  scale,\n  interaction as commonInteraction,\n  annotation as commonAnnotation,\n  limitInPlot as commonLimitInPlot,\n} from '../../adaptor/common';\nimport { percent } from '../../utils/transform/percent';\nimport { Params } from '../../core/adaptor';\nimport { Datum } from '../../types';\nimport { flow, deepAssign } from '../../utils';\nimport { findViewById } from '../../utils/view';\nimport { isColumn, getYAxisWithDefault, getGeometryOption, transformObjectToArray } from './util/option';\nimport { getViewLegendItems } from './util/legend';\nimport { drawSingleGeometry } from './util/geometry';\nimport { doSliderFilter } from './util/render-sider';\nimport { DualAxesOptions, AxisType, DualAxesGeometry } from './types';\nimport { LEFT_AXES_VIEW, RIGHT_AXES_VIEW } from './constant';\n\n/**\n * transformOptions\n * 1. get index getOptions:  appendPaddingsyncView \n * 2. get adpator transformOption: deepAssign \n *    2.1 defaultoption tooltiplegend\n *    2.2  options\n *    2.3  options  options yaxisGeometryOption deepAssign  assign \n *\n * @param params\n */\nexport function transformOptions(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { options } = params;\n  const { geometryOptions = [], xField, yField } = options;\n  const allLine = every(\n    geometryOptions,\n    ({ geometry }) => geometry === DualAxesGeometry.Line || geometry === undefined\n  );\n  return deepAssign(\n    {},\n    {\n      options: {\n        geometryOptions: [],\n        meta: {\n          [xField]: {\n            //  cat \n            type: 'cat',\n            // x  scale \n            sync: true,\n            // \n            range: allLine ? [0, 1] : undefined,\n          },\n        },\n        tooltip: {\n          showMarkers: allLine,\n          //  crosshairs\n          showCrosshairs: allLine,\n          shared: true,\n          crosshairs: {\n            type: 'x',\n          },\n        },\n        interactions: !allLine\n          ? [{ type: 'legend-visible-filter' }, { type: 'active-region' }]\n          : [{ type: 'legend-visible-filter' }],\n        legend: {\n          position: 'top-left',\n        },\n      },\n    },\n    params,\n    {\n      options: {\n        // yAxis\n        yAxis: transformObjectToArray(yField, options.yAxis),\n        // geometryOptions\n        geometryOptions: [\n          getGeometryOption(xField, yField[0], geometryOptions[0]),\n          getGeometryOption(xField, yField[1], geometryOptions[1]),\n        ],\n        // annotations\n        annotations: transformObjectToArray(yField, options.annotations),\n      },\n    }\n  );\n}\n\n/**\n *    view theme \n * @param params\n */\nfunction createViews(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { geometryOptions } = options;\n\n  const SORT_MAP = { line: 0, column: 1 };\n\n  // id\n  const geometries = [\n    { type: geometryOptions[0]?.geometry, id: LEFT_AXES_VIEW },\n    { type: geometryOptions[1]?.geometry, id: RIGHT_AXES_VIEW },\n  ];\n\n  //  view \n  geometries.sort((a, b) => -SORT_MAP[a.type] + SORT_MAP[b.type]).forEach((g) => chart.createView({ id: g.id }));\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { xField, yField, geometryOptions, data, tooltip } = options;\n\n  // id\n  const geometries = [\n    { ...geometryOptions[0], id: LEFT_AXES_VIEW, data: data[0], yField: yField[0] },\n    { ...geometryOptions[1], id: RIGHT_AXES_VIEW, data: data[1], yField: yField[1] },\n  ];\n\n  geometries.forEach((geometry) => {\n    const { id, data, yField } = geometry;\n    // \n    const isPercent = isColumn(geometry) && geometry.isPercent;\n    const formatData = isPercent ? percent(data, yField, xField, yField) : data;\n    const view = findViewById(chart, id).data(formatData);\n\n    const tooltipOptions = isPercent\n      ? {\n          formatter: (datum: Datum) => ({\n            name: datum[geometry.seriesField] || yField,\n            value: (Number(datum[yField]) * 100).toFixed(2) + '%',\n          }),\n          ...tooltip,\n        }\n      : tooltip;\n\n    // \n    drawSingleGeometry({\n      chart: view,\n      options: {\n        xField,\n        yField,\n        tooltip: tooltipOptions,\n        geometryOption: geometry,\n      },\n    });\n  });\n  return params;\n}\n\nexport function color(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { geometryOptions } = options;\n  const themeColor = chart.getTheme()?.colors10 || [];\n\n  let start = 0;\n  /*  geometry  color\n   * 1.  geometryOptions  color drawGeometry \n   * 2.   color Geometry group scales theme color 10 \n   * 3.  group  view  N   concat  themeColor\n   * 4.  Geometry group scales color\n   * 5.  view  g2\n   */\n  chart.once('beforepaint', () => {\n    each(geometryOptions, (geometryOption, index) => {\n      const view = findViewById(chart, index === 0 ? LEFT_AXES_VIEW : RIGHT_AXES_VIEW);\n      if (geometryOption.color) return;\n      const groupScale = view.getGroupScales();\n      const count = get(groupScale, [0, 'values', 'length'], 1);\n      const color = themeColor.slice(start, start + count).concat(index === 0 ? [] : themeColor);\n      view.geometries.forEach((geometry) => {\n        if (geometryOption.seriesField) {\n          geometry.color(geometryOption.seriesField, color);\n        } else {\n          geometry.color(color[0]);\n        }\n      });\n      start += count;\n    });\n    chart.render(true);\n  });\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  scale({\n    [xField]: xAxis,\n    [yField[0]]: yAxis[0],\n  })(deepAssign({}, params, { chart: findViewById(chart, LEFT_AXES_VIEW) }));\n\n  scale({\n    [xField]: xAxis,\n    [yField[1]]: yAxis[1],\n  })(deepAssign({}, params, { chart: findViewById(chart, RIGHT_AXES_VIEW) }));\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nexport function axis(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const leftView = findViewById(chart, LEFT_AXES_VIEW);\n  const rightView = findViewById(chart, RIGHT_AXES_VIEW);\n  const { xField, yField, xAxis, yAxis } = options;\n\n  chart.axis(xField, false);\n  chart.axis(yField[0], false);\n  chart.axis(yField[1], false);\n\n  //  View\n  leftView.axis(xField, xAxis);\n  leftView.axis(yField[0], getYAxisWithDefault(yAxis[0], AxisType.Left));\n\n  //  Y \n  rightView.axis(xField, false);\n  rightView.axis(yField[1], getYAxisWithDefault(yAxis[1], AxisType.Right));\n\n  return params;\n}\n\n/**\n * tooltip \n * @param params\n */\nexport function tooltip(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n  const leftView = findViewById(chart, LEFT_AXES_VIEW);\n  const rightView = findViewById(chart, RIGHT_AXES_VIEW);\n  // tooltip  getDefaultOption  undefined\n  chart.tooltip(tooltip);\n  //  view  tooltip shared  interaction active-region \n  // view  chart  shared\n  leftView.tooltip({\n    shared: true,\n  });\n  rightView.tooltip({\n    shared: true,\n  });\n  return params;\n}\n\n/**\n * interaction \n * @param params\n */\nexport function interaction(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart } = params;\n\n  commonInteraction(deepAssign({}, params, { chart: findViewById(chart, LEFT_AXES_VIEW) }));\n  commonInteraction(deepAssign({}, params, { chart: findViewById(chart, RIGHT_AXES_VIEW) }));\n\n  return params;\n}\n\n/**\n * annotation \n * @param params\n */\nexport function annotation(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { annotations } = options;\n\n  const a1 = get(annotations, [0]);\n  const a2 = get(annotations, [1]);\n\n  commonAnnotation(a1)(\n    deepAssign({}, params, {\n      chart: findViewById(chart, LEFT_AXES_VIEW),\n      options: {\n        annotations: a1,\n      },\n    })\n  );\n  commonAnnotation(a2)(\n    deepAssign({}, params, {\n      chart: findViewById(chart, RIGHT_AXES_VIEW),\n      options: {\n        annotations: a2,\n      },\n    })\n  );\n  return params;\n}\n\nexport function theme(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart } = params;\n\n  /*\n   *  view  axisline chart  legend)\n   *  chart   view  theme G2 theme geometry > view > chart \n   */\n  commonTheme(deepAssign({}, params, { chart: findViewById(chart, LEFT_AXES_VIEW) }));\n  commonTheme(deepAssign({}, params, { chart: findViewById(chart, RIGHT_AXES_VIEW) }));\n  commonTheme(params);\n\n  return params;\n}\n\nexport function animation(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart } = params;\n\n  commonAnimation(deepAssign({}, params, { chart: findViewById(chart, LEFT_AXES_VIEW) }));\n  commonAnimation(deepAssign({}, params, { chart: findViewById(chart, RIGHT_AXES_VIEW) }));\n\n  return params;\n}\n\n/**\n *  limitInPlot\n * @param params\n */\nexport function limitInPlot(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { yAxis } = options;\n\n  commonLimitInPlot(\n    deepAssign({}, params, {\n      chart: findViewById(chart, LEFT_AXES_VIEW),\n      options: {\n        yAxis: yAxis[0],\n      },\n    })\n  );\n\n  commonLimitInPlot(\n    deepAssign({}, params, {\n      chart: findViewById(chart, RIGHT_AXES_VIEW),\n      options: {\n        yAxis: yAxis[1],\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * legend \n *  custom-\n * @param params\n */\nexport function legend(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { legend, geometryOptions, yField, data } = options;\n  const leftView = findViewById(chart, LEFT_AXES_VIEW);\n  const rightView = findViewById(chart, RIGHT_AXES_VIEW);\n\n  if (legend === false) {\n    chart.legend(false);\n  } else if (isObject(legend) && legend.custom === true) {\n    chart.legend(legend);\n  } else {\n    const leftLegend = get(geometryOptions, [0, 'legend'], legend);\n    const rightLegend = get(geometryOptions, [1, 'legend'], legend);\n    // \n    chart.once('beforepaint', () => {\n      const leftItems = data[0].length\n        ? getViewLegendItems({\n            view: leftView,\n            geometryOption: geometryOptions[0],\n            yField: yField[0],\n            legend: leftLegend,\n          })\n        : [];\n\n      const rightItems = data[1].length\n        ? getViewLegendItems({\n            view: rightView,\n            geometryOption: geometryOptions[1],\n            yField: yField[1],\n            legend: rightLegend,\n          })\n        : [];\n\n      chart.legend(\n        deepAssign({}, legend, {\n          custom: true,\n          // todo \n          // @ts-ignore\n          items: leftItems.concat(rightItems),\n        })\n      );\n    });\n\n    if (geometryOptions[0].seriesField) {\n      leftView.legend(geometryOptions[0].seriesField, leftLegend);\n    }\n    if (geometryOptions[1].seriesField) {\n      rightView.legend(geometryOptions[1].seriesField, rightLegend);\n    }\n\n    // \n    chart.on('legend-item:click', (evt) => {\n      const delegateObject = get(evt, 'gEvent.delegateObject', {});\n      if (delegateObject && delegateObject.item) {\n        const { value: field, isGeometry, viewId } = delegateObject.item;\n        // geometry  view.changeVisible\n        if (isGeometry) {\n          const idx = findIndex(yField, (yF: string) => yF === field);\n          if (idx > -1) {\n            const geometries = get(findViewById(chart, viewId), 'geometries');\n            each(geometries, (g) => {\n              g.changeVisible(!delegateObject.item.unchecked);\n            });\n          }\n        } else {\n          const legendItem = get(chart.getController('legend'), 'option.items', []);\n          // \n          each(chart.views, (view) => {\n            // \n            const groupScale = view.getGroupScales();\n            each(groupScale, (scale: Scale) => {\n              if (scale.values && scale.values.indexOf(field) > -1) {\n                view.filter(scale.field, (value) => {\n                  const curLegendItem: Types.LegendItem = find(\n                    legendItem,\n                    (item: Types.LegendItem) => item.value === value\n                  );\n                  //  legend  unchecked \n                  return !curLegendItem.unchecked;\n                });\n              }\n            });\n            chart.render(true);\n          });\n        }\n      }\n    });\n  }\n\n  return params;\n}\n\n/**\n *  slider \n * @param params\n */\nexport function slider(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { slider } = options;\n  const leftView = findViewById(chart, LEFT_AXES_VIEW);\n  const rightView = findViewById(chart, RIGHT_AXES_VIEW);\n  if (slider) {\n    //  View\n    leftView.option('slider', slider);\n    //  slider   View \n    leftView.on('slider:valuechanged', (evt: Event) => {\n      const {\n        event: { value, originValue },\n      } = evt;\n      if (isEqual(value, originValue)) {\n        return;\n      }\n      doSliderFilter(rightView, value);\n    });\n    chart.once('afterpaint', () => {\n      // \n      if (!isBoolean(slider)) {\n        const { start, end } = slider;\n        if (start || end) {\n          doSliderFilter(rightView, [start, end]);\n        }\n      }\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  // transformOptions color legend  beforepaint\n  return flow(\n    transformOptions,\n    createViews,\n    // \n    theme,\n    geometry,\n    meta,\n    axis,\n    limitInPlot,\n    tooltip,\n    interaction,\n    annotation,\n    animation,\n    color,\n    legend,\n    slider\n  )(params);\n}\n","import { reduce, get, isEmpty, isFunction } from '@antv/util';\nimport { View, Util } from '@antv/g2';\nimport { deepAssign, findGeometry } from '../../../utils';\nimport { GeometryOption } from '../types';\nimport { Legend } from '../../../types/legend';\nimport { isLine } from './option';\n\n/**\n *  view  legendItem seriesField \n * @param params\n */\nexport function getViewLegendItems(params: {\n  view: View;\n  yField: string;\n  geometryOption: GeometryOption;\n  legend: Legend;\n}) {\n  const { view, geometryOption, yField, legend } = params;\n  const userMarker = get(legend, 'marker');\n\n  const geometry = findGeometry(view, isLine(geometryOption) ? 'line' : 'interval');\n  if (!geometryOption.seriesField) {\n    const legendItemName = get(view, `options.scales.${yField}.alias`) || yField;\n    //  g2 \n    const colorAttribute = geometry.getAttribute('color');\n    let color = view.getTheme().defaultColor;\n    if (colorAttribute) {\n      color = Util.getMappingValue(colorAttribute, legendItemName, get(colorAttribute, ['values', 0], color));\n    }\n\n    const marker =\n      (isFunction(userMarker)\n        ? userMarker\n        : !isEmpty(userMarker) &&\n          deepAssign(\n            {},\n            {\n              style: {\n                stroke: color,\n                fill: color,\n              },\n            },\n            userMarker\n          )) ||\n      (isLine(geometryOption)\n        ? {\n            symbol: (x: number, y: number, r: number) => {\n              return [\n                ['M', x - r, y],\n                ['L', x + r, y],\n              ];\n            },\n            style: {\n              lineWidth: 2,\n              r: 6,\n              stroke: color,\n            },\n          }\n        : {\n            symbol: 'square',\n            style: {\n              fill: color,\n            },\n          });\n    return [\n      {\n        value: yField,\n        name: legendItemName,\n        marker,\n        isGeometry: true,\n        viewId: view.id,\n      },\n    ];\n  }\n\n  const attributes = geometry.getGroupAttributes();\n  return reduce(\n    attributes,\n    (items, attr) => {\n      const attrItems = Util.getLegendItems(view, geometry, attr, view.getTheme(), userMarker);\n      return items.concat(attrItems);\n    },\n    []\n  );\n}\n","import { each } from '@antv/util';\nimport { Geometry } from '@antv/g2';\nimport { Params } from '../../../core/adaptor';\nimport { point, line } from '../../../adaptor/geometries';\nimport { pick, deepAssign } from '../../../utils';\nimport { adaptor as columnAdaptor } from '../../column/adaptor';\nimport { GeometryOption } from '../types';\nimport { isLine, isColumn } from './option';\n\n/**\n * \n * @param params\n */\nexport function drawSingleGeometry<O extends { xField: string; yField: string; geometryOption: GeometryOption }>(\n  params: Params<O>\n): Params<O> {\n  const { options, chart } = params;\n  const { geometryOption } = options;\n  const { isStack, color, seriesField, groupField, isGroup } = geometryOption;\n\n  const FIELD_KEY = ['xField', 'yField'];\n  if (isLine(geometryOption)) {\n    // \n    line(\n      deepAssign({}, params, {\n        options: {\n          ...pick(options, FIELD_KEY),\n          ...geometryOption,\n          line: {\n            color: geometryOption.color,\n            style: geometryOption.lineStyle,\n          },\n        },\n      })\n    );\n    // \n    point(\n      deepAssign({}, params, {\n        options: {\n          ...pick(options, FIELD_KEY),\n          ...geometryOption,\n          point: geometryOption.point && {\n            color,\n            shape: 'circle',\n            ...geometryOption.point,\n          },\n        },\n      })\n    );\n    // adjust\n    const adjust = [];\n    if (isGroup) {\n      adjust.push({\n        type: 'dodge',\n        dodgeBy: groupField || seriesField,\n        customOffset: 0,\n      });\n    }\n    if (isStack) {\n      adjust.push({\n        type: 'stack',\n      });\n    }\n    if (adjust.length) {\n      each(chart.geometries, (g: Geometry) => {\n        g.adjust(adjust);\n      });\n    }\n  }\n\n  if (isColumn(geometryOption)) {\n    columnAdaptor(\n      deepAssign({}, params, {\n        options: {\n          ...pick(options, FIELD_KEY),\n          ...geometryOption,\n          widthRatio: geometryOption.columnWidthRatio,\n          interval: {\n            ...pick(geometryOption, ['color']),\n            style: geometryOption.columnStyle,\n          },\n        },\n      })\n    );\n  }\n\n  return params;\n}\n","import { View } from '@antv/g2';\nimport { size, valuesOfKey } from '@antv/util';\nimport { isBetween } from '../../../utils';\n\n/**\n *  View  slider \n *  View ,  Slider  change  View\n * @param { View } view \n * @param { number[] } sliderValue \n * @returns void\n */\nexport const doSliderFilter = (view: View, sliderValue: [number, number]) => {\n  const [min, max] = sliderValue;\n  const data = view.getOptions().data;\n  const xScale = view.getXScale();\n  const dataSize = size(data);\n  if (!xScale || !dataSize) {\n    return;\n  }\n  const isHorizontal = true;\n  const values = valuesOfKey(data, xScale.field);\n  const xValues = isHorizontal ? values : values.reverse();\n  const xTickCount = size(xValues);\n  const minIndex = Math.floor(min * (xTickCount - 1));\n  const maxIndex = Math.floor(max * (xTickCount - 1));\n\n  //  x \n  view.filter(xScale.field, (value: any) => {\n    const idx: number = xValues.indexOf(value);\n    return idx > -1 ? isBetween(idx, minIndex, maxIndex) : true;\n  });\n  view.getRootView().render(true);\n};\n","import { get } from '@antv/util';\n\nexport const DEFAULT_TOOLTIP_OPTIONS = {\n  showTitle: false,\n  shared: true,\n  showMarkers: false,\n  customContent: (x: string, data: any[]) => `${get(data, [0, 'data', 'y'], 0)}`, // \n  containerTpl: '<div class=\"g2-tooltip\"><div class=\"g2-tooltip-list\"></div></div>',\n  itemTpl: '<span>{value}</span>',\n  domStyles: {\n    'g2-tooltip': {\n      padding: '2px 4px',\n      fontSize: '10px',\n    },\n  },\n};\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  appendPadding: 2,\n  tooltip: {\n    ...DEFAULT_TOOLTIP_OPTIONS,\n  },\n  animation: {},\n};\n","import { DEFAULT_TOOLTIP_OPTIONS } from '../tiny-line/constants';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  appendPadding: 2,\n  tooltip: {\n    ...DEFAULT_TOOLTIP_OPTIONS,\n  },\n  // \n  color: 'l(90) 0:#E5EDFE 1:#ffffff',\n  areaStyle: {\n    fillOpacity: 0.6,\n  },\n  line: {\n    size: 1,\n    color: '#5B8FF9',\n  },\n  animation: {},\n};\n","/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  percent: 0.2,\n  innerRadius: 0.8,\n  radius: 0.98,\n  color: ['#FAAD14', '#E8EDF3'],\n  statistic: {\n    title: false as const,\n    content: {\n      style: {\n        fontSize: '14px',\n        fontWeight: 300,\n        fill: '#4D4D4D',\n        textAlign: 'center' as const,\n        textBaseline: 'middle' as const,\n      },\n    },\n  },\n  animation: {},\n};\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { HeatmapOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\n// registered shapes\nimport './shapes/circle';\nimport './shapes/square';\n\nexport type { HeatmapOptions };\n\nexport class Heatmap extends Plot<HeatmapOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<HeatmapOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'heatmap';\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<HeatmapOptions> {\n    return adaptor;\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Heatmap.getDefaultOptions();\n  }\n}\n","import { get } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, findGeometry } from '../../utils';\nimport { flow, transformLabel } from '../../utils';\nimport { tooltip, interaction, animation, theme, scale, annotation, state, pattern } from '../../adaptor/common';\nimport { geometry as geometryAdaptor } from '../../adaptor/geometries/base';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { HeatmapOptions } from './types';\n\nfunction geometry(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { chart, options } = params;\n  const { data, type, xField, yField, colorField, sizeField, sizeRatio, shape, color, tooltip, heatmapStyle } = options;\n\n  chart.data(data);\n  let geometryType = 'polygon';\n  if (type === 'density') {\n    geometryType = 'heatmap';\n  }\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, colorField]);\n\n  /**\n   * The ratio between the actual size and the max available size, must be in range `[0,1]`.\n   *\n   * If the `sizeRatio` attribute is undefined or it exceeds the range,\n   * `checkedSizeRatio` would be set to 1 as default.\n   */\n  let checkedSizeRatio = 1;\n  if (sizeRatio || sizeRatio === 0) {\n    if (!shape && !sizeField) {\n      console.warn('sizeRatio is not in effect: Must define shape or sizeField first');\n    } else if (sizeRatio < 0 || sizeRatio > 1) {\n      console.warn('sizeRatio is not in effect: It must be a number in [0,1]');\n    } else {\n      checkedSizeRatio = sizeRatio;\n    }\n  }\n\n  geometryAdaptor(\n    deepAssign({}, params, {\n      options: {\n        type: geometryType,\n        colorField,\n        tooltipFields: fields,\n        shapeField: sizeField || '',\n        label: undefined,\n        mapping: {\n          tooltip: formatter,\n          shape:\n            shape &&\n            (sizeField\n              ? (dautm) => {\n                  const field = data.map((row) => row[sizeField]);\n                  const min = Math.min(...field);\n                  const max = Math.max(...field);\n                  return [shape, (get(dautm, sizeField) - min) / (max - min), checkedSizeRatio];\n                }\n              : () => [shape, 1, checkedSizeRatio]),\n          color: color || (colorField && chart.getTheme().sequenceColors.join('-')),\n          style: heatmapStyle,\n        },\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  return flow(\n    scale({\n      [xField]: xAxis,\n      [yField]: yAxis,\n    })\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(yField, false);\n  } else {\n    chart.axis(yField, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nfunction legend(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { chart, options } = params;\n  const { legend, colorField, sizeField, sizeLegend } = options;\n\n  /** legend  false, ,  color  */\n  const showLegend = legend !== false;\n\n  if (colorField) {\n    chart.legend(colorField, showLegend ? legend : false);\n  }\n\n  // :  sizeField  sizeLegend.  legend \n  if (sizeField) {\n    chart.legend(sizeField, sizeLegend === undefined ? legend : sizeLegend);\n  }\n\n  /**  sizeField */\n  if (!showLegend && !sizeLegend) {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * fixme \n * \n * @param params\n */\nfunction label(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { chart, options } = params;\n  const { label, colorField, type } = options;\n\n  const geometry = findGeometry(chart, type === 'density' ? 'heatmap' : 'polygon');\n\n  if (!label) {\n    geometry.label(false);\n  } else if (colorField) {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: [colorField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction coordinate(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { chart, options } = params;\n  const { coordinate, reflect } = options;\n\n  if (coordinate) {\n    chart.coordinate({\n      type: coordinate.type || 'rect',\n      cfg: coordinate.cfg,\n    });\n  }\n\n  if (reflect) {\n    chart.coordinate().reflect(reflect);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<HeatmapOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    pattern('heatmapStyle'),\n    meta,\n    coordinate,\n    geometry,\n    axis,\n    legend,\n    tooltip,\n    label,\n    annotation(),\n    interaction,\n    animation,\n    state\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  type: 'polygon',\n  legend: false,\n  coordinate: {\n    type: 'rect',\n  },\n  xAxis: {\n    tickLine: null,\n    line: null,\n    grid: {\n      alignTick: false,\n      line: {\n        style: {\n          lineWidth: 1,\n          lineDash: null,\n          stroke: '#f0f0f0',\n        },\n      },\n    },\n  },\n  yAxis: {\n    grid: {\n      alignTick: false,\n      line: {\n        style: {\n          lineWidth: 1,\n          lineDash: null,\n          stroke: '#f0f0f0',\n        },\n      },\n    },\n  },\n});\n","import { registerShape, Types, IGroup } from '@antv/g2';\n\nregisterShape('polygon', 'circle', {\n  draw(cfg: Types.ShapeInfo, group: IGroup) {\n    const cx = cfg.x as number;\n    const cy = cfg.y as number;\n\n    const points = this.parsePoints(cfg.points);\n    const width = Math.abs(points[2].x - points[1].x);\n    const height = Math.abs(points[1].y - points[0].y);\n    const maxRadius = Math.min(width, height) / 2;\n\n    const value = Number(cfg.shape[1]);\n    const sizeRatio = Number(cfg.shape[2]);\n    const radiusRatio = Math.sqrt(sizeRatio);\n    const radius = maxRadius * radiusRatio * Math.sqrt(value);\n    const fill = cfg.style?.fill || cfg.color || cfg.defaultStyle?.fill;\n    const polygon = group.addShape('circle', {\n      attrs: {\n        x: cx,\n        y: cy,\n        r: radius,\n        ...cfg.defaultStyle,\n        ...cfg.style,\n        fill,\n      },\n    });\n    return polygon;\n  },\n});\n","import { registerShape, Types, IGroup } from '@antv/g2';\n\nregisterShape('polygon', 'square', {\n  draw(cfg: Types.ShapeInfo, group: IGroup) {\n    const cx = cfg.x as number;\n    const cy = cfg.y as number;\n\n    const points = this.parsePoints(cfg.points);\n    const width = Math.abs(points[2].x - points[1].x);\n    const height = Math.abs(points[1].y - points[0].y);\n    const maxSideLength = Math.min(width, height);\n\n    const value = Number(cfg.shape[1]);\n    const sizeRatio = Number(cfg.shape[2]);\n    const lenRatio = Math.sqrt(sizeRatio);\n    const sideLength = maxSideLength * lenRatio * Math.sqrt(value);\n    const fill = cfg.style?.fill || cfg.color || cfg.defaultStyle?.fill;\n    const polygon = group.addShape('rect', {\n      attrs: {\n        x: cx - sideLength / 2,\n        y: cy - sideLength / 2,\n        width: sideLength,\n        height: sideLength,\n        ...cfg.defaultStyle,\n        ...cfg.style,\n        fill,\n      },\n    });\n    return polygon;\n  },\n});\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { BoxOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { transformData } from './utils';\nimport { DEFAULT_OPTIONS, OUTLIERS_VIEW_ID } from './constant';\nexport type { BoxOptions };\n\nexport class Box extends Plot<BoxOptions> {\n  /**\n   *  \n   * \n   */\n  static getDefaultOptions(): Partial<BoxOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'box';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    this.updateOption({ data });\n    const { yField } = this.options;\n\n    const outliersView = this.chart.views.find((v) => v.id === OUTLIERS_VIEW_ID);\n    if (outliersView) {\n      outliersView.data(data);\n    }\n\n    this.chart.changeData(transformData(data, yField));\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<BoxOptions> {\n    return Box.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<BoxOptions> {\n    return adaptor;\n  }\n}\n","import { isArray } from '@antv/util';\nimport { Types } from '@antv/g2';\nimport { Params } from '../../core/adaptor';\nimport { interaction, animation, theme, tooltip } from '../../adaptor/common';\nimport { point, schema } from '../../adaptor/geometries';\nimport { flow, pick, deepAssign } from '../../utils';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { BoxOptions } from './types';\nimport { BOX_RANGE, BOX_SYNC_NAME, OUTLIERS_VIEW_ID } from './constant';\nimport { transformData } from './utils';\n\n/**\n * \n * @param params\n */\nfunction field(params: Params<BoxOptions>): Params<BoxOptions> {\n  const { chart, options } = params;\n  const { xField, yField, groupField, color, tooltip, boxStyle } = options;\n\n  chart.data(transformData(options.data, yField));\n\n  const yFieldName = isArray(yField) ? BOX_RANGE : yField;\n  const rawFields = yField ? (isArray(yField) ? yField : [yField]) : [];\n\n  let tooltipOptions = tooltip;\n  if (tooltipOptions !== false) {\n    tooltipOptions = deepAssign({}, { fields: isArray(yField) ? yField : [] }, tooltipOptions);\n  }\n\n  const { ext } = schema(\n    deepAssign({}, params, {\n      options: {\n        xField,\n        yField: yFieldName,\n        seriesField: groupField,\n        tooltip: tooltipOptions,\n        rawFields,\n        //  label\n        label: false,\n        schema: {\n          shape: 'box',\n          color,\n          style: boxStyle,\n        },\n      },\n    })\n  );\n\n  if (groupField) {\n    ext.geometry.adjust('dodge');\n  }\n\n  return params;\n}\n\n/**\n *  view\n */\nfunction outliersPoint(params: Params<BoxOptions>): Params<BoxOptions> {\n  const { chart, options } = params;\n  const { xField, data, outliersField, outliersStyle, padding, label } = options;\n\n  if (!outliersField) return params;\n\n  const outliersView = chart.createView({ padding, id: OUTLIERS_VIEW_ID });\n  const outliersViewData = data.reduce((ret, datum) => {\n    const outliersData = datum[outliersField];\n    outliersData.forEach((d) => ret.push({ ...datum, [outliersField]: d }));\n    return ret;\n  }, []) as Types.Datum[];\n\n  outliersView.data(outliersViewData);\n  point({\n    chart: outliersView,\n    options: {\n      xField,\n      yField: outliersField,\n      point: { shape: 'circle', style: outliersStyle },\n      label,\n    },\n  });\n\n  outliersView.axis(false);\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<BoxOptions>): Params<BoxOptions> {\n  const { chart, options } = params;\n  const { meta, xAxis, yAxis, xField, yField, outliersField } = options;\n  const yFieldName = Array.isArray(yField) ? BOX_RANGE : yField;\n\n  let baseMeta = {};\n\n  // make yField and outliersField share y mate\n  if (outliersField) {\n    const syncName = BOX_SYNC_NAME;\n    baseMeta = {\n      [outliersField]: { sync: syncName, nice: true },\n      [yFieldName]: { sync: syncName, nice: true },\n    };\n  }\n\n  const scales = deepAssign(baseMeta, meta, {\n    [xField]: pick(xAxis, AXIS_META_CONFIG_KEYS),\n    [yFieldName]: pick(yAxis, AXIS_META_CONFIG_KEYS),\n  });\n\n  chart.scale(scales);\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<BoxOptions>): Params<BoxOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n  const yFieldName = Array.isArray(yField) ? BOX_RANGE : yField;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(BOX_RANGE, false);\n  } else {\n    chart.axis(yFieldName, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<BoxOptions>): Params<BoxOptions> {\n  const { chart, options } = params;\n  const { legend, groupField } = options;\n\n  if (groupField) {\n    if (legend) {\n      chart.legend(groupField, legend);\n    } else {\n      // Grouped Box Chart default has legend, and it's position is `bottom`\n      chart.legend(groupField, { position: 'bottom' });\n    }\n  } else {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function adaptor(params: Params<BoxOptions>) {\n  return flow(field, outliersPoint, meta, axis, legend, tooltip, interaction, animation, theme)(params);\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { ViolinOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { transformViolinData } from './utils';\nexport type { ViolinOptions };\n\nexport class Violin extends Plot<ViolinOptions> {\n  /**\n   *  \n   * \n   */\n  static getDefaultOptions(): Partial<ViolinOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'violin';\n\n  /**\n   * @override\n   */\n  public changeData(data: ViolinOptions['data']) {\n    this.updateOption({ data });\n    this.chart.changeData(transformViolinData(this.options));\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<ViolinOptions> {\n    return Violin.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<ViolinOptions> {\n    return adaptor;\n  }\n}\n","import { Geometry } from '@antv/g2';\nimport { get, set, omit, each } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { interaction, theme, tooltip, annotation as baseAnnotation } from '../../adaptor/common';\nimport { interval, point, violin } from '../../adaptor/geometries';\nimport { flow, pick, deepAssign, findViewById } from '../../utils';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { ViolinOptions } from './types';\nimport { transformViolinData } from './utils';\nimport {\n  MEDIAN_FIELD,\n  MEDIAN_VIEW_ID,\n  MIN_MAX_FIELD,\n  MIN_MAX_VIEW_ID,\n  QUANTILE_FIELD,\n  QUANTILE_VIEW_ID,\n  VIOLIN_SIZE_FIELD,\n  VIOLIN_VIEW_ID,\n  VIOLIN_Y_FIELD,\n  X_FIELD,\n} from './constant';\n\nconst TOOLTIP_FIELDS = ['low', 'high', 'q1', 'q3', 'median'];\n\nconst adjustCfg = [\n  {\n    type: 'dodge',\n    marginRatio: 1 / 32,\n  } as const,\n];\n\n/**  */\nfunction data(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  chart.data(transformViolinData(options));\n  return params;\n}\n\n/**  */\nfunction violinView(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { seriesField, color, shape = 'violin', violinStyle, tooltip, state } = options;\n\n  const view = chart.createView({ id: VIOLIN_VIEW_ID });\n  violin({\n    chart: view,\n    options: {\n      xField: X_FIELD,\n      yField: VIOLIN_Y_FIELD,\n      seriesField: seriesField ? seriesField : X_FIELD,\n      sizeField: VIOLIN_SIZE_FIELD,\n      tooltip: {\n        fields: TOOLTIP_FIELDS,\n        ...tooltip,\n      },\n      violin: {\n        style: violinStyle,\n        color,\n        shape,\n      },\n      state,\n    },\n  });\n  view.geometries[0].adjust(adjustCfg);\n\n  return params;\n}\n\n/**  */\nfunction boxView(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { seriesField, color, tooltip, box } = options;\n\n  //  `box`  false \n  if (box === false) return params;\n\n  // \n  const minMaxView = chart.createView({ id: MIN_MAX_VIEW_ID });\n  interval({\n    chart: minMaxView,\n    options: {\n      xField: X_FIELD,\n      yField: MIN_MAX_FIELD,\n      seriesField: seriesField ? seriesField : X_FIELD,\n      tooltip: {\n        fields: TOOLTIP_FIELDS,\n        ...tooltip,\n      },\n      state: typeof box === 'object' ? box.state : {},\n      interval: {\n        color,\n        size: 1,\n        style: {\n          lineWidth: 0,\n        },\n      },\n    },\n  });\n  minMaxView.geometries[0].adjust(adjustCfg);\n\n  // \n  const quantileView = chart.createView({ id: QUANTILE_VIEW_ID });\n  interval({\n    chart: quantileView,\n    options: {\n      xField: X_FIELD,\n      yField: QUANTILE_FIELD,\n      seriesField: seriesField ? seriesField : X_FIELD,\n      tooltip: {\n        fields: TOOLTIP_FIELDS,\n        ...tooltip,\n      },\n      state: typeof box === 'object' ? box.state : {},\n      interval: {\n        color,\n        size: 8,\n        style: {\n          fillOpacity: 1,\n        },\n      },\n    },\n  });\n  quantileView.geometries[0].adjust(adjustCfg);\n\n  // \n  const medianView = chart.createView({ id: MEDIAN_VIEW_ID });\n  point({\n    chart: medianView,\n    options: {\n      xField: X_FIELD,\n      yField: MEDIAN_FIELD,\n      seriesField: seriesField ? seriesField : X_FIELD,\n      tooltip: {\n        fields: TOOLTIP_FIELDS,\n        ...tooltip,\n      },\n      state: typeof box === 'object' ? box.state : {},\n      point: {\n        color,\n        size: 1,\n        style: {\n          fill: 'white',\n          lineWidth: 0,\n        },\n      },\n    },\n  });\n  medianView.geometries[0].adjust(adjustCfg);\n\n  //  view \n  quantileView.axis(false);\n  minMaxView.axis(false);\n  medianView.axis(false);\n\n  //  view \n  medianView.legend(false);\n  minMaxView.legend(false);\n  quantileView.legend(false);\n\n  return params;\n}\n\n/**\n * meta \n */\nfunction meta(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { meta, xAxis, yAxis } = options;\n\n  const baseMeta = {};\n\n  const scales = deepAssign(baseMeta, meta, {\n    [X_FIELD]: {\n      sync: true,\n      ...pick(xAxis, AXIS_META_CONFIG_KEYS),\n      // fix:  dodge is not support linear attribute, please use category attribute!\n      //  x \n      type: 'cat',\n    },\n    [VIOLIN_Y_FIELD]: {\n      sync: true,\n      ...pick(yAxis, AXIS_META_CONFIG_KEYS),\n    },\n    [MIN_MAX_FIELD]: {\n      sync: VIOLIN_Y_FIELD,\n      ...pick(yAxis, AXIS_META_CONFIG_KEYS),\n    },\n    [QUANTILE_FIELD]: {\n      sync: VIOLIN_Y_FIELD,\n      ...pick(yAxis, AXIS_META_CONFIG_KEYS),\n    },\n    [MEDIAN_FIELD]: {\n      sync: VIOLIN_Y_FIELD,\n      ...pick(yAxis, AXIS_META_CONFIG_KEYS),\n    },\n  });\n\n  chart.scale(scales);\n\n  return params;\n}\n\n/**\n * axis \n */\nfunction axis(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis } = options;\n\n  const view = findViewById(chart, VIOLIN_VIEW_ID);\n\n  //  false \n  if (xAxis === false) {\n    view.axis(X_FIELD, false);\n  } else {\n    view.axis(X_FIELD, xAxis);\n  }\n\n  if (yAxis === false) {\n    view.axis(VIOLIN_Y_FIELD, false);\n  } else {\n    view.axis(VIOLIN_Y_FIELD, yAxis);\n  }\n\n  chart.axis(false);\n\n  return params;\n}\n\n/**\n *\n * @param params\n * @returns\n */\nfunction legend(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { legend, seriesField, shape } = options;\n\n  if (legend === false) {\n    chart.legend(false);\n  } else {\n    const legendField = seriesField ? seriesField : X_FIELD;\n    // fixme \n    const legendOptions = omit(legend as any, ['selected']);\n    if (!shape || !shape.startsWith('hollow')) {\n      if (!get(legendOptions, ['marker', 'style', 'lineWidth'])) {\n        set(legendOptions, ['marker', 'style', 'lineWidth'], 0);\n      }\n    }\n    chart.legend(legendField, legendOptions);\n    //  fixme G2 \n    if (get(legend, 'selected')) {\n      each(chart.views, (view) => view.legend(legendField, legend));\n    }\n  }\n\n  return params;\n}\n\n/**\n * annotation, apply to violin view.\n * @param params\n * @returns\n */\nfunction annotation(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart } = params;\n\n  const violinView = findViewById(chart, VIOLIN_VIEW_ID);\n  baseAnnotation()({ ...params, chart: violinView });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function animation(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { animation } = options;\n\n  //  Geometry \n  each(chart.views, (view) => {\n    //  view \n    if (typeof animation === 'boolean') {\n      view.animate(animation);\n    } else {\n      view.animate(true);\n    }\n\n    each(view.geometries, (g: Geometry) => {\n      g.animate(animation);\n    });\n  });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function adaptor(params: Params<ViolinOptions>) {\n  return flow(\n    theme,\n    data,\n    violinView,\n    boxView,\n    meta,\n    tooltip,\n    axis,\n    legend,\n    interaction,\n    annotation,\n    animation\n  )(params);\n}\n","'use strict';\n\nvar DEFAULT_SIZE = 50;\nvar DEFAULT_WIDTH = 2;\n\nvar LN_2 = Math.log(2);\nvar self = module.exports;\n\nvar helper = require('./helper');\n\n// Triangle\nfunction kernel(x) {\n  return 1 - Math.abs(x);\n}\n\n/**\n * Get min and max value for the pdf, covering all arr data range while respecting options' data\n * @param arr\n * @param options\n * @returns {*}\n */\nmodule.exports.getUnifiedMinMax = function (arr, options) {\n  return self.getUnifiedMinMaxMulti([arr], options);\n};\n\nmodule.exports.getUnifiedMinMaxMulti = function (arrMulti, options) {\n  options = options || {};\n\n  var relaxMin = false;\n  var relaxMax = false;\n\n  var width = helper.isNumber(options.width) ? options.width : DEFAULT_WIDTH;\n  var size = helper.isNumber(options.size) ? options.size : DEFAULT_SIZE;\n  var min = helper.isNumber(options.min) ? options.min : (relaxMin = true, helper.findMinMulti(arrMulti));\n  var max = helper.isNumber(options.max) ? options.max : (relaxMax = true, helper.findMaxMulti(arrMulti));\n\n  var range = max - min;\n  var step = range / (size - 1);\n\n  // Relax?\n  if (relaxMin) {\n    min = min - 2 * width * step;\n  }\n  if (relaxMax) {\n    max = max + 2 * width * step;\n  }\n\n  return {\n    min: min,\n    max: max\n  };\n};\n\nmodule.exports.create = function (arr, options) {\n  options = options || {};\n\n  if (!arr || (arr.length === 0)) {\n    return [];\n  }\n\n  var size = helper.isNumber(options.size) ? options.size : DEFAULT_SIZE;\n  var width = helper.isNumber(options.width) ? options.width : DEFAULT_WIDTH;\n  var normalizedMinMax = self.getUnifiedMinMax(arr, {\n    size: size,\n    width: width,\n    min: options.min,\n    max: options.max\n  });\n\n  var min = normalizedMinMax.min;\n  var max = normalizedMinMax.max;\n\n  var range = max - min;\n  var step = range / (size - 1);\n  if (range === 0) {\n    // Special case...\n    return [{x: min, y: 1}];\n  }\n\n  // Good to go\n\n  var buckets = [];\n  for (var i = 0; i < size; i++) {\n    buckets.push({\n      x: min + i * step,\n      y: 0\n    });\n  }\n\n  var xToBucket = function (x) {\n    return Math.floor((x - min) / step);\n  };\n\n  var partialArea = generatePartialAreas(kernel, width);\n  var fullArea = partialArea[width];\n  var c = partialArea[width-1] - partialArea[width-2];\n\n  var initalValue = 0;\n  arr.forEach(function (x) {\n    var bucket = xToBucket(x);\n\n    // Totally outside?\n    if ((bucket + width < 0) || (bucket - width >= buckets.length)) {\n      return;\n    }\n\n    var start = Math.max(bucket - width, 0);\n    var mid = bucket;\n    var end = Math.min(bucket + width, buckets.length - 1);\n\n    var leftBlockCount = start - (bucket - width);\n    var rightBlockCount = (bucket + width) - end;\n    var spilledAreaLeft = partialArea[-width-1 + leftBlockCount] || 0;\n    var spilledAreaRight = partialArea[-width-1 + rightBlockCount] || 0;\n    var weight = fullArea / (fullArea - spilledAreaLeft - spilledAreaRight);\n\n    if (leftBlockCount > 0) {\n      initalValue += weight * (leftBlockCount - 1) * c;\n    }\n\n    // Add grads\n    var startGradPos = Math.max(0, bucket-width+1);\n    if (helper.inside(0, buckets.length-1, startGradPos)) {\n      buckets[startGradPos].y += weight * 1 * c;\n    }\n    if (helper.inside(0, buckets.length-1, mid + 1)) {\n      buckets[mid + 1].y -= weight * 2 * c;\n    }\n    if (helper.inside(0, buckets.length-1, end + 1)) {\n      buckets[end + 1].y += weight * 1 * c;\n    }\n  });\n\n  var accumulator = initalValue;\n  var gradAccumulator = 0;\n  var area = 0;\n  buckets.forEach(function (bucket) {\n    gradAccumulator += bucket.y;\n    accumulator += gradAccumulator;\n\n    bucket.y = accumulator;\n    area += accumulator;\n  });\n\n  // Normalize\n  if (area > 0) {\n    buckets.forEach(function (bucket) {\n      bucket.y /= area;\n    });\n  }\n\n  return buckets;\n};\n\nfunction generatePartialAreas(kernel, width) {\n  var partialAreas = {};\n\n  var accumulator = 0;\n  for (var i = -width; i <= width; i++) {\n    accumulator += kernel(i/width);\n    partialAreas[i] = accumulator;\n  }\n\n  return partialAreas;\n}\n\nmodule.exports.getExpectedValueFromPdf = function (pdf) {\n  if (!pdf || (pdf.length === 0)) {\n    return undefined;\n  }\n\n  var expected = 0;\n\n  pdf.forEach(function (obj) {\n    expected += obj.x * obj.y;\n  });\n\n  return expected;\n};\n\nmodule.exports.getXWithLeftTailArea = function (pdf, area) {\n  if (!pdf || (pdf.length === 0)) {\n    return undefined;\n  }\n\n  var accumulator = 0;\n  var last = 0;\n  for (var i = 0; i < pdf.length; i++) {\n    last = i;\n    accumulator += pdf[i].y;\n\n    if (accumulator >= area) {\n      break;\n    }\n  }\n\n  return pdf[last].x;\n};\n\nmodule.exports.getPerplexity = function (pdf) {\n  if (!pdf || (pdf.length === 0)) {\n    return undefined;\n  }\n\n  var entropy = 0;\n  pdf.forEach(function (obj) {\n    var ln = Math.log(obj.y);\n\n    if (isFinite(ln)) {\n      entropy += obj.y * ln;\n    }\n  });\n  entropy = -entropy / LN_2;\n\n  return Math.pow(2, entropy);\n};\n","'use strict';\n\nvar self = module.exports;\n\nmodule.exports.isNumber = function (x) {\n  return (typeof x === 'number');\n};\n\nmodule.exports.findMin = function (arr) {\n  if (arr.length === 0) {\n    return Infinity;\n  }\n\n  var curr = arr[0];\n  for (var i = 1; i < arr.length; i++) {\n    curr = Math.min(curr, arr[i]);\n  }\n  return curr;\n};\n\nmodule.exports.findMax = function (arr) {\n  if (arr.length === 0) {\n    return -Infinity;\n  }\n\n  var curr = arr[0];\n  for (var i = 1; i < arr.length; i++) {\n    curr = Math.max(curr, arr[i]);\n  }\n  return curr;\n};\n\nmodule.exports.findMinMulti = function (arr) {\n  var curr = self.findMin(arr[0]);\n  for (var i = 1; i < arr.length; i++) {\n    curr = Math.min(curr, self.findMin(arr[i]));\n  }\n  return curr;\n};\n\nmodule.exports.findMaxMulti = function (arr) {\n  var curr = self.findMax(arr[0]);\n  for (var i = 1; i < arr.length; i++) {\n    curr = Math.max(curr, self.findMax(arr[i]));\n  }\n  return curr;\n};\n\nmodule.exports.inside = function (min, max, x) {\n  return (min <= x) && (x <= max);\n};\n","// from https://github.com/simple-statistics\n\n/**\n * This is the internal implementation of quantiles: when you know\n * that the order is sorted, you don't need to re-sort it, and the computations\n * are faster.\n *\n * @param {Array<number>} x sample of one or more data points\n * @param {number} p desired quantile: a number between 0 to 1, inclusive\n * @returns {number} quantile value\n * @throws {Error} if p ix outside of the range from 0 to 1\n * @throws {Error} if x is empty\n * @example\n * quantileSorted([3, 6, 7, 8, 8, 9, 10, 13, 15, 16, 20], 0.5); // => 9\n */\nexport function quantileSorted(x: number[], p: number) {\n  const idx = x.length * p;\n  if (x.length === 0) {\n    throw new Error('quantile requires at least one data point.');\n  } else if (p < 0 || p > 1) {\n    throw new Error('quantiles must be between 0 and 1');\n  } else if (p === 1) {\n    // If p is 1, directly return the last element\n    return x[x.length - 1];\n  } else if (p === 0) {\n    // If p is 0, directly return the first element\n    return x[0];\n  } else if (idx % 1 !== 0) {\n    // If p is not integer, return the next element in array\n    return x[Math.ceil(idx) - 1];\n  } else if (x.length % 2 === 0) {\n    // If the list has even-length, we'll take the average of this number\n    // and the next value, if there is one\n    return (x[idx - 1] + x[idx]) / 2;\n  } else {\n    // Finally, in the simple case of an integer value\n    // with an odd-length list, return the x value at the index.\n    return x[idx];\n  }\n}\n\n/**\n * \n * @param arr T[]\n * @param i number\n * @param j number\n */\nexport function swap<T = any>(arr: T[], i: number, j: number): void {\n  const tmp = arr[i];\n  arr[i] = arr[j];\n  arr[j] = tmp;\n}\n\n/**\n * Rearrange items in `arr` so that all items in `[left, k]` range are the smallest.\n * The `k`-th element will have the `(k - left + 1)`-th smallest value in `[left, right]`.\n *\n * Implements Floyd-Rivest selection algorithm https://en.wikipedia.org/wiki/Floyd-Rivest_algorithm\n *\n * @param {Array<number>} arr input array\n * @param {number} k pivot index\n * @param {number} [left] left index\n * @param {number} [right] right index\n * @returns {void} mutates input array\n * @example\n * var arr = [65, 28, 59, 33, 21, 56, 22, 95, 50, 12, 90, 53, 28, 77, 39];\n * quickselect(arr, 8);\n * // = [39, 28, 28, 33, 21, 12, 22, 50, 53, 56, 59, 65, 90, 77, 95]\n */\nexport function quickselect(arr: number[], k, left?: number, right?: number): void {\n  left = left || 0;\n  right = right || arr.length - 1;\n\n  while (right > left) {\n    // 600 and 0.5 are arbitrary constants chosen in the original paper to minimize execution time\n    if (right - left > 600) {\n      const n = right - left + 1;\n      const m = k - left + 1;\n      const z = Math.log(n);\n      const s = 0.5 * Math.exp((2 * z) / 3);\n      let sd = 0.5 * Math.sqrt((z * s * (n - s)) / n);\n      if (m - n / 2 < 0) sd *= -1;\n      const newLeft = Math.max(left, Math.floor(k - (m * s) / n + sd));\n      const newRight = Math.min(right, Math.floor(k + ((n - m) * s) / n + sd));\n      quickselect(arr, k, newLeft, newRight);\n    }\n\n    const t = arr[k];\n    let i = left;\n    let j = right;\n\n    swap(arr, left, k);\n    if (arr[right] > t) swap(arr, left, right);\n\n    while (i < j) {\n      swap(arr, i, j);\n      i++;\n      j--;\n      while (arr[i] < t) i++;\n      while (arr[j] > t) j--;\n    }\n\n    if (arr[left] === t) swap(arr, left, j);\n    else {\n      j++;\n      swap(arr, j, right);\n    }\n\n    if (j <= k) left = j + 1;\n    if (k <= j) right = j - 1;\n  }\n}\n\n/**\n * The [quantile](https://en.wikipedia.org/wiki/Quantile):\n * this is a population quantile, since we assume to know the entire\n * dataset in this library. This is an implementation of the\n * [Quantiles of a Population](http://en.wikipedia.org/wiki/Quantile#Quantiles_of_a_population)\n * algorithm from wikipedia.\n *\n * Sample is a one-dimensional array of numbers,\n * and p is either a decimal number from 0 to 1 or an array of decimal\n * numbers from 0 to 1.\n * In terms of a k/q quantile, p = k/q - it's just dealing with fractions or dealing\n * with decimal values.\n * When p is an array, the result of the function is also an array containing the appropriate\n * quantiles in input order\n *\n * @param {Array<number>} x sample of one or more numbers\n * @param {Array<number> | number} p the desired quantile, as a number between 0 and 1\n * @returns {number} quantile\n * @example\n * quantile([3, 6, 7, 8, 8, 9, 10, 13, 15, 16, 20], 0.5); // => 9\n */\nfunction quantile(x: number[], p: number): number;\nfunction quantile(x: number[], p: number[]): number[];\nfunction quantile(x: any, p: any): any {\n  const copy = x.slice();\n\n  if (Array.isArray(p)) {\n    // rearrange elements so that each element corresponding to a requested\n    // quantile is on a place it would be if the array was fully sorted\n    multiQuantileSelect(copy, p);\n    // Initialize the result array\n    const results: number[] = [];\n    // For each requested quantile\n    for (let i = 0; i < p.length; i++) {\n      results[i] = quantileSorted(copy, p[i]);\n    }\n    return results;\n  } else {\n    const idx = quantileIndex(copy.length, p);\n    quantileSelect(copy, idx, 0, copy.length - 1);\n    return quantileSorted(copy, p);\n  }\n}\n\nfunction quantileSelect(arr, k, left, right) {\n  if (k % 1 === 0) {\n    quickselect(arr, k, left, right);\n  } else {\n    k = Math.floor(k);\n    quickselect(arr, k, left, right);\n    quickselect(arr, k + 1, k + 1, right);\n  }\n}\n\nfunction multiQuantileSelect(arr, p) {\n  const indices = [0];\n  for (let i = 0; i < p.length; i++) {\n    indices.push(quantileIndex(arr.length, p[i]));\n  }\n  indices.push(arr.length - 1);\n  indices.sort(compare);\n\n  const stack = [0, indices.length - 1];\n\n  while (stack.length) {\n    const r = Math.ceil(stack.pop());\n    const l = Math.floor(stack.pop());\n    if (r - l <= 1) continue;\n\n    const m = Math.floor((l + r) / 2);\n    quantileSelect(arr, indices[m], Math.floor(indices[l]), Math.ceil(indices[r]));\n\n    stack.push(l, m, m, r);\n  }\n}\n\nfunction compare(a, b) {\n  return a - b;\n}\n\nfunction quantileIndex(len, p) {\n  const idx = len * p;\n  if (p === 1) {\n    // If p is 1, directly return the last index\n    return len - 1;\n  } else if (p === 0) {\n    // If p is 0, directly return the first index\n    return 0;\n  } else if (idx % 1 !== 0) {\n    // If index is not integer, return the next index in array\n    return Math.ceil(idx) - 1;\n  } else if (len % 2 === 0) {\n    // If the list has even-length, we'll return the middle of two indices\n    // around quantile to indicate that we need an average value of the two\n    return idx - 0.5;\n  } else {\n    // Finally, in the simple case of an integer index\n    // with an odd-length list, return the index\n    return idx;\n  }\n}\n\nexport { quantile };\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { VennOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\n\nexport type { VennOptions };\n\n/**\n *  \n */\nexport class Venn extends Plot<VennOptions> {\n  /**  */\n  public type: string = 'venn';\n\n  static getDefaultOptions() {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Venn.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<VennOptions> {\n    return adaptor;\n  }\n\n  /**\n   * \n   */\n  protected triggerResize() {\n    if (!this.chart.destroyed) {\n      // \n      this.chart.forceFit(); // g2  changeSizechangeSize  render(true)\n      this.chart.clear();\n      this.execAdaptor(); // \n      // \n      this.chart.render(true);\n    }\n  }\n}\n","import { Types } from '@antv/g2';\nimport { Datum, Options, StyleAttr } from '../../types';\nimport { ID_FIELD, PATH_FIELD } from './constant';\n\nexport type VennData = (Types.Datum & { sets: string[]; [PATH_FIELD]: string; [ID_FIELD]: string })[];\n\n/**  */\nexport interface VennOptions extends Options {\n  /**\n   * @title \n   */\n  readonly data: Types.Datum[];\n  /**\n   * @title \n   */\n  readonly setsField: string;\n  /**\n   * @title \n   */\n  readonly sizeField: string;\n\n  //  \n\n  /**\n   * @title \n   */\n  readonly color?: string | string[] | ((datum: Datum, defaultColor?: string) => string);\n  /**\n   * @title \n   * @description  :  https://gka.github.io/chroma.js/#chroma-blend\n   * @default \"multiply\"\n   */\n  readonly blendMode?: string;\n  /**\n   * @title point \n   */\n  readonly pointStyle?: StyleAttr;\n}\n\nexport type CustomInfo = { offsetY: number; offsetX: number } & Pick<VennOptions, 'label'>;\n","import { Geometry } from '@antv/g2';\nimport { isArray, get, deepMix, isEqual } from '@antv/util';\nimport { interaction, animation, theme, tooltip, scale } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { schema as schemaGeometry } from '../../adaptor/geometries';\nimport {\n  deepAssign,\n  flow,\n  findGeometry,\n  transformLabel,\n  getAdjustAppendPadding,\n  normalPadding,\n  resolveAllPadding,\n} from '../../utils';\nimport { Datum } from '../../types';\nimport { log, LEVEL } from '../../utils';\nimport { getColorMap, layoutVennData, islegalSets } from './utils';\nimport { CustomInfo, VennData, VennOptions } from './types';\nimport { ID_FIELD } from './constant';\nimport './shape';\nimport './label';\nimport './interactions';\n\n/**  */\nexport const LEGEND_SPACE = 40;\n\n/**\n *  color \n */\nfunction colorMap(params: Params<VennOptions>, data: VennData, colorPalette?: string[]) {\n  const { chart, options } = params;\n  const { blendMode, setsField } = options;\n  const { colors10, colors20 } = chart.getTheme();\n  let palette = colorPalette;\n  if (!isArray(palette)) {\n    palette = data.filter((d) => d[setsField].length === 1).length <= 10 ? colors10 : colors20;\n  }\n  const map = getColorMap(palette, data, blendMode, setsField);\n\n  return (id: string) => map.get(id) || palette[0];\n}\n\n/**\n * color options \n */\nfunction transformColor(params: Params<VennOptions>, data: VennData): VennOptions['color'] {\n  const { options } = params;\n  const { color } = options;\n\n  if (typeof color !== 'function') {\n    const colorPalette = typeof color === 'string' ? [color] : color;\n    const map = colorMap(params, data, colorPalette);\n    return (datum: Datum) => map(datum[ID_FIELD]);\n  }\n  return color;\n}\n\n/**\n *  padding\n */\nfunction padding(params: Params<VennOptions>): Params<VennOptions> {\n  const { chart, options } = params;\n  const { legend, appendPadding, padding } = options;\n\n  //  legend .  40px,  appendPadding \n  let tempPadding: number[] = normalPadding(appendPadding);\n  if (legend !== false) {\n    tempPadding = getAdjustAppendPadding(appendPadding, get(legend, 'position'), LEGEND_SPACE);\n  }\n\n  chart.appendPadding = resolveAllPadding([tempPadding, padding]);\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction data(params: Params<VennOptions>): Params<VennOptions> {\n  const { options } = params;\n\n  /*     \n   * \n   * data = [\n   *   { sets: ['A'], size: 3 }, // \n   *   { sets: ['B'], size: 4 }, // \n   *   { sets: ['A', 'B'], size: 2 }, // \n   *   { sets: ['A', 'B', 'C'], size: 2 }, //  ( C)\n   *   ...\n   * ]\n   */\n\n  let data = options['data'];\n  if (!data) {\n    log(LEVEL.WARN, false, 'warn: %s', '');\n    data = [];\n  }\n\n  // ['A', 'B']\n  const currSets = data.filter((datum) => datum.sets.length === 1).map((datum) => datum.sets[0]);\n  //  data\n  const filterSets = data.filter((datum) => {\n    const sets = datum.sets;\n    // \n    return islegalSets(currSets, sets);\n  });\n\n  if (!isEqual(filterSets, data)) log(LEVEL.WARN, false, 'warn: %s', ', ');\n\n  return deepMix({}, params, {\n    options: {\n      data: filterSets,\n    },\n  });\n}\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<VennOptions>): Params<VennOptions> {\n  const { chart, options } = params;\n  const { pointStyle, setsField, sizeField } = options;\n\n  // \n  const [t, r, b, l] = normalPadding(chart.appendPadding);\n  //  legend .  40px,  appendPadding \n  const customInfo: CustomInfo = { offsetX: l, offsetY: t };\n  // coordinateBBox + appendPadding = viewBBox,  appendPadding  viewBBox\n  const { width, height } = chart.viewBBox;\n  // padding w  h \n  const vennData: VennData = layoutVennData(options, Math.max(width - (r + l), 0), Math.max(height - (t + b), 0), 0);\n  chart.data(vennData);\n\n  const { ext } = schemaGeometry(\n    deepAssign({}, params, {\n      options: {\n        xField: 'x',\n        yField: 'y',\n        sizeField: sizeField,\n        seriesField: ID_FIELD,\n        rawFields: [setsField, sizeField],\n        schema: {\n          shape: 'venn',\n          style: pointStyle,\n        },\n      },\n    })\n  );\n\n  const geometry = ext.geometry as Geometry;\n  geometry.customInfo(customInfo);\n\n  const colorOptions = transformColor(params, vennData);\n  // , color .  datum\n  if (typeof colorOptions === 'function') {\n    geometry.color(ID_FIELD, (id) => {\n      const datum = vennData.find((d) => d[ID_FIELD] === id);\n      const defaultColor = colorMap(params, vennData)(id);\n      return colorOptions(datum, defaultColor);\n    });\n  }\n\n  return params;\n}\n\n/**\n *  label\n * @param params\n */\nfunction label(params: Params<VennOptions>): Params<VennOptions> {\n  const { chart, options } = params;\n  const { label } = options;\n\n  // \n  const [t, , , l] = normalPadding(chart.appendPadding);\n  //  label  \n  const customLabelInfo = { offsetX: l, offsetY: t };\n\n  const geometry = findGeometry(chart, 'schema');\n\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: ['id'],\n      callback,\n      cfg: deepMix({}, transformLabel(cfg), {\n        //  G2  label \n        type: 'venn',\n        customLabelInfo,\n      }),\n    });\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<VennOptions>): Params<VennOptions> {\n  const { chart, options } = params;\n  const { legend, sizeField } = options;\n\n  chart.legend(ID_FIELD, legend);\n  //  \n  chart.legend(sizeField, false);\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function axis(params: Params<VennOptions>): Params<VennOptions> {\n  const { chart } = params;\n  chart.axis(false);\n\n  return params;\n}\n\n/**\n *  interaction \n */\nfunction vennInteraction(params: Params<VennOptions>): Params<VennOptions> {\n  const { options, chart } = params;\n  const { interactions } = options;\n\n  if (interactions) {\n    const MAP = {\n      'legend-active': 'venn-legend-active',\n      'legend-highlight': 'venn-legend-highlight',\n    };\n    interaction(\n      deepAssign({}, params, {\n        options: {\n          interactions: interactions.map((i) => ({\n            ...i,\n            type: MAP[i.type] || i.type,\n          })),\n        },\n      })\n    );\n  }\n\n  chart.removeInteraction('legend-active');\n  chart.removeInteraction('legend-highlight');\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<VennOptions>) {\n  // flow  G2 API\n  return flow(\n    padding,\n    theme,\n    data,\n    geometry,\n    label,\n    scale({}),\n    legend,\n    axis,\n    tooltip,\n    vennInteraction,\n    animation\n    // ...  adaptor flow\n  )(params);\n}\n","import { assign, memoize } from '@antv/util';\nimport { blend } from '../../utils/color/blend';\nimport { log, LEVEL } from '../../utils';\nimport { venn, scaleSolution } from './layout/layout';\nimport { intersectionAreaPath, computeTextCentres } from './layout/diagram';\nimport { ID_FIELD, PATH_FIELD } from './constant';\nimport { VennData, VennOptions } from './types';\n\ntype ColorMapFunction = (\n  colorPalette: string[],\n  data: VennData,\n  blendMode: VennOptions['blendMode'],\n  setsField: VennOptions['setsField']\n) => Map<string, string>;\n\n/**\n *  \n * @usage colorMap.get(id) => color\n *\n * @returns Map<string, string>\n */\nexport const getColorMap = memoize(\n  ((colorPalette, data, blendMode, setsField) => {\n    const colorMap = new Map<string /** id */, string /** color */>();\n    const colorPaletteLen = colorPalette.length;\n    data.forEach((d, idx) => {\n      if (d[setsField].length === 1) {\n        colorMap.set(d[ID_FIELD], colorPalette[(idx + colorPaletteLen) % colorPaletteLen]);\n      } else {\n        /**   */\n        const colorArr = d[setsField].map((id) => colorMap.get(id));\n        colorMap.set(\n          d[ID_FIELD],\n          colorArr.slice(1).reduce((a, b) => blend(a, b, blendMode), colorArr[0])\n        );\n      }\n    });\n\n    return colorMap;\n  }) as ColorMapFunction,\n  (...params) => JSON.stringify(params)\n) as ColorMapFunction;\n\n/**\n * \n *\n * @param data\n * @param width\n * @param height\n * @param padding\n * @returns \n */\nexport function layoutVennData(options: VennOptions, width: number, height: number, padding: number = 0): VennData {\n  const { data, setsField, sizeField } = options;\n\n  // \n  if (data.length === 0) {\n    log(LEVEL.WARN, false, 'warn: %s', '');\n    return [];\n  }\n\n  const vennData: VennData = data.map((d) => ({\n    ...d,\n    sets: d[setsField] || [],\n    size: d[sizeField],\n    [PATH_FIELD]: '',\n    [ID_FIELD]: '',\n  }));\n  // 1. \n  vennData.sort((a, b) => a.sets.length - b.sets.length);\n  // todo 2.  crash\n\n  const solution = venn(vennData);\n  const circles = scaleSolution(solution, width, height, padding);\n  const textCenters = computeTextCentres(circles, vennData);\n  vennData.forEach((row) => {\n    const sets = row.sets;\n    const id = sets.join(',');\n    row[ID_FIELD] = id;\n    //  vennText \n    const setCircles = sets.map((set) => circles[set]);\n    let path = intersectionAreaPath(setCircles);\n    if (!/[zZ]$/.test(path)) {\n      path += ' Z';\n    }\n    row[PATH_FIELD] = path;\n    const center = textCenters[id] || { x: 0, y: 0 };\n    assign(row, center);\n  });\n  return vennData;\n}\n\n/**\n *  \n * @param legalArr ['A', 'B']\n * @param testArr ['A', 'B', 'C'] or ['A', 'C'] 'C'\n * @return boolean\n */\nexport function islegalSets(legalArr: any[], testArr: any[]): boolean {\n  for (let i = 0; i < testArr.length; i++) {\n    if (!legalArr.includes(testArr[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n","import colorUtil from '@antv/color-util';\n/*\n * interpolates between a set of colors uzing a bezier spline\n * blend mode formulas taken from http://www.venture-ware.com/kevin/coding/lets-learn-math-photoshop-blend-modes/\n */\n\nconst each =\n  (f) =>\n  (c0: number[], c1: number[]): number[] => {\n    const out = [];\n    out[0] = f(c0[0], c1[0]);\n    out[1] = f(c0[1], c1[1]);\n    out[2] = f(c0[2], c1[2]);\n    return out;\n  };\n\n/**\n * \n */\nconst blendObject = {\n  normal: (a: number) => a,\n  multiply: (a: number, b: number) => (a * b) / 255,\n  screen: (a: number, b: number) => 255 * (1 - (1 - a / 255) * (1 - b / 255)),\n  overlay: (a: number, b: number) => (b < 128 ? (2 * a * b) / 255 : 255 * (1 - 2 * (1 - a / 255) * (1 - b / 255))),\n  darken: (a: number, b: number) => (a > b ? b : a),\n  lighten: (a: number, b: number) => (a > b ? a : b),\n  dodge: (a: number, b: number) => {\n    if (a === 255) return 255;\n    a = (255 * (b / 255)) / (1 - a / 255);\n    return a > 255 ? 255 : a;\n  },\n  burn: (a: number, b: number) => {\n    //  w3c  0 \n    if (b === 255) return 255;\n    else if (a === 0) return 0;\n    else return 255 * (1 - Math.min(1, (1 - b / 255) / (a / 255)));\n  },\n};\n\n/**\n * \n */\nexport const innerBlend = (mode: string) => {\n  if (!blendObject[mode]) {\n    throw new Error('unknown blend mode ' + mode);\n  }\n  return blendObject[mode];\n};\n\n/**\n * \n * https://www.w3.org/TR/compositing/#blending\n * @param c0\n * @param c1\n * @param mode \n * @return rbga\n */\nexport function blend(c0: string, c1: string, mode = 'normal') {\n  // blendRgbArr:  blend color: [r, g, b]\n  const blendRgbArr = each(innerBlend(mode))(colorToArr(c0), colorToArr(c1));\n\n  const [r0, g0, b0, a0] = colorToArr(c0);\n  const [r1, g1, b1, a1] = colorToArr(c1);\n\n  const a = Number((a0 + a1 * (1 - a0)).toFixed(2));\n\n  const r = Math.round(\n    ((a0 * (1 - a1) * (r0 / 255) + a0 * a1 * (blendRgbArr[0] / 255) + (1 - a0) * a1 * (r1 / 255)) / a) * 255\n  );\n  const g = Math.round(\n    ((a0 * (1 - a1) * (g0 / 255) + a0 * a1 * (blendRgbArr[1] / 255) + (1 - a0) * a1 * (g1 / 255)) / a) * 255\n  );\n  const b = Math.round(\n    ((a0 * (1 - a1) * (b0 / 255) + a0 * a1 * (blendRgbArr[2] / 255) + (1 - a0) * a1 * (b1 / 255)) / a) * 255\n  );\n\n  return `rgba(${r}, ${g}, ${b}, ${a})`;\n}\n\n/**\n *  [r, g, b, a]\n * https://www.w3.org/TR/compositing/#blending\n * @param c color\n * @return [r, g, b, a]\n */\nexport function colorToArr(c: string): number[] {\n  const color = c.replace('/s+/g', ''); // \n  let rgbaArr: any[];\n\n  // 'red' -> [r, g, b, 1]\n  if (typeof color === 'string' && !color.startsWith('rgba') && !color.startsWith('#')) {\n    return (rgbaArr = colorUtil.rgb2arr(colorUtil.toRGB(color)).concat([1]));\n  }\n\n  // rgba(255, 200, 125, 0.5) -> [r, g, b, a]\n  if (color.startsWith('rgba')) rgbaArr = color.replace('rgba(', '').replace(')', '').split(',');\n\n  // '#fff000' -> [r, g, b, 1]\n  if (color.startsWith('#')) rgbaArr = colorUtil.rgb2arr(color).concat([1]); //  16 6  1\n\n  // [r, g, b, a] \n  return rgbaArr.map((item, index) => (index === 3 ? Number(item) : item | 0));\n}\n","import { nelderMead, bisect, conjugateGradient, zeros, zerosM, norm2, scale } from 'fmin';\nimport { intersectionArea, circleOverlap, circleCircleIntersection, distance } from './circleintersection';\n\n/** given a list of set objects, and their corresponding overlaps.\nupdates the (x, y, radius) attribute on each set such that their positions\nroughly correspond to the desired overlaps */\nexport function venn(areas, parameters?: any) {\n  parameters = parameters || {};\n  parameters.maxIterations = parameters.maxIterations || 500;\n  const initialLayout = parameters.initialLayout || bestInitialLayout;\n  const loss = parameters.lossFunction || lossFunction;\n\n  // add in missing pairwise areas as having 0 size\n  areas = addMissingAreas(areas);\n\n  // initial layout is done greedily\n  const circles = initialLayout(areas, parameters);\n\n  // transform x/y coordinates to a vector to optimize\n  const initial = [],\n    setids = [];\n  let setid;\n  for (setid in circles) {\n    // eslint-disable-next-line\n    if (circles.hasOwnProperty(setid)) {\n      initial.push(circles[setid].x);\n      initial.push(circles[setid].y);\n      setids.push(setid);\n    }\n  }\n\n  // optimize initial layout from our loss function\n  const solution = nelderMead(\n    function (values) {\n      const current = {};\n      for (let i = 0; i < setids.length; ++i) {\n        const setid = setids[i];\n        current[setid] = {\n          x: values[2 * i],\n          y: values[2 * i + 1],\n          radius: circles[setid].radius,\n          // size : circles[setid].size\n        };\n      }\n      return loss(current, areas);\n    },\n    initial,\n    parameters\n  );\n\n  // transform solution vector back to x/y points\n  const positions = solution.x;\n  for (let i = 0; i < setids.length; ++i) {\n    setid = setids[i];\n    circles[setid].x = positions[2 * i];\n    circles[setid].y = positions[2 * i + 1];\n  }\n\n  return circles;\n}\n\nconst SMALL = 1e-10;\n\n/** Returns the distance necessary for two circles of radius r1 + r2 to\nhave the overlap area 'overlap' */\nexport function distanceFromIntersectArea(r1, r2, overlap) {\n  // handle complete overlapped circles\n  if (Math.min(r1, r2) * Math.min(r1, r2) * Math.PI <= overlap + SMALL) {\n    return Math.abs(r1 - r2);\n  }\n\n  return bisect(\n    function (distance) {\n      return circleOverlap(r1, r2, distance) - overlap;\n    },\n    0,\n    r1 + r2\n  );\n}\n\n/** Missing pair-wise intersection area data can cause problems:\n treating as an unknown means that sets will be laid out overlapping,\n which isn't what people expect. To reflect that we want disjoint sets\n here, set the overlap to 0 for all missing pairwise set intersections */\nfunction addMissingAreas(areas) {\n  areas = areas.slice();\n\n  // two circle intersections that aren't defined\n  const ids: number[] = [],\n    pairs: any = {};\n  let i, j, a, b;\n  for (i = 0; i < areas.length; ++i) {\n    const area = areas[i];\n    if (area.sets.length == 1) {\n      ids.push(area.sets[0]);\n    } else if (area.sets.length == 2) {\n      a = area.sets[0];\n      b = area.sets[1];\n      // @ts-ignore\n      pairs[[a, b]] = true;\n      // @ts-ignore\n      pairs[[b, a]] = true;\n    }\n  }\n  ids.sort((a, b) => {\n    return a > b ? 1 : -1;\n  });\n\n  for (i = 0; i < ids.length; ++i) {\n    a = ids[i];\n    for (j = i + 1; j < ids.length; ++j) {\n      b = ids[j];\n      // @ts-ignore\n      if (!([a, b] in pairs)) {\n        areas.push({ sets: [a, b], size: 0 });\n      }\n    }\n  }\n  return areas;\n}\n\n/// Returns two matrices, one of the euclidean distances between the sets\n/// and the other indicating if there are subset or disjoint set relationships\nexport function getDistanceMatrices(areas, sets, setids) {\n  // initialize an empty distance matrix between all the points\n  const distances = zerosM(sets.length, sets.length),\n    constraints = zerosM(sets.length, sets.length);\n\n  // compute required distances between all the sets such that\n  // the areas match\n  areas\n    .filter(function (x) {\n      return x.sets.length == 2;\n    })\n    .map(function (current) {\n      const left = setids[current.sets[0]],\n        right = setids[current.sets[1]],\n        r1 = Math.sqrt(sets[left].size / Math.PI),\n        r2 = Math.sqrt(sets[right].size / Math.PI),\n        distance = distanceFromIntersectArea(r1, r2, current.size);\n\n      distances[left][right] = distances[right][left] = distance;\n\n      // also update constraints to indicate if its a subset or disjoint\n      // relationship\n      let c = 0;\n      if (current.size + 1e-10 >= Math.min(sets[left].size, sets[right].size)) {\n        c = 1;\n      } else if (current.size <= 1e-10) {\n        c = -1;\n      }\n      constraints[left][right] = constraints[right][left] = c;\n    });\n\n  return { distances: distances, constraints: constraints };\n}\n\n/// computes the gradient and loss simulatenously for our constrained MDS optimizer\nfunction constrainedMDSGradient(x, fxprime, distances, constraints) {\n  let loss = 0,\n    i;\n  for (i = 0; i < fxprime.length; ++i) {\n    fxprime[i] = 0;\n  }\n\n  for (i = 0; i < distances.length; ++i) {\n    const xi = x[2 * i],\n      yi = x[2 * i + 1];\n    for (let j = i + 1; j < distances.length; ++j) {\n      const xj = x[2 * j],\n        yj = x[2 * j + 1],\n        dij = distances[i][j],\n        constraint = constraints[i][j];\n\n      const squaredDistance = (xj - xi) * (xj - xi) + (yj - yi) * (yj - yi),\n        distance = Math.sqrt(squaredDistance),\n        delta = squaredDistance - dij * dij;\n\n      if ((constraint > 0 && distance <= dij) || (constraint < 0 && distance >= dij)) {\n        continue;\n      }\n\n      loss += 2 * delta * delta;\n\n      fxprime[2 * i] += 4 * delta * (xi - xj);\n      fxprime[2 * i + 1] += 4 * delta * (yi - yj);\n\n      fxprime[2 * j] += 4 * delta * (xj - xi);\n      fxprime[2 * j + 1] += 4 * delta * (yj - yi);\n    }\n  }\n  return loss;\n}\n\n/// takes the best working variant of either constrained MDS or greedy\nexport function bestInitialLayout(areas, params) {\n  let initial = greedyLayout(areas, params);\n  const loss = params.lossFunction || lossFunction;\n\n  // greedylayout is sufficient for all 2/3 circle cases. try out\n  // constrained MDS for higher order problems, take its output\n  // if it outperforms. (greedy is aesthetically better on 2/3 circles\n  // since it axis aligns)\n  if (areas.length >= 8) {\n    const constrained = constrainedMDSLayout(areas, params),\n      constrainedLoss = loss(constrained, areas),\n      greedyLoss = loss(initial, areas);\n\n    if (constrainedLoss + 1e-8 < greedyLoss) {\n      initial = constrained;\n    }\n  }\n  return initial;\n}\n\n/// use the constrained MDS variant to generate an initial layout\nexport function constrainedMDSLayout(areas, params) {\n  params = params || {};\n  const restarts = params.restarts || 10;\n\n  // bidirectionally map sets to a rowid  (so we can create a matrix)\n  const sets = [],\n    setids = {};\n  let i;\n  for (i = 0; i < areas.length; ++i) {\n    const area = areas[i];\n    if (area.sets.length == 1) {\n      setids[area.sets[0]] = sets.length;\n      sets.push(area);\n    }\n  }\n\n  const matrices = getDistanceMatrices(areas, sets, setids);\n  let distances = matrices.distances;\n  const constraints = matrices.constraints;\n\n  // keep distances bounded, things get messed up otherwise.\n  // TODO: proper preconditioner?\n  const norm = norm2(distances.map(norm2)) / distances.length;\n  distances = distances.map(function (row) {\n    return row.map(function (value) {\n      return value / norm;\n    });\n  });\n\n  const obj = function (x, fxprime) {\n    return constrainedMDSGradient(x, fxprime, distances, constraints);\n  };\n\n  let best, current;\n  for (i = 0; i < restarts; ++i) {\n    const initial = zeros(distances.length * 2).map(Math.random);\n\n    current = conjugateGradient(obj, initial, params);\n    if (!best || current.fx < best.fx) {\n      best = current;\n    }\n  }\n  const positions = best.x;\n\n  // translate rows back to (x,y,radius) coordinates\n  const circles = {};\n  for (i = 0; i < sets.length; ++i) {\n    const set = sets[i];\n    circles[set.sets[0]] = {\n      x: positions[2 * i] * norm,\n      y: positions[2 * i + 1] * norm,\n      radius: Math.sqrt(set.size / Math.PI),\n    };\n  }\n\n  if (params.history) {\n    for (i = 0; i < params.history.length; ++i) {\n      scale(params.history[i].x, norm);\n    }\n  }\n  return circles;\n}\n\n/** Lays out a Venn diagram greedily, going from most overlapped sets to\nleast overlapped, attempting to position each new set such that the\noverlapping areas to already positioned sets are basically right */\nexport function greedyLayout(areas, params) {\n  const loss = params && params.lossFunction ? params.lossFunction : lossFunction;\n  // define a circle for each set\n  const circles = {},\n    setOverlaps = {};\n  let set;\n  for (let i = 0; i < areas.length; ++i) {\n    const area = areas[i];\n    if (area.sets.length == 1) {\n      set = area.sets[0];\n      circles[set] = {\n        x: 1e10,\n        y: 1e10,\n        // rowid: circles.length, // fix to ->\n        rowid: Object.keys(circles).length,\n        size: area.size,\n        radius: Math.sqrt(area.size / Math.PI),\n      };\n      setOverlaps[set] = [];\n    }\n  }\n  areas = areas.filter(function (a) {\n    return a.sets.length == 2;\n  });\n\n  // map each set to a list of all the other sets that overlap it\n  for (let i = 0; i < areas.length; ++i) {\n    const current = areas[i];\n    // eslint-disable-next-line\n    let weight = current.hasOwnProperty('weight') ? current.weight : 1.0;\n    const left = current.sets[0],\n      right = current.sets[1];\n\n    // completely overlapped circles shouldn't be positioned early here\n    if (current.size + SMALL >= Math.min(circles[left].size, circles[right].size)) {\n      weight = 0;\n    }\n\n    setOverlaps[left].push({ set: right, size: current.size, weight: weight });\n    setOverlaps[right].push({ set: left, size: current.size, weight: weight });\n  }\n\n  // get list of most overlapped sets\n  const mostOverlapped = [];\n  for (set in setOverlaps) {\n    // eslint-disable-next-line\n    if (setOverlaps.hasOwnProperty(set)) {\n      let size = 0;\n      for (let i = 0; i < setOverlaps[set].length; ++i) {\n        size += setOverlaps[set][i].size * setOverlaps[set][i].weight;\n      }\n\n      mostOverlapped.push({ set: set, size: size });\n    }\n  }\n\n  // sort by size desc\n  function sortOrder(a, b) {\n    return b.size - a.size;\n  }\n  mostOverlapped.sort(sortOrder);\n\n  // keep track of what sets have been laid out\n  const positioned = {};\n  function isPositioned(element) {\n    return element.set in positioned;\n  }\n\n  // adds a point to the output\n  function positionSet(point, index) {\n    circles[index].x = point.x;\n    circles[index].y = point.y;\n    positioned[index] = true;\n  }\n\n  // add most overlapped set at (0,0)\n  positionSet({ x: 0, y: 0 }, mostOverlapped[0].set);\n\n  // get distances between all points. TODO, necessary?\n  // answer: probably not\n  // var distances = venn.getDistanceMatrices(circles, areas).distances;\n  for (let i = 1; i < mostOverlapped.length; ++i) {\n    const setIndex = mostOverlapped[i].set,\n      overlap = setOverlaps[setIndex].filter(isPositioned);\n    set = circles[setIndex];\n    overlap.sort(sortOrder);\n\n    if (overlap.length === 0) {\n      // this shouldn't happen anymore with addMissingAreas\n      throw 'ERROR: missing pairwise overlap information';\n    }\n\n    const points = [];\n    for (let j = 0; j < overlap.length; ++j) {\n      // get appropriate distance from most overlapped already added set\n      const p1 = circles[overlap[j].set],\n        d1 = distanceFromIntersectArea(set.radius, p1.radius, overlap[j].size);\n\n      // sample positions at 90 degrees for maximum aesthetics\n      points.push({ x: p1.x + d1, y: p1.y });\n      points.push({ x: p1.x - d1, y: p1.y });\n      points.push({ y: p1.y + d1, x: p1.x });\n      points.push({ y: p1.y - d1, x: p1.x });\n\n      // if we have at least 2 overlaps, then figure out where the\n      // set should be positioned analytically and try those too\n      for (let k = j + 1; k < overlap.length; ++k) {\n        const p2 = circles[overlap[k].set],\n          d2 = distanceFromIntersectArea(set.radius, p2.radius, overlap[k].size);\n\n        const extraPoints = circleCircleIntersection(\n          { x: p1.x, y: p1.y, radius: d1 },\n          { x: p2.x, y: p2.y, radius: d2 }\n        );\n\n        for (let l = 0; l < extraPoints.length; ++l) {\n          points.push(extraPoints[l]);\n        }\n      }\n    }\n\n    // we have some candidate positions for the set, examine loss\n    // at each position to figure out where to put it at\n    let bestLoss = 1e50,\n      bestPoint = points[0];\n    for (let j = 0; j < points.length; ++j) {\n      circles[setIndex].x = points[j].x;\n      circles[setIndex].y = points[j].y;\n      const localLoss = loss(circles, areas);\n      if (localLoss < bestLoss) {\n        bestLoss = localLoss;\n        bestPoint = points[j];\n      }\n    }\n\n    positionSet(bestPoint, setIndex);\n  }\n\n  return circles;\n}\n\n/** Given a bunch of sets, and the desired overlaps between these sets - computes\nthe distance from the actual overlaps to the desired overlaps. Note that\nthis method ignores overlaps of more than 2 circles */\nexport function lossFunction(sets, overlaps) {\n  let output = 0;\n\n  function getCircles(indices) {\n    return indices.map(function (i) {\n      return sets[i];\n    });\n  }\n\n  for (let i = 0; i < overlaps.length; ++i) {\n    const area = overlaps[i];\n    let overlap;\n    if (area.sets.length == 1) {\n      continue;\n    } else if (area.sets.length == 2) {\n      const left = sets[area.sets[0]],\n        right = sets[area.sets[1]];\n      overlap = circleOverlap(left.radius, right.radius, distance(left, right));\n    } else {\n      overlap = intersectionArea(getCircles(area.sets));\n    }\n\n    // eslint-disable-next-line\n    const weight = area.hasOwnProperty('weight') ? area.weight : 1.0;\n    output += weight * (overlap - area.size) * (overlap - area.size);\n  }\n\n  return output;\n}\n\n// orientates a bunch of circles to point in orientation\nfunction orientateCircles(circles, orientation, orientationOrder) {\n  if (orientationOrder === null) {\n    circles.sort(function (a, b) {\n      return b.radius - a.radius;\n    });\n  } else {\n    circles.sort(orientationOrder);\n  }\n\n  let i;\n  // shift circles so largest circle is at (0, 0)\n  if (circles.length > 0) {\n    const largestX = circles[0].x,\n      largestY = circles[0].y;\n\n    for (i = 0; i < circles.length; ++i) {\n      circles[i].x -= largestX;\n      circles[i].y -= largestY;\n    }\n  }\n\n  if (circles.length == 2) {\n    // if the second circle is a subset of the first, arrange so that\n    // it is off to one side. hack for https://github.com/benfred/venn.js/issues/120\n    const dist = distance(circles[0], circles[1]);\n    if (dist < Math.abs(circles[1].radius - circles[0].radius)) {\n      circles[1].x = circles[0].x + circles[0].radius - circles[1].radius - 1e-10;\n      circles[1].y = circles[0].y;\n    }\n  }\n\n  // rotate circles so that second largest is at an angle of 'orientation'\n  // from largest\n  if (circles.length > 1) {\n    const rotation = Math.atan2(circles[1].x, circles[1].y) - orientation;\n    let x, y;\n    const c = Math.cos(rotation),\n      s = Math.sin(rotation);\n    for (i = 0; i < circles.length; ++i) {\n      x = circles[i].x;\n      y = circles[i].y;\n      circles[i].x = c * x - s * y;\n      circles[i].y = s * x + c * y;\n    }\n  }\n\n  // mirror solution if third solution is above plane specified by\n  // first two circles\n  if (circles.length > 2) {\n    let angle = Math.atan2(circles[2].x, circles[2].y) - orientation;\n    while (angle < 0) {\n      angle += 2 * Math.PI;\n    }\n    while (angle > 2 * Math.PI) {\n      angle -= 2 * Math.PI;\n    }\n    if (angle > Math.PI) {\n      const slope = circles[1].y / (1e-10 + circles[1].x);\n      for (i = 0; i < circles.length; ++i) {\n        const d = (circles[i].x + slope * circles[i].y) / (1 + slope * slope);\n        circles[i].x = 2 * d - circles[i].x;\n        circles[i].y = 2 * d * slope - circles[i].y;\n      }\n    }\n  }\n}\n\nexport function disjointCluster(circles) {\n  // union-find clustering to get disjoint sets\n  circles.map(function (circle) {\n    circle.parent = circle;\n  });\n\n  // path compression step in union find\n  function find(circle) {\n    if (circle.parent !== circle) {\n      circle.parent = find(circle.parent);\n    }\n    return circle.parent;\n  }\n\n  function union(x, y) {\n    const xRoot = find(x),\n      yRoot = find(y);\n    xRoot.parent = yRoot;\n  }\n\n  // get the union of all overlapping sets\n  for (let i = 0; i < circles.length; ++i) {\n    for (let j = i + 1; j < circles.length; ++j) {\n      const maxDistance = circles[i].radius + circles[j].radius;\n      if (distance(circles[i], circles[j]) + 1e-10 < maxDistance) {\n        union(circles[j], circles[i]);\n      }\n    }\n  }\n\n  // find all the disjoint clusters and group them together\n  const disjointClusters = {};\n  let setid;\n  for (let i = 0; i < circles.length; ++i) {\n    setid = find(circles[i]).parent.setid;\n    if (!(setid in disjointClusters)) {\n      disjointClusters[setid] = [];\n    }\n    disjointClusters[setid].push(circles[i]);\n  }\n\n  // cleanup bookkeeping\n  circles.map(function (circle) {\n    delete circle.parent;\n  });\n\n  // return in more usable form\n  const ret = [];\n  for (setid in disjointClusters) {\n    // eslint-disable-next-line\n    if (disjointClusters.hasOwnProperty(setid)) {\n      ret.push(disjointClusters[setid]);\n    }\n  }\n  return ret;\n}\n\nfunction getBoundingBox(circles) {\n  const minMax = function (d) {\n    const hi = Math.max.apply(\n        null,\n        circles.map(function (c) {\n          return c[d] + c.radius;\n        })\n      ),\n      lo = Math.min.apply(\n        null,\n        circles.map(function (c) {\n          return c[d] - c.radius;\n        })\n      );\n    return { max: hi, min: lo };\n  };\n\n  return { xRange: minMax('x'), yRange: minMax('y') };\n}\n\nexport function normalizeSolution(solution, orientation, orientationOrder) {\n  if (orientation === null) {\n    orientation = Math.PI / 2;\n  }\n\n  // work with a list instead of a dictionary, and take a copy so we\n  // don't mutate input\n  let circles = [],\n    i,\n    setid;\n  for (setid in solution) {\n    // eslint-disable-next-line\n    if (solution.hasOwnProperty(setid)) {\n      const previous = solution[setid];\n      circles.push({ x: previous.x, y: previous.y, radius: previous.radius, setid: setid });\n    }\n  }\n\n  // get all the disjoint clusters\n  const clusters = disjointCluster(circles);\n\n  // orientate all disjoint sets, get sizes\n  for (i = 0; i < clusters.length; ++i) {\n    orientateCircles(clusters[i], orientation, orientationOrder);\n    const bounds = getBoundingBox(clusters[i]);\n    clusters[i].size = (bounds.xRange.max - bounds.xRange.min) * (bounds.yRange.max - bounds.yRange.min);\n    clusters[i].bounds = bounds;\n  }\n  clusters.sort(function (a, b) {\n    return b.size - a.size;\n  });\n\n  // orientate the largest at 0,0, and get the bounds\n  circles = clusters[0];\n  // @ts-ignore fixme \n  let returnBounds = circles.bounds;\n\n  const spacing = (returnBounds.xRange.max - returnBounds.xRange.min) / 50;\n\n  function addCluster(cluster, right, bottom) {\n    if (!cluster) return;\n\n    const bounds = cluster.bounds;\n    let xOffset, yOffset, centreing;\n\n    if (right) {\n      xOffset = returnBounds.xRange.max - bounds.xRange.min + spacing;\n    } else {\n      xOffset = returnBounds.xRange.max - bounds.xRange.max;\n      centreing = (bounds.xRange.max - bounds.xRange.min) / 2 - (returnBounds.xRange.max - returnBounds.xRange.min) / 2;\n      if (centreing < 0) xOffset += centreing;\n    }\n\n    if (bottom) {\n      yOffset = returnBounds.yRange.max - bounds.yRange.min + spacing;\n    } else {\n      yOffset = returnBounds.yRange.max - bounds.yRange.max;\n      centreing = (bounds.yRange.max - bounds.yRange.min) / 2 - (returnBounds.yRange.max - returnBounds.yRange.min) / 2;\n      if (centreing < 0) yOffset += centreing;\n    }\n\n    for (let j = 0; j < cluster.length; ++j) {\n      cluster[j].x += xOffset;\n      cluster[j].y += yOffset;\n      circles.push(cluster[j]);\n    }\n  }\n\n  let index = 1;\n  while (index < clusters.length) {\n    addCluster(clusters[index], true, false);\n    addCluster(clusters[index + 1], false, true);\n    addCluster(clusters[index + 2], true, true);\n    index += 3;\n\n    // have one cluster (in top left). lay out next three relative\n    // to it in a grid\n    returnBounds = getBoundingBox(circles);\n  }\n\n  // convert back to solution form\n  const ret = {};\n  for (i = 0; i < circles.length; ++i) {\n    ret[circles[i].setid] = circles[i];\n  }\n  return ret;\n}\n\n/** Scales a solution from venn.venn or venn.greedyLayout such that it fits in\na rectangle of width/height - with padding around the borders. also\ncenters the diagram in the available space at the same time */\nexport function scaleSolution(solution, width, height, padding) {\n  const circles = [],\n    setids = [];\n  for (const setid in solution) {\n    // eslint-disable-next-line\n    if (solution.hasOwnProperty(setid)) {\n      setids.push(setid);\n      circles.push(solution[setid]);\n    }\n  }\n\n  width -= 2 * padding;\n  height -= 2 * padding;\n\n  const bounds = getBoundingBox(circles),\n    xRange = bounds.xRange,\n    yRange = bounds.yRange;\n\n  if (xRange.max == xRange.min || yRange.max == yRange.min) {\n    console.log('not scaling solution: zero size detected');\n    return solution;\n  }\n\n  const xScaling = width / (xRange.max - xRange.min),\n    yScaling = height / (yRange.max - yRange.min),\n    scaling = Math.min(yScaling, xScaling),\n    // while we're at it, center the diagram too\n    xOffset = (width - (xRange.max - xRange.min) * scaling) / 2,\n    yOffset = (height - (yRange.max - yRange.min) * scaling) / 2;\n\n  const scaled = {};\n  for (let i = 0; i < circles.length; ++i) {\n    const circle = circles[i];\n    scaled[setids[i]] = {\n      radius: scaling * circle.radius,\n      x: padding + xOffset + (circle.x - xRange.min) * scaling,\n      y: padding + yOffset + (circle.y - yRange.min) * scaling,\n    };\n  }\n\n  return scaled;\n}\n","import { nelderMead } from 'fmin';\nimport { intersectionArea, distance, getCenter } from './circleintersection';\n\nfunction circleMargin(current, interior, exterior) {\n  let margin = interior[0].radius - distance(interior[0], current),\n    i,\n    m;\n  for (i = 1; i < interior.length; ++i) {\n    m = interior[i].radius - distance(interior[i], current);\n    if (m <= margin) {\n      margin = m;\n    }\n  }\n\n  for (i = 0; i < exterior.length; ++i) {\n    m = distance(exterior[i], current) - exterior[i].radius;\n    if (m <= margin) {\n      margin = m;\n    }\n  }\n  return margin;\n}\n\n// compute the center of some circles by maximizing the margin of\n// the center point relative to the circles (interior) after subtracting\n// nearby circles (exterior)\nexport function computeTextCentre(interior, exterior) {\n  // get an initial estimate by sampling around the interior circles\n  // and taking the point with the biggest margin\n  const points = [];\n  let i;\n  for (i = 0; i < interior.length; ++i) {\n    const c = interior[i];\n    points.push({ x: c.x, y: c.y });\n    points.push({ x: c.x + c.radius / 2, y: c.y });\n    points.push({ x: c.x - c.radius / 2, y: c.y });\n    points.push({ x: c.x, y: c.y + c.radius / 2 });\n    points.push({ x: c.x, y: c.y - c.radius / 2 });\n  }\n  let initial = points[0],\n    margin = circleMargin(points[0], interior, exterior);\n  for (i = 1; i < points.length; ++i) {\n    const m = circleMargin(points[i], interior, exterior);\n    if (m >= margin) {\n      initial = points[i];\n      margin = m;\n    }\n  }\n\n  // maximize the margin numerically\n  const solution = nelderMead(\n    function (p) {\n      return -1 * circleMargin({ x: p[0], y: p[1] }, interior, exterior);\n    },\n    [initial.x, initial.y],\n    { maxIterations: 500, minErrorDelta: 1e-10 }\n  ).x;\n  let ret: any = { x: solution[0], y: solution[1] };\n\n  // check solution, fallback as needed (happens if fully overlapped\n  // etc)\n  let valid = true;\n  for (i = 0; i < interior.length; ++i) {\n    if (distance(ret, interior[i]) > interior[i].radius) {\n      valid = false;\n      break;\n    }\n  }\n\n  for (i = 0; i < exterior.length; ++i) {\n    if (distance(ret, exterior[i]) < exterior[i].radius) {\n      valid = false;\n      break;\n    }\n  }\n\n  if (!valid) {\n    if (interior.length == 1) {\n      ret = { x: interior[0].x, y: interior[0].y };\n    } else {\n      const areaStats: any = {};\n      intersectionArea(interior, areaStats);\n\n      if (areaStats.arcs.length === 0) {\n        ret = { x: 0, y: -1000, disjoint: true };\n      } else if (areaStats.arcs.length == 1) {\n        ret = { x: areaStats.arcs[0].circle.x, y: areaStats.arcs[0].circle.y };\n      } else if (exterior.length) {\n        // try again without other circles\n        ret = computeTextCentre(interior, []);\n      } else {\n        // take average of all the points in the intersection\n        // polygon. this should basically never happen\n        // and has some issues:\n        // https://github.com/benfred/venn.js/issues/48#issuecomment-146069777\n        ret = getCenter(\n          areaStats.arcs.map(function (a) {\n            return a.p1;\n          })\n        );\n      }\n    }\n  }\n\n  return ret;\n}\n\n// given a dictionary of {setid : circle}, returns\n// a dictionary of setid to list of circles that completely overlap it\nfunction getOverlappingCircles(circles) {\n  const ret = {},\n    circleids = [];\n  for (const circleid in circles) {\n    circleids.push(circleid);\n    ret[circleid] = [];\n  }\n  for (let i = 0; i < circleids.length; i++) {\n    const a = circles[circleids[i]];\n    for (let j = i + 1; j < circleids.length; ++j) {\n      const b = circles[circleids[j]],\n        d = distance(a, b);\n\n      if (d + b.radius <= a.radius + 1e-10) {\n        ret[circleids[j]].push(circleids[i]);\n      } else if (d + a.radius <= b.radius + 1e-10) {\n        ret[circleids[i]].push(circleids[j]);\n      }\n    }\n  }\n  return ret;\n}\n\nexport function computeTextCentres(circles, areas) {\n  const ret = {},\n    overlapped = getOverlappingCircles(circles);\n  for (let i = 0; i < areas.length; ++i) {\n    const area = areas[i].sets,\n      areaids = {},\n      exclude = {};\n    for (let j = 0; j < area.length; ++j) {\n      areaids[area[j]] = true;\n      const overlaps = overlapped[area[j]];\n      // keep track of any circles that overlap this area,\n      // and don't consider for purposes of computing the text\n      // centre\n      for (let k = 0; k < overlaps.length; ++k) {\n        exclude[overlaps[k]] = true;\n      }\n    }\n\n    const interior = [],\n      exterior = [];\n    for (const setid in circles) {\n      if (setid in areaids) {\n        interior.push(circles[setid]);\n      } else if (!(setid in exclude)) {\n        exterior.push(circles[setid]);\n      }\n    }\n    const centre = computeTextCentre(interior, exterior);\n    ret[area] = centre;\n    if (centre.disjoint && areas[i].size > 0) {\n      console.log('WARNING: area ' + area + ' not represented on screen');\n    }\n  }\n  return ret;\n}\n\n/**\n * (x, y)  r  path\n * @param x  x\n * @param y  y\n * @param r \n * @returns  path\n */\nexport function circlePath(x, y, r) {\n  const ret = [];\n  // ret.push('\\nM', x, y);\n  // ret.push('\\nm', -r, 0);\n  // ret.push('\\na', r, r, 0, 1, 0, r * 2, 0);\n  // ret.push('\\na', r, r, 0, 1, 0, -r * 2, 0);\n  const x0 = x - r;\n  const y0 = y;\n  ret.push('M', x0, y0);\n  ret.push('A', r, r, 0, 1, 0, x0 + 2 * r, y0);\n  ret.push('A', r, r, 0, 1, 0, x0, y0);\n\n  return ret.join(' ');\n}\n\n// inverse of the circlePath function, returns a circle object from an svg path\nexport function circleFromPath(path) {\n  const tokens = path.split(' ');\n  return { x: parseFloat(tokens[1]), y: parseFloat(tokens[2]), radius: -parseFloat(tokens[4]) };\n}\n\n/** returns a svg path of the intersection area of a bunch of circles */\nexport function intersectionAreaPath(circles) {\n  const stats: any = {};\n  intersectionArea(circles, stats);\n  const arcs = stats.arcs;\n\n  if (arcs.length === 0) {\n    return 'M 0 0';\n  } else if (arcs.length == 1) {\n    const circle = arcs[0].circle;\n    return circlePath(circle.x, circle.y, circle.radius);\n  } else {\n    // draw path around arcs\n    const ret = ['\\nM', arcs[0].p2.x, arcs[0].p2.y];\n    for (let i = 0; i < arcs.length; ++i) {\n      const arc = arcs[i],\n        r = arc.circle.radius,\n        wide = arc.width > r;\n      ret.push('\\nA', r, r, 0, wide ? 1 : 0, 1, arc.p1.x, arc.p1.y);\n    }\n    return ret.join(' ');\n  }\n}\n","import { IGroup } from '@antv/g-base';\nimport { registerShape, Types, Util } from '@antv/g2';\nimport { parsePathString } from '@antv/path-util';\nimport { deepAssign } from '../../utils';\nimport { Datum, Point } from '../../types';\nimport { CustomInfo } from './types';\nimport { PATH_FIELD } from './constant';\n\n/**\n * \n * @param cfg \n */\nfunction getFillAttrs(cfg: Types.ShapeInfo) {\n  // style.fill \n  return deepAssign({}, cfg.defaultStyle, { fill: cfg.color }, cfg.style);\n}\n\nregisterShape('schema', 'venn', {\n  draw(cfg: Types.ShapeInfo & { points: Point[]; nextPoints: Point[] }, container: IGroup) {\n    const data = cfg.data as Datum;\n    const segments = parsePathString(data[PATH_FIELD]);\n    const fillAttrs = getFillAttrs(cfg);\n\n    const group = container.addGroup({ name: 'venn-shape' });\n\n    group.addShape('path', {\n      attrs: {\n        ...fillAttrs,\n        path: segments,\n      },\n      name: 'venn-path',\n    });\n\n    const { offsetX, offsetY } = cfg.customInfo as CustomInfo;\n\n    const matrix = Util.transform(null, [['t', offsetX, offsetY]]);\n    group.setMatrix(matrix);\n\n    return group;\n  },\n  getMarker(markerCfg: Types.ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        lineWidth: 0,\n        stroke: color,\n        fill: color,\n        r: 4,\n      },\n    };\n  },\n});\n","import { registerGeometryLabel, GeometryLabel } from '@antv/g2';\n\n// Step 1\n//  Label \n//  GeometryLabel \nclass VennLabel extends GeometryLabel {\n  /**\n   *  label \n   * @param labelCfg\n   * @param mappingData\n   * @param index\n   * @returns label point\n   */\n  protected getLabelPoint(labelCfg, mappingData, index: number) {\n    const { x, y } = labelCfg.data;\n    const { offsetX, offsetY } = labelCfg.customLabelInfo;\n    return {\n      content: labelCfg.content[index],\n      x: x + offsetX,\n      y: y + offsetY,\n    };\n  }\n}\n\n// Step 2:  CustomLabel\nregisterGeometryLabel('venn', VennLabel);\n","import { registerInteraction, registerAction } from '@antv/g2';\nimport { VennElementActive } from './actions/active';\nimport { VennElementHighlight } from './actions/highlight';\nimport { VennElementSelected, VennElementSingleSelected } from './actions/selected';\n\n/** ==================  aciton ================== */\n\nregisterAction('venn-element-active', VennElementActive as any);\nregisterAction('venn-element-highlight', VennElementHighlight as any);\nregisterAction('venn-element-selected', VennElementSelected as any);\nregisterAction('venn-element-single-selected', VennElementSingleSelected as any);\n\n/** ==================  ================== */\n\n// ========= Active  =========\nregisterInteraction('venn-element-active', {\n  start: [{ trigger: 'element:mouseenter', action: 'venn-element-active:active' }],\n  end: [{ trigger: 'element:mouseleave', action: 'venn-element-active:reset' }],\n});\n\n// =========   =========\nregisterInteraction('venn-element-highlight', {\n  start: [{ trigger: 'element:mouseenter', action: 'venn-element-highlight:highlight' }],\n  end: [{ trigger: 'element:mouseleave', action: 'venn-element-highlight:reset' }],\n});\n\n// ========= Selected  =========\n//  venn element \nregisterInteraction('venn-element-selected', {\n  start: [{ trigger: 'element:click', action: 'venn-element-selected:toggle' }],\n  rollback: [{ trigger: 'dblclick', action: ['venn-element-selected:reset'] }],\n});\n//  venn element \nregisterInteraction('venn-element-single-selected', {\n  start: [{ trigger: 'element:click', action: 'venn-element-single-selected:toggle' }],\n  rollback: [{ trigger: 'dblclick', action: ['venn-element-single-selected:reset'] }],\n});\n\n// =========  =========\n// legend hoverelement active\nregisterInteraction('venn-legend-active', {\n  start: [{ trigger: 'legend-item:mouseenter', action: ['list-active:active', 'venn-element-active:active'] }],\n  end: [{ trigger: 'legend-item:mouseleave', action: ['list-active:reset', 'venn-element-active:reset'] }],\n});\n\n// legend hoverelement active\nregisterInteraction('venn-legend-highlight', {\n  start: [\n    {\n      trigger: 'legend-item:mouseenter',\n      action: ['legend-item-highlight:highlight', 'venn-element-highlight:highlight'],\n    },\n  ],\n  end: [{ trigger: 'legend-item:mouseleave', action: ['legend-item-highlight:reset', 'venn-element-highlight:reset'] }],\n});\n","import { getActionClass } from '@antv/g2';\nimport { placeElementsOrdered } from '../util';\n\nconst ElementActiveAction: any = getActionClass('element-active');\n\nexport class VennElementActive extends ElementActiveAction {\n  /**\n   * \n   */\n  protected syncElementsPos() {\n    placeElementsOrdered(this.context.view);\n  }\n\n  /**  */\n  public active() {\n    super.active();\n    this.syncElementsPos();\n  }\n\n  /** toggle  */\n  public toggle() {\n    super.toggle();\n    this.syncElementsPos();\n  }\n\n  /**  */\n  public reset() {\n    super.reset();\n    this.syncElementsPos();\n  }\n}\n","import { getActionClass } from '@antv/g2';\nimport { placeElementsOrdered } from '../util';\n\nconst ElementHighlightAction: any = getActionClass('element-highlight');\n\nexport class VennElementHighlight extends ElementHighlightAction {\n  /**\n   * \n   */\n  protected syncElementsPos() {\n    placeElementsOrdered(this.context.view);\n  }\n\n  /**  */\n  public highlight() {\n    super.highlight();\n    this.syncElementsPos();\n  }\n\n  /** toggle  */\n  public toggle() {\n    super.toggle();\n    this.syncElementsPos();\n  }\n\n  /**  */\n  public clear() {\n    super.clear();\n    this.syncElementsPos();\n  }\n\n  /**  */\n  public reset() {\n    super.reset();\n    this.syncElementsPos();\n  }\n}\n","import { getActionClass } from '@antv/g2';\nimport { placeElementsOrdered } from '../util';\n\nconst ElementSelectedAction: any = getActionClass('element-selected');\nconst ElementSingleSelectedAction: any = getActionClass('element-single-selected');\n\n/**\n *  \n */\nexport class VennElementSelected extends ElementSelectedAction {\n  /**\n   * \n   */\n  protected syncElementsPos() {\n    placeElementsOrdered(this.context.view);\n  }\n\n  /**  */\n  public selected() {\n    super.selected();\n    this.syncElementsPos();\n  }\n\n  /** toggle  */\n  public toggle() {\n    super.toggle();\n    this.syncElementsPos();\n  }\n\n  /**  */\n  public reset() {\n    super.reset();\n    this.syncElementsPos();\n  }\n}\n\n/**\n *  \n */\nexport class VennElementSingleSelected extends ElementSingleSelectedAction {\n  /**\n   * \n   */\n  protected syncElementsPos() {\n    placeElementsOrdered(this.context.view);\n  }\n\n  /**  */\n  public selected() {\n    super.selected();\n    this.syncElementsPos();\n  }\n\n  /** toggle  */\n  public toggle() {\n    super.toggle();\n    this.syncElementsPos();\n  }\n\n  /**  */\n  public reset() {\n    super.reset();\n    this.syncElementsPos();\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { StockOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { getStockData } from './utils';\nimport { DEFAULT_OPTIONS } from './constant';\n\nexport type { StockOptions };\n\nexport class Stock extends Plot<StockOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<StockOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'stock';\n\n  /**\n   * \n   *  g2/g2plot    -->         -->          -->      \n   */\n  protected getDefaultOptions(): Partial<StockOptions> {\n    return Stock.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<StockOptions> {\n    return adaptor;\n  }\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: StockOptions['data']) {\n    this.updateOption({ data });\n    const { yField } = this.options;\n    this.chart.changeData(getStockData(data, yField));\n  }\n}\n","import { Params } from '../../core/adaptor';\nimport { interaction, animation, theme, annotation, slider } from '../../adaptor/common';\nimport { schema } from '../../adaptor/geometries';\nimport { flow, pick, deepAssign } from '../../utils';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\n\nimport { Y_FIELD, TREND_FIELD, TREND_UP, TREND_DOWN } from './constant';\nimport { StockOptions } from './types';\nimport { getStockData } from './utils';\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<StockOptions>): Params<StockOptions> {\n  const { chart, options } = params;\n  const { yField } = options;\n\n  const { data, risingFill, fallingFill, tooltip, stockStyle } = options;\n\n  chart.data(getStockData(data, yField));\n\n  let tooltipOptions = tooltip;\n  if (tooltipOptions !== false) {\n    tooltipOptions = deepAssign({}, { fields: yField }, tooltipOptions);\n  }\n\n  schema(\n    deepAssign({}, params, {\n      options: {\n        schema: {\n          shape: 'candle',\n          color: [risingFill, fallingFill],\n          style: stockStyle,\n        },\n        yField: Y_FIELD,\n        seriesField: TREND_FIELD,\n        rawFields: yField,\n        tooltip: tooltipOptions,\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<StockOptions>): Params<StockOptions> {\n  const { chart, options } = params;\n  const { meta, xAxis, yAxis, xField } = options;\n\n  const baseMeta = {\n    [xField]: {\n      type: 'timeCat',\n      tickCount: 6,\n    },\n    [TREND_FIELD]: {\n      values: [TREND_UP, TREND_DOWN],\n    },\n  };\n\n  const scales = deepAssign(baseMeta, meta, {\n    [xField]: pick(xAxis, AXIS_META_CONFIG_KEYS),\n    [Y_FIELD]: pick(yAxis, AXIS_META_CONFIG_KEYS),\n  });\n\n  chart.scale(scales);\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nexport function axis(params: Params<StockOptions>): Params<StockOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(Y_FIELD, false);\n  } else {\n    chart.axis(Y_FIELD, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * tooltip \n * @param params\n */\nexport function tooltip(params: Params<StockOptions>): Params<StockOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip !== false) {\n    chart.tooltip(tooltip);\n  } else {\n    chart.tooltip(false);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<StockOptions>): Params<StockOptions> {\n  const { chart, options } = params;\n  const { legend } = options;\n\n  if (legend) {\n    chart.legend(TREND_FIELD, legend);\n  } else if (legend === false) {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * K\n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<StockOptions>) {\n  // flow  G2 API\n  flow(theme, geometry, meta, axis, tooltip, legend, interaction, animation, annotation(), slider)(params);\n}\n","import { Types } from '@antv/g2';\nimport { isArray } from '@antv/util';\nimport { flow, deepAssign } from '../../../utils';\nimport { Params } from '../../../core/adaptor';\nimport { Datum, Data } from '../../../types/common';\nimport { getTooltipMapping } from '../../../utils/tooltip';\nimport { geometry as baseGeometry } from '../../../adaptor/geometries/base';\nimport { FunnelOptions } from '../types';\nimport { FUNNEL_PERCENT, FUNNEL_CONVERSATION, FUNNEL_MAPPING_VALUE } from '../constant';\nimport { conversionTagComponent, transformData } from './common';\n\n/**\n * \n * @param params\n */\nfunction field(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { data = [], yField } = options;\n\n  // \n  chart.data(data);\n  chart.scale({\n    [yField]: {\n      sync: true,\n    },\n  });\n  return params;\n}\n\n/**\n * geometry\n * @param params\n */\nfunction geometry(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const {\n    data,\n    xField,\n    yField,\n    color,\n    compareField,\n    isTransposed,\n    tooltip,\n    maxSize,\n    minSize,\n    label,\n    funnelStyle,\n    state,\n    showFacetTitle,\n  } = options;\n\n  chart.facet('mirror', {\n    fields: [compareField],\n    // \n    transpose: !isTransposed,\n    padding: isTransposed ? 0 : [32, 0, 0, 0],\n    showTitle: showFacetTitle,\n    eachView(view, facet) {\n      const index = isTransposed ? facet.rowIndex : facet.columnIndex;\n\n      if (!isTransposed) {\n        view.coordinate({\n          type: 'rect',\n          actions: [['transpose'], ['scale', index === 0 ? -1 : 1, -1]],\n        });\n      }\n\n      const formatterData = transformData(facet.data, data, {\n        yField,\n        maxSize,\n        minSize,\n      });\n\n      view.data(formatterData);\n\n      // \n      const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, compareField]);\n\n      const defaultFacetLabel = isTransposed\n        ? {\n            offset: index === 0 ? 10 : -23,\n            position: (index === 0 ? 'bottom' : 'top') as Types.IntervalGeometryLabelPosition,\n          }\n        : {\n            offset: 10,\n            position: 'left' as Types.IntervalGeometryLabelPosition,\n            style: {\n              textAlign: index === 0 ? 'end' : 'start',\n            },\n          };\n\n      baseGeometry({\n        chart: view,\n        options: {\n          type: 'interval',\n          xField: xField,\n          yField: FUNNEL_MAPPING_VALUE,\n          colorField: xField,\n          tooltipFields: isArray(fields) && fields.concat([FUNNEL_PERCENT, FUNNEL_CONVERSATION]),\n          mapping: {\n            // todo   shape\n            shape: 'funnel',\n            tooltip: formatter,\n            color,\n            style: funnelStyle,\n          },\n          label: label === false ? false : deepAssign({}, defaultFacetLabel, label),\n          state,\n        },\n      });\n    },\n  });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction conversionTag(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { conversionTag, isTransposed } = options;\n  // @ts-ignore\n  chart.once('beforepaint', () => {\n    chart.views.forEach((view, viewIndex) => {\n      const getLineCoordinate = (\n        datum: Datum,\n        datumIndex: number,\n        data: Data,\n        initLineOption: Record<string, any>\n      ): Types.LineOption => {\n        const ratio = viewIndex === 0 ? -1 : 1;\n        return deepAssign({}, initLineOption, {\n          start: [datumIndex - 0.5, datum[FUNNEL_MAPPING_VALUE]],\n          end: [datumIndex - 0.5, datum[FUNNEL_MAPPING_VALUE] + 0.05],\n          text: isTransposed\n            ? {\n                style: {\n                  textAlign: 'start',\n                },\n              }\n            : {\n                offsetX: conversionTag !== false ? ratio * conversionTag.offsetX : 0,\n                style: {\n                  textAlign: viewIndex === 0 ? 'end' : 'start',\n                },\n              },\n        });\n      };\n\n      conversionTagComponent(getLineCoordinate)(\n        deepAssign(\n          {},\n          {\n            chart: view,\n            options,\n          }\n        )\n      );\n    });\n  });\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function compareFunnel(params: Params<FunnelOptions>) {\n  return flow(field, geometry, conversionTag)(params);\n}\n","import { flow, deepAssign } from '../../../utils';\nimport { Params } from '../../../core/adaptor';\nimport { FunnelOptions } from '../types';\nimport { basicFunnel } from './basic';\n\n/**\n * \n * @param params\n */\nfunction field(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { data = [], yField } = options;\n  // \n  chart.data(data);\n  chart.scale({\n    [yField]: {\n      sync: true,\n    },\n  });\n  return params;\n}\n\n/**\n * geometry\n * @param params\n */\nfunction geometry(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { seriesField, isTransposed, showFacetTitle } = options;\n\n  chart.facet('rect', {\n    fields: [seriesField],\n    padding: [isTransposed ? 0 : 32, 10, 0, 10],\n    showTitle: showFacetTitle,\n    eachView(view, facet) {\n      basicFunnel(\n        deepAssign({}, params, {\n          chart: view,\n          options: {\n            data: facet.data,\n          },\n        })\n      );\n    },\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function facetFunnel(params: Params<FunnelOptions>) {\n  return flow(field, geometry)(params);\n}\n","import { map, reduce, maxBy, isArray, get } from '@antv/util';\nimport { Types } from '@antv/g2';\nimport { flow } from '../../../utils';\nimport { Params } from '../../../core/adaptor';\nimport { FUNNEL_PERCENT, FUNNEL_CONVERSATION, FUNNEL_TOTAL_PERCENT, PLOYGON_X, PLOYGON_Y } from '../constant';\nimport { geometry as baseGeometry } from '../../../adaptor/geometries/base';\nimport { getTooltipMapping } from '../../../utils/tooltip';\nimport { Datum, Data } from '../../../types/common';\nimport { FunnelOptions } from '../types';\nimport { conversionTagComponent } from './common';\n\n/**\n * \n * @param params\n * :  yfield 2 2\n * :  g2 data ->  -> \n *  -0.5 <= x <= 0.5, 0 <= y <= 1 \n * ,  x \n *  data.length + 1  y = 4x - 1 [0.5, 1], [0.25, 0] data  y  y \n */\n\n/**\n * \n * @param params\n */\nfunction field(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { data = [], yField } = options;\n\n  // \n  const sum = reduce(\n    data,\n    (total, item) => {\n      return total + (item[yField] || 0);\n    },\n    0\n  );\n\n  const max = maxBy(data, yField)[yField];\n\n  const formatData = map(data, (row, index) => {\n    //  xy  [, ]\n    const x = [];\n    const y = [];\n\n    row[FUNNEL_TOTAL_PERCENT] = (row[yField] || 0) / sum;\n\n    // \n    if (index) {\n      const preItemX = data[index - 1][PLOYGON_X];\n      const preItemY = data[index - 1][PLOYGON_Y];\n      x[0] = preItemX[3];\n      y[0] = preItemY[3];\n      x[1] = preItemX[2];\n      y[1] = preItemY[2];\n    } else {\n      x[0] = -0.5;\n      y[0] = 1;\n      x[1] = 0.5;\n      y[1] = 1;\n    }\n\n    // \n    y[2] = y[1] - row[FUNNEL_TOTAL_PERCENT];\n    x[2] = (y[2] + 1) / 4;\n    y[3] = y[2];\n    x[3] = -x[2];\n\n    // \n    row[PLOYGON_X] = x;\n    row[PLOYGON_Y] = y;\n    row[FUNNEL_PERCENT] = (row[yField] || 0) / max;\n    row[FUNNEL_CONVERSATION] = [get(data, [index - 1, yField]), row[yField]];\n    return row;\n  });\n\n  chart.data(formatData);\n\n  return params;\n}\n\n/**\n * geometry\n * @param params\n */\nfunction geometry(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { xField, yField, color, tooltip, label, funnelStyle, state } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField]);\n  // \n  baseGeometry({\n    chart,\n    options: {\n      type: 'polygon',\n      xField: PLOYGON_X,\n      yField: PLOYGON_Y,\n      colorField: xField,\n      tooltipFields: isArray(fields) && fields.concat([FUNNEL_PERCENT, FUNNEL_CONVERSATION]),\n      label,\n      state,\n      mapping: {\n        tooltip: formatter,\n        color,\n        style: funnelStyle,\n      },\n    },\n  });\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction transpose(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { isTransposed } = options;\n  chart.coordinate({\n    type: 'rect',\n    actions: isTransposed ? [['transpose'], ['reflect', 'x']] : [],\n  });\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction conversionTag(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const getLineCoordinate = (\n    datum: Datum,\n    datumIndex: number,\n    data: Data,\n    initLineOption: Record<string, any>\n  ): Types.LineOption => {\n    return {\n      ...initLineOption,\n      start: [datum[PLOYGON_X][1], datum[PLOYGON_Y][1]],\n      end: [datum[PLOYGON_X][1] + 0.05, datum[PLOYGON_Y][1]],\n    };\n  };\n\n  conversionTagComponent(getLineCoordinate)(params);\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function dynamicHeightFunnel(params: Params<FunnelOptions>) {\n  return flow(field, geometry, transpose, conversionTag)(params);\n}\n","import { VIEW_LIFE_CIRCLE, Event } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { LiquidOptions } from './types';\nimport { adaptor, statistic } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { getLiquidData } from './utils';\n// register liquid shape\nimport './shapes/liquid';\n\nexport { addWaterWave } from './shapes/liquid';\n\nexport type { LiquidOptions };\n\n/**\n * \n */\nexport class Liquid extends Plot<LiquidOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<LiquidOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'liquid';\n\n  /**\n   *   ,  base \n   */\n  protected getDefaultOptions(): Partial<LiquidOptions> {\n    return Liquid.getDefaultOptions();\n  }\n\n  /**\n   * \n   * @param percent\n   */\n  public changeData(percent: number) {\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null)\n    );\n    this.updateOption({ percent });\n\n    this.chart.data(getLiquidData(percent));\n    statistic({ chart: this.chart, options: this.options }, true);\n\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null)\n    );\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<LiquidOptions> {\n    return adaptor;\n  }\n}\n","import { Geometry } from '@antv/g2';\nimport { get, isNil } from '@antv/util';\nimport { interaction, animation, theme, scale, pattern } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { flow, deepAssign, renderStatistic } from '../../utils';\nimport { interval } from '../../adaptor/geometries';\nimport { LiquidOptions, CustomInfo } from './types';\nimport { getLiquidData } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<LiquidOptions>): Params<LiquidOptions> {\n  const { chart, options } = params;\n  const { percent, liquidStyle, radius, outline, wave, shape, animation } = options;\n\n  chart.scale({\n    percent: {\n      min: 0,\n      max: 1,\n    },\n  });\n\n  chart.data(getLiquidData(percent));\n\n  const color = options.color || chart.getTheme().defaultColor;\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: 'type',\n      yField: 'percent',\n      // radius  columnWidthRatio \n      //   radius \n      widthRatio: radius,\n      interval: {\n        color,\n        style: liquidStyle,\n        shape: 'liquid-fill-gauge',\n      },\n    },\n  });\n  const { ext } = interval(p);\n  const geometry = ext.geometry as Geometry;\n  const { background } = chart.getTheme();\n  const customInfo: CustomInfo = {\n    radius,\n    outline,\n    wave,\n    shape,\n    background,\n    animation,\n  };\n\n  //  radius  shape \n  geometry.customInfo(customInfo);\n\n  // \n  chart.legend(false);\n  chart.axis(false);\n  chart.tooltip(false);\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function statistic(params: Params<LiquidOptions>, updated?: boolean): Params<LiquidOptions> {\n  const { chart, options } = params;\n  const { statistic, percent, meta } = options;\n\n  // \n  chart.getController('annotation').clear(true);\n\n  const metaFormatter = get(meta, ['percent', 'formatter']) || ((v) => `${(v * 100).toFixed(2)}%`);\n  let contentOpt = statistic.content;\n  if (contentOpt) {\n    contentOpt = deepAssign({}, contentOpt, {\n      content: !isNil(contentOpt.content) ? contentOpt.content : metaFormatter(percent),\n    });\n  }\n\n  renderStatistic(chart, { statistic: { ...statistic, content: contentOpt }, plotType: 'liquid' }, { percent });\n\n  if (updated) {\n    chart.render(true);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<LiquidOptions>) {\n  // flow  G2 API ()\n  return flow(theme, pattern('liquidStyle'), geometry, statistic, scale({}), animation, interaction)(params);\n}\n","/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  radius: 0.9,\n  statistic: {\n    title: false as const,\n    content: {\n      style: {\n        opacity: 0.75,\n        fontSize: '30px',\n        lineHeight: '30px',\n        textAlign: 'center',\n      },\n    },\n  },\n  outline: {\n    border: 2,\n    distance: 0,\n  },\n  wave: {\n    count: 3,\n    length: 192,\n  },\n  shape: 'circle',\n};\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { BulletOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { transformData } from './utils';\nimport { DEFAULT_OPTIONS } from './constant';\n\nexport type { BulletOptions };\n\nexport class Bullet extends Plot<BulletOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<BulletOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'bullet';\n\n  public changeData(data) {\n    this.updateOption({ data });\n    const { min, max, ds } = transformData(this.options);\n    // scale\n    meta({ options: this.options, ext: { data: { min, max } }, chart: this.chart });\n    this.chart.changeData(ds);\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<BulletOptions> {\n    return adaptor;\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Bullet.getDefaultOptions();\n  }\n}\n","import { get, isFunction } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { interaction, animation, theme, tooltip, scale } from '../../adaptor/common';\nimport { flow, transformLabel, deepAssign } from '../../utils';\nimport { Datum } from '../../types';\nimport { interval, point } from '../../adaptor/geometries';\nimport { BulletOptions } from './types';\nimport { transformData } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<BulletOptions>): Params<BulletOptions> {\n  const { chart, options } = params;\n  const { bulletStyle, targetField, rangeField, measureField, xField, color, layout, size, label } = options;\n  // \n  const { min, max, ds } = transformData(options);\n  chart.data(ds);\n\n  // rangeGeometry\n  const r = deepAssign({}, params, {\n    options: {\n      xField: xField,\n      yField: rangeField,\n      seriesField: 'rKey',\n      isStack: true,\n      label: get(label, 'range'),\n      interval: {\n        color: get(color, 'range'),\n        style: get(bulletStyle, 'range'),\n        size: get(size, 'range'),\n      },\n    },\n  });\n  interval(r);\n  //  tooltip \n  chart.geometries[0].tooltip(false);\n\n  // measureGeometry\n  const m = deepAssign({}, params, {\n    options: {\n      xField: xField,\n      yField: measureField,\n      seriesField: 'mKey',\n      isStack: true,\n      label: get(label, 'measure'),\n      interval: {\n        color: get(color, 'measure'),\n        style: get(bulletStyle, 'measure'),\n        size: get(size, 'measure'),\n      },\n    },\n  });\n  interval(m);\n\n  // targetGeometry\n  const t = deepAssign({}, params, {\n    options: {\n      xField: xField,\n      yField: targetField,\n      seriesField: 'tKey',\n      label: get(label, 'target'),\n      point: {\n        color: get(color, 'target'),\n        style: get(bulletStyle, 'target'),\n        size: isFunction(get(size, 'target'))\n          ? (data: Datum) => get(size, 'target')(data) / 2\n          : get(size, 'target') / 2,\n        shape: layout === 'horizontal' ? 'line' : 'hyphen',\n      },\n    },\n  });\n  point(t);\n\n  // \n  if (layout === 'horizontal') {\n    chart.coordinate().transpose();\n  }\n\n  return { ...params, ext: { data: { min, max } } };\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<BulletOptions>): Params<BulletOptions> {\n  const { options, ext } = params;\n  const { xAxis, yAxis, targetField, rangeField, measureField, xField } = options;\n\n  const extData = ext.data;\n  return flow(\n    scale(\n      {\n        [xField]: xAxis,\n        [measureField]: yAxis,\n      },\n      //  meta\n      {\n        [measureField]: { min: extData?.min, max: extData?.max, sync: true },\n        [targetField]: {\n          sync: `${measureField}`,\n        },\n        [rangeField]: {\n          sync: `${measureField}`,\n        },\n      }\n    )\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<BulletOptions>): Params<BulletOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, measureField, rangeField, targetField } = options;\n\n  chart.axis(`${rangeField}`, false);\n  chart.axis(`${targetField}`, false);\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(`${xField}`, false);\n  } else {\n    chart.axis(`${xField}`, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(`${measureField}`, false);\n  } else {\n    chart.axis(`${measureField}`, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nfunction legend(params: Params<BulletOptions>): Params<BulletOptions> {\n  const { chart, options } = params;\n  const { legend } = options;\n  chart.removeInteraction('legend-filter');\n  // @TODO  legend\n  chart.legend(legend);\n\n  //  color  legend, legend\n  chart.legend('rKey', false);\n  chart.legend('mKey', false);\n  chart.legend('tKey', false);\n\n  return params;\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<BulletOptions>): Params<BulletOptions> {\n  const { chart, options } = params;\n  const { label, measureField, targetField, rangeField } = options;\n  const [rangeGeometry, measureGeometry, targetGeometry] = chart.geometries;\n\n  if (get(label, 'range')) {\n    rangeGeometry.label(`${rangeField}`, {\n      layout: [{ type: 'limit-in-plot' }],\n      ...transformLabel(label.range),\n    });\n  } else {\n    rangeGeometry.label(false);\n  }\n  if (get(label, 'measure')) {\n    measureGeometry.label(`${measureField}`, {\n      layout: [{ type: 'limit-in-plot' }],\n      ...transformLabel(label.measure),\n    });\n  } else {\n    measureGeometry.label(false);\n  }\n  if (get(label, 'target')) {\n    targetGeometry.label(`${targetField}`, {\n      layout: [{ type: 'limit-in-plot' }],\n      ...transformLabel(label.target),\n    });\n  } else {\n    targetGeometry.label(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<BulletOptions>) {\n  // flow  G2 API\n  flow(geometry, meta, axis, legend, theme, label, tooltip, interaction, animation)(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  layout: 'horizontal',\n  size: {\n    range: 30,\n    measure: 20,\n    target: 20,\n  },\n  xAxis: {\n    tickLine: false,\n    line: null,\n  },\n  bulletStyle: {\n    range: {\n      fillOpacity: 0.5,\n    },\n  },\n  label: {\n    measure: {\n      position: 'right',\n    },\n  },\n  tooltip: {\n    // \n    showMarkers: false,\n  },\n});\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { NODE_ANCESTORS_FIELD } from '../../utils/hierarchy/util';\nimport { SunburstOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS, SUNBURST_ANCESTOR_FIELD, SUNBURST_PATH_FIELD } from './constant';\nimport './interactions';\n\nexport type { SunburstOptions };\n\nexport class Sunburst extends Plot<SunburstOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<SunburstOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**   */\n  static SUNBURST_ANCESTOR_FIELD = SUNBURST_ANCESTOR_FIELD;\n  /**   */\n  static SUNBURST_PATH_FIELD = SUNBURST_PATH_FIELD;\n  /**  */\n  static NODE_ANCESTORS_FIELD = NODE_ANCESTORS_FIELD;\n\n  /**  */\n  public type: string = 'sunburst';\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Sunburst.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<SunburstOptions> {\n    return adaptor;\n  }\n}\n","import { isFunction, get, uniq } from '@antv/util';\nimport { Types } from '@antv/g2';\nimport { Params } from '../../core/adaptor';\nimport { polygon as polygonAdaptor } from '../../adaptor/geometries';\nimport {\n  interaction as baseInteraction,\n  animation,\n  theme,\n  annotation,\n  scale,\n  pattern,\n  legend,\n} from '../../adaptor/common';\nimport { flow, findGeometry, transformLabel, deepAssign } from '../../utils';\nimport { getAdjustAppendPadding } from '../../utils/padding';\nimport { Datum } from '../../types';\nimport { RAW_FIELDS, SUNBURST_ANCESTOR_FIELD, SUNBURST_PATH_FIELD, SUNBURST_Y_FIELD } from './constant';\nimport { transformData } from './utils';\nimport { SunburstOptions } from './types';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart, options } = params;\n  const { color, colorField = SUNBURST_ANCESTOR_FIELD, sunburstStyle, rawFields = [] } = options;\n  const data = transformData(options);\n  chart.data(data);\n\n  //  fillOpacity \n  let style;\n  if (sunburstStyle) {\n    style = (datum: Datum) => {\n      return deepAssign(\n        {},\n        {\n          fillOpacity: 0.85 ** datum.depth,\n        },\n        isFunction(sunburstStyle) ? sunburstStyle(datum) : sunburstStyle\n      );\n    };\n  }\n\n  // geometry\n  polygonAdaptor(\n    deepAssign({}, params, {\n      options: {\n        xField: 'x',\n        yField: 'y',\n        seriesField: colorField,\n        rawFields: uniq([...RAW_FIELDS, ...rawFields]),\n        polygon: {\n          color,\n          style,\n        },\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nexport function axis(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart } = params;\n  chart.axis(false);\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart, options } = params;\n  const { label } = options;\n\n  const geometry = findGeometry(chart, 'polygon');\n\n  // undefined \n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { fields = ['name'], callback, ...cfg } = label;\n    geometry.label({\n      fields,\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * coord \n * @param params\n */\nfunction coordinate(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart, options } = params;\n  const { innerRadius, radius, reflect } = options;\n\n  const coord = chart.coordinate({\n    type: 'polar',\n    cfg: {\n      innerRadius,\n      radius,\n    },\n  });\n  if (reflect) {\n    coord.reflect(reflect);\n  }\n\n  return params;\n}\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { options } = params;\n  const { hierarchyConfig, meta } = options;\n\n  return flow(\n    scale(\n      {},\n      {\n        [SUNBURST_Y_FIELD]: get(meta, get(hierarchyConfig, ['field'], 'value')),\n      }\n    )\n  )(params);\n}\n\n/**\n * tooltip \n * @param params\n */\nexport function tooltip(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip === false) {\n    chart.tooltip(false);\n  } else {\n    let tooltipOptions = tooltip;\n    //  fields customItems ;  formatter  fields\n    if (!get(tooltip, 'fields')) {\n      tooltipOptions = deepAssign(\n        {},\n        {\n          customItems: (items: Types.TooltipItem[]) =>\n            items.map((item) => {\n              const scales = get(chart.getOptions(), 'scales');\n              const pathFormatter = get(scales, [SUNBURST_PATH_FIELD, 'formatter'], (v) => v);\n              const valueFormatter = get(scales, [SUNBURST_Y_FIELD, 'formatter'], (v) => v);\n              return {\n                ...item,\n                name: pathFormatter(item.data[SUNBURST_PATH_FIELD]),\n                value: valueFormatter(item.data.value),\n              };\n            }),\n        },\n        tooltipOptions\n      );\n    }\n    chart.tooltip(tooltipOptions);\n  }\n\n  return params;\n}\n\nfunction adaptorInteraction(options: SunburstOptions): SunburstOptions {\n  const { drilldown, interactions = [] } = options;\n\n  if (drilldown?.enabled) {\n    return deepAssign({}, options, {\n      interactions: [\n        ...interactions,\n        {\n          type: 'drill-down',\n          cfg: { drillDownConfig: drilldown, transformData },\n        },\n      ],\n    });\n  }\n  return options;\n}\n\n/**\n * \n * @param params\n * @returns\n */\nfunction interaction(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart, options } = params;\n\n  const { drilldown } = options;\n\n  baseInteraction({\n    chart,\n    options: adaptorInteraction(options),\n  });\n\n  // \n  if (drilldown?.enabled) {\n    //  25px \n    chart.appendPadding = getAdjustAppendPadding(chart.appendPadding, get(drilldown, ['breadCrumb', 'position']));\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<SunburstOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    pattern('sunburstStyle'),\n    geometry,\n    axis,\n    meta,\n    legend,\n    coordinate,\n    tooltip,\n    label,\n    interaction,\n    animation,\n    annotation()\n  )(params);\n}\n","import { omit } from '@antv/util';\nimport { HIERARCHY_DATA_TRANSFORM_PARAMS } from '../../interactions/actions/drill-down';\nimport { pick } from '../../utils';\nimport { partition } from '../../utils/hierarchy/partition';\nimport { treemap } from '../../utils/hierarchy/treemap';\nimport { SUNBURST_ANCESTOR_FIELD, SUNBURST_PATH_FIELD } from './constant';\nimport { SunburstOptions } from './types';\n\n/**\n * sunburst \n * @param options\n */\nexport function transformData(options: Pick<SunburstOptions, 'data' | 'colorField' | 'rawFields' | 'hierarchyConfig'>) {\n  const { data, colorField, rawFields, hierarchyConfig = {} } = options;\n  const { activeDepth } = hierarchyConfig;\n  const transform = {\n    partition: partition,\n    treemap: treemap,\n  };\n  // @ts-ignore  seriesField  hierarchyConfig.field\n  const seriesField = options.seriesField;\n  // @ts-ignore \n  const type = options.type || 'partition';\n\n  const nodes = transform[type](data, {\n    field: seriesField || 'value',\n    ...omit(hierarchyConfig, ['activeDepth']),\n    // @ts-ignore\n    type: `hierarchy.${type}`,\n    as: ['x', 'y'],\n  });\n\n  const result = [];\n\n  nodes.forEach((node) => {\n    if (node.depth === 0) {\n      return null;\n    }\n    if (activeDepth > 0 && node.depth > activeDepth) {\n      return null;\n    }\n\n    let path = node.data.name;\n    let ancestorNode = { ...node };\n    while (ancestorNode.depth > 1) {\n      path = `${ancestorNode.parent.data?.name} / ${path}`;\n      ancestorNode = ancestorNode.parent;\n    }\n\n    const nodeInfo = {\n      ...pick(node.data, [...(rawFields || []), hierarchyConfig.field]),\n      [SUNBURST_PATH_FIELD]: path,\n      [SUNBURST_ANCESTOR_FIELD]: ancestorNode.data.name,\n      ...node,\n    };\n    // note: \n    if (seriesField) {\n      nodeInfo[seriesField] = node.data[seriesField] || node.parent?.data?.[seriesField];\n    }\n    if (colorField) {\n      nodeInfo[colorField] = node.data[colorField] || node.parent?.data?.[colorField];\n    }\n    nodeInfo.ext = hierarchyConfig;\n    nodeInfo[HIERARCHY_DATA_TRANSFORM_PARAMS] = { hierarchyConfig, colorField, rawFields };\n    result.push(nodeInfo);\n  });\n\n  return result;\n}\n","import * as d3Hierarchy from 'd3-hierarchy';\nimport { assign, isArray, reduce, size } from '@antv/util';\nimport { getField, getAllNodes } from './util';\n\nconst DEFAULT_OPTIONS: Options = {\n  field: 'value',\n  size: [1, 1], // width, height\n  round: false,\n  padding: 0,\n  // \n  sort: (a, b) => b.value - a.value,\n  as: ['x', 'y'],\n  //  parentValue,  true \n  ignoreParentValue: true,\n};\n\nexport interface Options {\n  field: string;\n  size?: [number, number];\n  round?: boolean;\n  ratio?: number;\n  padding?: number;\n  sort?: Function;\n  as?: [string, string];\n\n  ignoreParentValue?: boolean;\n}\n\nexport function partition(data: any, options: Options): any[] {\n  options = assign({} as Options, DEFAULT_OPTIONS, options);\n  const as = options.as;\n  if (!isArray(as) || as.length !== 2) {\n    throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ \"x\", \"y\" ])!');\n  }\n\n  let field;\n  try {\n    field = getField(options);\n  } catch (e) {\n    console.warn(e);\n  }\n\n  const partition = (data) =>\n    d3Hierarchy.partition().size(options.size).round(options.round).padding(options.padding)(\n      /**\n       * d3Hierarchy  sum  node  node  post-order traversal  value  node\n       * for example:\n       * { node: 'parent', value: 10, children: [{node: 'child1', value: 5}, {node: 'child2', value: 5}, ]}\n       * parent  sum(node(parent)) + sum(node(child1)) + sum(node(child2))\n       * sum d  data, children \n       */\n      d3Hierarchy\n        .hierarchy(data)\n        .sum((d) =>\n          size(d.children)\n            ? options.ignoreParentValue\n              ? 0\n              : d[field] - reduce(d.children, (a, b) => a + b[field], 0)\n            : d[field]\n        )\n        .sort(options.sort)\n    );\n  const root = partition(data);\n\n  /*\n   * points:\n   *   3  2\n   *   0  1\n   */\n  const x = as[0];\n  const y = as[1];\n\n  root.each((node) => {\n    node[x] = [node.x0, node.x1, node.x1, node.x0];\n    node[y] = [node.y1, node.y1, node.y0, node.y0];\n    //  \n    node.name = node.name || node.data?.name || node.data?.label;\n    node.data.name = node.name;\n\n    ['x0', 'x1', 'y0', 'y1'].forEach((prop) => {\n      if (as.indexOf(prop) === -1) {\n        delete node[prop];\n      }\n    });\n  });\n\n  return getAllNodes(root);\n}\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = GeneratorFunctionPrototype;\n  define(Gp, \"constructor\", GeneratorFunctionPrototype);\n  define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction);\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  });\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  define(Gp, iteratorSymbol, function() {\n    return this;\n  });\n\n  define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  });\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, in modern engines\n  // we can explicitly access globalThis. In older engines we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","/**  drill-down  */\nimport '../../../interactions/drill-down';\n","import { Options, ShapeStyle, Statistic, StyleAttr } from '../../types';\nimport { Axis } from '../../types/axis';\nimport { PERCENT, RANGE_TYPE, RANGE_VALUE } from './constants';\n\n/**  */\nexport type Indicator = {\n  /**\n   * @title \n   * @description  object\n   */\n  readonly pointer?: {\n    readonly style?: ShapeStyle;\n  };\n  /**\n   * @title \n   * @description  object\n   */\n  readonly pin?: {\n    readonly style?: ShapeStyle;\n  };\n  /**\n   * @title  shape\n   * @default 'gauge-indicator'\n   */\n  readonly shape?: string;\n};\n\nexport type Range = {\n  /**\n   * @title \n   * @description 0 ~ 1 \n   */\n  readonly ticks?: number[];\n  /**\n   * @title \n   */\n  readonly color?: string | string[];\n  /**\n   * @title \n   */\n  readonly width?: number;\n};\n\n/**\n * @title  rangeData\n */\nexport type GaugeRangeData = {\n  readonly [RANGE_VALUE]?: number;\n  readonly [RANGE_TYPE]: string;\n  readonly [PERCENT]: number;\n}[];\n\n/**\n * @title \n */\nexport interface GaugeOptions\n  extends Omit<Options, 'data' | 'legend' | 'xAxis' | 'yAxis' | 'xField' | 'yField' | 'color'> {\n  /**\n   * @title \n   * @description 0 ~ 1\n   */\n  readonly percent: number;\n  /**\n   * @title \n   * @description 0 ~ 1\n   */\n  readonly radius?: number;\n  /**\n   * @title \n   * @description 0 ~ 1\n   */\n  readonly innerRadius?: number;\n  /**\n   * @title \n   */\n  readonly startAngle?: number;\n  /**\n   * @title \n   */\n  readonly endAngle?: number;\n  /**\n   * @title  range \n   */\n  readonly range?: Range;\n  /**\n   * @title \n   */\n  readonly axis?: Axis;\n  /**\n   * @title \n   */\n  readonly indicator?: false | Indicator;\n  /**\n   * @title \n   */\n  readonly statistic?: Statistic;\n  /**\n   * @title \n   */\n  readonly gaugeStyle?: StyleAttr;\n\n  /**\n   * @title meter gauge \n   */\n\n  /**\n   * @title \n   * @description : 'meter', default \n   */\n  readonly type?: string;\n  /**\n   * @title \n   * @description  = 'meter' \n   */\n  readonly meter?: {\n    /**\n     * @title \n     * @default \"50\"\n     */\n    readonly steps?: number;\n    /**\n     * @title step  gap \n     * @default \"0.5\"\n     */\n    readonly stepRatio?: number;\n  };\n}\n\n/**\n * @title \n * @description  shape  customInfo\n */\nexport type GaugeCustomInfo = {\n  /**\n   * @title  meter \n   */\n  readonly meter?: GaugeOptions['meter'];\n};\n","import { registerShape, Types } from '@antv/g2';\nimport { Indicator } from '../types';\n\n// Shape \nregisterShape('point', 'gauge-indicator', {\n  draw(cfg: Types.ShapeInfo, container) {\n    //  customInfo \n    const { indicator, defaultColor } = cfg.customInfo;\n    const { pointer, pin } = indicator as Indicator;\n\n    const group = container.addGroup();\n    // \n    const center = this.parsePoint({ x: 0, y: 0 });\n    // \n    if (pointer) {\n      // pointer\n      group.addShape('line', {\n        name: 'pointer',\n        attrs: {\n          x1: center.x,\n          y1: center.y,\n          x2: cfg.x,\n          y2: cfg.y,\n          stroke: defaultColor,\n          ...pointer.style,\n        },\n      });\n    }\n\n    // pin\n    if (pin) {\n      group.addShape('circle', {\n        name: 'pin',\n        attrs: {\n          x: center.x,\n          y: center.y,\n          stroke: defaultColor,\n          ...pin.style,\n        },\n      });\n    }\n    return group;\n  },\n});\n","import { registerShape, Types, Util } from '@antv/g2';\nimport { clamp } from '@antv/util';\nimport { GaugeCustomInfo } from '../types';\n\ntype ShapeCfg = Omit<Types.ShapeInfo, 'customInfo'> & {\n  customInfo: GaugeCustomInfo;\n};\n\n/**\n *  Shape : \n *  STEP, STEP_RATIO. : 1 / (STEP + 1) * i -> 1 / (STEP + 1) * i + (STEP_RATIO / (STEP + 1))\n */\nregisterShape('interval', 'meter-gauge', {\n  draw(cfg: ShapeCfg, container) {\n    //  customInfo \n    const { meter = {} } = cfg.customInfo;\n    let { steps: STEP = 50, stepRatio: STEP_RATIO = 0.5 } = meter;\n    STEP = STEP < 1 ? 1 : STEP;\n    // stepRatio : (0, 1]\n    STEP_RATIO = clamp(STEP_RATIO, 0, 1);\n\n    const { startAngle: COORD_START_ANGLE, endAngle: COORD_END_ANGLE } = this.coordinate;\n    let GAP = 0;\n    if (STEP_RATIO > 0 && STEP_RATIO < 1) {\n      const TOTAL = COORD_END_ANGLE - COORD_START_ANGLE;\n      GAP = TOTAL / STEP / (STEP_RATIO / (1 - STEP_RATIO) + 1 - 1 / STEP);\n    }\n    const INTERVAL = (GAP / (1 - STEP_RATIO)) * STEP_RATIO;\n\n    const group = container.addGroup();\n    //  gap\n    const center = this.coordinate.getCenter();\n    const radius = this.coordinate.getRadius();\n    const { startAngle: START_ANGLE, endAngle: END_ANGLE } = Util.getAngle(cfg, this.coordinate);\n\n    for (let startAngle = START_ANGLE; startAngle < END_ANGLE; ) {\n      let endAngle;\n      const r = (startAngle - COORD_START_ANGLE) % (INTERVAL + GAP);\n      if (r < INTERVAL) {\n        endAngle = startAngle + (INTERVAL - r);\n      } else {\n        startAngle += INTERVAL + GAP - r;\n        endAngle = startAngle + INTERVAL;\n      }\n      const path = Util.getSectorPath(\n        center.x,\n        center.y,\n        radius,\n        startAngle,\n        Math.min(endAngle, END_ANGLE),\n        radius * this.coordinate.innerRadius\n      );\n      group.addShape('path', {\n        name: 'meter-gauge',\n        attrs: {\n          path,\n          fill: cfg.color,\n          stroke: cfg.color,\n          lineWidth: 0.5,\n        },\n      });\n      startAngle = endAngle + GAP;\n    }\n\n    return group;\n  },\n});\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { WaterfallOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { transformData } from './utils';\n\nexport type { WaterfallOptions };\n\n/**\n * \n */\nexport class Waterfall extends Plot<WaterfallOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<WaterfallOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public readonly type: string = 'waterfall';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    const { xField, yField, total } = this.options;\n    this.updateOption({ data });\n    this.chart.changeData(transformData(data, xField, yField, total));\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<WaterfallOptions> {\n    return adaptor;\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<WaterfallOptions> {\n    return Waterfall.getDefaultOptions();\n  }\n}\n","import { Geometry } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { Datum } from '../../types';\nimport { Params } from '../../core/adaptor';\nimport { interaction, animation, theme, state, scale, annotation } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { getLocale } from '../../core/locale';\nimport { findGeometry, flow, transformLabel, deepAssign } from '../../utils';\nimport { Y_FIELD, ABSOLUTE_FIELD, DIFF_FIELD, IS_TOTAL } from './constant';\nimport { WaterfallOptions } from './types';\nimport { transformData } from './utils';\nimport './shape';\n\n/**\n *  \n * @param params\n * @returns\n */\nfunction defaultOptions(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { locale, total } = params.options;\n\n  const localeTotalLabel = getLocale(locale).get(['waterfall', 'total']);\n\n  if (total && typeof total.label !== 'string' && localeTotalLabel) {\n    // @ts-ignore\n    params.options.total.label = localeTotalLabel;\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { chart, options } = params;\n  const { data, xField, yField, total, leaderLine, columnWidthRatio, waterfallStyle, risingFill, fallingFill, color } =\n    options;\n\n  // \n  chart.data(transformData(data, xField, yField, total));\n\n  //  colorMapping\n  const colorMapping =\n    color ||\n    function (datum: Datum) {\n      if (get(datum, [IS_TOTAL])) {\n        return get(total, ['style', 'fill'], '');\n      }\n      return get(datum, [Y_FIELD, 1]) - get(datum, [Y_FIELD, 0]) > 0 ? risingFill : fallingFill;\n    };\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: xField,\n      yField: Y_FIELD,\n      seriesField: xField,\n      rawFields: [yField, DIFF_FIELD, IS_TOTAL, Y_FIELD],\n      widthRatio: columnWidthRatio,\n      interval: {\n        style: waterfallStyle,\n        shape: 'waterfall',\n        color: colorMapping,\n      },\n    },\n  });\n  const { ext } = interval(p);\n  const geometry = ext.geometry as Geometry;\n\n  //  waterfall leaderLineCfg  shape \n  geometry.customInfo({ leaderLine });\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField, meta } = options;\n\n  const Y_FIELD_META = deepAssign({}, { alias: yField }, get(meta, yField));\n\n  return flow(\n    scale(\n      {\n        [xField]: xAxis,\n        [yField]: yAxis,\n        [Y_FIELD]: yAxis,\n      },\n      deepAssign({}, meta, { [Y_FIELD]: Y_FIELD_META, [DIFF_FIELD]: Y_FIELD_META, [ABSOLUTE_FIELD]: Y_FIELD_META })\n    )\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(yField, false);\n    chart.axis(Y_FIELD, false);\n  } else {\n    chart.axis(yField, yAxis);\n    chart.axis(Y_FIELD, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend  todo  hover \n * @param params\n */\nfunction legend(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { chart, options } = params;\n  const { legend, total, risingFill, fallingFill, locale } = options;\n\n  const i18n = getLocale(locale);\n\n  if (legend === false) {\n    chart.legend(false);\n  } else {\n    const items = [\n      {\n        name: i18n.get(['general', 'increase']),\n        value: 'increase',\n        marker: { symbol: 'square', style: { r: 5, fill: risingFill } },\n      },\n      {\n        name: i18n.get(['general', 'decrease']),\n        value: 'decrease',\n        marker: { symbol: 'square', style: { r: 5, fill: fallingFill } },\n      },\n    ];\n\n    if (total) {\n      items.push({\n        name: total.label || '',\n        value: 'total',\n        marker: {\n          symbol: 'square',\n          style: deepAssign({}, { r: 5 }, get(total, 'style')),\n        },\n      });\n    }\n    chart.legend(\n      deepAssign(\n        {},\n        {\n          custom: true,\n          position: 'top',\n          items,\n        },\n        legend\n      )\n    );\n    chart.removeInteraction('legend-filter');\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { chart, options } = params;\n  const { label, labelMode, xField } = options;\n\n  const geometry = findGeometry(chart, 'interval');\n\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: labelMode === 'absolute' ? [ABSOLUTE_FIELD, xField] : [DIFF_FIELD, xField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * tooltip \n * @param params\n */\nexport function tooltip(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { chart, options } = params;\n  const { tooltip, xField, yField } = options;\n\n  if (tooltip !== false) {\n    chart.tooltip({\n      showCrosshairs: false,\n      showMarkers: false,\n      shared: true,\n      // tooltip  y \n      fields: [yField],\n      ...tooltip,\n    });\n    //  yField  tooltip \n    const geometry = chart.geometries[0];\n    tooltip?.formatter ? geometry.tooltip(`${xField}*${yField}`, tooltip.formatter) : geometry.tooltip(yField);\n  } else {\n    chart.tooltip(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function adaptor(params: Params<WaterfallOptions>) {\n  return flow(\n    defaultOptions,\n    theme,\n    geometry,\n    meta,\n    axis,\n    legend,\n    tooltip,\n    label,\n    state,\n    interaction,\n    animation,\n    annotation()\n  )(params);\n}\n","import { IGroup } from '@antv/g-base';\nimport { registerShape } from '@antv/g2';\nimport { Types } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { deepAssign } from '../../utils';\nimport { Point } from '../../types';\n\n/**\n *  path\n * @param points\n */\nfunction getRectPath(points: Point[]) {\n  const path = [];\n  for (let i = 0; i < points.length; i++) {\n    const point = points[i];\n    if (point) {\n      const action = i === 0 ? 'M' : 'L';\n      path.push([action, point.x, point.y]);\n    }\n  }\n\n  const first = points[0];\n  path.push(['L', first.x, first.y]);\n  path.push(['z']);\n\n  return path;\n}\n\n/**\n * \n * @param cfg \n */\nfunction getFillAttrs(cfg: Types.ShapeInfo) {\n  return deepAssign({}, cfg.defaultStyle, cfg.style, { fill: cfg.color });\n}\n\nregisterShape('interval', 'waterfall', {\n  draw(cfg: Types.ShapeInfo & { points: Point[]; nextPoints: Point[] }, container: IGroup) {\n    const { customInfo, points, nextPoints } = cfg;\n\n    const group = container.addGroup();\n\n    //  \n    const rectPath = this.parsePath(getRectPath(points));\n    const fillAttrs = getFillAttrs(cfg);\n\n    group.addShape('path', {\n      attrs: {\n        ...fillAttrs,\n        path: rectPath,\n      },\n    });\n\n    //  \n    const leaderLineCfg = get(customInfo, 'leaderLine');\n    if (leaderLineCfg && nextPoints) {\n      let linkPath = [\n        ['M', points[2].x, points[2].y],\n        ['L', nextPoints[0].x, nextPoints[0].y],\n      ];\n\n      if (points[2].y === nextPoints[1].y) {\n        linkPath[1] = ['L', nextPoints[1].x, nextPoints[1].y];\n      }\n\n      linkPath = this.parsePath(linkPath);\n      group.addShape('path', {\n        attrs: {\n          path: linkPath,\n          ...(leaderLineCfg.style || {}),\n        },\n      });\n    }\n\n    return group;\n  },\n});\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { RadialBarOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\n\nexport type { RadialBarOptions };\n\n/**\n * \n */\nexport class RadialBar extends Plot<RadialBarOptions> {\n  static getDefaultOptions(): Partial<RadialBarOptions> {\n    return DEFAULT_OPTIONS;\n  }\n  /**  */\n  public type: string = 'radial-bar';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    this.updateOption({ data });\n    //  scale\n    meta({ chart: this.chart, options: this.options });\n    this.chart.changeData(data);\n  }\n\n  /**\n   * \n   */\n  protected getDefaultOptions(): Partial<RadialBarOptions> {\n    return RadialBar.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<RadialBarOptions> {\n    return adaptor;\n  }\n}\n","import { interaction, animation, theme, scale, tooltip, legend, annotation } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { flow, deepAssign, findGeometry, transformLabel } from '../../utils';\nimport { interval, point } from '../../adaptor/geometries';\nimport { pattern } from '../../adaptor/pattern';\nimport { processIllegalData } from '../../utils';\nimport { RadialBarOptions } from './types';\nimport { getScaleMax, getStackedData } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<RadialBarOptions>): Params<RadialBarOptions> {\n  const { chart, options } = params;\n  const { barStyle: style, color, tooltip, colorField, type, xField, yField, data } = options;\n\n  // \n  const processData = processIllegalData(data, yField);\n  chart.data(processData);\n\n  const p = deepAssign({}, params, {\n    options: {\n      tooltip,\n      seriesField: colorField,\n      interval: {\n        style,\n        color,\n        shape: type === 'line' ? 'line' : 'intervel',\n      },\n      // \n      minColumnWidth: options.minBarWidth,\n      maxColumnWidth: options.maxBarWidth,\n      columnBackground: options.barBackground,\n    },\n  });\n  interval(p);\n  if (type === 'line') {\n    point({\n      chart,\n      options: { xField, yField, seriesField: colorField, point: { shape: 'circle', color } },\n    });\n  }\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<RadialBarOptions>): Params<RadialBarOptions> {\n  const { options } = params;\n  const { yField, xField, data, isStack, isGroup, colorField, maxAngle } = options;\n\n  const actualData = isStack && !isGroup && colorField ? getStackedData(data, xField, yField) : data;\n  const processData = processIllegalData(actualData, yField);\n  return flow(\n    scale({\n      [yField]: {\n        min: 0,\n        max: getScaleMax(maxAngle, yField, processData),\n      },\n    })\n  )(params);\n}\n\n/**\n * coordinate \n * @param params\n */\nfunction coordinate(params: Params<RadialBarOptions>): Params<RadialBarOptions> {\n  const { chart, options } = params;\n  const { radius, innerRadius, startAngle, endAngle } = options;\n\n  chart\n    .coordinate({\n      type: 'polar',\n      cfg: {\n        radius,\n        innerRadius,\n        startAngle,\n        endAngle,\n      },\n    })\n    .transpose();\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nexport function axis(params: Params<RadialBarOptions>): Params<RadialBarOptions> {\n  const { chart, options } = params;\n  const { xField, xAxis } = options;\n  chart.axis(xField, xAxis);\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<RadialBarOptions>): Params<RadialBarOptions> {\n  const { chart, options } = params;\n  const { label, yField } = options;\n\n  const intervalGeometry = findGeometry(chart, 'interval');\n\n  // label  false,   label\n  if (!label) {\n    intervalGeometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    intervalGeometry.label({\n      fields: [yField],\n      callback,\n      cfg: {\n        ...transformLabel(cfg),\n        type: 'polar',\n      },\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<RadialBarOptions>) {\n  return flow(\n    pattern('barStyle'),\n    geometry,\n    meta,\n    axis,\n    coordinate,\n    interaction,\n    animation,\n    theme,\n    tooltip,\n    legend,\n    annotation(),\n    label\n  )(params);\n}\n","import { Data } from '../../types';\n\nexport function getScaleMax(maxAngle: number, yField: string, data: Data): number {\n  const yData = data.map((item) => item[yField]).filter((v) => v !== undefined);\n  const maxValue = yData.length > 0 ? Math.max(...yData) : 0;\n  const formatRadian = Math.abs(maxAngle) % 360;\n  if (!formatRadian) {\n    return maxValue;\n  }\n  return (maxValue * 360) / formatRadian;\n}\n\n/**\n * \n */\nexport function getStackedData(data: Data, xField: string, yField: string) {\n  const stackedData: Data = [];\n  data.forEach((item) => {\n    const valueItem = stackedData.find((v) => v[xField] === item[xField]);\n    if (valueItem) {\n      valueItem[yField] += item[yField] || null;\n    } else {\n      stackedData.push({ ...item });\n    }\n  });\n  return stackedData;\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  interactions: [{ type: 'element-active' }],\n  legend: false,\n  tooltip: {\n    showMarkers: false,\n  },\n  xAxis: {\n    grid: null,\n    tickLine: null,\n    line: null,\n  },\n  maxAngle: 240,\n});\n","import { VIEW_LIFE_CIRCLE, Event } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { deepAssign, findViewById } from '../../utils';\nimport { BidirectionalBarOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { syncViewPadding, transformData, isHorizontal } from './utils';\nimport { SERIES_FIELD_KEY, FIRST_AXES_VIEW, SECOND_AXES_VIEW } from './constant';\n\nexport type { BidirectionalBarOptions };\n\nexport class BidirectionalBar extends Plot<BidirectionalBarOptions> {\n  /**\n   *  \n   * \n   */\n  static getDefaultOptions(): Partial<BidirectionalBarOptions> {\n    return deepAssign({}, super.getDefaultOptions(), {\n      syncViewPadding,\n    });\n  }\n\n  /**  */\n  static SERIES_FIELD_KEY = SERIES_FIELD_KEY;\n\n  /**  */\n  public type: string = 'bidirectional-bar';\n\n  /**\n   * @override\n   */\n  public changeData(data = []) {\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null)\n    );\n\n    // options\n    this.updateOption({ data });\n    const { xField, yField, layout } = this.options;\n    // \n    const groupData: any[] = transformData(xField, yField, SERIES_FIELD_KEY, data, isHorizontal(layout));\n    const [firstViewData, secondViewData] = groupData;\n    const firstView = findViewById(this.chart, FIRST_AXES_VIEW);\n    const secondView = findViewById(this.chart, SECOND_AXES_VIEW);\n    // viewdata\n    firstView.data(firstViewData);\n    secondView.data(secondViewData);\n    // \n    this.chart.render(true);\n\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null)\n    );\n  }\n\n  protected getDefaultOptions() {\n    return BidirectionalBar.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<BidirectionalBarOptions> {\n    return adaptor;\n  }\n}\n","import { View } from '@antv/g2';\nimport { get, keys } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport {\n  tooltip,\n  interaction as commonInteraction,\n  animation as commonAnimation,\n  theme as commonTheme,\n  limitInPlot as commonLimitInPlot,\n  scale,\n} from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { flow, findViewById, findGeometry, transformLabel, deepAssign } from '../../utils';\nimport { BidirectionalBarOptions } from './types';\nimport { FIRST_AXES_VIEW, SECOND_AXES_VIEW, SERIES_FIELD_KEY } from './constant';\nimport { isHorizontal, transformData } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart, options } = params;\n  const { data, xField, yField, color, barStyle, widthRatio, legend, layout } = options;\n\n  // \n  const groupData: any[] = transformData(xField, yField, SERIES_FIELD_KEY, data, isHorizontal(layout));\n  //  view  legend\n  if (legend) {\n    chart.legend(SERIES_FIELD_KEY, legend);\n  } else if (legend === false) {\n    chart.legend(false);\n  }\n  //  view\n  let firstView: View;\n  let secondView: View;\n  const [firstViewData, secondViewData] = groupData;\n\n  // \n  if (isHorizontal(layout)) {\n    firstView = chart.createView({\n      region: {\n        start: { x: 0, y: 0 },\n        end: { x: 0.5, y: 1 },\n      },\n      id: FIRST_AXES_VIEW,\n    });\n\n    firstView.coordinate().transpose().reflect('x');\n\n    secondView = chart.createView({\n      region: {\n        start: { x: 0.5, y: 0 },\n        end: { x: 1, y: 1 },\n      },\n      id: SECOND_AXES_VIEW,\n    });\n    secondView.coordinate().transpose();\n\n    // @: ( transform )\n    firstView.data(firstViewData);\n    secondView.data(secondViewData);\n  } else {\n    // \n    firstView = chart.createView({\n      region: {\n        start: { x: 0, y: 0 },\n        end: { x: 1, y: 0.5 },\n      },\n      id: FIRST_AXES_VIEW,\n    });\n    secondView = chart.createView({\n      region: {\n        start: { x: 0, y: 0.5 },\n        end: { x: 1, y: 1 },\n      },\n      id: SECOND_AXES_VIEW,\n    });\n    secondView.coordinate().reflect('y');\n\n    firstView.data(firstViewData);\n    secondView.data(secondViewData);\n  }\n  const left = deepAssign({}, params, {\n    chart: firstView,\n    options: {\n      widthRatio,\n      xField,\n      yField: yField[0],\n      seriesField: SERIES_FIELD_KEY,\n      interval: {\n        color,\n        style: barStyle,\n      },\n    },\n  });\n  interval(left);\n\n  const right = deepAssign({}, params, {\n    chart: secondView,\n    options: {\n      xField,\n      yField: yField[1],\n      seriesField: SERIES_FIELD_KEY,\n      widthRatio,\n      interval: {\n        color,\n        style: barStyle,\n      },\n    },\n  });\n\n  interval(right);\n\n  return params;\n}\n\n/**\n * meta \n * -  SERIES_FIELD_KEY  yField \n * @param params\n */\nfunction meta(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { options, chart } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n  const firstView = findViewById(chart, FIRST_AXES_VIEW);\n  const secondView = findViewById(chart, SECOND_AXES_VIEW);\n\n  const aliasMap = {};\n  keys(options?.meta || {}).map((metaKey) => {\n    if (get(options?.meta, [metaKey, 'alias'])) {\n      aliasMap[metaKey] = options.meta[metaKey].alias;\n    }\n  });\n\n  chart.scale({\n    [SERIES_FIELD_KEY]: {\n      sync: true,\n      formatter: (v) => {\n        return get(aliasMap, v, v);\n      },\n    },\n  });\n\n  scale({\n    [xField]: xAxis,\n    [yField[0]]: yAxis[yField[0]],\n  })(deepAssign({}, params, { chart: firstView }));\n\n  scale({\n    [xField]: xAxis,\n    [yField[1]]: yAxis[yField[1]],\n  })(deepAssign({}, params, { chart: secondView }));\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField, layout } = options;\n\n  const firstView = findViewById(chart, FIRST_AXES_VIEW);\n  const secondView = findViewById(chart, SECOND_AXES_VIEW);\n  //  view axis ;  bottom  label\n  // @ts-ignore\n  if (xAxis?.position === 'bottom') {\n    // fixme  label: null  tickLine \n    secondView.axis(xField, { ...xAxis, label: { formatter: () => '' } });\n  } else {\n    secondView.axis(xField, false);\n  }\n\n  //  false  firstView \n  if (xAxis === false) {\n    firstView.axis(xField, false);\n  } else {\n    firstView.axis(xField, {\n      //  firstView \n      position: isHorizontal(layout) ? 'top' : 'bottom',\n      ...xAxis,\n    });\n  }\n\n  if (yAxis === false) {\n    firstView.axis(yField[0], false);\n    secondView.axis(yField[1], false);\n  } else {\n    firstView.axis(yField[0], yAxis[yField[0]]);\n    secondView.axis(yField[1], yAxis[yField[1]]);\n  }\n  /**\n   *  syncViewPadding\n   *  TODO  g2 View  setter \n   */\n\n  //@ts-ignore\n  chart.__axisPosition = {\n    position: firstView.getOptions().axes[xField].position,\n    layout,\n  };\n  return params;\n}\n\n/**\n * interaction \n * @param params\n */\nexport function interaction(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart } = params;\n\n  commonInteraction(deepAssign({}, params, { chart: findViewById(chart, FIRST_AXES_VIEW) }));\n  commonInteraction(deepAssign({}, params, { chart: findViewById(chart, SECOND_AXES_VIEW) }));\n\n  return params;\n}\n\n/**\n * limitInPlot\n * @param params\n */\nexport function limitInPlot(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart, options } = params;\n  const { yField, yAxis } = options;\n\n  commonLimitInPlot(\n    deepAssign({}, params, {\n      chart: findViewById(chart, FIRST_AXES_VIEW),\n      options: {\n        yAxis: yAxis[yField[0]],\n      },\n    })\n  );\n\n  commonLimitInPlot(\n    deepAssign({}, params, {\n      chart: findViewById(chart, SECOND_AXES_VIEW),\n      options: {\n        yAxis: yAxis[yField[1]],\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * theme\n * @param params\n */\nexport function theme(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart } = params;\n\n  commonTheme(deepAssign({}, params, { chart: findViewById(chart, FIRST_AXES_VIEW) }));\n  commonTheme(deepAssign({}, params, { chart: findViewById(chart, SECOND_AXES_VIEW) }));\n  commonTheme(params);\n\n  return params;\n}\n\n/**\n * animation\n * @param params\n */\nexport function animation(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart } = params;\n\n  commonAnimation(deepAssign({}, params, { chart: findViewById(chart, FIRST_AXES_VIEW) }));\n  commonAnimation(deepAssign({}, params, { chart: findViewById(chart, SECOND_AXES_VIEW) }));\n\n  return params;\n}\n\n/**\n * label  (1.  offset  2. leftView  *= -1)\n * @param params\n */\nfunction label(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart, options } = params;\n  const { label, yField, layout } = options;\n\n  const firstView = findViewById(chart, FIRST_AXES_VIEW);\n  const secondView = findViewById(chart, SECOND_AXES_VIEW);\n  const leftGeometry = findGeometry(firstView, 'interval');\n  const rightGeometry = findGeometry(secondView, 'interval');\n\n  if (!label) {\n    leftGeometry.label(false);\n    rightGeometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    /** ----  ---- */\n    // \n    if (!cfg.position) {\n      cfg.position = 'middle';\n    }\n    if (cfg.offset === undefined) {\n      cfg.offset = 2;\n    }\n\n    /** ---- leftView label  ---- */\n    const leftLabelCfg = { ...cfg };\n    if (isHorizontal(layout)) {\n      //  textAlign \n      const textAlign = leftLabelCfg.style?.textAlign || (cfg.position === 'middle' ? 'center' : 'left');\n      cfg.style = deepAssign({}, cfg.style, { textAlign });\n      const textAlignMap = { left: 'right', right: 'left', center: 'center' };\n      leftLabelCfg.style = deepAssign({}, leftLabelCfg.style, { textAlign: textAlignMap[textAlign] });\n    } else {\n      const positionMap = { top: 'bottom', bottom: 'top', middle: 'middle' };\n      if (typeof cfg.position === 'string') {\n        cfg.position = positionMap[cfg.position];\n      } else if (typeof cfg.position === 'function') {\n        cfg.position = (...args) => positionMap[(cfg.position as Function).apply(this, args)];\n      }\n      //  textBaseline \n      const textBaseline = leftLabelCfg.style?.textBaseline || 'bottom';\n      leftLabelCfg.style = deepAssign({}, leftLabelCfg.style, { textBaseline });\n      const textBaselineMap = { top: 'bottom', bottom: 'top', middle: 'middle' };\n      cfg.style = deepAssign({}, cfg.style, { textBaseline: textBaselineMap[textBaseline] });\n    }\n\n    leftGeometry.label({\n      fields: [yField[0]],\n      callback,\n      cfg: transformLabel(leftLabelCfg),\n    });\n    rightGeometry.label({\n      fields: [yField[1]],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<BidirectionalBarOptions>) {\n  // flow  G2 API\n  return flow(geometry, meta, axis, limitInPlot, theme, label, tooltip, interaction, animation)(params);\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { TreemapOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { transformData, enableInteraction, resetDrillDown } from './utils';\nimport './interactions';\n\nexport type { TreemapOptions };\n\nexport class Treemap extends Plot<TreemapOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<TreemapOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'treemap';\n\n  /**\n   * changeData\n   */\n  public changeData(data) {\n    const { colorField, interactions, hierarchyConfig } = this.options;\n    this.updateOption({ data });\n    const transData = transformData({\n      data,\n      colorField,\n      enableDrillDown: enableInteraction(interactions, 'treemap-drill-down'),\n      hierarchyConfig,\n    });\n    this.chart.changeData(transData);\n\n    resetDrillDown(this.chart);\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Treemap.getDefaultOptions();\n  }\n\n  protected getSchemaAdaptor(): Adaptor<TreemapOptions> {\n    return adaptor;\n  }\n}\n","import { get } from '@antv/util';\nimport { polygon as basePolygon } from '../../adaptor/geometries/polygon';\nimport { Params } from '../../core/adaptor';\nimport { interaction as commonInteraction, animation, theme, legend, annotation, tooltip } from '../../adaptor/common';\nimport { pattern } from '../../adaptor/pattern';\nimport { flow, deepAssign } from '../../utils';\nimport { getAdjustAppendPadding } from '../../utils/padding';\nimport { transformData, findInteraction, enableDrillInteraction } from './utils';\nimport { TreemapOptions } from './types';\n\n/**\n *  option\n * @param params\n */\nfunction defaultOptions(params: Params<TreemapOptions>): Params<TreemapOptions> {\n  const { options } = params;\n  const { colorField } = options;\n\n  return deepAssign(\n    {\n      options: {\n        rawFields: ['value'],\n        tooltip: {\n          fields: ['name', 'value', colorField, 'path'],\n          formatter: (data) => {\n            return {\n              name: data.name,\n              value: data.value,\n            };\n          },\n        },\n      },\n    },\n    params\n  );\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<TreemapOptions>): Params<TreemapOptions> {\n  const { chart, options } = params;\n  const { color, colorField, rectStyle, hierarchyConfig, rawFields } = options;\n\n  const data = transformData({\n    data: options.data,\n    colorField: options.colorField,\n    enableDrillDown: enableDrillInteraction(options),\n    hierarchyConfig,\n  });\n\n  chart.data(data);\n\n  // geometry\n  basePolygon(\n    deepAssign({}, params, {\n      options: {\n        xField: 'x',\n        yField: 'y',\n        seriesField: colorField,\n        rawFields: rawFields,\n        polygon: {\n          color,\n          style: rectStyle,\n        },\n      },\n    })\n  );\n\n  // \n  chart.coordinate().reflect('y');\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction axis(params: Params<TreemapOptions>): Params<TreemapOptions> {\n  const { chart } = params;\n  chart.axis(false);\n  return params;\n}\n\nfunction adaptorInteraction(options: TreemapOptions): TreemapOptions {\n  const { drilldown, interactions = [] } = options;\n\n  const enableDrillDown = enableDrillInteraction(options);\n  if (enableDrillDown) {\n    return deepAssign({}, options, {\n      interactions: [\n        ...interactions,\n        {\n          type: 'drill-down',\n          //   API\n          cfg: { drillDownConfig: drilldown, transformData },\n        },\n      ],\n    });\n  }\n  return options;\n}\n\n/**\n * Interaction \n * @param params\n */\nexport function interaction(params: Params<TreemapOptions>): Params<TreemapOptions> {\n  const { chart, options } = params;\n  const { interactions, drilldown } = options;\n\n  commonInteraction({\n    chart,\n    options: adaptorInteraction(options),\n  });\n\n  //  view-zoom\n  const viewZoomInteraction = findInteraction(interactions, 'view-zoom');\n\n  if (viewZoomInteraction) {\n    //  interaction \n    if (viewZoomInteraction.enable !== false) {\n      chart.getCanvas().on('mousewheel', (ev) => {\n        ev.preventDefault();\n      });\n    } else {\n      //  viewZoomInteraction \n      chart.getCanvas().off('mousewheel');\n    }\n  }\n\n  // \n  const enableDrillDown = enableDrillInteraction(options);\n  if (enableDrillDown) {\n    //  25px \n    chart.appendPadding = getAdjustAppendPadding(chart.appendPadding, get(drilldown, ['breadCrumb', 'position']));\n  }\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<TreemapOptions>) {\n  return flow(\n    defaultOptions,\n    theme,\n    pattern('rectStyle'),\n    geometry,\n    axis,\n    legend,\n    tooltip,\n    interaction,\n    animation,\n    annotation()\n  )(params);\n}\n","export const DEFAULT_OPTIONS = {\n  //  name \n  colorField: 'name',\n  rectStyle: {\n    lineWidth: 1,\n    stroke: '#fff',\n  },\n  hierarchyConfig: {\n    tile: 'treemapSquarify' as const,\n  },\n  label: {\n    fields: ['name'],\n    layout: {\n      type: 'limit-in-shape',\n    },\n  },\n  tooltip: {\n    showMarkers: false,\n    showTitle: false,\n  },\n  // \n  drilldown: {\n    enabled: false,\n    breadCrumb: {\n      position: 'bottom-left' as const,\n      rootText: '',\n      dividerText: '/',\n      textStyle: {\n        fontSize: 12,\n        fill: 'rgba(0, 0, 0, 0.65)',\n        cursor: 'pointer',\n      },\n      activeTextStyle: {\n        fill: '#87B5FF',\n      },\n    },\n  },\n};\n","/**  drag-move  */\nimport '../../../interactions/drag-move';\n/**  drill-down  */\nimport '../../../interactions/drill-down';\n","import { get } from '@antv/util';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { Data, Datum } from '../../types';\nimport { findViewById } from '../../utils';\nimport { SankeyOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { transformToViewsData } from './helper';\nimport { EDGES_VIEW_ID, NODES_VIEW_ID } from './constant';\n// \nimport './interactions';\n\nexport type { SankeyOptions };\n\n/**\n *   Sankey\n */\nexport class Sankey extends Plot<SankeyOptions> {\n  /**  */\n  public type: string = 'sankey';\n\n  static getDefaultOptions(): Partial<SankeyOptions> {\n    return {\n      appendPadding: 8,\n      syncViewPadding: true,\n      nodeStyle: {\n        opacity: 1,\n        fillOpacity: 1,\n        lineWidth: 1,\n      },\n      edgeStyle: {\n        opacity: 0.3,\n        lineWidth: 0,\n      },\n      edgeState: {\n        active: {\n          style: {\n            opacity: 0.8,\n            lineWidth: 0,\n          },\n        },\n      },\n      label: {\n        formatter: ({ name }) => name,\n        callback: (x: number[]) => {\n          const isLast = x[1] === 1; // \n          return {\n            style: {\n              fill: '#545454',\n              textAlign: isLast ? 'end' : 'start',\n            },\n            offsetX: isLast ? -8 : 8,\n          };\n        },\n        layout: [\n          {\n            type: 'hide-overlap',\n          },\n        ],\n      },\n      tooltip: {\n        showTitle: false,\n        showMarkers: false,\n        shared: false,\n        // node  tooltipedge  tooltip\n        showContent: (items) => {\n          return !get(items, [0, 'data', 'isNode']);\n        },\n        formatter: (datum: Datum) => {\n          const { source, target, value } = datum;\n          return {\n            name: source + ' -> ' + target,\n            value,\n          };\n        },\n      },\n      nodeWidthRatio: 0.008,\n      nodePaddingRatio: 0.01,\n      animation: {\n        appear: {\n          animation: 'wave-in',\n        },\n        enter: {\n          animation: 'wave-in',\n        },\n      },\n    };\n  }\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: Data) {\n    this.updateOption({ data });\n\n    const { nodes, edges } = transformToViewsData(this.options, this.chart.width, this.chart.height);\n\n    const nodesView = findViewById(this.chart, NODES_VIEW_ID);\n    const edgesView = findViewById(this.chart, EDGES_VIEW_ID);\n\n    nodesView.changeData(nodes);\n    edgesView.changeData(edges);\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<SankeyOptions> {\n    return adaptor;\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Sankey.getDefaultOptions();\n  }\n}\n","import { uniq } from '@antv/util';\nimport { theme } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, findViewById, flow } from '../../utils';\nimport { polygon, edge } from '../../adaptor/geometries';\nimport { transformToViewsData } from './helper';\nimport { SankeyOptions } from './types';\nimport { X_FIELD, Y_FIELD, COLOR_FIELD, EDGES_VIEW_ID, NODES_VIEW_ID } from './constant';\n\n/**\n *  \n * @param params\n */\nfunction defaultOptions(params: Params<SankeyOptions>): Params<SankeyOptions> {\n  const { options } = params;\n  const { rawFields = [] } = options;\n\n  return deepAssign(\n    {},\n    {\n      options: {\n        tooltip: {\n          fields: uniq(['name', 'source', 'target', 'value', 'isNode', ...rawFields]),\n        },\n        label: {\n          fields: uniq(['x', 'name', ...rawFields]),\n        },\n      },\n    },\n    params\n  );\n}\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<SankeyOptions>): Params<SankeyOptions> {\n  const { chart, options } = params;\n  const { color, nodeStyle, edgeStyle, label, tooltip, nodeState, edgeState } = options;\n\n  // 1.  view \n  chart.legend(false);\n  chart.tooltip(tooltip);\n  chart.axis(false);\n  // y \n  chart.coordinate().reflect('y');\n\n  // 2. node edge views\n  // @ts-ignore\n  const { nodes, edges } = transformToViewsData(options, chart.width, chart.height);\n\n  // edge view\n  const edgeView = chart.createView({ id: EDGES_VIEW_ID });\n  edgeView.data(edges);\n\n  edge({\n    chart: edgeView,\n    // @ts-ignore\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      seriesField: COLOR_FIELD,\n      edge: {\n        color,\n        style: edgeStyle,\n        shape: 'arc',\n      },\n      tooltip,\n      state: edgeState,\n    },\n  });\n\n  const nodeView = chart.createView({ id: NODES_VIEW_ID });\n  nodeView.data(nodes);\n\n  polygon({\n    chart: nodeView,\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      seriesField: COLOR_FIELD,\n      polygon: {\n        color,\n        style: nodeStyle,\n      },\n      label,\n      tooltip,\n      state: nodeState,\n    },\n  });\n\n  chart.interaction('element-active');\n\n  // scale\n  chart.scale({\n    x: { sync: true, nice: true, min: 0, max: 1, minLimit: 0, maxLimit: 1 },\n    y: { sync: true, nice: true, min: 0, max: 1, minLimit: 0, maxLimit: 1 },\n    name: { sync: 'color', type: 'cat' },\n  });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function animation(params: Params<SankeyOptions>): Params<SankeyOptions> {\n  const { chart, options } = params;\n  const { animation } = options;\n\n  //  view \n  if (typeof animation === 'boolean') {\n    chart.animate(animation);\n  } else {\n    chart.animate(true);\n  }\n\n  const geometries = [...chart.views[0].geometries, ...chart.views[1].geometries];\n\n  //  Geometry \n  geometries.forEach((g) => {\n    g.animate(animation);\n  });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function nodeDraggable(params: Params<SankeyOptions>): Params<SankeyOptions> {\n  const { chart, options } = params;\n  const { nodeDraggable } = options;\n\n  const DRAG_INTERACTION = 'sankey-node-draggable';\n\n  if (nodeDraggable) {\n    chart.interaction(DRAG_INTERACTION);\n  } else {\n    chart.removeInteraction(DRAG_INTERACTION);\n  }\n\n  return params;\n}\n\n/**\n * Interaction \n * @param params\n */\nfunction interaction(params: Params<SankeyOptions>): Params<SankeyOptions> {\n  const { chart, options } = params;\n  const { interactions = [] } = options;\n\n  const nodeInteractions = [].concat(interactions, options.nodeInteractions || []);\n  const edgeInteractions = [].concat(interactions, options.edgeInteractions || []);\n\n  const nodeView = findViewById(chart, NODES_VIEW_ID);\n  const edgeView = findViewById(chart, EDGES_VIEW_ID);\n\n  nodeInteractions.forEach((i) => {\n    if (i?.enable === false) {\n      nodeView.removeInteraction(i.type);\n    } else {\n      nodeView.interaction(i.type, i.cfg || {});\n    }\n  });\n\n  edgeInteractions.forEach((i) => {\n    if (i?.enable === false) {\n      edgeView.removeInteraction(i.type);\n    } else {\n      edgeView.interaction(i.type, i.cfg || {});\n    }\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<SankeyOptions>) {\n  // flow  G2 API\n  return flow(\n    defaultOptions,\n    geometry,\n    interaction,\n    nodeDraggable,\n    animation,\n    theme\n    // ...  adaptor flow\n  )(params);\n}\n","import { assign, isString, isFunction } from '@antv/util';\nimport { Datum } from '../../types';\nimport { sankey, left, right, center, justify } from './sankey';\n\nconst ALIGN_METHOD = {\n  left,\n  right,\n  center,\n  justify,\n};\n\ntype InputNode = {\n  readonly name: string;\n};\n\ntype InputLink = {\n  readonly source: number;\n  readonly target: number;\n  readonly value: number;\n};\n\ntype OutputNode = {\n  readonly name: string;\n  readonly x0: number;\n  readonly x1: number;\n  readonly y0: number;\n  readonly y1: number;\n  readonly depth: number;\n  readonly value: number;\n\n  //  polygon\n  x: number[];\n  y: number[];\n};\n\ntype OutputLink = {\n  readonly source: OutputNode;\n  readonly target: OutputNode;\n  readonly value: number;\n  readonly width: number;\n  readonly y0: number;\n  readonly y1: number;\n\n  //  edge\n  x?: number[];\n  y?: number[];\n};\n\n/**\n * \n */\nexport type SankeyLayoutInputData = {\n  readonly nodes: InputNode[];\n  readonly links: InputLink[];\n};\n\ntype SankeyLayoutOutputData = {\n  readonly nodes: OutputNode[];\n  readonly links: OutputLink[];\n};\n\n/**\n * \n */\nexport type NodeAlign = keyof typeof ALIGN_METHOD | Function;\n\n/**\n *  depth \n */\nexport type NodeDepth = (datum: Datum, maxDepth: number) => number;\n\n/**\n * \n */\nexport type NodeSort = (a: Datum, b: Datum) => number;\n\n/**\n * \n */\nexport type SankeyLayoutOptions = {\n  readonly nodeId?: (node: Datum) => any;\n  // readonly value?: (node: Datum) => any;\n  // readonly source?: (edge: Datum) => any;\n  // readonly target?: (edge: Datum) => any;\n  // sankey.nodeSort(undefined) is the default and resorts by ascending breadth during each iteration.\n  // sankey.nodeSort(null) specifies the input order of nodes and never sorts.\n  // sankey.nodeSort(function) specifies the given order as a comparator function and sorts once on initialization.\n  readonly nodeSort?: (a: any, b: any) => number;\n  readonly nodeAlign?: NodeAlign;\n  readonly nodeWidth?: number;\n  readonly nodePadding?: number;\n  readonly nodeDepth?: NodeDepth;\n};\n\n/**\n * \n */\nconst DEFAULT_OPTIONS: Partial<SankeyLayoutOptions> = {\n  nodeId: (node: Datum) => node.index,\n  nodeAlign: 'justify',\n  nodeWidth: 0.008,\n  nodePadding: 0.03,\n  nodeSort: undefined,\n};\n\n/**\n *  align function\n * @param nodeAlign\n * @param nodeDepth\n */\nexport function getNodeAlignFunction(nodeAlign: NodeAlign) {\n  const func = isString(nodeAlign) ? ALIGN_METHOD[nodeAlign] : isFunction(nodeAlign) ? nodeAlign : null;\n\n  return func || justify;\n}\n\nexport function getDefaultOptions(sankeyLayoutOptions: SankeyLayoutOptions) {\n  return assign({}, DEFAULT_OPTIONS, sankeyLayoutOptions);\n}\n\n/**\n * 0 - 1 \n *  data \n * @param sankeyLayoutOptions\n * @param data\n */\nexport function sankeyLayout(\n  sankeyLayoutOptions: SankeyLayoutOptions,\n  data: SankeyLayoutInputData\n): SankeyLayoutOutputData {\n  const options = getDefaultOptions(sankeyLayoutOptions);\n\n  const { nodeId, nodeSort, nodeAlign, nodeWidth, nodePadding, nodeDepth } = options;\n\n  const sankeyProcessor = sankey()\n    // .links((d: any) => d.links)\n    // .nodes((d: any) => d.nodes)\n    .nodeSort(nodeSort)\n    .nodeWidth(nodeWidth)\n    .nodePadding(nodePadding)\n    .nodeDepth(nodeDepth)\n    .nodeAlign(getNodeAlignFunction(nodeAlign))\n    .extent([\n      [0, 0],\n      [1, 1],\n    ])\n    .nodeId(nodeId);\n\n  // \n  const layoutData: SankeyLayoutOutputData = sankeyProcessor(data);\n\n  // post process (x, y), etc.\n  layoutData.nodes.forEach((node) => {\n    const { x0, x1, y0, y1 } = node;\n    /* points\n     * 3---2\n     * |   |\n     * 0---1\n     */\n    node.x = [x0, x1, x1, x0];\n    node.y = [y0, y0, y1, y1];\n  });\n\n  layoutData.links.forEach((edge) => {\n    const { source, target } = edge;\n    const sx = source.x1;\n    const tx = target.x0;\n    edge.x = [sx, sx, tx, tx];\n    const offset = edge.width / 2;\n    edge.y = [edge.y0 + offset, edge.y0 - offset, edge.y1 + offset, edge.y1 - offset];\n  });\n\n  return layoutData;\n}\n","/**\n * Fork from https://github.com/d3/d3-sankey/tree/master/src\n * \n * 1.  d3-array \n * 2.  set map \n * 3.  [empty] \n * 4.  align  depth \n */\nimport { Sankey as sankey } from './sankey';\nexport { center, left, right, justify } from './align';\nexport { sankey };\n","import { justify } from './align';\nimport { constant, sumBy, maxValueBy, minValueBy } from './helper';\n\nfunction ascendingSourceBreadth(a, b) {\n  return ascendingBreadth(a.source, b.source) || a.index - b.index;\n}\n\nfunction ascendingTargetBreadth(a, b) {\n  return ascendingBreadth(a.target, b.target) || a.index - b.index;\n}\n\nfunction ascendingBreadth(a, b) {\n  return a.y0 - b.y0;\n}\n\nfunction value(d) {\n  return d.value;\n}\n\nfunction defaultId(d) {\n  return d.index;\n}\n\nfunction defaultNodes(graph) {\n  return graph.nodes;\n}\n\nfunction defaultLinks(graph) {\n  return graph.links;\n}\n\nfunction find(nodeById, id) {\n  const node = nodeById.get(id);\n  if (!node) throw new Error('missing: ' + id);\n  return node;\n}\n\nfunction computeLinkBreadths({ nodes }) {\n  for (const node of nodes) {\n    let y0 = node.y0;\n    let y1 = y0;\n    for (const link of node.sourceLinks) {\n      link.y0 = y0 + link.width / 2;\n      y0 += link.width;\n    }\n    for (const link of node.targetLinks) {\n      link.y1 = y1 + link.width / 2;\n      y1 += link.width;\n    }\n  }\n}\n\nexport function Sankey() {\n  let x0 = 0,\n    y0 = 0,\n    x1 = 1,\n    y1 = 1; // extent\n  let dx = 24; // nodeWidth\n  let dy = 8,\n    py; // nodePadding\n  let id = defaultId;\n  let align = justify;\n  let depth;\n  let sort;\n  let linkSort;\n  let nodes = defaultNodes;\n  let links = defaultLinks;\n  let iterations = 6;\n\n  function sankey(arg) {\n    const graph = {\n      nodes: nodes(arg),\n      links: links(arg),\n    };\n    computeNodeLinks(graph);\n    computeNodeValues(graph);\n    computeNodeDepths(graph);\n    computeNodeHeights(graph);\n    computeNodeBreadths(graph);\n    computeLinkBreadths(graph);\n    return graph;\n  }\n\n  sankey.update = function (graph) {\n    computeLinkBreadths(graph);\n    return graph;\n  };\n\n  sankey.nodeId = function (_) {\n    return arguments.length ? ((id = typeof _ === 'function' ? _ : constant(_)), sankey) : id;\n  };\n\n  sankey.nodeAlign = function (_) {\n    return arguments.length ? ((align = typeof _ === 'function' ? _ : constant(_)), sankey) : align;\n  };\n\n  sankey.nodeDepth = function (_) {\n    return arguments.length ? ((depth = typeof _ === 'function' ? _ : _), sankey) : depth;\n  };\n\n  sankey.nodeSort = function (_) {\n    return arguments.length ? ((sort = _), sankey) : sort;\n  };\n\n  sankey.nodeWidth = function (_) {\n    return arguments.length ? ((dx = +_), sankey) : dx;\n  };\n\n  sankey.nodePadding = function (_) {\n    return arguments.length ? ((dy = py = +_), sankey) : dy;\n  };\n\n  sankey.nodes = function (_) {\n    return arguments.length ? ((nodes = typeof _ === 'function' ? _ : constant(_)), sankey) : nodes;\n  };\n\n  sankey.links = function (_) {\n    return arguments.length ? ((links = typeof _ === 'function' ? _ : constant(_)), sankey) : links;\n  };\n\n  sankey.linkSort = function (_) {\n    return arguments.length ? ((linkSort = _), sankey) : linkSort;\n  };\n\n  sankey.size = function (_) {\n    return arguments.length ? ((x0 = y0 = 0), (x1 = +_[0]), (y1 = +_[1]), sankey) : [x1 - x0, y1 - y0];\n  };\n\n  sankey.extent = function (_) {\n    return arguments.length\n      ? ((x0 = +_[0][0]), (x1 = +_[1][0]), (y0 = +_[0][1]), (y1 = +_[1][1]), sankey)\n      : [\n          [x0, y0],\n          [x1, y1],\n        ];\n  };\n\n  sankey.iterations = function (_) {\n    return arguments.length ? ((iterations = +_), sankey) : iterations;\n  };\n\n  function computeNodeLinks({ nodes, links }) {\n    nodes.forEach((node, idx) => {\n      node.index = idx;\n      node.sourceLinks = [];\n      node.targetLinks = [];\n    });\n\n    const nodeById = new Map(nodes.map((d) => [id(d), d]));\n\n    links.forEach((link, idx) => {\n      link.index = idx;\n      let { source, target } = link;\n      if (typeof source !== 'object') source = link.source = find(nodeById, source);\n      if (typeof target !== 'object') target = link.target = find(nodeById, target);\n      source.sourceLinks.push(link);\n      target.targetLinks.push(link);\n    });\n\n    if (linkSort != null) {\n      for (const { sourceLinks, targetLinks } of nodes) {\n        sourceLinks.sort(linkSort);\n        targetLinks.sort(linkSort);\n      }\n    }\n  }\n\n  function computeNodeValues({ nodes }) {\n    for (const node of nodes) {\n      node.value =\n        node.fixedValue === undefined\n          ? Math.max(sumBy(node.sourceLinks, value), sumBy(node.targetLinks, value))\n          : node.fixedValue;\n    }\n  }\n\n  function computeNodeDepths({ nodes }) {\n    const n = nodes.length;\n    let current = new Set<any>(nodes);\n    let next = new Set();\n    let x = 0;\n    while (current.size) {\n      current.forEach((node) => {\n        node.depth = x;\n        for (const { target } of node.sourceLinks) {\n          next.add(target);\n        }\n      });\n      if (++x > n) throw new Error('circular link');\n      current = next;\n      next = new Set();\n    }\n\n    //  depth depth\n    if (depth) {\n      const maxDepth = Math.max(maxValueBy(nodes, (d: any) => d.depth) + 1, 0);\n\n      let node;\n      for (let i = 0; i < nodes.length; i++) {\n        node = nodes[i];\n        node.depth = depth.call(null, node, maxDepth);\n      }\n    }\n  }\n\n  function computeNodeHeights({ nodes }) {\n    const n = nodes.length;\n    let current = new Set<any>(nodes);\n    let next = new Set();\n    let x = 0;\n    while (current.size) {\n      current.forEach((node) => {\n        node.height = x;\n        for (const { source } of node.targetLinks) {\n          next.add(source);\n        }\n      });\n      if (++x > n) throw new Error('circular link');\n      current = next;\n      next = new Set();\n    }\n  }\n\n  function computeNodeLayers({ nodes }) {\n    const x = Math.max(maxValueBy(nodes, (d: any) => d.depth) + 1, 0);\n    const kx = (x1 - x0 - dx) / (x - 1);\n    const columns = new Array(x).fill(0).map(() => []);\n    for (const node of nodes) {\n      const i = Math.max(0, Math.min(x - 1, Math.floor(align.call(null, node, x))));\n      node.layer = i;\n      node.x0 = x0 + i * kx;\n      node.x1 = node.x0 + dx;\n      if (columns[i]) columns[i].push(node);\n      else columns[i] = [node];\n    }\n    if (sort)\n      for (const column of columns) {\n        column.sort(sort);\n      }\n    return columns;\n  }\n\n  function initializeNodeBreadths(columns) {\n    const ky = minValueBy(columns, (c: any[]) => (y1 - y0 - (c.length - 1) * py) / sumBy(c, value)) as any as number;\n    for (const nodes of columns) {\n      let y = y0;\n      for (const node of nodes) {\n        node.y0 = y;\n        node.y1 = y + node.value * ky;\n        y = node.y1 + py;\n        for (const link of node.sourceLinks) {\n          link.width = link.value * ky;\n        }\n      }\n      y = (y1 - y + py) / (nodes.length + 1);\n      for (let i = 0; i < nodes.length; ++i) {\n        const node = nodes[i];\n        node.y0 += y * (i + 1);\n        node.y1 += y * (i + 1);\n      }\n      reorderLinks(nodes);\n    }\n  }\n\n  function computeNodeBreadths(graph) {\n    const columns = computeNodeLayers(graph);\n    py = Math.min(dy, (y1 - y0) / ((maxValueBy(columns, (c: any[]) => c.length) as any as number) - 1));\n    initializeNodeBreadths(columns);\n    for (let i = 0; i < iterations; ++i) {\n      const alpha = Math.pow(0.99, i);\n      const beta = Math.max(1 - alpha, (i + 1) / iterations);\n      relaxRightToLeft(columns, alpha, beta);\n      relaxLeftToRight(columns, alpha, beta);\n    }\n  }\n\n  // Reposition each node based on its incoming (target) links.\n  function relaxLeftToRight(columns, alpha, beta) {\n    for (let i = 1, n = columns.length; i < n; ++i) {\n      const column = columns[i];\n      for (const target of column) {\n        let y = 0;\n        let w = 0;\n        for (const { source, value } of target.targetLinks) {\n          const v = value * (target.layer - source.layer);\n          y += targetTop(source, target) * v;\n          w += v;\n        }\n        if (!(w > 0)) continue;\n        const dy = (y / w - target.y0) * alpha;\n        target.y0 += dy;\n        target.y1 += dy;\n        reorderNodeLinks(target);\n      }\n      if (sort === undefined) column.sort(ascendingBreadth);\n      if (column.length) resolveCollisions(column, beta);\n    }\n  }\n\n  // Reposition each node based on its outgoing (source) links.\n  function relaxRightToLeft(columns, alpha, beta) {\n    for (let n = columns.length, i = n - 2; i >= 0; --i) {\n      const column = columns[i];\n      for (const source of column) {\n        let y = 0;\n        let w = 0;\n        for (const { target, value } of source.sourceLinks) {\n          const v = value * (target.layer - source.layer);\n          y += sourceTop(source, target) * v;\n          w += v;\n        }\n        if (!(w > 0)) continue;\n        const dy = (y / w - source.y0) * alpha;\n        source.y0 += dy;\n        source.y1 += dy;\n        reorderNodeLinks(source);\n      }\n      if (sort === undefined) column.sort(ascendingBreadth);\n      if (column.length) resolveCollisions(column, beta);\n    }\n  }\n\n  function resolveCollisions(nodes, alpha) {\n    const i = nodes.length >> 1;\n    const subject = nodes[i];\n    resolveCollisionsBottomToTop(nodes, subject.y0 - py, i - 1, alpha);\n    resolveCollisionsTopToBottom(nodes, subject.y1 + py, i + 1, alpha);\n    resolveCollisionsBottomToTop(nodes, y1, nodes.length - 1, alpha);\n    resolveCollisionsTopToBottom(nodes, y0, 0, alpha);\n  }\n\n  // Push any overlapping nodes down.\n  function resolveCollisionsTopToBottom(nodes, y, i, alpha) {\n    for (; i < nodes.length; ++i) {\n      const node = nodes[i];\n      const dy = (y - node.y0) * alpha;\n      if (dy > 1e-6) (node.y0 += dy), (node.y1 += dy);\n      y = node.y1 + py;\n    }\n  }\n\n  // Push any overlapping nodes up.\n  function resolveCollisionsBottomToTop(nodes, y, i, alpha) {\n    for (; i >= 0; --i) {\n      const node = nodes[i];\n      const dy = (node.y1 - y) * alpha;\n      if (dy > 1e-6) (node.y0 -= dy), (node.y1 -= dy);\n      y = node.y0 - py;\n    }\n  }\n\n  function reorderNodeLinks({ sourceLinks, targetLinks }) {\n    if (linkSort === undefined) {\n      for (const {\n        source: { sourceLinks },\n      } of targetLinks) {\n        sourceLinks.sort(ascendingTargetBreadth);\n      }\n      for (const {\n        target: { targetLinks },\n      } of sourceLinks) {\n        targetLinks.sort(ascendingSourceBreadth);\n      }\n    }\n  }\n\n  function reorderLinks(nodes) {\n    if (linkSort === undefined) {\n      for (const { sourceLinks, targetLinks } of nodes) {\n        sourceLinks.sort(ascendingTargetBreadth);\n        targetLinks.sort(ascendingSourceBreadth);\n      }\n    }\n  }\n\n  // Returns the target.y0 that would produce an ideal link from source to target.\n  function targetTop(source, target) {\n    let y = source.y0 - ((source.sourceLinks.length - 1) * py) / 2;\n    for (const { target: node, width } of source.sourceLinks) {\n      if (node === target) break;\n      y += width + py;\n    }\n    for (const { source: node, width } of target.targetLinks) {\n      if (node === source) break;\n      y -= width;\n    }\n    return y;\n  }\n\n  // Returns the source.y0 that would produce an ideal link from source to target.\n  function sourceTop(source, target) {\n    let y = target.y0 - ((target.targetLinks.length - 1) * py) / 2;\n    for (const { source: node, width } of target.targetLinks) {\n      if (node === source) break;\n      y += width + py;\n    }\n    for (const { target: node, width } of source.sourceLinks) {\n      if (node === target) break;\n      y -= width;\n    }\n    return y;\n  }\n\n  return sankey;\n}\n","export function constant(x: any) {\n  return function () {\n    return x;\n  };\n}\n\nexport function sumBy(arr, func) {\n  let r = 0;\n  for (let i = 0; i < arr.length; i++) {\n    r += func(arr[i]);\n  }\n\n  return r;\n}\n\n/**\n * \n * @param arr\n * @param func\n */\nexport function maxValueBy(arr, func): number {\n  let r = -Infinity;\n  for (let i = 0; i < arr.length; i++) {\n    r = Math.max(func(arr[i]), r);\n  }\n\n  return r;\n}\n\n/**\n * \n * @param arr\n * @param func\n */\nexport function minValueBy(arr, func): number {\n  let r = Infinity;\n  for (let i = 0; i < arr.length; i++) {\n    r = Math.min(func(arr[i]), r);\n  }\n\n  return r;\n}\n","import { isArray } from '@antv/util';\nimport { Data } from '../../types';\n\n/**\n *  edges  node \n */\nexport function getNodes(edges: Data, sourceField: string, targetField: string): string[] {\n  const nodes = [];\n  edges.forEach((e) => {\n    const source = e[sourceField] as string;\n    const target = e[targetField] as string;\n    if (!nodes.includes(source)) {\n      nodes.push(source);\n    }\n    if (!nodes.includes(target)) {\n      nodes.push(target);\n    }\n  });\n  return nodes;\n}\n\n/**\n *  edges  dfs \n */\nexport function getMatrix(\n  edges: Data,\n  nodes: string[],\n  sourceField: string,\n  targetField: string\n): Record<string, Record<string, number>> {\n  const graphMatrix = {};\n\n  nodes.forEach((pre) => {\n    graphMatrix[pre] = {};\n    nodes.forEach((next) => {\n      graphMatrix[pre][next] = 0;\n    });\n  });\n\n  edges.forEach((edge) => {\n    graphMatrix[edge[sourceField]][edge[targetField]] = 1;\n  });\n\n  return graphMatrix;\n}\n\n/**\n *  DFS \n * @param data\n * @param sourceField\n * @param targetField\n */\nexport function cutoffCircle(edges: Data, sourceField: string, targetField: string): Data {\n  if (!isArray(edges)) return [];\n\n  // \n  const removedData = [];\n\n  // \n  const nodes = getNodes(edges, sourceField, targetField);\n  // \n  const graphMatrix = getMatrix(edges, nodes, sourceField, targetField);\n\n  // visited, 0,1, -1\n  const visited = {};\n  // visited\n  nodes.forEach((node) => {\n    visited[node] = 0;\n  });\n\n  // \n  function DFS(dfsNode) {\n    // \n    visited[dfsNode] = 1;\n    nodes.forEach((node) => {\n      if (graphMatrix[dfsNode][node] != 0) {\n        //  removeData\n        if (visited[node] == 1) {\n          // \n          removedData.push(`${dfsNode}_${node}`);\n        } else if (visited[node] == -1) {\n          // \n          return;\n        } else {\n          DFS(node); // \n        }\n      }\n    });\n    //-1\n    visited[dfsNode] = -1;\n  }\n\n  //  dfs \n  nodes.forEach((node) => {\n    //\n    if (visited[node] == -1) {\n      return;\n    }\n    DFS(node);\n  });\n\n  if (removedData.length !== 0) {\n    console.warn(`sankey data contains circle, ${removedData.length} records removed.`, removedData);\n  }\n\n  //  remove \n  return edges.filter((edge) => removedData.findIndex((i) => i === `${edge[sourceField]}_${edge[targetField]}`) < 0);\n}\n","import './node-draggable';\n","import { registerInteraction, registerAction } from '@antv/g2';\nimport { SankeyNodeDragAction } from './actions/node-drag';\n\nregisterAction('sankey-node-drag', SankeyNodeDragAction);\n\nregisterInteraction('sankey-node-draggable', {\n  showEnable: [\n    { trigger: 'polygon:mouseenter', action: 'cursor:pointer' },\n    { trigger: 'polygon:mouseleave', action: 'cursor:default' },\n  ],\n  start: [{ trigger: 'polygon:mousedown', action: 'sankey-node-drag:start' }],\n  processing: [\n    { trigger: 'plot:mousemove', action: 'sankey-node-drag:translate' },\n    { isEnable: (context) => context.isDragging, trigger: 'plot:mousemove', action: 'cursor:move' },\n  ],\n  end: [{ trigger: 'plot:mouseup', action: 'sankey-node-drag:end' }],\n});\n","import { Action, Element } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { Datum, Point } from '../../../../types';\nimport { findViewById } from '../../../../utils';\nimport { EDGES_VIEW_ID, NODES_VIEW_ID } from '../../constant';\n\nexport class SankeyNodeDragAction extends Action {\n  /**\n   * \n   */\n  private isDragging = false;\n\n  /**\n   * \n   */\n  private prevPoint: Point;\n  /**\n   * \n   */\n  private prevNodeAnimateCfg: any;\n  /**\n   * \n   */\n  private prevEdgeAnimateCfg: any;\n  /**\n   *  element \n   */\n  private currentElementIdx: number;\n\n  /**\n   *  element\n   */\n  private isNodeElement() {\n    const shape = get(this.context, 'event.target');\n    if (shape) {\n      const element = shape.get('element');\n      return element && element.getModel().data.isNode;\n    }\n    return false;\n  }\n\n  private getNodeView() {\n    return findViewById(this.context.view, NODES_VIEW_ID);\n  }\n\n  private getEdgeView() {\n    return findViewById(this.context.view, EDGES_VIEW_ID);\n  }\n\n  /**\n   *  index\n   * @param element\n   */\n  private getCurrentDatumIdx(element: Element) {\n    return this.getNodeView().geometries[0].elements.indexOf(element);\n  }\n\n  /**\n   * \n   */\n  public start() {\n    // \n    if (this.isNodeElement()) {\n      this.prevPoint = {\n        x: get(this.context, 'event.x'),\n        y: get(this.context, 'event.y'),\n      };\n\n      const element = this.context.event.target.get('element');\n      const idx = this.getCurrentDatumIdx(element);\n\n      if (idx === -1) {\n        return;\n      }\n\n      this.currentElementIdx = idx;\n      this.context.isDragging = true;\n      this.isDragging = true;\n\n      // \n      this.prevNodeAnimateCfg = this.getNodeView().getOptions().animate;\n      this.prevEdgeAnimateCfg = this.getEdgeView().getOptions().animate;\n      this.getNodeView().animate(false);\n      this.getEdgeView().animate(false);\n    }\n  }\n\n  /**\n   * \n   */\n  public translate() {\n    if (this.isDragging) {\n      const chart = this.context.view;\n\n      const currentPoint = {\n        x: get(this.context, 'event.x'),\n        y: get(this.context, 'event.y'),\n      };\n\n      const x = currentPoint.x - this.prevPoint.x;\n      const y = currentPoint.y - this.prevPoint.y;\n\n      const nodeView = this.getNodeView();\n      const element = nodeView.geometries[0].elements[this.currentElementIdx];\n\n      // \n      if (element && element.getModel()) {\n        const prevDatum: Datum = element.getModel().data;\n        const data = nodeView.getOptions().data;\n        const coordinate = nodeView.getCoordinate();\n\n        const datumGap = {\n          x: x / coordinate.getWidth(),\n          y: y / coordinate.getHeight(),\n        };\n\n        const nextDatum = {\n          ...prevDatum,\n          x: prevDatum.x.map((x: number) => (x += datumGap.x)),\n          y: prevDatum.y.map((y: number) => (y += datumGap.y)),\n        };\n        //  [0, 1] \n\n        // 1.  node \n        const newData = [...data];\n        newData[this.currentElementIdx] = nextDatum;\n        nodeView.data(newData);\n\n        // 2.  edge \n        const name = prevDatum.name;\n        const edgeView = this.getEdgeView();\n        const edgeData = edgeView.getOptions().data;\n\n        edgeData.forEach((datum) => {\n          // 2.1  node  source  [x0, x1, x2, x3]  x0, x1\n          if (datum.source === name) {\n            datum.x[0] += datumGap.x;\n            datum.x[1] += datumGap.x;\n            datum.y[0] += datumGap.y;\n            datum.y[1] += datumGap.y;\n          }\n\n          // 2.2  node  target  [x0, x1, x2, x3]  x2, x3\n          if (datum.target === name) {\n            datum.x[2] += datumGap.x;\n            datum.x[3] += datumGap.x;\n            datum.y[2] += datumGap.y;\n            datum.y[3] += datumGap.y;\n          }\n        });\n        edgeView.data(edgeData);\n\n        // 3. \n        this.prevPoint = currentPoint;\n\n        // node edge  render\n        chart.render(true);\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public end() {\n    this.isDragging = false;\n    this.context.isDragging = false;\n    this.prevPoint = null;\n    this.currentElementIdx = null;\n\n    // \n    this.getNodeView().animate(this.prevNodeAnimateCfg);\n    this.getEdgeView().animate(this.prevEdgeAnimateCfg);\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { ChordOptions } from './types';\n\nexport type { ChordOptions };\n\n/**\n *   Chord\n */\nexport class Chord extends Plot<ChordOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<ChordOptions> {\n    return DEFAULT_OPTIONS;\n  }\n  /**  */\n  public type: string = 'chord';\n\n  protected getDefaultOptions() {\n    return Chord.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<ChordOptions> {\n    return adaptor;\n  }\n}\n","import { Geometry } from '@antv/g2';\nimport { each } from '@antv/util';\nimport { interaction, theme, state } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { flow, pick } from '../../utils';\nimport { polygon, edge } from '../../adaptor/geometries';\nimport { chordLayout } from '../../utils/transform/chord';\nimport { getAllGeometriesRecursively, transformDataToNodeLinkData } from '../../utils';\nimport { ChordOptions } from './types';\nimport { X_FIELD, Y_FIELD, NODE_COLOR_FIELD, EDGE_COLOR_FIELD } from './constant';\n\nfunction transformData(params: Params<ChordOptions>): Params<ChordOptions> {\n  // extnodeGeometry edgeGeometry\n\n  const { options } = params;\n  const { data, sourceField, targetField, weightField, nodePaddingRatio, nodeWidthRatio, rawFields = [] } = options;\n\n  // node link\n  const chordLayoutInputData = transformDataToNodeLinkData(data, sourceField, targetField, weightField);\n\n  const { nodes, links } = chordLayout({ weight: true, nodePaddingRatio, nodeWidthRatio }, chordLayoutInputData);\n\n  // 1. node\n  const nodesData = nodes.map((node) => {\n    return {\n      ...pick(node, ['id', 'x', 'y', 'name', ...rawFields]),\n      isNode: true,\n    };\n  });\n\n  // 2.  edge  \n  const edgesData = links.map((link) => {\n    return {\n      source: link.source.name,\n      target: link.target.name,\n      name: link.source.name || link.target.name,\n      ...pick(link, ['x', 'y', 'value', ...rawFields]),\n      isNode: false,\n    };\n  });\n\n  return {\n    ...params,\n    ext: {\n      ...params.ext,\n      // chordDataextgeometry\n      chordData: { nodesData, edgesData },\n    },\n  };\n}\n\n/**\n * scale\n * @param params \n */\nfunction scale(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart } = params;\n  chart.scale({\n    x: { sync: true, nice: true },\n    y: { sync: true, nice: true, max: 1 },\n    [NODE_COLOR_FIELD]: { sync: 'color' },\n    [EDGE_COLOR_FIELD]: { sync: 'color' },\n  });\n  return params;\n}\n\n/**\n * axis\n * @param params \n */\nfunction axis(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart } = params;\n  chart.axis(false);\n  return params;\n}\n\n/**\n * legend\n * @param params \n */\nfunction legend(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart } = params;\n  chart.legend(false);\n  return params;\n}\n\n/**\n * tooltip\n * @param params \n */\nfunction tooltip(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  chart.tooltip(tooltip);\n  return params;\n}\n\n/**\n * coordinate\n * @param params \n */\nfunction coordinate(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart } = params;\n  chart.coordinate('polar').reflect('y');\n  return params;\n}\n\n/**\n * nodeGeometry\n * @param params \n */\nfunction nodeGeometry(params: Params<ChordOptions>): Params<ChordOptions> {\n  // node view\n  const { chart, options } = params;\n  const { nodesData } = params.ext.chordData;\n  const { nodeStyle, label, tooltip } = options;\n\n  const nodeView = chart.createView();\n  nodeView.data(nodesData);\n\n  // \n  polygon({\n    chart: nodeView,\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      seriesField: NODE_COLOR_FIELD,\n      polygon: {\n        style: nodeStyle,\n      },\n      label,\n      tooltip,\n    },\n  });\n  return params;\n}\n\n/**\n * edgeGeometry\n * @param params \n */\nfunction edgeGeometry(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart, options } = params;\n  const { edgesData } = params.ext.chordData;\n  const { edgeStyle, tooltip } = options;\n\n  const edgeView = chart.createView();\n  edgeView.data(edgesData);\n\n  // edge\n  const edgeOptions = {\n    xField: X_FIELD,\n    yField: Y_FIELD,\n    seriesField: EDGE_COLOR_FIELD,\n    edge: {\n      style: edgeStyle,\n      shape: 'arc',\n    },\n    tooltip,\n  };\n  edge({\n    chart: edgeView,\n    options: edgeOptions,\n  });\n  return params;\n}\n\nfunction animation(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart, options } = params;\n  const { animation } = options;\n\n  //  view \n  if (typeof animation === 'boolean') {\n    chart.animate(animation);\n  } else {\n    chart.animate(true);\n  }\n\n  //  Geometry \n  each(getAllGeometriesRecursively(chart), (g: Geometry) => {\n    g.animate(animation);\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<ChordOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    transformData,\n    coordinate,\n    scale,\n    axis,\n    legend,\n    tooltip,\n    edgeGeometry,\n    nodeGeometry,\n    interaction,\n    state,\n    animation\n  )(params);\n}\n","/*\n * for Arc Diagram (edges without weight) / Chord Diagram (edges with source and target weight)\n * graph data required (nodes, edges)\n */\nimport { assign, forIn, isFunction } from '@antv/util';\nimport { NodeLinkData } from '../../types/relation-data';\n\nconst DEFAULT_OPTIONS: ChordLayoutOptions = {\n  y: 0,\n  nodeWidthRatio: 0.05, // width of the node, (0, 1)\n  weight: false,\n  nodePaddingRatio: 0.1, // margin ratio, [0, 1)\n  id: (node) => node.id,\n  source: (edge) => edge.source,\n  target: (edge) => edge.target,\n  sourceWeight: (edge) => edge.value || 1,\n  targetWeight: (edge) => edge.value || 1,\n  sortBy: null, // optional, id | weight | frequency | {function}\n};\n\nexport type ChordLayoutOptions = {\n  weight?: boolean;\n  y?: number;\n  nodeWidthRatio?: number; // (0, 1)\n  nodePaddingRatio?: number; // [0, 1)\n  id?(node: any): any;\n  source?(edge: any): any;\n  target?(edge: any): any;\n  sourceWeight?(edge: any): number;\n  targetWeight?(edge: any): number;\n  sortBy?: 'id' | 'weight' | 'frequency' | null | ((a: any, b: any) => number);\n};\n\ntype OutputNode = {\n  readonly id: number;\n  readonly name: string;\n  // readonly depth: number;\n  readonly value: number;\n\n  //  polygon\n  x: number[];\n  y: number[];\n};\n\ntype OutputLink = {\n  readonly source: OutputNode;\n  readonly target: OutputNode;\n  readonly value: number;\n\n  //  edge\n  x?: number[];\n  y?: number[];\n};\n\ntype ChordLayoutOutputData = {\n  readonly nodes: OutputNode[];\n  readonly links: OutputLink[];\n};\n\n/**\n * valueedges\n * @param nodeById\n * @param edges\n * @param options\n */\nfunction processGraph(nodeById, edges, options) {\n  forIn(nodeById, (node, id) => {\n    // in edges, out edges\n    node.inEdges = edges.filter((edge) => `${options.target(edge)}` === `${id}`);\n    node.outEdges = edges.filter((edge) => `${options.source(edge)}` === `${id}`);\n    // frequency\n    node.edges = node.outEdges.concat(node.inEdges);\n    node.frequency = node.edges.length;\n    // weight\n    node.value = 0;\n    node.inEdges.forEach((edge) => {\n      node.value += options.targetWeight(edge);\n    });\n    node.outEdges.forEach((edge) => {\n      node.value += options.sourceWeight(edge);\n    });\n  });\n}\n\n/**\n * \n * @param nodes\n * @param options\n */\nfunction sortNodes(nodes, options) {\n  const sortMethods = {\n    weight: (a, b) => b.value - a.value,\n    frequency: (a, b) => b.frequency - a.frequency,\n    id: (a, b) => `${options.id(a)}`.localeCompare(`${options.id(b)}`),\n  };\n  let method = sortMethods[options.sortBy];\n  if (!method && isFunction(options.sortBy)) {\n    method = options.sortBy;\n  }\n  if (method) {\n    nodes.sort(method);\n  }\n}\n\nfunction layoutNodes(nodes, options): OutputNode[] {\n  const len = nodes.length;\n  if (!len) {\n    throw new TypeError(\"Invalid nodes: it's empty!\");\n  }\n  if (options.weight) {\n    const nodePaddingRatio = options.nodePaddingRatio;\n    if (nodePaddingRatio < 0 || nodePaddingRatio >= 1) {\n      throw new TypeError('Invalid nodePaddingRatio: it must be in range [0, 1)!');\n    }\n    const margin = nodePaddingRatio / (2 * len);\n    const nodeWidthRatio = options.nodeWidthRatio;\n    if (nodeWidthRatio <= 0 || nodeWidthRatio >= 1) {\n      throw new TypeError('Invalid nodeWidthRatio: it must be in range (0, 1)!');\n    }\n    let totalValue = 0;\n    nodes.forEach((node) => {\n      totalValue += node.value;\n    });\n    nodes.forEach((node) => {\n      node.weight = node.value / totalValue;\n      node.width = node.weight * (1 - nodePaddingRatio);\n      node.height = nodeWidthRatio;\n    });\n    nodes.forEach((node, index) => {\n      // x\n      let deltaX = 0;\n      for (let i = index - 1; i >= 0; i--) {\n        deltaX += nodes[i].width + 2 * margin;\n      }\n      const minX = (node.minX = margin + deltaX);\n      const maxX = (node.maxX = node.minX + node.width);\n      const minY = (node.minY = options.y - nodeWidthRatio / 2);\n      const maxY = (node.maxY = minY + nodeWidthRatio);\n      node.x = [minX, maxX, maxX, minX];\n      node.y = [minY, minY, maxY, maxY];\n      /* points\n       * 3---2\n       * |   |\n       * 0---1\n       */\n      // node.x = minX + 0.5 * node.width;\n      // node.y = options.y;\n    });\n  } else {\n    const deltaX = 1 / len;\n    nodes.forEach((node, index) => {\n      node.x = (index + 0.5) * deltaX;\n      node.y = options.y;\n    });\n  }\n  return nodes;\n}\n\nfunction locatingEdges(nodeById, edges, options): OutputLink[] {\n  if (options.weight) {\n    const valueById = {};\n    forIn(nodeById, (node, id) => {\n      valueById[id] = node.value;\n    });\n    edges.forEach((edge) => {\n      const sId = options.source(edge);\n      const tId = options.target(edge);\n      const sNode = nodeById[sId];\n      const tNode = nodeById[tId];\n      if (sNode && tNode) {\n        const sValue = valueById[sId];\n        const currentSValue = options.sourceWeight(edge);\n        const sStart = sNode.minX + ((sNode.value - sValue) / sNode.value) * sNode.width;\n        const sEnd = sStart + (currentSValue / sNode.value) * sNode.width;\n        valueById[sId] -= currentSValue;\n\n        const tValue = valueById[tId];\n        const currentTValue = options.targetWeight(edge);\n        const tStart = tNode.minX + ((tNode.value - tValue) / tNode.value) * tNode.width;\n        const tEnd = tStart + (currentTValue / tNode.value) * tNode.width;\n        valueById[tId] -= currentTValue;\n\n        const y = options.y;\n        edge.x = [sStart, sEnd, tStart, tEnd];\n        edge.y = [y, y, y, y];\n        // edgesourcetargetid sourceNodetargetNode\n        edge.source = sNode;\n        edge.target = tNode;\n      }\n    });\n  } else {\n    edges.forEach((edge) => {\n      const sNode = nodeById[options.source(edge)];\n      const tNode = nodeById[options.target(edge)];\n      if (sNode && tNode) {\n        edge.x = [sNode.x, tNode.x];\n        edge.y = [sNode.y, tNode.y];\n        // edgesourcetargetid sourceNodetargetNode\n        edge.source = sNode;\n        edge.target = tNode;\n      }\n    });\n  }\n  return edges;\n}\n\nexport function getDefaultOptions(options: ChordLayoutOptions): ChordLayoutOptions {\n  return assign({}, DEFAULT_OPTIONS, options);\n}\n\nexport function chordLayout(\n  chordLayoutOptions: ChordLayoutOptions,\n  chordLayoutInputData: NodeLinkData\n): ChordLayoutOutputData {\n  const options = getDefaultOptions(chordLayoutOptions);\n  const nodeById = {};\n  const nodes = chordLayoutInputData.nodes;\n  const links = chordLayoutInputData.links;\n  nodes.forEach((node) => {\n    const id = options.id(node);\n    nodeById[id] = node;\n  });\n  processGraph(nodeById, links, options);\n  sortNodes(nodes, options);\n  const outputNodes = layoutNodes(nodes, options);\n  const outputLinks = locatingEdges(nodeById, links, options);\n  return {\n    nodes: outputNodes,\n    links: outputLinks,\n  };\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { CirclePackingOptions } from './types';\nimport './interactions';\n\nexport type { CirclePackingOptions };\n\n/**\n *  CirclePacking\n * @usage hierarchy, proportions\n */\nexport class CirclePacking extends Plot<CirclePackingOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<CirclePackingOptions> {\n    return DEFAULT_OPTIONS;\n  }\n  /**  */\n  public type: string = 'circle-packing';\n\n  protected getDefaultOptions() {\n    return CirclePacking.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<CirclePackingOptions> {\n    return adaptor;\n  }\n\n  /**\n   * \n   */\n  protected triggerResize() {\n    if (!this.chart.destroyed) {\n      // \n      this.chart.forceFit(); // g2  changeSizechangeSize  render(true)\n      this.chart.clear();\n      this.execAdaptor(); // padding\n      // \n      this.chart.render(true);\n    }\n  }\n}\n","import { get } from '@antv/util';\nimport { Types } from '@antv/g2';\nimport { point } from '../../adaptor/geometries/point';\nimport { Params } from '../../core/adaptor';\nimport {\n  interaction as baseInteraction,\n  animation,\n  theme,\n  legend,\n  annotation,\n  scale,\n  pattern,\n} from '../../adaptor/common';\nimport { flow, deepAssign } from '../../utils';\nimport { getAdjustAppendPadding, resolveAllPadding } from '../../utils/padding';\nimport { transformData, resolvePaddingForCircle } from './utils';\nimport { CirclePackingOptions } from './types';\nimport { RAW_FIELDS } from './constant';\n\n/**\n *  option\n * @param params\n */\nfunction defaultOptions(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { chart } = params;\n  const diameter = Math.min(chart.viewBBox.width, chart.viewBBox.height);\n\n  return deepAssign(\n    {\n      options: {\n        size: ({ r }) => r * diameter, // autofitfalse\n      },\n    },\n    params\n  );\n}\n\n/**\n * padding \n * @param params\n */\nfunction padding(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { options, chart } = params;\n  //  padding coordinate \n  const containerSize = chart.viewBBox;\n  const { padding, appendPadding, drilldown } = options;\n\n  let tempAppendPadding = appendPadding;\n  if (drilldown?.enabled) {\n    const appendPaddingByDrilldown = getAdjustAppendPadding(\n      chart.appendPadding,\n      get(drilldown, ['breadCrumb', 'position'])\n    );\n    tempAppendPadding = resolveAllPadding([appendPaddingByDrilldown, appendPadding]);\n  }\n\n  const { finalPadding } = resolvePaddingForCircle(padding, tempAppendPadding, containerSize);\n  chart.padding = finalPadding;\n  chart.appendPadding = 0;\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { chart, options } = params;\n  const { padding, appendPadding } = chart;\n  const { color, colorField, pointStyle, hierarchyConfig, sizeField, rawFields = [], drilldown } = options;\n\n  const data = transformData({\n    data: options.data,\n    hierarchyConfig,\n    enableDrillDown: drilldown?.enabled,\n    rawFields,\n  });\n  chart.data(data);\n\n  const containerSize = chart.viewBBox;\n  const { finalSize } = resolvePaddingForCircle(padding, appendPadding, containerSize);\n  // sizeField value  size \n  let circleSize = ({ r }) => r * finalSize; // \n\n  if (sizeField) {\n    circleSize = (d) => d[sizeField] * finalSize; //  r \n  }\n\n  // geometry\n  point(\n    deepAssign({}, params, {\n      options: {\n        xField: 'x',\n        yField: 'y',\n        seriesField: colorField,\n        sizeField,\n        rawFields: [...RAW_FIELDS, ...rawFields],\n        point: {\n          color,\n          style: pointStyle,\n          shape: 'circle',\n          size: circleSize,\n        },\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  return flow(\n    scale(\n      {},\n      {\n        //  nice\n        x: { min: 0, max: 1, minLimit: 0, maxLimit: 1, nice: true },\n        y: { min: 0, max: 1, minLimit: 0, maxLimit: 1, nice: true },\n      }\n    )\n  )(params);\n}\n\n/**\n * tooltip \n * @param params\n */\nfunction tooltip(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip === false) {\n    chart.tooltip(false);\n  } else {\n    let tooltipOptions = tooltip;\n    //  fields customItems ;  formatter  fields\n    if (!get(tooltip, 'fields')) {\n      tooltipOptions = deepAssign(\n        {},\n        {\n          customItems: (items: Types.TooltipItem[]) =>\n            items.map((item) => {\n              const scales = get(chart.getOptions(), 'scales');\n              const nameFormatter = get(scales, ['name', 'formatter'], (v) => v);\n              const valueFormatter = get(scales, ['value', 'formatter'], (v) => v);\n              return {\n                ...item,\n                name: nameFormatter(item.data.name),\n                value: valueFormatter(item.data.value),\n              };\n            }),\n        },\n        tooltipOptions\n      );\n    }\n    chart.tooltip(tooltipOptions);\n  }\n\n  return params;\n}\n\n/**\n * , \n * @param params\n */\nfunction axis(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { chart } = params;\n  chart.axis(false);\n  return params;\n}\n\nfunction adaptorInteraction(options: CirclePackingOptions): CirclePackingOptions {\n  const { drilldown, interactions = [] } = options;\n\n  if (drilldown?.enabled) {\n    return deepAssign({}, options, {\n      interactions: [\n        ...interactions,\n        {\n          type: 'drill-down',\n          cfg: { drillDownConfig: drilldown, transformData, enableDrillDown: true },\n        },\n      ],\n    });\n  }\n  return options;\n}\n\n/**\n * \n * @param params\n * @returns\n */\nfunction interaction(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { chart, options } = params;\n\n  baseInteraction({\n    chart,\n    options: adaptorInteraction(options),\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<CirclePackingOptions>) {\n  return flow(\n    pattern('pointStyle'),\n    defaultOptions,\n    padding,\n    theme,\n    meta,\n    geometry,\n    axis,\n    legend,\n    tooltip,\n    interaction,\n    animation,\n    annotation()\n  )(params);\n}\n","import { Types } from '@antv/g2';\nimport { pack } from '../../utils/hierarchy/pack';\nimport { deepAssign, pick } from '../../utils';\nimport { HIERARCHY_DATA_TRANSFORM_PARAMS } from '../../interactions/actions/drill-down';\nimport { resolveAllPadding } from '../../utils/padding';\nimport { CirclePackingOptions } from './types';\n\ninterface TransformDataOptions {\n  data: CirclePackingOptions['data'];\n  rawFields: CirclePackingOptions['rawFields'];\n  enableDrillDown: boolean;\n  hierarchyConfig: CirclePackingOptions['hierarchyConfig'];\n}\n\n/**\n * circle-packing \n * @param options\n */\nexport function transformData(options: TransformDataOptions) {\n  const { data, hierarchyConfig, rawFields = [], enableDrillDown } = options;\n\n  const nodes = pack(data, {\n    ...hierarchyConfig,\n    field: 'value',\n    as: ['x', 'y', 'r'],\n  });\n\n  const result = [];\n  nodes.forEach((node) => {\n    let path = node.data.name;\n    let ancestorNode = { ...node };\n    while (ancestorNode.depth > 1) {\n      path = `${ancestorNode.parent.data?.name} / ${path}`;\n      ancestorNode = ancestorNode.parent;\n    }\n\n    //  depth <= 2  ()\n    if (enableDrillDown && node.depth > 2) {\n      return null;\n    }\n\n    const nodeInfo = deepAssign({}, node.data, {\n      ...pick(node.data, rawFields),\n      path,\n      // : x, y, r, name, depth, height\n      ...node,\n    });\n\n    nodeInfo.ext = hierarchyConfig;\n    nodeInfo[HIERARCHY_DATA_TRANSFORM_PARAMS] = { hierarchyConfig, rawFields, enableDrillDown };\n\n    result.push(nodeInfo);\n  });\n\n  return result;\n}\n\n/**\n *  padding     finalPadding  finalSize\n * @param params\n */\nexport function resolvePaddingForCircle(\n  padding: Types.ViewPadding,\n  appendPadding: Types.ViewAppendPadding,\n  containerSize: { width: number; height: number }\n) {\n  const tempPadding = resolveAllPadding([padding, appendPadding]);\n  const [top, right, bottom, left] = tempPadding; //  [0, 0, 0, 0]\n  const { width, height } = containerSize;\n\n  //  tempPadding coordinate minSize = circle-packing\n  const wSize = width - (left + right);\n  const hSize = height - (top + bottom);\n  const minSize = Math.min(wSize, hSize); // circle-packing\n\n  //  padding\n  const restWidthPadding = (wSize - minSize) / 2;\n  const restHeightPadding = (hSize - minSize) / 2;\n\n  const finalTop = top + restHeightPadding;\n  const finalRight = right + restWidthPadding;\n  const finalBottom = bottom + restHeightPadding;\n  const finalLeft = left + restWidthPadding;\n\n  const finalPadding = [finalTop, finalRight, finalBottom, finalLeft];\n  const finalSize = minSize < 0 ? 0 : minSize; // \n\n  return { finalPadding, finalSize };\n}\n","import * as d3Hierarchy from 'd3-hierarchy';\nimport { assign, isArray } from '@antv/util';\nimport { getField, getAllNodes } from './util';\nimport { HierarchyOption } from './types';\n\ntype Options = Omit<HierarchyOption, 'as'> & { as?: [string, string, string] };\n\nconst DEFAULT_OPTIONS: Options = {\n  field: 'value',\n  as: ['x', 'y', 'r'],\n  // \n  sort: (a, b) => b.value - a.value,\n};\n\nexport function pack(data: any, options: Options): any[] {\n  options = assign({} as Options, DEFAULT_OPTIONS, options);\n  const as = options.as;\n  if (!isArray(as) || as.length !== 3) {\n    throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ \"x\", \"y\", \"r\" ])!');\n  }\n\n  let field;\n  try {\n    field = getField(options);\n  } catch (e) {\n    console.warn(e);\n  }\n\n  const packLayout = (data) =>\n    d3Hierarchy.pack().size(options.size).padding(options.padding)(\n      d3Hierarchy\n        .hierarchy(data)\n        .sum((d) => d[field])\n        .sort(options.sort)\n    );\n\n  const root = packLayout(data);\n\n  const x = as[0];\n  const y = as[1];\n  const r = as[2];\n  root.each((node) => {\n    node[x] = node.x;\n    node[y] = node.y;\n    node[r] = node.r;\n  });\n\n  return getAllNodes(root);\n}\n","/**  drill-down  */\nimport '../../../interactions/drill-down';\n","import { deepAssign } from '../utils';\nimport { Plot, PickOptions } from '../core/plot';\nimport { Adaptor } from '../core/adaptor';\n/**\n *  G2Plot  G2Plot \n * 1. \n * 2. \n * 3. \n * \n *\n * \n *\n * ```ts\n * import { P } from '@antv/g2plot';\n * import { GeoWorldMap, GeoWorldMapOptions } from 'g2plot-geo-world-map';\n *\n * const plot = new P('container', {\n *   geoJson: '',\n *   longitude: '',\n *   latitude: '',\n * }, GeoWorldMap, defaultOptions);\n *\n * plot.render();\n * ```\n */\nexport class P<O extends PickOptions> extends Plot<O> {\n  /**  any plot */\n  public readonly type = 'g2-plot';\n\n  /**  defaultOptions */\n  private defaultOptions: Partial<O>;\n\n  /**  adaptor  */\n  private adaptor: Adaptor<O>;\n\n  /**\n   *  adaptor \n   * @param container\n   * @param options\n   * @param adaptor\n   * @param defaultOptions\n   */\n  constructor(container: string | HTMLElement, options: O, adaptor: Adaptor<O>, defaultOptions?: Partial<O>) {\n    super(container, deepAssign({}, defaultOptions, options));\n\n    this.defaultOptions = defaultOptions;\n    this.adaptor = adaptor;\n  }\n\n  /**\n   * \n   */\n  protected getDefaultOptions() {\n    return this.defaultOptions;\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<O> {\n    return this.adaptor;\n  }\n}\n","import { each } from '@antv/util';\nimport { Geometry } from '@antv/g2';\nimport { geometry as geometryAdaptor } from '../../adaptor/geometries/base';\nimport { interaction, animation, theme, tooltip } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { PLOT_CONTAINER_OPTIONS } from '../../core/plot';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { deepAssign, flow, pick } from '../../utils';\nimport { Axis } from '../../types/axis';\nimport { Legend } from '../../types/legend';\nimport { Interaction } from '../../types/interaction';\nimport { MixOptions, IView, IGeometry } from './types';\nimport { execPlotAdaptor } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction multiView(params: Params<MixOptions>): Params<MixOptions> {\n  const { chart, options } = params;\n  const { views, legend } = options;\n\n  each(views, (v: IView) => {\n    const { region, data, meta, axes, coordinate, interactions, annotations, tooltip, geometries } = v;\n\n    // 1.  view\n    const viewOfG2 = chart.createView({\n      region,\n    });\n\n    // 2. data\n    viewOfG2.data(data);\n\n    // 3. meta\n    let scales: Record<string, any> = {};\n    if (axes) {\n      each(axes, (axis: Axis, field: string) => {\n        scales[field] = pick(axis, AXIS_META_CONFIG_KEYS);\n      });\n    }\n\n    scales = deepAssign({}, meta, scales);\n    viewOfG2.scale(scales);\n\n    // 4. x y axis\n    if (!axes) {\n      viewOfG2.axis(false);\n    } else {\n      each(axes, (axis: Axis, field: string) => {\n        viewOfG2.axis(field, axis);\n      });\n    }\n\n    // 5. coordinate\n    viewOfG2.coordinate(coordinate);\n\n    // 6. geometry\n    each(geometries, (geometry: IGeometry) => {\n      const { ext } = geometryAdaptor({\n        chart: viewOfG2,\n        options: geometry,\n      });\n\n      // adjust\n      const { adjust } = geometry;\n      if (adjust) {\n        ext.geometry.adjust(adjust);\n      }\n    });\n\n    // 7. interactions\n    each(interactions, (interaction: Interaction) => {\n      if (interaction.enable === false) {\n        viewOfG2.removeInteraction(interaction.type);\n      } else {\n        viewOfG2.interaction(interaction.type, interaction.cfg);\n      }\n    });\n\n    // 8. annotations\n    each(annotations, (annotation) => {\n      viewOfG2.annotation()[annotation.type]({\n        ...annotation,\n      });\n    });\n\n    // 9. animation ()\n    if (typeof v.animation === 'boolean') {\n      viewOfG2.animate(false);\n    } else {\n      viewOfG2.animate(true);\n      // 9.1  Geometry todo \n      each(viewOfG2.geometries, (g: Geometry) => {\n        g.animate(v.animation);\n      });\n    }\n\n    if (tooltip) {\n      // 10. tooltip\n      viewOfG2.interaction('tooltip');\n      viewOfG2.tooltip(tooltip);\n    }\n  });\n\n  // legend\n  if (!legend) {\n    chart.legend(false);\n  } else {\n    each(legend, (l: Legend, field: string) => {\n      chart.legend(field, l);\n    });\n  }\n\n  // tooltip\n  chart.tooltip(options.tooltip);\n  return params;\n}\n\n/**\n *  g2plot \n * @param params\n */\nfunction multiPlot(params: Params<MixOptions>): Params<MixOptions> {\n  const { chart, options } = params;\n  const { plots } = options;\n\n  each(plots, (plot) => {\n    const { type, region, options = {} } = plot;\n    const { tooltip } = options;\n\n    const viewOfG2 = chart.createView({ region, ...pick(options, PLOT_CONTAINER_OPTIONS) });\n    if (tooltip) {\n      //  tooltip \n      viewOfG2.interaction('tooltip');\n    }\n\n    execPlotAdaptor(type, viewOfG2, options);\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<MixOptions>) {\n  return flow(\n    animation, //  view \n    multiView,\n    multiPlot,\n    interaction,\n    animation,\n    theme,\n    tooltip\n    // ...  adaptor flow\n  )(params);\n}\n","/**\n *  view \n */\nimport './association';\n","import { each, get, map, isArray } from '@antv/util';\nimport { registerAction, registerInteraction, View, Element, Action } from '@antv/g2';\nimport { getAllElements, getViews, getSiblingViews } from '../../../utils';\nimport { clearHighlight, getElementValue } from './utils';\n\ntype EventItem = { element: Element; view: View; active: boolean; inactive: boolean };\ntype ActionParams = { linkField?: string; dim?: 'x' | 'y' };\n/**\n *  view view \n *\n *  actionlinkField dim \n * 1. showTooltip\n * 2. active\n * 3. highlight\n * 4. selected\n *\n *  action\n * 1. hidetooltip\n * 2. reset \n */\nclass Association extends Action {\n  /**\n   *  elements\n   *\n   * -  dim  dim  field linkField  return\n   * -  dim  linkField \n   * -  linkField \n   * @returns EventItem[]\n   */\n  private getAssociationItems(views: View[], params?: ActionParams): EventItem[] {\n    const { event } = this.context;\n    const { linkField, dim } = params || {};\n\n    const items = [];\n\n    if (event.data?.data) {\n      const { data } = event.data;\n      each(views, (v: View) => {\n        let field = linkField;\n        if (dim === 'x') {\n          field = v.getXScale().field;\n        } else if (dim === 'y') {\n          field = v.getYScales().find((s) => s.field === field)?.field;\n        } else if (!field) {\n          field = v.getGroupScales()[0]?.field;\n        }\n        if (!field) {\n          return;\n        }\n        const elements = map(getAllElements(v), (ele) => {\n          let active = false;\n          let inactive = false;\n          const dataValue = isArray(data) ? get(data[0], field) : get(data, field);\n          if (getElementValue(ele, field) === dataValue) {\n            active = true;\n          } else {\n            inactive = true;\n          }\n          return { element: ele, view: v, active, inactive };\n        });\n        items.push(...elements);\n      });\n    }\n\n    return items;\n  }\n\n  /**\n   *  tooltip \n   */\n  public showTooltip(params?: ActionParams) {\n    const siblings = getSiblingViews(this.context.view);\n    const elements = this.getAssociationItems(siblings, params);\n\n    each(elements, (ele) => {\n      if (ele.active) {\n        const box = ele.element.shape.getCanvasBBox();\n        ele.view.showTooltip({ x: box.minX + box.width / 2, y: box.minY + box.height / 2 });\n      }\n    });\n  }\n\n  /**\n   *  tooltip\n   */\n  public hideTooltip() {\n    const siblings = getSiblingViews(this.context.view);\n    each(siblings, (sibling) => {\n      sibling.hideTooltip();\n    });\n  }\n\n  /**\n   *  active \n   */\n  public active(params?: ActionParams) {\n    const views = getViews(this.context.view);\n    const items = this.getAssociationItems(views, params);\n\n    each(items, (item: EventItem) => {\n      const { active, element } = item;\n      if (active) {\n        element.setState('active', true);\n      }\n    });\n  }\n\n  /**\n   *  selected \n   */\n  public selected(params?: ActionParams) {\n    const views = getViews(this.context.view);\n    const items = this.getAssociationItems(views, params);\n\n    each(items, (item: EventItem) => {\n      const { active, element } = item;\n      if (active) {\n        element.setState('selected', true);\n      }\n    });\n  }\n\n  /**\n   *  =>  inactive \n   */\n  public highlight(params?: ActionParams) {\n    const views = getViews(this.context.view);\n    const items = this.getAssociationItems(views, params);\n\n    each(items, (item: EventItem) => {\n      const { inactive, element } = item;\n      if (inactive) {\n        element.setState('inactive', true);\n      }\n    });\n  }\n\n  public reset() {\n    const views = getViews(this.context.view);\n    each(views, (v) => {\n      clearHighlight(v);\n    });\n  }\n}\n\nregisterAction('association', Association);\n\n/**\n *  view  active  tooltip \n */\nregisterInteraction('association-active', {\n  start: [{ trigger: 'element:mouseenter', action: 'association:active' }],\n  end: [{ trigger: 'element:mouseleave', action: 'association:reset' }],\n});\n\n/**\n *  view  active  tooltip \n */\nregisterInteraction('association-selected', {\n  start: [{ trigger: 'element:mouseenter', action: 'association:selected' }],\n  end: [{ trigger: 'element:mouseleave', action: 'association:reset' }],\n});\n\n/**\n *  view  highlight ,  element\n */\nregisterInteraction('association-highlight', {\n  start: [{ trigger: 'element:mouseenter', action: 'association:highlight' }],\n  end: [{ trigger: 'element:mouseleave', action: 'association:reset' }],\n});\n\n/**\n *  view  tooltip  groupField  tooltip \n */\nregisterInteraction('association-tooltip', {\n  start: [{ trigger: 'element:mousemove', action: 'association:showTooltip' }],\n  end: [{ trigger: 'element:mouseleave', action: 'association:hideTooltip' }],\n});\n","import { View, Element } from '@antv/g2';\nimport { each, isArray } from '@antv/util';\nimport { getAllElements } from '../../../utils';\n\n/**\n * \n * @param element \n * @param field \n * @ignore\n */\nexport function getElementValue(element: Element, field) {\n  const model = element.getModel();\n  const record = model.data;\n  let value;\n  if (isArray(record)) {\n    value = record[0][field];\n  } else {\n    value = record[field];\n  }\n  return value;\n}\n\n/**\n * @ignore\n *  highlight \n * @param view View  Chart\n */\nexport function clearHighlight(view: View) {\n  const elements = getAllElements(view);\n  each(elements, (el) => {\n    if (el.hasState('active')) {\n      el.setState('active', false);\n    }\n    if (el.hasState('selected')) {\n      el.setState('selected', false);\n    }\n    if (el.hasState('inactive')) {\n      el.setState('inactive', false);\n    }\n  });\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { FacetOptions } from './types';\n\nexport type { FacetOptions };\n\nexport class Facet extends Plot<FacetOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<FacetOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'area';\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Facet.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<FacetOptions> {\n    return adaptor;\n  }\n}\n","import { each, omit } from '@antv/util';\nimport { theme } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { pick, flow, deepAssign } from '../../utils';\nimport { Axis, Interaction } from '../../types';\nimport { execPlotAdaptor } from '../mix/utils';\nimport { FacetOptions, IPlot, IView } from './types';\nimport { execViewAdaptor } from './utils';\n\nfunction facetAdaptor(params: Params<FacetOptions>): Params<FacetOptions> {\n  const { chart, options } = params;\n  const { type: facetType, data, fields, eachView } = options;\n\n  const restFacetCfg = omit(options as any, [\n    'type',\n    'data',\n    'fields',\n    'eachView',\n    'axes',\n    'meta',\n    'tooltip',\n    'coordinate',\n    'theme',\n    'legend',\n    'interactions',\n    'annotations',\n  ]);\n\n  // 1. data\n  chart.data(data);\n\n  // 2. facet\n  chart.facet(facetType, {\n    ...restFacetCfg,\n    fields,\n    eachView: (viewOfG2, facet) => {\n      const viewOptions = eachView(viewOfG2, facet);\n      if ((viewOptions as IView).geometries) {\n        execViewAdaptor(viewOfG2, viewOptions as IView);\n      } else {\n        const plot = viewOptions as IPlot;\n        const plotOptions = plot.options;\n        // @ts-ignore  tooltip\n        if (plotOptions.tooltip) {\n          //  tooltip \n          viewOfG2.interaction('tooltip');\n        }\n        execPlotAdaptor(plot.type, viewOfG2, plotOptions);\n      }\n    },\n  });\n\n  return params;\n}\n\nfunction component(params: Params<FacetOptions>): Params<FacetOptions> {\n  const { chart, options } = params;\n  const { axes, meta, tooltip, coordinate, theme, legend, interactions, annotations } = options;\n\n  // 3. meta \n  let scales: Record<string, any> = {};\n  if (axes) {\n    each(axes, (axis: Axis, field: string) => {\n      scales[field] = pick(axis, AXIS_META_CONFIG_KEYS);\n    });\n  }\n\n  scales = deepAssign({}, meta, scales);\n  chart.scale(scales);\n\n  // 4. coordinate \n  chart.coordinate(coordinate);\n\n  // 5. axis  ()\n  if (!axes) {\n    chart.axis(false);\n  } else {\n    each(axes, (axis: Axis, field: string) => {\n      chart.axis(field, axis);\n    });\n  }\n\n  // 6. tooltip \n  if (tooltip) {\n    chart.interaction('tooltip');\n    chart.tooltip(tooltip);\n  } else if (tooltip === false) {\n    chart.removeInteraction('tooltip');\n  }\n\n  // 7. legend \n  chart.legend(legend);\n\n  // theme \n  if (theme) {\n    chart.theme(theme);\n  }\n\n  // 8. interactions\n  each(interactions, (interaction: Interaction) => {\n    if (interaction.enable === false) {\n      chart.removeInteraction(interaction.type);\n    } else {\n      chart.interaction(interaction.type, interaction.cfg);\n    }\n  });\n\n  // 9. annotations\n  each(annotations, (annotation) => {\n    chart.annotation()[annotation.type]({\n      ...annotation,\n    });\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<FacetOptions>) {\n  // flow  G2 API\n  return flow(theme, facetAdaptor, component)(params);\n}\n","import { Geometry, View } from '@antv/g2';\nimport { each } from '@antv/util';\nimport { geometry as geometryAdaptor } from '../../adaptor/geometries/base';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { pick, deepAssign } from '../../utils';\nimport { Axis, Interaction } from '../../types';\nimport { IView } from './types';\n\n/**\n *\n * @param params  \n * @returns facet eachView  view \n */\nexport function execViewAdaptor(viewOfG2: View, options: IView): void {\n  const { data, coordinate, interactions, annotations, animation, tooltip, axes, meta, geometries } = options;\n\n  // 1. data, optional\n  if (data) {\n    viewOfG2.data(data);\n  }\n\n  // 2. meta \n  let scales: Record<string, any> = {};\n  if (axes) {\n    each(axes, (axis: Axis, field: string) => {\n      scales[field] = pick(axis, AXIS_META_CONFIG_KEYS);\n    });\n  }\n\n  scales = deepAssign({}, meta, scales);\n  viewOfG2.scale(scales);\n\n  // 3. coordinate  ()\n  if (coordinate) {\n    viewOfG2.coordinate(coordinate);\n  }\n\n  // 4. axis  ( false )\n  if (axes === false) {\n    viewOfG2.axis(false);\n  } else {\n    each(axes, (axis: Axis, field: string) => {\n      viewOfG2.axis(field, axis);\n    });\n  }\n\n  each(geometries, (geometry) => {\n    // Geometry\n    const { ext } = geometryAdaptor({\n      chart: viewOfG2,\n      options: geometry,\n    });\n\n    // Geometry adjust\n    const { adjust } = geometry;\n    if (adjust) {\n      ext.geometry.adjust(adjust);\n    }\n  });\n\n  // 5. interactions\n  each(interactions, (interaction: Interaction) => {\n    if (interaction.enable === false) {\n      viewOfG2.removeInteraction(interaction.type);\n    } else {\n      viewOfG2.interaction(interaction.type, interaction.cfg);\n    }\n  });\n  // 6. annotations\n  each(annotations, (annotation) => {\n    viewOfG2.annotation()[annotation.type]({\n      ...annotation,\n    });\n  });\n\n  // 7. animation ()\n  if (typeof animation === 'boolean') {\n    viewOfG2.animate(false);\n  } else {\n    viewOfG2.animate(true);\n    //  Geometry todo \n    each(viewOfG2.geometries, (g: Geometry) => {\n      g.animate(animation);\n    });\n  }\n\n  if (tooltip) {\n    // 8. tooltip\n    viewOfG2.interaction('tooltip');\n    viewOfG2.tooltip(tooltip);\n  } else if (tooltip === false) {\n    viewOfG2.removeInteraction('tooltip');\n  }\n}\n","/**\n *  \n */\nexport const DEFAULT_OPTIONS = {\n  title: {\n    style: {\n      fontSize: 12,\n      fill: 'rgba(0,0,0,0.65)',\n    },\n  },\n  rowTitle: {\n    style: {\n      fontSize: 12,\n      fill: 'rgba(0,0,0,0.65)',\n    },\n  },\n  columnTitle: {\n    style: {\n      fontSize: 12,\n      fill: 'rgba(0,0,0,0.65)',\n    },\n  },\n};\n","import { Mix } from './plots/mix';\n\n/**  */\nexport enum Stage {\n  DEV = 'DEV',\n  BETA = 'BETA',\n  STABLE = 'STABLE',\n}\n\n/**\n * \n * @param stage\n */\nexport function notice(stage: Stage, plotType: string) {\n  console.warn(\n    stage === Stage.DEV\n      ? `Plot '${plotType}' is in DEV stage, just give us issues.`\n      : stage === Stage.BETA\n      ? `Plot '${plotType}' is in BETA stage, DO NOT use it in production env.`\n      : stage === Stage.STABLE\n      ? `Plot '${plotType}' is in STABLE stage, import it by \"import { ${plotType} } from '@antv/g2plot'\".`\n      : 'invalid Stage type.'\n  );\n}\n\n/**\n * \n */\nexport class Lab {\n  static get MultiView() {\n    notice(Stage.STABLE, 'MultiView');\n    return Mix;\n  }\n}\n"],"sourceRoot":""}