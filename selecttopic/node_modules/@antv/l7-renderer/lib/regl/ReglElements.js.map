{"version":3,"sources":["../../src/regl/ReglElements.ts"],"names":["ReglElements","reGl","options","data","usage","type","count","elements","usageMap","gl","STATIC_DRAW","dataTypeMap","UNSIGNED_BYTE","subdata"],"mappings":";;;;;;;;;;;;;;;AAAA;;AAEA;;IAKqBA,Y;AAGnB,wBAAYC,IAAZ,EAA6BC,OAA7B,EAAsE;AAAA;AAAA;AACpE,QAAQC,IAAR,GAAqCD,OAArC,CAAQC,IAAR;AAAA,QAAcC,KAAd,GAAqCF,OAArC,CAAcE,KAAd;AAAA,QAAqBC,IAArB,GAAqCH,OAArC,CAAqBG,IAArB;AAAA,QAA2BC,KAA3B,GAAqCJ,OAArC,CAA2BI,KAA3B;AAEA,SAAKC,QAAL,GAAgBN,IAAI,CAACM,QAAL,CAAc;AAC5BJ,MAAAA,IAAI,EAAJA,IAD4B;AAE5BC,MAAAA,KAAK,EAAEI,oBAASJ,KAAK,IAAIK,WAAGC,WAArB,CAFqB;AAG5BL,MAAAA,IAAI,EAAEM,uBAAYN,IAAI,IAAII,WAAGG,aAAvB,CAHsB;AAO5BN,MAAAA,KAAK,EAALA;AAP4B,KAAd,CAAhB;AASD;;;;WAED,eAAa;AACX,aAAO,KAAKC,QAAZ;AACD;;;WAED,uBAIG;AAAA,UAHDJ,IAGC,QAHDA,IAGC;AACD,WAAKI,QAAL,CAAcM,OAAd,CAAsBV,IAAtB;AACD;;;WAED,mBAAiB,CAEhB","sourcesContent":["import { gl, IElements, IElementsInitializationOptions } from '@antv/l7-core';\nimport regl from 'l7regl';\nimport { dataTypeMap, usageMap } from './constants';\n\n/**\n * @see https://github.com/regl-project/regl/blob/gh-pages/API.md#elements\n */\nexport default class ReglElements implements IElements {\n  private elements: regl.Elements;\n\n  constructor(reGl: regl.Regl, options: IElementsInitializationOptions) {\n    const { data, usage, type, count } = options;\n\n    this.elements = reGl.elements({\n      data,\n      usage: usageMap[usage || gl.STATIC_DRAW],\n      type: dataTypeMap[type || gl.UNSIGNED_BYTE] as\n        | 'uint8'\n        | 'uint16'\n        | 'uint32',\n      count,\n    });\n  }\n\n  public get() {\n    return this.elements;\n  }\n\n  public subData({\n    data,\n  }: {\n    data: number[] | number[][] | Uint8Array | Uint16Array | Uint32Array;\n  }) {\n    this.elements.subdata(data);\n  }\n\n  public destroy() {\n    // this.elements.destroy();\n  }\n}\n"],"file":"ReglElements.js"}