{"version":3,"sources":["../../src/mini-adapter/navigator.ts"],"names":["isMiniAli","my","showToast","isFRM","system","platform","language","myOptions","getSystemInfoSync","browser","versions","u","globalWindow","navigator","userAgent","trident","indexOf","presto","webKit","gecko","mobile","match","ios","android","iPhone","iPad","webApp","weixin","qq","browserLanguage","toLowerCase","uaDesc","ua","appVersion"],"mappings":"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","sourcesContent":["// @ts-nocheck 判断时候是支付宝小程序环境 （ my.isFRM == true smallfish H5+ ）\nimport { globalWindow } from './global';\nexport const isMiniAli =\n  // @ts-ignore\n  typeof my !== 'undefined' &&\n  !!my &&\n  typeof my.showToast === 'function' &&\n  my.isFRM !== true;\nlet system;\nlet platform;\nlet language;\nif (isMiniAli) {\n  const myOptions = my.getSystemInfoSync();\n  system = myOptions.system;\n  platform = myOptions.platform;\n  language = myOptions.language;\n} else {\n  const browser = {\n    versions: (() => {\n      const u = globalWindow.navigator.userAgent;\n      return {\n        trident: u.indexOf('Trident') > -1, // IE内核\n        presto: u.indexOf('Presto') > -1, // opera内核\n        webKit: u.indexOf('AppleWebKit') > -1, // 苹果、谷歌内核\n        gecko: u.indexOf('Gecko') > -1 && u.indexOf('KHTML') === -1, // 火狐内核\n        mobile: !!u.match(/AppleWebKit.*Mobile.*/), // 是否为移动终端\n        ios: !!u.match(/\\(i[^;]+;( U;)? CPU.+Mac OS X/), // ios终端\n        android: u.indexOf('Android') > -1 || u.indexOf('Linux') > -1, // android终端或者uc浏览器\n        iPhone: u.indexOf('iPhone') > -1, // 是否为iPhone或者QQHD浏览器\n        iPad: u.indexOf('iPad') > -1, // 是否iPad\n        webApp: u.indexOf('Safari') === -1, // 是否web应该程序，没有头部与底部\n        weixin: u.indexOf('MicroMessenger') > -1, // 是否微信 （2015-01-22新增）\n        qq: u.match(/\\sQQ/i) === ' qq', // 是否QQ\n      };\n    })(),\n    language: (\n      globalWindow.navigator.browserLanguage || globalWindow.navigator.language\n    ).toLowerCase(),\n  };\n  if (browser.versions.android) {\n    platform = 'android';\n  } else if (browser.versions.trident) {\n    platform = 'IE';\n  } else if (browser.versions.presto) {\n    platform = 'Opera';\n  } else if (browser.versions.webKit) {\n    platform = 'webKit';\n  } else if (browser.versions.gecko) {\n    platform = 'Firefox';\n  } else if (browser.versions.mobile) {\n    platform = 'mobile';\n  } else if (browser.versions.ios) {\n    platform = 'ios';\n  } else if (browser.versions.iPhone) {\n    platform = 'iPhone';\n  } else if (browser.versions.iPad) {\n    platform = 'ipad';\n  } else if (browser.versions.webApp) {\n    platform = 'webApp';\n  } else if (browser.versions.weixin) {\n    platform = 'weixin';\n  } else if (browser.versions.qq) {\n    platform = 'qq';\n  }\n  system = globalWindow.navigator.userAgent;\n  language = browser.language;\n}\n\nconst android = system.toLowerCase().indexOf('android') !== -1;\n\nconst uaDesc = android\n  ? 'Android; CPU Android 6.0'\n  : 'iPhone; CPU iPhone OS 10_3_1 like Mac OS X';\nconst ua = `Mozilla/5.0 (${uaDesc}) AppleWebKit/603.1.30 (KHTML, like Gecko) Mobile/14E8301 MicroMessenger/6.6.0 MiniGame NetType/WIFI Language/${language}`;\n\nexport const navigator = {\n  platform,\n  language,\n  appVersion: `5.0 (${uaDesc}) AppleWebKit/601.1.46 (KHTML, like Gecko) Version/9.0 Mobile/13B143 Safari/601.1`,\n  userAgent: ua,\n};\n"],"file":"navigator.js"}