{"version":3,"sources":["../../src/mini-adapter/navigator.ts"],"names":["globalWindow","isMiniAli","my","showToast","isFRM","system","platform","language","myOptions","getSystemInfoSync","browser","versions","u","navigator","userAgent","trident","indexOf","presto","webKit","gecko","mobile","match","ios","android","iPhone","iPad","webApp","weixin","qq","browserLanguage","toLowerCase","uaDesc","ua","appVersion"],"mappings":"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","sourcesContent":["// @ts-nocheck 判断时候是支付宝小程序环境 （ my.isFRM == true smallfish H5+ ）\nimport { globalWindow } from './global';\nexport const isMiniAli =\n  // @ts-ignore\n  typeof my !== 'undefined' &&\n  !!my &&\n  typeof my.showToast === 'function' &&\n  my.isFRM !== true;\nlet system;\nlet platform;\nlet language;\nif (isMiniAli) {\n  const myOptions = my.getSystemInfoSync();\n  system = myOptions.system;\n  platform = myOptions.platform;\n  language = myOptions.language;\n} else {\n  const browser = {\n    versions: (() => {\n      const u = globalWindow.navigator.userAgent;\n      return {\n        trident: u.indexOf('Trident') > -1, // IE内核\n        presto: u.indexOf('Presto') > -1, // opera内核\n        webKit: u.indexOf('AppleWebKit') > -1, // 苹果、谷歌内核\n        gecko: u.indexOf('Gecko') > -1 && u.indexOf('KHTML') === -1, // 火狐内核\n        mobile: !!u.match(/AppleWebKit.*Mobile.*/), // 是否为移动终端\n        ios: !!u.match(/\\(i[^;]+;( U;)? CPU.+Mac OS X/), // ios终端\n        android: u.indexOf('Android') > -1 || u.indexOf('Linux') > -1, // android终端或者uc浏览器\n        iPhone: u.indexOf('iPhone') > -1, // 是否为iPhone或者QQHD浏览器\n        iPad: u.indexOf('iPad') > -1, // 是否iPad\n        webApp: u.indexOf('Safari') === -1, // 是否web应该程序，没有头部与底部\n        weixin: u.indexOf('MicroMessenger') > -1, // 是否微信 （2015-01-22新增）\n        qq: u.match(/\\sQQ/i) === ' qq', // 是否QQ\n      };\n    })(),\n    language: (\n      globalWindow.navigator.browserLanguage || globalWindow.navigator.language\n    ).toLowerCase(),\n  };\n  if (browser.versions.android) {\n    platform = 'android';\n  } else if (browser.versions.trident) {\n    platform = 'IE';\n  } else if (browser.versions.presto) {\n    platform = 'Opera';\n  } else if (browser.versions.webKit) {\n    platform = 'webKit';\n  } else if (browser.versions.gecko) {\n    platform = 'Firefox';\n  } else if (browser.versions.mobile) {\n    platform = 'mobile';\n  } else if (browser.versions.ios) {\n    platform = 'ios';\n  } else if (browser.versions.iPhone) {\n    platform = 'iPhone';\n  } else if (browser.versions.iPad) {\n    platform = 'ipad';\n  } else if (browser.versions.webApp) {\n    platform = 'webApp';\n  } else if (browser.versions.weixin) {\n    platform = 'weixin';\n  } else if (browser.versions.qq) {\n    platform = 'qq';\n  }\n  system = globalWindow.navigator.userAgent;\n  language = browser.language;\n}\n\nconst android = system.toLowerCase().indexOf('android') !== -1;\n\nconst uaDesc = android\n  ? 'Android; CPU Android 6.0'\n  : 'iPhone; CPU iPhone OS 10_3_1 like Mac OS X';\nconst ua = `Mozilla/5.0 (${uaDesc}) AppleWebKit/603.1.30 (KHTML, like Gecko) Mobile/14E8301 MicroMessenger/6.6.0 MiniGame NetType/WIFI Language/${language}`;\n\nexport const navigator = {\n  platform,\n  language,\n  appVersion: `5.0 (${uaDesc}) AppleWebKit/601.1.46 (KHTML, like Gecko) Version/9.0 Mobile/13B143 Safari/601.1`,\n  userAgent: ua,\n};\n"],"file":"navigator.js"}